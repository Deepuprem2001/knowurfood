var n3=Object.defineProperty;var i3=(i,e,t)=>e in i?n3(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var de=(i,e,t)=>i3(i,typeof e!="symbol"?e+"":e,t);function r3(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function GT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $b={exports:{}},Ed={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1;function s3(){if(D1)return Ed;D1=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:i,type:n,key:o,ref:r!==void 0?r:null,props:s}}return Ed.Fragment=e,Ed.jsx=t,Ed.jsxs=t,Ed}var A1;function a3(){return A1||(A1=1,$b.exports=s3()),$b.exports}var j=a3(),Qb={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1;function o3(){if(I1)return Ue;I1=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=g&&k[g]||k["@@iterator"],typeof k=="function"?k:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function E(k,W,oe){this.props=k,this.context=W,this.refs=S,this.updater=oe||b}E.prototype.isReactComponent={},E.prototype.setState=function(k,W){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,W,"setState")},E.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function R(){}R.prototype=E.prototype;function P(k,W,oe){this.props=k,this.context=W,this.refs=S,this.updater=oe||b}var O=P.prototype=new R;O.constructor=P,T(O,E.prototype),O.isPureReactComponent=!0;var z=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function M(k,W,oe,ie,ye,De){return oe=De.ref,{$$typeof:i,type:k,key:W,ref:oe!==void 0?oe:null,props:De}}function A(k,W){return M(k.type,W,void 0,void 0,void 0,k.props)}function I(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function F(k){var W={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return W[oe]})}var L=/\/+/g;function B(k,W){return typeof k=="object"&&k!==null&&k.key!=null?F(""+k.key):W.toString(36)}function V(){}function me(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(V,V):(k.status="pending",k.then(function(W){k.status==="pending"&&(k.status="fulfilled",k.value=W)},function(W){k.status==="pending"&&(k.status="rejected",k.reason=W)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function pe(k,W,oe,ie,ye){var De=typeof k;(De==="undefined"||De==="boolean")&&(k=null);var Te=!1;if(k===null)Te=!0;else switch(De){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(k.$$typeof){case i:case e:Te=!0;break;case p:return Te=k._init,pe(Te(k._payload),W,oe,ie,ye)}}if(Te)return ye=ye(k),Te=ie===""?"."+B(k,0):ie,z(ye)?(oe="",Te!=null&&(oe=Te.replace(L,"$&/")+"/"),pe(ye,W,oe,"",function(ke){return ke})):ye!=null&&(I(ye)&&(ye=A(ye,oe+(ye.key==null||k&&k.key===ye.key?"":(""+ye.key).replace(L,"$&/")+"/")+Te)),W.push(ye)),1;Te=0;var Je=ie===""?".":ie+":";if(z(k))for(var Be=0;Be<k.length;Be++)ie=k[Be],De=Je+B(ie,Be),Te+=pe(ie,W,oe,De,ye);else if(Be=v(k),typeof Be=="function")for(k=Be.call(k),Be=0;!(ie=k.next()).done;)ie=ie.value,De=Je+B(ie,Be++),Te+=pe(ie,W,oe,De,ye);else if(De==="object"){if(typeof k.then=="function")return pe(me(k),W,oe,ie,ye);throw W=String(k),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Te}function q(k,W,oe){if(k==null)return k;var ie=[],ye=0;return pe(k,ie,"","",function(De){return W.call(oe,De,ye++)}),ie}function G(k){if(k._status===-1){var W=k._result;W=W(),W.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=W)}if(k._status===1)return k._result.default;throw k._result}var ae=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function X(){}return Ue.Children={map:q,forEach:function(k,W,oe){q(k,function(){W.apply(this,arguments)},oe)},count:function(k){var W=0;return q(k,function(){W++}),W},toArray:function(k){return q(k,function(W){return W})||[]},only:function(k){if(!I(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ue.Component=E,Ue.Fragment=t,Ue.Profiler=r,Ue.PureComponent=P,Ue.StrictMode=n,Ue.Suspense=u,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(k){return U.H.useMemoCache(k)}},Ue.cache=function(k){return function(){return k.apply(null,arguments)}},Ue.cloneElement=function(k,W,oe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ie=T({},k.props),ye=k.key,De=void 0;if(W!=null)for(Te in W.ref!==void 0&&(De=void 0),W.key!==void 0&&(ye=""+W.key),W)!K.call(W,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&W.ref===void 0||(ie[Te]=W[Te]);var Te=arguments.length-2;if(Te===1)ie.children=oe;else if(1<Te){for(var Je=Array(Te),Be=0;Be<Te;Be++)Je[Be]=arguments[Be+2];ie.children=Je}return M(k.type,ye,void 0,void 0,De,ie)},Ue.createContext=function(k){return k={$$typeof:o,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:s,_context:k},k},Ue.createElement=function(k,W,oe){var ie,ye={},De=null;if(W!=null)for(ie in W.key!==void 0&&(De=""+W.key),W)K.call(W,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ye[ie]=W[ie]);var Te=arguments.length-2;if(Te===1)ye.children=oe;else if(1<Te){for(var Je=Array(Te),Be=0;Be<Te;Be++)Je[Be]=arguments[Be+2];ye.children=Je}if(k&&k.defaultProps)for(ie in Te=k.defaultProps,Te)ye[ie]===void 0&&(ye[ie]=Te[ie]);return M(k,De,void 0,void 0,null,ye)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(k){return{$$typeof:c,render:k}},Ue.isValidElement=I,Ue.lazy=function(k){return{$$typeof:p,_payload:{_status:-1,_result:k},_init:G}},Ue.memo=function(k,W){return{$$typeof:d,type:k,compare:W===void 0?null:W}},Ue.startTransition=function(k){var W=U.T,oe={};U.T=oe;try{var ie=k(),ye=U.S;ye!==null&&ye(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(X,ae)}catch(De){ae(De)}finally{U.T=W}},Ue.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Ue.use=function(k){return U.H.use(k)},Ue.useActionState=function(k,W,oe){return U.H.useActionState(k,W,oe)},Ue.useCallback=function(k,W){return U.H.useCallback(k,W)},Ue.useContext=function(k){return U.H.useContext(k)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(k,W){return U.H.useDeferredValue(k,W)},Ue.useEffect=function(k,W,oe){var ie=U.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(k,W)},Ue.useId=function(){return U.H.useId()},Ue.useImperativeHandle=function(k,W,oe){return U.H.useImperativeHandle(k,W,oe)},Ue.useInsertionEffect=function(k,W){return U.H.useInsertionEffect(k,W)},Ue.useLayoutEffect=function(k,W){return U.H.useLayoutEffect(k,W)},Ue.useMemo=function(k,W){return U.H.useMemo(k,W)},Ue.useOptimistic=function(k,W){return U.H.useOptimistic(k,W)},Ue.useReducer=function(k,W,oe){return U.H.useReducer(k,W,oe)},Ue.useRef=function(k){return U.H.useRef(k)},Ue.useState=function(k){return U.H.useState(k)},Ue.useSyncExternalStore=function(k,W,oe){return U.H.useSyncExternalStore(k,W,oe)},Ue.useTransition=function(){return U.H.useTransition()},Ue.version="19.1.0",Ue}var R1;function KT(){return R1||(R1=1,Qb.exports=o3()),Qb.exports}var Q=KT();const le=GT(Q),SP=r3({__proto__:null,default:le},[Q]);var Xb={exports:{}},xd={},Zb={exports:{}},Jb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1;function l3(){return C1||(C1=1,function(i){function e(q,G){var ae=q.length;q.push(G);e:for(;0<ae;){var X=ae-1>>>1,k=q[X];if(0<r(k,G))q[X]=G,q[ae]=k,ae=X;else break e}}function t(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var G=q[0],ae=q.pop();if(ae!==G){q[0]=ae;e:for(var X=0,k=q.length,W=k>>>1;X<W;){var oe=2*(X+1)-1,ie=q[oe],ye=oe+1,De=q[ye];if(0>r(ie,ae))ye<k&&0>r(De,ie)?(q[X]=De,q[ye]=ae,X=ye):(q[X]=ie,q[oe]=ae,X=oe);else if(ye<k&&0>r(De,ae))q[X]=De,q[ye]=ae,X=ye;else break e}}return G}function r(q,G){var ae=q.sortIndex-G.sortIndex;return ae!==0?ae:q.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();i.unstable_now=function(){return o.now()-c}}var u=[],d=[],p=1,g=null,v=3,b=!1,T=!1,S=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function z(q){for(var G=t(d);G!==null;){if(G.callback===null)n(d);else if(G.startTime<=q)n(d),G.sortIndex=G.expirationTime,e(u,G);else break;G=t(d)}}function U(q){if(S=!1,z(q),!T)if(t(u)!==null)T=!0,K||(K=!0,B());else{var G=t(d);G!==null&&pe(U,G.startTime-q)}}var K=!1,M=-1,A=5,I=-1;function F(){return E?!0:!(i.unstable_now()-I<A)}function L(){if(E=!1,K){var q=i.unstable_now();I=q;var G=!0;try{e:{T=!1,S&&(S=!1,P(M),M=-1),b=!0;var ae=v;try{t:{for(z(q),g=t(u);g!==null&&!(g.expirationTime>q&&F());){var X=g.callback;if(typeof X=="function"){g.callback=null,v=g.priorityLevel;var k=X(g.expirationTime<=q);if(q=i.unstable_now(),typeof k=="function"){g.callback=k,z(q),G=!0;break t}g===t(u)&&n(u),z(q)}else n(u);g=t(u)}if(g!==null)G=!0;else{var W=t(d);W!==null&&pe(U,W.startTime-q),G=!1}}break e}finally{g=null,v=ae,b=!1}G=void 0}}finally{G?B():K=!1}}}var B;if(typeof O=="function")B=function(){O(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,me=V.port2;V.port1.onmessage=L,B=function(){me.postMessage(null)}}else B=function(){R(L,0)};function pe(q,G){M=R(function(){q(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(q){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var ae=v;v=G;try{return q()}finally{v=ae}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(q,G){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ae=v;v=q;try{return G()}finally{v=ae}},i.unstable_scheduleCallback=function(q,G,ae){var X=i.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?X+ae:X):ae=X,q){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ae+k,q={id:p++,callback:G,priorityLevel:q,startTime:ae,expirationTime:k,sortIndex:-1},ae>X?(q.sortIndex=ae,e(d,q),t(u)===null&&q===t(d)&&(S?(P(M),M=-1):S=!0,pe(U,ae-X))):(q.sortIndex=k,e(u,q),T||b||(T=!0,K||(K=!0,B()))),q},i.unstable_shouldYield=F,i.unstable_wrapCallback=function(q){var G=v;return function(){var ae=v;v=G;try{return q.apply(this,arguments)}finally{v=ae}}}}(Jb)),Jb}var M1;function c3(){return M1||(M1=1,Zb.exports=l3()),Zb.exports}var e0={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function u3(){if(k1)return Un;k1=1;var i=KT();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:u,containerInfo:d,implementation:p}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Un.createPortal=function(u,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,p)},Un.flushSync=function(u){var d=o.T,p=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=d,n.p=p,n.d.f()}},Un.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(u,d))},Un.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Un.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):p==="script"&&n.d.X(u,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Un.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);n.d.M(u,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(u)},Un.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin);n.d.L(u,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Un.preloadModule=function(u,d){if(typeof u=="string")if(d){var p=c(d.as,d.crossOrigin);n.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(u)},Un.requestFormReset=function(u){n.d.r(u)},Un.unstable_batchedUpdates=function(u,d){return u(d)},Un.useFormState=function(u,d,p){return o.H.useFormState(u,d,p)},Un.useFormStatus=function(){return o.H.useHostTransitionStatus()},Un.version="19.1.0",Un}var P1;function EP(){if(P1)return e0.exports;P1=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),e0.exports=u3(),e0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1;function h3(){if(O1)return xd;O1=1;var i=c3(),e=KT(),t=EP();function n(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(n(188))}function u(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(n(188));return l!==a?null:a}for(var h=a,f=l;;){var y=h.return;if(y===null)break;var _=y.alternate;if(_===null){if(f=y.return,f!==null){h=f;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===h)return c(y),a;if(_===f)return c(y),l;_=_.sibling}throw Error(n(188))}if(h.return!==f.return)h=y,f=_;else{for(var D=!1,C=y.child;C;){if(C===h){D=!0,h=y,f=_;break}if(C===f){D=!0,f=y,h=_;break}C=C.sibling}if(!D){for(C=_.child;C;){if(C===h){D=!0,h=_,f=y;break}if(C===f){D=!0,f=_,h=y;break}C=C.sibling}if(!D)throw Error(n(189))}}if(h.alternate!==f)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:l}function d(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=d(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),O=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var V=Symbol.for("react.client.reference");function me(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===V?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case U:return"Suspense";case K:return"SuspenseList";case I:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case O:return(a.displayName||"Context")+".Provider";case P:return(a._context.displayName||"Context")+".Consumer";case z:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return l=a.displayName||null,l!==null?l:me(a.type)||"Memo";case A:l=a._payload,a=a._init;try{return me(a(l))}catch{}}return null}var pe=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},X=[],k=-1;function W(a){return{current:a}}function oe(a){0>k||(a.current=X[k],X[k]=null,k--)}function ie(a,l){k++,X[k]=a.current,a.current=l}var ye=W(null),De=W(null),Te=W(null),Je=W(null);function Be(a,l){switch(ie(Te,l),ie(De,a),ie(ye,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?e1(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=e1(l),a=t1(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}oe(ye),ie(ye,a)}function ke(){oe(ye),oe(De),oe(Te)}function Le(a){a.memoizedState!==null&&ie(Je,a);var l=ye.current,h=t1(l,a.type);l!==h&&(ie(De,a),ie(ye,h))}function et(a){De.current===a&&(oe(ye),oe(De)),Je.current===a&&(oe(Je),_d._currentValue=ae)}var en=Object.prototype.hasOwnProperty,tn=i.unstable_scheduleCallback,bn=i.unstable_cancelCallback,nc=i.unstable_shouldYield,ta=i.unstable_requestPaint,ii=i.unstable_now,$v=i.unstable_getCurrentPriorityLevel,yh=i.unstable_ImmediatePriority,ic=i.unstable_UserBlockingPriority,To=i.unstable_NormalPriority,Qv=i.unstable_LowPriority,rc=i.unstable_IdlePriority,vh=i.log,_p=i.unstable_setDisableYieldValue,Bt=null,ht=null;function mi(a){if(typeof vh=="function"&&_p(a),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(Bt,a)}catch{}}var Fn=Math.clz32?Math.clz32:So,bp=Math.log,Xv=Math.LN2;function So(a){return a>>>=0,a===0?32:31-(bp(a)/Xv|0)|0}var Eo=256,xo=4194304;function tr(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function sc(a,l,h){var f=a.pendingLanes;if(f===0)return 0;var y=0,_=a.suspendedLanes,D=a.pingedLanes;a=a.warmLanes;var C=f&134217727;return C!==0?(f=C&~_,f!==0?y=tr(f):(D&=C,D!==0?y=tr(D):h||(h=C&~a,h!==0&&(y=tr(h))))):(C=f&~_,C!==0?y=tr(C):D!==0?y=tr(D):h||(h=f&~a,h!==0&&(y=tr(h)))),y===0?0:l!==0&&l!==y&&(l&_)===0&&(_=y&-y,h=l&-l,_>=h||_===32&&(h&4194048)!==0)?l:y}function Do(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function _h(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bh(){var a=Eo;return Eo<<=1,(Eo&4194048)===0&&(Eo=256),a}function wh(){var a=xo;return xo<<=1,(xo&62914560)===0&&(xo=4194304),a}function as(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function os(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Th(a,l,h,f,y,_){var D=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var C=a.entanglements,H=a.expirationTimes,te=a.hiddenUpdates;for(h=D&~h;0<h;){var ce=31-Fn(h),fe=1<<ce;C[ce]=0,H[ce]=-1;var ne=te[ce];if(ne!==null)for(te[ce]=null,ce=0;ce<ne.length;ce++){var re=ne[ce];re!==null&&(re.lane&=-536870913)}h&=~fe}f!==0&&gr(a,f,0),_!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=_&~(D&~l))}function gr(a,l,h){a.pendingLanes|=l,a.suspendedLanes&=~l;var f=31-Fn(l);a.entangledLanes|=l,a.entanglements[f]=a.entanglements[f]|1073741824|h&4194090}function Sh(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var f=31-Fn(h),y=1<<f;y&l|a[f]&l&&(a[f]|=l),h&=~y}}function na(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ac(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ia(){var a=G.p;return a!==0?a:(a=window.event,a===void 0?32:b1(a.type))}function wp(a,l){var h=G.p;try{return G.p=a,l()}finally{G.p=h}}var Ct=Math.random().toString(36).slice(2),dn="__reactFiber$"+Ct,nn="__reactProps$"+Ct,Mi="__reactContainer$"+Ct,Eh="__reactEvents$"+Ct,Zv="__reactListeners$"+Ct,ra="__reactHandles$"+Ct,Tp="__reactResources$"+Ct,Ao="__reactMarker$"+Ct;function sa(a){delete a[dn],delete a[nn],delete a[Eh],delete a[Zv],delete a[ra]}function ls(a){var l=a[dn];if(l)return l;for(var h=a.parentNode;h;){if(l=h[Mi]||h[dn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=s1(a);a!==null;){if(h=a[dn])return h;a=s1(a)}return l}a=h,h=a.parentNode}return null}function yr(a){if(a=a[dn]||a[Mi]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function vr(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(n(33))}function $n(a){var l=a[Tp];return l||(l=a[Tp]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Yt(a){a[Ao]=!0}var xh=new Set,oc={};function nr(a,l){cs(a,l),cs(a+"Capture",l)}function cs(a,l){for(oc[a]=l,a=0;a<l.length;a++)xh.add(l[a])}var Sp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ep={},Io={};function xp(a){return en.call(Io,a)?!0:en.call(Ep,a)?!1:Sp.test(a)?Io[a]=!0:(Ep[a]=!0,!1)}function aa(a,l,h){if(xp(l))if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+h)}}function _r(a,l,h){if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+h)}}function Cn(a,l,h,f){if(f===null)a.removeAttribute(h);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(l,h,""+f)}}var Ro,Dp;function us(a){if(Ro===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Ro=l&&l[1]||"",Dp=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ro+a+Dp}var lc=!1;function cc(a,l){if(!a||lc)return"";lc=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var ne=re}Reflect.construct(a,[],fe)}else{try{fe.call()}catch(re){ne=re}a.call(fe.prototype)}}else{try{throw Error()}catch(re){ne=re}(fe=a())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),D=_[0],C=_[1];if(D&&C){var H=D.split(`
`),te=C.split(`
`);for(y=f=0;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;for(;y<te.length&&!te[y].includes("DetermineComponentFrameRoot");)y++;if(f===H.length||y===te.length)for(f=H.length-1,y=te.length-1;1<=f&&0<=y&&H[f]!==te[y];)y--;for(;1<=f&&0<=y;f--,y--)if(H[f]!==te[y]){if(f!==1||y!==1)do if(f--,y--,0>y||H[f]!==te[y]){var ce=`
`+H[f].replace(" at new "," at ");return a.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",a.displayName)),ce}while(1<=f&&0<=y);break}}}finally{lc=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?us(h):""}function Dh(a){switch(a.tag){case 26:case 27:case 5:return us(a.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 15:return cc(a.type,!1);case 11:return cc(a.type.render,!1);case 1:return cc(a.type,!0);case 31:return us("Activity");default:return""}}function uc(a){try{var l="";do l+=Dh(a),a=a.return;while(a);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Qn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ah(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Jv(a){var l=Ah(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),f=""+a[l];if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,_=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(D){f=""+D,_.call(this,D)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return f},setValue:function(D){f=""+D},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function hc(a){a._valueTracker||(a._valueTracker=Jv(a))}function Ih(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),f="";return a&&(f=Ah(a)?a.checked?"true":"false":a.value),a=f,a!==h?(l.setValue(a),!0):!1}function Co(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var e_=/[\n"\\]/g;function rn(a){return a.replace(e_,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function gi(a,l,h,f,y,_,D,C){a.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.type=D:a.removeAttribute("type"),l!=null?D==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Qn(l)):a.value!==""+Qn(l)&&(a.value=""+Qn(l)):D!=="submit"&&D!=="reset"||a.removeAttribute("value"),l!=null?oa(a,D,Qn(l)):h!=null?oa(a,D,Qn(h)):f!=null&&a.removeAttribute("value"),y==null&&_!=null&&(a.defaultChecked=!!_),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.name=""+Qn(C):a.removeAttribute("name")}function Mo(a,l,h,f,y,_,D,C){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),l!=null||h!=null){if(!(_!=="submit"&&_!=="reset"||l!=null))return;h=h!=null?""+Qn(h):"",l=l!=null?""+Qn(l):h,C||l===a.value||(a.value=l),a.defaultValue=l}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=C?a.checked:!!f,a.defaultChecked=!!f,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(a.name=D)}function oa(a,l,h){l==="number"&&Co(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function hs(a,l,h,f){if(a=a.options,l){l={};for(var y=0;y<h.length;y++)l["$"+h[y]]=!0;for(h=0;h<a.length;h++)y=l.hasOwnProperty("$"+a[h].value),a[h].selected!==y&&(a[h].selected=y),y&&f&&(a[h].defaultSelected=!0)}else{for(h=""+Qn(h),l=null,y=0;y<a.length;y++){if(a[y].value===h){a[y].selected=!0,f&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function _t(a,l,h){if(l!=null&&(l=""+Qn(l),l!==a.value&&(a.value=l),h==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=h!=null?""+Qn(h):""}function ko(a,l,h,f){if(l==null){if(f!=null){if(h!=null)throw Error(n(92));if(pe(f)){if(1<f.length)throw Error(n(93));f=f[0]}h=f}h==null&&(h=""),l=h}h=Qn(l),a.defaultValue=h,f=a.textContent,f===h&&f!==""&&f!==null&&(a.value=f)}function ki(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var Po=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ap(a,l,h){var f=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?f?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":f?a.setProperty(l,h):typeof h!="number"||h===0||Po.has(l)?l==="float"?a.cssFloat=h:a[l]=(""+h).trim():a[l]=h+"px"}function Rh(a,l,h){if(l!=null&&typeof l!="object")throw Error(n(62));if(a=a.style,h!=null){for(var f in h)!h.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var y in l)f=l[y],l.hasOwnProperty(y)&&h[y]!==f&&Ap(a,y,f)}else for(var _ in l)l.hasOwnProperty(_)&&Ap(a,_,l[_])}function Ch(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),n_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dc(a){return n_.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var ds=null;function Pi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var fs=null,ps=null;function Mh(a){var l=yr(a);if(l&&(a=l.stateNode)){var h=a[nn]||null;e:switch(a=l.stateNode,l.type){case"input":if(gi(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+rn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var f=h[l];if(f!==a&&f.form===a.form){var y=f[nn]||null;if(!y)throw Error(n(90));gi(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<h.length;l++)f=h[l],f.form===a.form&&Ih(f)}break e;case"textarea":_t(a,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&hs(a,!!h.multiple,l,!1)}}}var br=!1;function Ip(a,l,h){if(br)return a(l,h);br=!0;try{var f=a(l);return f}finally{if(br=!1,(fs!==null||ps!==null)&&(wm(),fs&&(l=fs,a=ps,ps=fs=null,Mh(l),a)))for(l=0;l<a.length;l++)Mh(a[l])}}function Oo(a,l){var h=a.stateNode;if(h===null)return null;var f=h[nn]||null;if(f===null)return null;h=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oi=!1;if(ir)try{var No={};Object.defineProperty(No,"passive",{get:function(){Oi=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{Oi=!1}var wr=null,la=null,ms=null;function kh(){if(ms)return ms;var a,l=la,h=l.length,f,y="value"in wr?wr.value:wr.textContent,_=y.length;for(a=0;a<h&&l[a]===y[a];a++);var D=h-a;for(f=1;f<=D&&l[h-f]===y[_-f];f++);return ms=y.slice(a,1<f?1-f:void 0)}function Tr(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Sr(){return!0}function Ph(){return!1}function wn(a){function l(h,f,y,_,D){this._reactName=h,this._targetInst=y,this.type=f,this.nativeEvent=_,this.target=D,this.currentTarget=null;for(var C in a)a.hasOwnProperty(C)&&(h=a[C],this[C]=h?h(_):_[C]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Sr:Ph,this.isPropagationStopped=Ph,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),l}var lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=wn(lt),Vo=p({},lt,{view:0,detail:0}),Rp=wn(Vo),pc,mc,Er,Lo=p({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Er&&(Er&&a.type==="mousemove"?(pc=a.screenX-Er.screenX,mc=a.screenY-Er.screenY):mc=pc=0,Er=a),pc)},movementY:function(a){return"movementY"in a?a.movementY:mc}}),Ni=wn(Lo),Cp=p({},Lo,{dataTransfer:0}),i_=wn(Cp),Fo=p({},Vo,{relatedTarget:0}),gc=wn(Fo),Oh=p({},lt,{animationName:0,elapsedTime:0,pseudoElement:0}),yc=wn(Oh),Mp=p({},lt,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),vc=wn(Mp),r_=p({},lt,{data:0}),Nh=wn(r_),Bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vh(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Pp[a])?!!l[a]:!1}function Uo(){return Vh}var Op=p({},Vo,{key:function(a){if(a.key){var l=Bo[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Tr(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?kp[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uo,charCode:function(a){return a.type==="keypress"?Tr(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Tr(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),_c=wn(Op),Np=p({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lh=wn(Np),gs=p({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uo}),Vp=wn(gs),Lp=p({},lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fp=wn(Lp),Bp=p({},Lo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),bc=wn(Bp),Xn=p({},lt,{newState:0,oldState:0}),Up=wn(Xn),jp=[9,13,27,32],xr=ir&&"CompositionEvent"in window,m=null;ir&&"documentMode"in document&&(m=document.documentMode);var w=ir&&"TextEvent"in window&&!m,x=ir&&(!xr||m&&8<m&&11>=m),N=" ",Z=!1;function se(a,l){switch(a){case"keyup":return jp.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var $e=!1;function fn(a,l){switch(a){case"compositionend":return ve(l);case"keypress":return l.which!==32?null:(Z=!0,N);case"textInput":return a=l.data,a===N&&Z?null:a;default:return null}}function Qe(a,l){if($e)return a==="compositionend"||!xr&&se(a,l)?(a=kh(),ms=la=wr=null,$e=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return x&&l.locale!=="ko"?null:l.data;default:return null}}var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Tn[a.type]:l==="textarea"}function ys(a,l,h,f){fs?ps?ps.push(f):ps=[f]:fs=f,l=Am(l,"onChange"),0<l.length&&(h=new fc("onChange","change",null,h,f),a.push({event:h,listeners:l}))}var Mn=null,Dr=null;function Fh(a){$A(a,0)}function zp(a){var l=vr(a);if(Ih(l))return a}function gx(a,l){if(a==="change")return l}var yx=!1;if(ir){var s_;if(ir){var a_="oninput"in document;if(!a_){var vx=document.createElement("div");vx.setAttribute("oninput","return;"),a_=typeof vx.oninput=="function"}s_=a_}else s_=!1;yx=s_&&(!document.documentMode||9<document.documentMode)}function _x(){Mn&&(Mn.detachEvent("onpropertychange",bx),Dr=Mn=null)}function bx(a){if(a.propertyName==="value"&&zp(Dr)){var l=[];ys(l,Dr,a,Pi(a)),Ip(Fh,l)}}function k4(a,l,h){a==="focusin"?(_x(),Mn=l,Dr=h,Mn.attachEvent("onpropertychange",bx)):a==="focusout"&&_x()}function P4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return zp(Dr)}function O4(a,l){if(a==="click")return zp(l)}function N4(a,l){if(a==="input"||a==="change")return zp(l)}function V4(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var yi=typeof Object.is=="function"?Object.is:V4;function Bh(a,l){if(yi(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),f=Object.keys(l);if(h.length!==f.length)return!1;for(f=0;f<h.length;f++){var y=h[f];if(!en.call(l,y)||!yi(a[y],l[y]))return!1}return!0}function wx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Tx(a,l){var h=wx(a);a=0;for(var f;h;){if(h.nodeType===3){if(f=a+h.textContent.length,a<=l&&f>=l)return{node:h,offset:l-a};a=f}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=wx(h)}}function Sx(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Sx(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Ex(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Co(a.document);l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=Co(a.document)}return l}function o_(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var L4=ir&&"documentMode"in document&&11>=document.documentMode,wc=null,l_=null,Uh=null,c_=!1;function xx(a,l,h){var f=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;c_||wc==null||wc!==Co(f)||(f=wc,"selectionStart"in f&&o_(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Uh&&Bh(Uh,f)||(Uh=f,f=Am(l_,"onSelect"),0<f.length&&(l=new fc("onSelect","select",null,l,h),a.push({event:l,listeners:f}),l.target=wc)))}function jo(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var Tc={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionrun:jo("Transition","TransitionRun"),transitionstart:jo("Transition","TransitionStart"),transitioncancel:jo("Transition","TransitionCancel"),transitionend:jo("Transition","TransitionEnd")},u_={},Dx={};ir&&(Dx=document.createElement("div").style,"AnimationEvent"in window||(delete Tc.animationend.animation,delete Tc.animationiteration.animation,delete Tc.animationstart.animation),"TransitionEvent"in window||delete Tc.transitionend.transition);function zo(a){if(u_[a])return u_[a];if(!Tc[a])return a;var l=Tc[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in Dx)return u_[a]=l[h];return a}var Ax=zo("animationend"),Ix=zo("animationiteration"),Rx=zo("animationstart"),F4=zo("transitionrun"),B4=zo("transitionstart"),U4=zo("transitioncancel"),Cx=zo("transitionend"),Mx=new Map,h_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");h_.push("scrollEnd");function rr(a,l){Mx.set(a,l),nr(l,[a])}var kx=new WeakMap;function Vi(a,l){if(typeof a=="object"&&a!==null){var h=kx.get(a);return h!==void 0?h:(l={value:a,source:l,stack:uc(l)},kx.set(a,l),l)}return{value:a,source:l,stack:uc(l)}}var Li=[],Sc=0,d_=0;function Hp(){for(var a=Sc,l=d_=Sc=0;l<a;){var h=Li[l];Li[l++]=null;var f=Li[l];Li[l++]=null;var y=Li[l];Li[l++]=null;var _=Li[l];if(Li[l++]=null,f!==null&&y!==null){var D=f.pending;D===null?y.next=y:(y.next=D.next,D.next=y),f.pending=y}_!==0&&Px(h,y,_)}}function qp(a,l,h,f){Li[Sc++]=a,Li[Sc++]=l,Li[Sc++]=h,Li[Sc++]=f,d_|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function f_(a,l,h,f){return qp(a,l,h,f),Yp(a)}function Ec(a,l){return qp(a,null,null,l),Yp(a)}function Px(a,l,h){a.lanes|=h;var f=a.alternate;f!==null&&(f.lanes|=h);for(var y=!1,_=a.return;_!==null;)_.childLanes|=h,f=_.alternate,f!==null&&(f.childLanes|=h),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(y=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,y&&l!==null&&(y=31-Fn(h),a=_.hiddenUpdates,f=a[y],f===null?a[y]=[l]:f.push(l),l.lane=h|536870912),_):null}function Yp(a){if(50<hd)throw hd=0,_b=null,Error(n(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var xc={};function j4(a,l,h,f){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(a,l,h,f){return new j4(a,l,h,f)}function p_(a){return a=a.prototype,!(!a||!a.isReactComponent)}function vs(a,l){var h=a.alternate;return h===null?(h=vi(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function Ox(a,l){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,l=h.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Wp(a,l,h,f,y,_){var D=0;if(f=a,typeof a=="function")p_(a)&&(D=1);else if(typeof a=="string")D=HB(a,h,ye.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case I:return a=vi(31,h,l,y),a.elementType=I,a.lanes=_,a;case T:return Ho(h.children,y,_,l);case S:D=8,y|=24;break;case E:return a=vi(12,h,l,y|2),a.elementType=E,a.lanes=_,a;case U:return a=vi(13,h,l,y),a.elementType=U,a.lanes=_,a;case K:return a=vi(19,h,l,y),a.elementType=K,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:case O:D=10;break e;case P:D=9;break e;case z:D=11;break e;case M:D=14;break e;case A:D=16,f=null;break e}D=29,h=Error(n(130,a===null?"null":typeof a,"")),f=null}return l=vi(D,h,l,y),l.elementType=a,l.type=f,l.lanes=_,l}function Ho(a,l,h,f){return a=vi(7,a,f,l),a.lanes=h,a}function m_(a,l,h){return a=vi(6,a,null,l),a.lanes=h,a}function g_(a,l,h){return l=vi(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Dc=[],Ac=0,Gp=null,Kp=0,Fi=[],Bi=0,qo=null,_s=1,bs="";function Yo(a,l){Dc[Ac++]=Kp,Dc[Ac++]=Gp,Gp=a,Kp=l}function Nx(a,l,h){Fi[Bi++]=_s,Fi[Bi++]=bs,Fi[Bi++]=qo,qo=a;var f=_s;a=bs;var y=32-Fn(f)-1;f&=~(1<<y),h+=1;var _=32-Fn(l)+y;if(30<_){var D=y-y%5;_=(f&(1<<D)-1).toString(32),f>>=D,y-=D,_s=1<<32-Fn(l)+y|h<<y|f,bs=_+a}else _s=1<<_|h<<y|f,bs=a}function y_(a){a.return!==null&&(Yo(a,1),Nx(a,1,0))}function v_(a){for(;a===Gp;)Gp=Dc[--Ac],Dc[Ac]=null,Kp=Dc[--Ac],Dc[Ac]=null;for(;a===qo;)qo=Fi[--Bi],Fi[Bi]=null,bs=Fi[--Bi],Fi[Bi]=null,_s=Fi[--Bi],Fi[Bi]=null}var Zn=null,Ut=null,at=!1,Wo=null,Ar=!1,__=Error(n(519));function Go(a){var l=Error(n(418,""));throw Hh(Vi(l,a)),__}function Vx(a){var l=a.stateNode,h=a.type,f=a.memoizedProps;switch(l[dn]=a,l[nn]=f,h){case"dialog":We("cancel",l),We("close",l);break;case"iframe":case"object":case"embed":We("load",l);break;case"video":case"audio":for(h=0;h<fd.length;h++)We(fd[h],l);break;case"source":We("error",l);break;case"img":case"image":case"link":We("error",l),We("load",l);break;case"details":We("toggle",l);break;case"input":We("invalid",l),Mo(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),hc(l);break;case"select":We("invalid",l);break;case"textarea":We("invalid",l),ko(l,f.value,f.defaultValue,f.children),hc(l)}h=f.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||f.suppressHydrationWarning===!0||JA(l.textContent,h)?(f.popover!=null&&(We("beforetoggle",l),We("toggle",l)),f.onScroll!=null&&We("scroll",l),f.onScrollEnd!=null&&We("scrollend",l),f.onClick!=null&&(l.onclick=Im),l=!0):l=!1,l||Go(a)}function Lx(a){for(Zn=a.return;Zn;)switch(Zn.tag){case 5:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:Zn=Zn.return}}function jh(a){if(a!==Zn)return!1;if(!at)return Lx(a),at=!0,!1;var l=a.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||Nb(a.type,a.memoizedProps)),h=!h),h&&Ut&&Go(a),Lx(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(l===0){Ut=ar(a.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;a=a.nextSibling}Ut=null}}else l===27?(l=Ut,Ea(a.type)?(a=Bb,Bb=null,Ut=a):Ut=l):Ut=Zn?ar(a.stateNode.nextSibling):null;return!0}function zh(){Ut=Zn=null,at=!1}function Fx(){var a=Wo;return a!==null&&(ai===null?ai=a:ai.push.apply(ai,a),Wo=null),a}function Hh(a){Wo===null?Wo=[a]:Wo.push(a)}var b_=W(null),Ko=null,ws=null;function ca(a,l,h){ie(b_,l._currentValue),l._currentValue=h}function Ts(a){a._currentValue=b_.current,oe(b_)}function w_(a,l,h){for(;a!==null;){var f=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),a===h)break;a=a.return}}function T_(a,l,h,f){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var _=y.dependencies;if(_!==null){var D=y.child;_=_.firstContext;e:for(;_!==null;){var C=_;_=y;for(var H=0;H<l.length;H++)if(C.context===l[H]){_.lanes|=h,C=_.alternate,C!==null&&(C.lanes|=h),w_(_.return,h,a),f||(D=null);break e}_=C.next}}else if(y.tag===18){if(D=y.return,D===null)throw Error(n(341));D.lanes|=h,_=D.alternate,_!==null&&(_.lanes|=h),w_(D,h,a),D=null}else D=y.child;if(D!==null)D.return=y;else for(D=y;D!==null;){if(D===a){D=null;break}if(y=D.sibling,y!==null){y.return=D.return,D=y;break}D=D.return}y=D}}function qh(a,l,h,f){a=null;for(var y=l,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var D=y.alternate;if(D===null)throw Error(n(387));if(D=D.memoizedProps,D!==null){var C=y.type;yi(y.pendingProps.value,D.value)||(a!==null?a.push(C):a=[C])}}else if(y===Je.current){if(D=y.alternate,D===null)throw Error(n(387));D.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(_d):a=[_d])}y=y.return}a!==null&&T_(l,a,h,f),l.flags|=262144}function $p(a){for(a=a.firstContext;a!==null;){if(!yi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function $o(a){Ko=a,ws=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Bn(a){return Bx(Ko,a)}function Qp(a,l){return Ko===null&&$o(a),Bx(a,l)}function Bx(a,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},ws===null){if(a===null)throw Error(n(308));ws=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else ws=ws.next=l;return h}var z4=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(h,f){a.push(f)}};this.abort=function(){l.aborted=!0,a.forEach(function(h){return h()})}},H4=i.unstable_scheduleCallback,q4=i.unstable_NormalPriority,mn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function S_(){return{controller:new z4,data:new Map,refCount:0}}function Yh(a){a.refCount--,a.refCount===0&&H4(q4,function(){a.controller.abort()})}var Wh=null,E_=0,Ic=0,Rc=null;function Y4(a,l){if(Wh===null){var h=Wh=[];E_=0,Ic=Db(),Rc={status:"pending",value:void 0,then:function(f){h.push(f)}}}return E_++,l.then(Ux,Ux),l}function Ux(){if(--E_===0&&Wh!==null){Rc!==null&&(Rc.status="fulfilled");var a=Wh;Wh=null,Ic=0,Rc=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function W4(a,l){var h=[],f={status:"pending",value:null,reason:null,then:function(y){h.push(y)}};return a.then(function(){f.status="fulfilled",f.value=l;for(var y=0;y<h.length;y++)(0,h[y])(l)},function(y){for(f.status="rejected",f.reason=y,y=0;y<h.length;y++)(0,h[y])(void 0)}),f}var jx=q.S;q.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Y4(a,l),jx!==null&&jx(a,l)};var Qo=W(null);function x_(){var a=Qo.current;return a!==null?a:Dt.pooledCache}function Xp(a,l){l===null?ie(Qo,Qo.current):ie(Qo,l.pool)}function zx(){var a=x_();return a===null?null:{parent:mn._currentValue,pool:a}}var Gh=Error(n(460)),Hx=Error(n(474)),Zp=Error(n(542)),D_={then:function(){}};function qx(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Jp(){}function Yx(a,l,h){switch(h=a[h],h===void 0?a.push(l):h!==l&&(l.then(Jp,Jp),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Gx(a),a;default:if(typeof l.status=="string")l.then(Jp,Jp);else{if(a=Dt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=l,a.status="pending",a.then(function(f){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=f}},function(f){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Gx(a),a}throw Kh=l,Gh}}var Kh=null;function Wx(){if(Kh===null)throw Error(n(459));var a=Kh;return Kh=null,a}function Gx(a){if(a===Gh||a===Zp)throw Error(n(483))}var ua=!1;function A_(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function I_(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ha(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function da(a,l,h){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(dt&2)!==0){var y=f.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),f.pending=l,l=Yp(a),Px(a,null,h),l}return qp(a,f,l,h),Yp(a)}function $h(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var f=l.lanes;f&=a.pendingLanes,h|=f,l.lanes=h,Sh(a,h)}}function R_(a,l){var h=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,h===f)){var y=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var D={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};_===null?y=_=D:_=_.next=D,h=h.next}while(h!==null);_===null?y=_=l:_=_.next=l}else y=_=l;h={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}var C_=!1;function Qh(){if(C_){var a=Rc;if(a!==null)throw a}}function Xh(a,l,h,f){C_=!1;var y=a.updateQueue;ua=!1;var _=y.firstBaseUpdate,D=y.lastBaseUpdate,C=y.shared.pending;if(C!==null){y.shared.pending=null;var H=C,te=H.next;H.next=null,D===null?_=te:D.next=te,D=H;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,C=ce.lastBaseUpdate,C!==D&&(C===null?ce.firstBaseUpdate=te:C.next=te,ce.lastBaseUpdate=H))}if(_!==null){var fe=y.baseState;D=0,ce=te=H=null,C=_;do{var ne=C.lane&-536870913,re=ne!==C.lane;if(re?(Xe&ne)===ne:(f&ne)===ne){ne!==0&&ne===Ic&&(C_=!0),ce!==null&&(ce=ce.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ne=a,Me=C;ne=l;var Tt=h;switch(Me.tag){case 1:if(Ne=Me.payload,typeof Ne=="function"){fe=Ne.call(Tt,fe,ne);break e}fe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Me.payload,ne=typeof Ne=="function"?Ne.call(Tt,fe,ne):Ne,ne==null)break e;fe=p({},fe,ne);break e;case 2:ua=!0}}ne=C.callback,ne!==null&&(a.flags|=64,re&&(a.flags|=8192),re=y.callbacks,re===null?y.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ce===null?(te=ce=re,H=fe):ce=ce.next=re,D|=ne;if(C=C.next,C===null){if(C=y.shared.pending,C===null)break;re=C,C=re.next,re.next=null,y.lastBaseUpdate=re,y.shared.pending=null}}while(!0);ce===null&&(H=fe),y.baseState=H,y.firstBaseUpdate=te,y.lastBaseUpdate=ce,_===null&&(y.shared.lanes=0),ba|=D,a.lanes=D,a.memoizedState=fe}}function Kx(a,l){if(typeof a!="function")throw Error(n(191,a));a.call(l)}function $x(a,l){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)Kx(h[a],l)}var Cc=W(null),em=W(0);function Qx(a,l){a=Rs,ie(em,a),ie(Cc,l),Rs=a|l.baseLanes}function M_(){ie(em,Rs),ie(Cc,Cc.current)}function k_(){Rs=em.current,oe(Cc),oe(em)}var fa=0,je=null,bt=null,sn=null,tm=!1,Mc=!1,Xo=!1,nm=0,Zh=0,kc=null,G4=0;function Wt(){throw Error(n(321))}function P_(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!yi(a[h],l[h]))return!1;return!0}function O_(a,l,h,f,y,_){return fa=_,je=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,q.H=a===null||a.memoizedState===null?PD:OD,Xo=!1,_=h(f,y),Xo=!1,Mc&&(_=Zx(l,h,f,y)),Xx(a),_}function Xx(a){q.H=lm;var l=bt!==null&&bt.next!==null;if(fa=0,sn=bt=je=null,tm=!1,Zh=0,kc=null,l)throw Error(n(300));a===null||Sn||(a=a.dependencies,a!==null&&$p(a)&&(Sn=!0))}function Zx(a,l,h,f){je=a;var y=0;do{if(Mc&&(kc=null),Zh=0,Mc=!1,25<=y)throw Error(n(301));if(y+=1,sn=bt=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}q.H=eB,_=l(h,f)}while(Mc);return _}function K4(){var a=q.H,l=a.useState()[0];return l=typeof l.then=="function"?Jh(l):l,a=a.useState()[0],(bt!==null?bt.memoizedState:null)!==a&&(je.flags|=1024),l}function N_(){var a=nm!==0;return nm=0,a}function V_(a,l,h){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~h}function L_(a){if(tm){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}tm=!1}fa=0,sn=bt=je=null,Mc=!1,Zh=nm=0,kc=null}function ri(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?je.memoizedState=sn=a:sn=sn.next=a,sn}function an(){if(bt===null){var a=je.alternate;a=a!==null?a.memoizedState:null}else a=bt.next;var l=sn===null?je.memoizedState:sn.next;if(l!==null)sn=l,bt=a;else{if(a===null)throw je.alternate===null?Error(n(467)):Error(n(310));bt=a,a={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},sn===null?je.memoizedState=sn=a:sn=sn.next=a}return sn}function F_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jh(a){var l=Zh;return Zh+=1,kc===null&&(kc=[]),a=Yx(kc,a,l),l=je,(sn===null?l.memoizedState:sn.next)===null&&(l=l.alternate,q.H=l===null||l.memoizedState===null?PD:OD),a}function im(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Jh(a);if(a.$$typeof===O)return Bn(a)}throw Error(n(438,String(a)))}function B_(a){var l=null,h=je.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var f=je.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=F_(),je.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(a),f=0;f<a;f++)h[f]=F;return l.index++,h}function Ss(a,l){return typeof l=="function"?l(a):l}function rm(a){var l=an();return U_(l,bt,a)}function U_(a,l,h){var f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=h;var y=a.baseQueue,_=f.pending;if(_!==null){if(y!==null){var D=y.next;y.next=_.next,_.next=D}l.baseQueue=y=_,f.pending=null}if(_=a.baseState,y===null)a.memoizedState=_;else{l=y.next;var C=D=null,H=null,te=l,ce=!1;do{var fe=te.lane&-536870913;if(fe!==te.lane?(Xe&fe)===fe:(fa&fe)===fe){var ne=te.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),fe===Ic&&(ce=!0);else if((fa&ne)===ne){te=te.next,ne===Ic&&(ce=!0);continue}else fe={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(C=H=fe,D=_):H=H.next=fe,je.lanes|=ne,ba|=ne;fe=te.action,Xo&&h(_,fe),_=te.hasEagerState?te.eagerState:h(_,fe)}else ne={lane:fe,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},H===null?(C=H=ne,D=_):H=H.next=ne,je.lanes|=fe,ba|=fe;te=te.next}while(te!==null&&te!==l);if(H===null?D=_:H.next=C,!yi(_,a.memoizedState)&&(Sn=!0,ce&&(h=Rc,h!==null)))throw h;a.memoizedState=_,a.baseState=D,a.baseQueue=H,f.lastRenderedState=_}return y===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function j_(a){var l=an(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var f=h.dispatch,y=h.pending,_=l.memoizedState;if(y!==null){h.pending=null;var D=y=y.next;do _=a(_,D.action),D=D.next;while(D!==y);yi(_,l.memoizedState)||(Sn=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),h.lastRenderedState=_}return[_,f]}function Jx(a,l,h){var f=je,y=an(),_=at;if(_){if(h===void 0)throw Error(n(407));h=h()}else h=l();var D=!yi((bt||y).memoizedState,h);D&&(y.memoizedState=h,Sn=!0),y=y.queue;var C=nD.bind(null,f,y,a);if(ed(2048,8,C,[a]),y.getSnapshot!==l||D||sn!==null&&sn.memoizedState.tag&1){if(f.flags|=2048,Pc(9,sm(),tD.bind(null,f,y,h,l),null),Dt===null)throw Error(n(349));_||(fa&124)!==0||eD(f,l,h)}return h}function eD(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=je.updateQueue,l===null?(l=F_(),je.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function tD(a,l,h,f){l.value=h,l.getSnapshot=f,iD(l)&&rD(a)}function nD(a,l,h){return h(function(){iD(l)&&rD(a)})}function iD(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!yi(a,h)}catch{return!0}}function rD(a){var l=Ec(a,2);l!==null&&Si(l,a,2)}function z_(a){var l=ri();if(typeof a=="function"){var h=a;if(a=h(),Xo){mi(!0);try{h()}finally{mi(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:a},l}function sD(a,l,h,f){return a.baseState=h,U_(a,bt,typeof f=="function"?f:Ss)}function $4(a,l,h,f,y){if(om(a))throw Error(n(485));if(a=l.action,a!==null){var _={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){_.listeners.push(D)}};q.T!==null?h(!0):_.isTransition=!1,f(_),h=l.pending,h===null?(_.next=l.pending=_,aD(l,_)):(_.next=h.next,l.pending=h.next=_)}}function aD(a,l){var h=l.action,f=l.payload,y=a.state;if(l.isTransition){var _=q.T,D={};q.T=D;try{var C=h(y,f),H=q.S;H!==null&&H(D,C),oD(a,l,C)}catch(te){H_(a,l,te)}finally{q.T=_}}else try{_=h(y,f),oD(a,l,_)}catch(te){H_(a,l,te)}}function oD(a,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(f){lD(a,l,f)},function(f){return H_(a,l,f)}):lD(a,l,h)}function lD(a,l,h){l.status="fulfilled",l.value=h,cD(l),a.state=h,l=a.pending,l!==null&&(h=l.next,h===l?a.pending=null:(h=h.next,l.next=h,aD(a,h)))}function H_(a,l,h){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=h,cD(l),l=l.next;while(l!==f)}a.action=null}function cD(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function uD(a,l){return l}function hD(a,l){if(at){var h=Dt.formState;if(h!==null){e:{var f=je;if(at){if(Ut){t:{for(var y=Ut,_=Ar;y.nodeType!==8;){if(!_){y=null;break t}if(y=ar(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){Ut=ar(y.nextSibling),f=y.data==="F!";break e}}Go(f)}f=!1}f&&(l=h[0])}}return h=ri(),h.memoizedState=h.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uD,lastRenderedState:l},h.queue=f,h=CD.bind(null,je,f),f.dispatch=h,f=z_(!1),_=K_.bind(null,je,!1,f.queue),f=ri(),y={state:l,dispatch:null,action:a,pending:null},f.queue=y,h=$4.bind(null,je,y,_,h),y.dispatch=h,f.memoizedState=a,[l,h,!1]}function dD(a){var l=an();return fD(l,bt,a)}function fD(a,l,h){if(l=U_(a,l,uD)[0],a=rm(Ss)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=Jh(l)}catch(D){throw D===Gh?Zp:D}else f=l;l=an();var y=l.queue,_=y.dispatch;return h!==l.memoizedState&&(je.flags|=2048,Pc(9,sm(),Q4.bind(null,y,h),null)),[f,_,a]}function Q4(a,l){a.action=l}function pD(a){var l=an(),h=bt;if(h!==null)return fD(l,h,a);an(),l=l.memoizedState,h=an();var f=h.queue.dispatch;return h.memoizedState=a,[l,f,!1]}function Pc(a,l,h,f){return a={tag:a,create:h,deps:f,inst:l,next:null},l=je.updateQueue,l===null&&(l=F_(),je.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=a.next=a:(f=h.next,h.next=a,a.next=f,l.lastEffect=a),a}function sm(){return{destroy:void 0,resource:void 0}}function mD(){return an().memoizedState}function am(a,l,h,f){var y=ri();f=f===void 0?null:f,je.flags|=a,y.memoizedState=Pc(1|l,sm(),h,f)}function ed(a,l,h,f){var y=an();f=f===void 0?null:f;var _=y.memoizedState.inst;bt!==null&&f!==null&&P_(f,bt.memoizedState.deps)?y.memoizedState=Pc(l,_,h,f):(je.flags|=a,y.memoizedState=Pc(1|l,_,h,f))}function gD(a,l){am(8390656,8,a,l)}function yD(a,l){ed(2048,8,a,l)}function vD(a,l){return ed(4,2,a,l)}function _D(a,l){return ed(4,4,a,l)}function bD(a,l){if(typeof l=="function"){a=a();var h=l(a);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function wD(a,l,h){h=h!=null?h.concat([a]):null,ed(4,4,bD.bind(null,l,a),h)}function q_(){}function TD(a,l){var h=an();l=l===void 0?null:l;var f=h.memoizedState;return l!==null&&P_(l,f[1])?f[0]:(h.memoizedState=[a,l],a)}function SD(a,l){var h=an();l=l===void 0?null:l;var f=h.memoizedState;if(l!==null&&P_(l,f[1]))return f[0];if(f=a(),Xo){mi(!0);try{a()}finally{mi(!1)}}return h.memoizedState=[f,l],f}function Y_(a,l,h){return h===void 0||(fa&1073741824)!==0?a.memoizedState=l:(a.memoizedState=h,a=DA(),je.lanes|=a,ba|=a,h)}function ED(a,l,h,f){return yi(h,l)?h:Cc.current!==null?(a=Y_(a,h,f),yi(a,l)||(Sn=!0),a):(fa&42)===0?(Sn=!0,a.memoizedState=h):(a=DA(),je.lanes|=a,ba|=a,l)}function xD(a,l,h,f,y){var _=G.p;G.p=_!==0&&8>_?_:8;var D=q.T,C={};q.T=C,K_(a,!1,l,h);try{var H=y(),te=q.S;if(te!==null&&te(C,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ce=W4(H,f);td(a,l,ce,Ti(a))}else td(a,l,f,Ti(a))}catch(fe){td(a,l,{then:function(){},status:"rejected",reason:fe},Ti())}finally{G.p=_,q.T=D}}function X4(){}function W_(a,l,h,f){if(a.tag!==5)throw Error(n(476));var y=DD(a).queue;xD(a,y,l,ae,h===null?X4:function(){return AD(a),h(f)})}function DD(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:ae},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:h},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function AD(a){var l=DD(a).next.queue;td(a,l,{},Ti())}function G_(){return Bn(_d)}function ID(){return an().memoizedState}function RD(){return an().memoizedState}function Z4(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var h=Ti();a=ha(h);var f=da(l,a,h);f!==null&&(Si(f,l,h),$h(f,l,h)),l={cache:S_()},a.payload=l;return}l=l.return}}function J4(a,l,h){var f=Ti();h={lane:f,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},om(a)?MD(l,h):(h=f_(a,l,h,f),h!==null&&(Si(h,a,f),kD(h,l,f)))}function CD(a,l,h){var f=Ti();td(a,l,h,f)}function td(a,l,h,f){var y={lane:f,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(om(a))MD(l,y);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var D=l.lastRenderedState,C=_(D,h);if(y.hasEagerState=!0,y.eagerState=C,yi(C,D))return qp(a,l,y,0),Dt===null&&Hp(),!1}catch{}finally{}if(h=f_(a,l,y,f),h!==null)return Si(h,a,f),kD(h,l,f),!0}return!1}function K_(a,l,h,f){if(f={lane:2,revertLane:Db(),action:f,hasEagerState:!1,eagerState:null,next:null},om(a)){if(l)throw Error(n(479))}else l=f_(a,h,f,2),l!==null&&Si(l,a,2)}function om(a){var l=a.alternate;return a===je||l!==null&&l===je}function MD(a,l){Mc=tm=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function kD(a,l,h){if((h&4194048)!==0){var f=l.lanes;f&=a.pendingLanes,h|=f,l.lanes=h,Sh(a,h)}}var lm={readContext:Bn,use:im,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},PD={readContext:Bn,use:im,useCallback:function(a,l){return ri().memoizedState=[a,l===void 0?null:l],a},useContext:Bn,useEffect:gD,useImperativeHandle:function(a,l,h){h=h!=null?h.concat([a]):null,am(4194308,4,bD.bind(null,l,a),h)},useLayoutEffect:function(a,l){return am(4194308,4,a,l)},useInsertionEffect:function(a,l){am(4,2,a,l)},useMemo:function(a,l){var h=ri();l=l===void 0?null:l;var f=a();if(Xo){mi(!0);try{a()}finally{mi(!1)}}return h.memoizedState=[f,l],f},useReducer:function(a,l,h){var f=ri();if(h!==void 0){var y=h(l);if(Xo){mi(!0);try{h(l)}finally{mi(!1)}}}else y=l;return f.memoizedState=f.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},f.queue=a,a=a.dispatch=J4.bind(null,je,a),[f.memoizedState,a]},useRef:function(a){var l=ri();return a={current:a},l.memoizedState=a},useState:function(a){a=z_(a);var l=a.queue,h=CD.bind(null,je,l);return l.dispatch=h,[a.memoizedState,h]},useDebugValue:q_,useDeferredValue:function(a,l){var h=ri();return Y_(h,a,l)},useTransition:function(){var a=z_(!1);return a=xD.bind(null,je,a.queue,!0,!1),ri().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,h){var f=je,y=ri();if(at){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),Dt===null)throw Error(n(349));(Xe&124)!==0||eD(f,l,h)}y.memoizedState=h;var _={value:h,getSnapshot:l};return y.queue=_,gD(nD.bind(null,f,_,a),[a]),f.flags|=2048,Pc(9,sm(),tD.bind(null,f,_,h,l),null),h},useId:function(){var a=ri(),l=Dt.identifierPrefix;if(at){var h=bs,f=_s;h=(f&~(1<<32-Fn(f)-1)).toString(32)+h,l=""+l+"R"+h,h=nm++,0<h&&(l+="H"+h.toString(32)),l+=""}else h=G4++,l=""+l+"r"+h.toString(32)+"";return a.memoizedState=l},useHostTransitionStatus:G_,useFormState:hD,useActionState:hD,useOptimistic:function(a){var l=ri();l.memoizedState=l.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=K_.bind(null,je,!0,h),h.dispatch=l,[a,l]},useMemoCache:B_,useCacheRefresh:function(){return ri().memoizedState=Z4.bind(null,je)}},OD={readContext:Bn,use:im,useCallback:TD,useContext:Bn,useEffect:yD,useImperativeHandle:wD,useInsertionEffect:vD,useLayoutEffect:_D,useMemo:SD,useReducer:rm,useRef:mD,useState:function(){return rm(Ss)},useDebugValue:q_,useDeferredValue:function(a,l){var h=an();return ED(h,bt.memoizedState,a,l)},useTransition:function(){var a=rm(Ss)[0],l=an().memoizedState;return[typeof a=="boolean"?a:Jh(a),l]},useSyncExternalStore:Jx,useId:ID,useHostTransitionStatus:G_,useFormState:dD,useActionState:dD,useOptimistic:function(a,l){var h=an();return sD(h,bt,a,l)},useMemoCache:B_,useCacheRefresh:RD},eB={readContext:Bn,use:im,useCallback:TD,useContext:Bn,useEffect:yD,useImperativeHandle:wD,useInsertionEffect:vD,useLayoutEffect:_D,useMemo:SD,useReducer:j_,useRef:mD,useState:function(){return j_(Ss)},useDebugValue:q_,useDeferredValue:function(a,l){var h=an();return bt===null?Y_(h,a,l):ED(h,bt.memoizedState,a,l)},useTransition:function(){var a=j_(Ss)[0],l=an().memoizedState;return[typeof a=="boolean"?a:Jh(a),l]},useSyncExternalStore:Jx,useId:ID,useHostTransitionStatus:G_,useFormState:pD,useActionState:pD,useOptimistic:function(a,l){var h=an();return bt!==null?sD(h,bt,a,l):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:B_,useCacheRefresh:RD},Oc=null,nd=0;function cm(a){var l=nd;return nd+=1,Oc===null&&(Oc=[]),Yx(Oc,a,l)}function id(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function um(a,l){throw l.$$typeof===g?Error(n(525)):(a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function ND(a){var l=a._init;return l(a._payload)}function VD(a){function l($,Y){if(a){var ee=$.deletions;ee===null?($.deletions=[Y],$.flags|=16):ee.push(Y)}}function h($,Y){if(!a)return null;for(;Y!==null;)l($,Y),Y=Y.sibling;return null}function f($){for(var Y=new Map;$!==null;)$.key!==null?Y.set($.key,$):Y.set($.index,$),$=$.sibling;return Y}function y($,Y){return $=vs($,Y),$.index=0,$.sibling=null,$}function _($,Y,ee){return $.index=ee,a?(ee=$.alternate,ee!==null?(ee=ee.index,ee<Y?($.flags|=67108866,Y):ee):($.flags|=67108866,Y)):($.flags|=1048576,Y)}function D($){return a&&$.alternate===null&&($.flags|=67108866),$}function C($,Y,ee,ue){return Y===null||Y.tag!==6?(Y=m_(ee,$.mode,ue),Y.return=$,Y):(Y=y(Y,ee),Y.return=$,Y)}function H($,Y,ee,ue){var Ee=ee.type;return Ee===T?ce($,Y,ee.props.children,ue,ee.key):Y!==null&&(Y.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&ND(Ee)===Y.type)?(Y=y(Y,ee.props),id(Y,ee),Y.return=$,Y):(Y=Wp(ee.type,ee.key,ee.props,null,$.mode,ue),id(Y,ee),Y.return=$,Y)}function te($,Y,ee,ue){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?(Y=g_(ee,$.mode,ue),Y.return=$,Y):(Y=y(Y,ee.children||[]),Y.return=$,Y)}function ce($,Y,ee,ue,Ee){return Y===null||Y.tag!==7?(Y=Ho(ee,$.mode,ue,Ee),Y.return=$,Y):(Y=y(Y,ee),Y.return=$,Y)}function fe($,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=m_(""+Y,$.mode,ee),Y.return=$,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return ee=Wp(Y.type,Y.key,Y.props,null,$.mode,ee),id(ee,Y),ee.return=$,ee;case b:return Y=g_(Y,$.mode,ee),Y.return=$,Y;case A:var ue=Y._init;return Y=ue(Y._payload),fe($,Y,ee)}if(pe(Y)||B(Y))return Y=Ho(Y,$.mode,ee,null),Y.return=$,Y;if(typeof Y.then=="function")return fe($,cm(Y),ee);if(Y.$$typeof===O)return fe($,Qp($,Y),ee);um($,Y)}return null}function ne($,Y,ee,ue){var Ee=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ee!==null?null:C($,Y,""+ee,ue);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return ee.key===Ee?H($,Y,ee,ue):null;case b:return ee.key===Ee?te($,Y,ee,ue):null;case A:return Ee=ee._init,ee=Ee(ee._payload),ne($,Y,ee,ue)}if(pe(ee)||B(ee))return Ee!==null?null:ce($,Y,ee,ue,null);if(typeof ee.then=="function")return ne($,Y,cm(ee),ue);if(ee.$$typeof===O)return ne($,Y,Qp($,ee),ue);um($,ee)}return null}function re($,Y,ee,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return $=$.get(ee)||null,C(Y,$,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case v:return $=$.get(ue.key===null?ee:ue.key)||null,H(Y,$,ue,Ee);case b:return $=$.get(ue.key===null?ee:ue.key)||null,te(Y,$,ue,Ee);case A:var qe=ue._init;return ue=qe(ue._payload),re($,Y,ee,ue,Ee)}if(pe(ue)||B(ue))return $=$.get(ee)||null,ce(Y,$,ue,Ee,null);if(typeof ue.then=="function")return re($,Y,ee,cm(ue),Ee);if(ue.$$typeof===O)return re($,Y,ee,Qp(Y,ue),Ee);um(Y,ue)}return null}function Ne($,Y,ee,ue){for(var Ee=null,qe=null,Re=Y,Pe=Y=0,xn=null;Re!==null&&Pe<ee.length;Pe++){Re.index>Pe?(xn=Re,Re=null):xn=Re.sibling;var st=ne($,Re,ee[Pe],ue);if(st===null){Re===null&&(Re=xn);break}a&&Re&&st.alternate===null&&l($,Re),Y=_(st,Y,Pe),qe===null?Ee=st:qe.sibling=st,qe=st,Re=xn}if(Pe===ee.length)return h($,Re),at&&Yo($,Pe),Ee;if(Re===null){for(;Pe<ee.length;Pe++)Re=fe($,ee[Pe],ue),Re!==null&&(Y=_(Re,Y,Pe),qe===null?Ee=Re:qe.sibling=Re,qe=Re);return at&&Yo($,Pe),Ee}for(Re=f(Re);Pe<ee.length;Pe++)xn=re(Re,$,Pe,ee[Pe],ue),xn!==null&&(a&&xn.alternate!==null&&Re.delete(xn.key===null?Pe:xn.key),Y=_(xn,Y,Pe),qe===null?Ee=xn:qe.sibling=xn,qe=xn);return a&&Re.forEach(function(Ra){return l($,Ra)}),at&&Yo($,Pe),Ee}function Me($,Y,ee,ue){if(ee==null)throw Error(n(151));for(var Ee=null,qe=null,Re=Y,Pe=Y=0,xn=null,st=ee.next();Re!==null&&!st.done;Pe++,st=ee.next()){Re.index>Pe?(xn=Re,Re=null):xn=Re.sibling;var Ra=ne($,Re,st.value,ue);if(Ra===null){Re===null&&(Re=xn);break}a&&Re&&Ra.alternate===null&&l($,Re),Y=_(Ra,Y,Pe),qe===null?Ee=Ra:qe.sibling=Ra,qe=Ra,Re=xn}if(st.done)return h($,Re),at&&Yo($,Pe),Ee;if(Re===null){for(;!st.done;Pe++,st=ee.next())st=fe($,st.value,ue),st!==null&&(Y=_(st,Y,Pe),qe===null?Ee=st:qe.sibling=st,qe=st);return at&&Yo($,Pe),Ee}for(Re=f(Re);!st.done;Pe++,st=ee.next())st=re(Re,$,Pe,st.value,ue),st!==null&&(a&&st.alternate!==null&&Re.delete(st.key===null?Pe:st.key),Y=_(st,Y,Pe),qe===null?Ee=st:qe.sibling=st,qe=st);return a&&Re.forEach(function(t3){return l($,t3)}),at&&Yo($,Pe),Ee}function Tt($,Y,ee,ue){if(typeof ee=="object"&&ee!==null&&ee.type===T&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:e:{for(var Ee=ee.key;Y!==null;){if(Y.key===Ee){if(Ee=ee.type,Ee===T){if(Y.tag===7){h($,Y.sibling),ue=y(Y,ee.props.children),ue.return=$,$=ue;break e}}else if(Y.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&ND(Ee)===Y.type){h($,Y.sibling),ue=y(Y,ee.props),id(ue,ee),ue.return=$,$=ue;break e}h($,Y);break}else l($,Y);Y=Y.sibling}ee.type===T?(ue=Ho(ee.props.children,$.mode,ue,ee.key),ue.return=$,$=ue):(ue=Wp(ee.type,ee.key,ee.props,null,$.mode,ue),id(ue,ee),ue.return=$,$=ue)}return D($);case b:e:{for(Ee=ee.key;Y!==null;){if(Y.key===Ee)if(Y.tag===4&&Y.stateNode.containerInfo===ee.containerInfo&&Y.stateNode.implementation===ee.implementation){h($,Y.sibling),ue=y(Y,ee.children||[]),ue.return=$,$=ue;break e}else{h($,Y);break}else l($,Y);Y=Y.sibling}ue=g_(ee,$.mode,ue),ue.return=$,$=ue}return D($);case A:return Ee=ee._init,ee=Ee(ee._payload),Tt($,Y,ee,ue)}if(pe(ee))return Ne($,Y,ee,ue);if(B(ee)){if(Ee=B(ee),typeof Ee!="function")throw Error(n(150));return ee=Ee.call(ee),Me($,Y,ee,ue)}if(typeof ee.then=="function")return Tt($,Y,cm(ee),ue);if(ee.$$typeof===O)return Tt($,Y,Qp($,ee),ue);um($,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Y!==null&&Y.tag===6?(h($,Y.sibling),ue=y(Y,ee),ue.return=$,$=ue):(h($,Y),ue=m_(ee,$.mode,ue),ue.return=$,$=ue),D($)):h($,Y)}return function($,Y,ee,ue){try{nd=0;var Ee=Tt($,Y,ee,ue);return Oc=null,Ee}catch(Re){if(Re===Gh||Re===Zp)throw Re;var qe=vi(29,Re,null,$.mode);return qe.lanes=ue,qe.return=$,qe}finally{}}}var Nc=VD(!0),LD=VD(!1),Ui=W(null),Ir=null;function pa(a){var l=a.alternate;ie(gn,gn.current&1),ie(Ui,a),Ir===null&&(l===null||Cc.current!==null||l.memoizedState!==null)&&(Ir=a)}function FD(a){if(a.tag===22){if(ie(gn,gn.current),ie(Ui,a),Ir===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(Ir=a)}}else ma()}function ma(){ie(gn,gn.current),ie(Ui,Ui.current)}function Es(a){oe(Ui),Ir===a&&(Ir=null),oe(gn)}var gn=W(0);function hm(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Fb(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function $_(a,l,h,f){l=a.memoizedState,h=h(f,l),h=h==null?l:p({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Q_={enqueueSetState:function(a,l,h){a=a._reactInternals;var f=Ti(),y=ha(f);y.payload=l,h!=null&&(y.callback=h),l=da(a,y,f),l!==null&&(Si(l,a,f),$h(l,a,f))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var f=Ti(),y=ha(f);y.tag=1,y.payload=l,h!=null&&(y.callback=h),l=da(a,y,f),l!==null&&(Si(l,a,f),$h(l,a,f))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=Ti(),f=ha(h);f.tag=2,l!=null&&(f.callback=l),l=da(a,f,h),l!==null&&(Si(l,a,h),$h(l,a,h))}};function BD(a,l,h,f,y,_,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,_,D):l.prototype&&l.prototype.isPureReactComponent?!Bh(h,f)||!Bh(y,_):!0}function UD(a,l,h,f){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,f),l.state!==a&&Q_.enqueueReplaceState(l,l.state,null)}function Zo(a,l){var h=l;if("ref"in l){h={};for(var f in l)f!=="ref"&&(h[f]=l[f])}if(a=a.defaultProps){h===l&&(h=p({},h));for(var y in a)h[y]===void 0&&(h[y]=a[y])}return h}var dm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function jD(a){dm(a)}function zD(a){console.error(a)}function HD(a){dm(a)}function fm(a,l){try{var h=a.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function qD(a,l,h){try{var f=a.onCaughtError;f(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function X_(a,l,h){return h=ha(h),h.tag=3,h.payload={element:null},h.callback=function(){fm(a,l)},h}function YD(a){return a=ha(a),a.tag=3,a}function WD(a,l,h,f){var y=h.type.getDerivedStateFromError;if(typeof y=="function"){var _=f.value;a.payload=function(){return y(_)},a.callback=function(){qD(l,h,f)}}var D=h.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(a.callback=function(){qD(l,h,f),typeof y!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var C=f.stack;this.componentDidCatch(f.value,{componentStack:C!==null?C:""})})}function tB(a,l,h,f,y){if(h.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=h.alternate,l!==null&&qh(l,h,y,!0),h=Ui.current,h!==null){switch(h.tag){case 13:return Ir===null?wb():h.alternate===null&&jt===0&&(jt=3),h.flags&=-257,h.flags|=65536,h.lanes=y,f===D_?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([f]):l.add(f),Sb(a,f,y)),!1;case 22:return h.flags|=65536,f===D_?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([f]):h.add(f)),Sb(a,f,y)),!1}throw Error(n(435,h.tag))}return Sb(a,f,y),wb(),!1}if(at)return l=Ui.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,f!==__&&(a=Error(n(422),{cause:f}),Hh(Vi(a,h)))):(f!==__&&(l=Error(n(423),{cause:f}),Hh(Vi(l,h))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,f=Vi(f,h),y=X_(a.stateNode,f,y),R_(a,y),jt!==4&&(jt=2)),!1;var _=Error(n(520),{cause:f});if(_=Vi(_,h),ud===null?ud=[_]:ud.push(_),jt!==4&&(jt=2),l===null)return!0;f=Vi(f,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,a=y&-y,h.lanes|=a,a=X_(h.stateNode,f,a),R_(h,a),!1;case 1:if(l=h.type,_=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(wa===null||!wa.has(_))))return h.flags|=65536,y&=-y,h.lanes|=y,y=YD(y),WD(y,a,h,f),R_(h,y),!1}h=h.return}while(h!==null);return!1}var GD=Error(n(461)),Sn=!1;function kn(a,l,h,f){l.child=a===null?LD(l,null,h,f):Nc(l,a.child,h,f)}function KD(a,l,h,f,y){h=h.render;var _=l.ref;if("ref"in f){var D={};for(var C in f)C!=="ref"&&(D[C]=f[C])}else D=f;return $o(l),f=O_(a,l,h,D,_,y),C=N_(),a!==null&&!Sn?(V_(a,l,y),xs(a,l,y)):(at&&C&&y_(l),l.flags|=1,kn(a,l,f,y),l.child)}function $D(a,l,h,f,y){if(a===null){var _=h.type;return typeof _=="function"&&!p_(_)&&_.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=_,QD(a,l,_,f,y)):(a=Wp(h.type,null,f,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(_=a.child,!sb(a,y)){var D=_.memoizedProps;if(h=h.compare,h=h!==null?h:Bh,h(D,f)&&a.ref===l.ref)return xs(a,l,y)}return l.flags|=1,a=vs(_,f),a.ref=l.ref,a.return=l,l.child=a}function QD(a,l,h,f,y){if(a!==null){var _=a.memoizedProps;if(Bh(_,f)&&a.ref===l.ref)if(Sn=!1,l.pendingProps=f=_,sb(a,y))(a.flags&131072)!==0&&(Sn=!0);else return l.lanes=a.lanes,xs(a,l,y)}return Z_(a,l,h,f,y)}function XD(a,l,h){var f=l.pendingProps,y=f.children,_=a!==null?a.memoizedState:null;if(f.mode==="hidden"){if((l.flags&128)!==0){if(f=_!==null?_.baseLanes|h:h,a!==null){for(y=l.child=a.child,_=0;y!==null;)_=_|y.lanes|y.childLanes,y=y.sibling;l.childLanes=_&~f}else l.childLanes=0,l.child=null;return ZD(a,l,f,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Xp(l,_!==null?_.cachePool:null),_!==null?Qx(l,_):M_(),FD(l);else return l.lanes=l.childLanes=536870912,ZD(a,l,_!==null?_.baseLanes|h:h,h)}else _!==null?(Xp(l,_.cachePool),Qx(l,_),ma(),l.memoizedState=null):(a!==null&&Xp(l,null),M_(),ma());return kn(a,l,y,h),l.child}function ZD(a,l,h,f){var y=x_();return y=y===null?null:{parent:mn._currentValue,pool:y},l.memoizedState={baseLanes:h,cachePool:y},a!==null&&Xp(l,null),M_(),FD(l),a!==null&&qh(a,l,f,!0),null}function pm(a,l){var h=l.ref;if(h===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(a===null||a.ref!==h)&&(l.flags|=4194816)}}function Z_(a,l,h,f,y){return $o(l),h=O_(a,l,h,f,void 0,y),f=N_(),a!==null&&!Sn?(V_(a,l,y),xs(a,l,y)):(at&&f&&y_(l),l.flags|=1,kn(a,l,h,y),l.child)}function JD(a,l,h,f,y,_){return $o(l),l.updateQueue=null,h=Zx(l,f,h,y),Xx(a),f=N_(),a!==null&&!Sn?(V_(a,l,_),xs(a,l,_)):(at&&f&&y_(l),l.flags|=1,kn(a,l,h,_),l.child)}function eA(a,l,h,f,y){if($o(l),l.stateNode===null){var _=xc,D=h.contextType;typeof D=="object"&&D!==null&&(_=Bn(D)),_=new h(f,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Q_,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=f,_.state=l.memoizedState,_.refs={},A_(l),D=h.contextType,_.context=typeof D=="object"&&D!==null?Bn(D):xc,_.state=l.memoizedState,D=h.getDerivedStateFromProps,typeof D=="function"&&($_(l,h,D,f),_.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(D=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),D!==_.state&&Q_.enqueueReplaceState(_,_.state,null),Xh(l,f,_,y),Qh(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(a===null){_=l.stateNode;var C=l.memoizedProps,H=Zo(h,C);_.props=H;var te=_.context,ce=h.contextType;D=xc,typeof ce=="object"&&ce!==null&&(D=Bn(ce));var fe=h.getDerivedStateFromProps;ce=typeof fe=="function"||typeof _.getSnapshotBeforeUpdate=="function",C=l.pendingProps!==C,ce||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C||te!==D)&&UD(l,_,f,D),ua=!1;var ne=l.memoizedState;_.state=ne,Xh(l,f,_,y),Qh(),te=l.memoizedState,C||ne!==te||ua?(typeof fe=="function"&&($_(l,h,fe,f),te=l.memoizedState),(H=ua||BD(l,h,H,f,ne,te,D))?(ce||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=te),_.props=f,_.state=te,_.context=D,f=H):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{_=l.stateNode,I_(a,l),D=l.memoizedProps,ce=Zo(h,D),_.props=ce,fe=l.pendingProps,ne=_.context,te=h.contextType,H=xc,typeof te=="object"&&te!==null&&(H=Bn(te)),C=h.getDerivedStateFromProps,(te=typeof C=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(D!==fe||ne!==H)&&UD(l,_,f,H),ua=!1,ne=l.memoizedState,_.state=ne,Xh(l,f,_,y),Qh();var re=l.memoizedState;D!==fe||ne!==re||ua||a!==null&&a.dependencies!==null&&$p(a.dependencies)?(typeof C=="function"&&($_(l,h,C,f),re=l.memoizedState),(ce=ua||BD(l,h,ce,f,ne,re,H)||a!==null&&a.dependencies!==null&&$p(a.dependencies))?(te||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,re,H),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,re,H)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||D===a.memoizedProps&&ne===a.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&ne===a.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=re),_.props=f,_.state=re,_.context=H,f=ce):(typeof _.componentDidUpdate!="function"||D===a.memoizedProps&&ne===a.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&ne===a.memoizedState||(l.flags|=1024),f=!1)}return _=f,pm(a,l),f=(l.flags&128)!==0,_||f?(_=l.stateNode,h=f&&typeof h.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,a!==null&&f?(l.child=Nc(l,a.child,null,y),l.child=Nc(l,null,h,y)):kn(a,l,h,y),l.memoizedState=_.state,a=l.child):a=xs(a,l,y),a}function tA(a,l,h,f){return zh(),l.flags|=256,kn(a,l,h,f),l.child}var J_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eb(a){return{baseLanes:a,cachePool:zx()}}function tb(a,l,h){return a=a!==null?a.childLanes&~h:0,l&&(a|=ji),a}function nA(a,l,h){var f=l.pendingProps,y=!1,_=(l.flags&128)!==0,D;if((D=_)||(D=a!==null&&a.memoizedState===null?!1:(gn.current&2)!==0),D&&(y=!0,l.flags&=-129),D=(l.flags&32)!==0,l.flags&=-33,a===null){if(at){if(y?pa(l):ma(),at){var C=Ut,H;if(H=C){e:{for(H=C,C=Ar;H.nodeType!==8;){if(!C){C=null;break e}if(H=ar(H.nextSibling),H===null){C=null;break e}}C=H}C!==null?(l.memoizedState={dehydrated:C,treeContext:qo!==null?{id:_s,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},H=vi(18,null,null,0),H.stateNode=C,H.return=l,l.child=H,Zn=l,Ut=null,H=!0):H=!1}H||Go(l)}if(C=l.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Fb(C)?l.lanes=32:l.lanes=536870912,null;Es(l)}return C=f.children,f=f.fallback,y?(ma(),y=l.mode,C=mm({mode:"hidden",children:C},y),f=Ho(f,y,h,null),C.return=l,f.return=l,C.sibling=f,l.child=C,y=l.child,y.memoizedState=eb(h),y.childLanes=tb(a,D,h),l.memoizedState=J_,f):(pa(l),nb(l,C))}if(H=a.memoizedState,H!==null&&(C=H.dehydrated,C!==null)){if(_)l.flags&256?(pa(l),l.flags&=-257,l=ib(a,l,h)):l.memoizedState!==null?(ma(),l.child=a.child,l.flags|=128,l=null):(ma(),y=f.fallback,C=l.mode,f=mm({mode:"visible",children:f.children},C),y=Ho(y,C,h,null),y.flags|=2,f.return=l,y.return=l,f.sibling=y,l.child=f,Nc(l,a.child,null,h),f=l.child,f.memoizedState=eb(h),f.childLanes=tb(a,D,h),l.memoizedState=J_,l=y);else if(pa(l),Fb(C)){if(D=C.nextSibling&&C.nextSibling.dataset,D)var te=D.dgst;D=te,f=Error(n(419)),f.stack="",f.digest=D,Hh({value:f,source:null,stack:null}),l=ib(a,l,h)}else if(Sn||qh(a,l,h,!1),D=(h&a.childLanes)!==0,Sn||D){if(D=Dt,D!==null&&(f=h&-h,f=(f&42)!==0?1:na(f),f=(f&(D.suspendedLanes|h))!==0?0:f,f!==0&&f!==H.retryLane))throw H.retryLane=f,Ec(a,f),Si(D,a,f),GD;C.data==="$?"||wb(),l=ib(a,l,h)}else C.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=H.treeContext,Ut=ar(C.nextSibling),Zn=l,at=!0,Wo=null,Ar=!1,a!==null&&(Fi[Bi++]=_s,Fi[Bi++]=bs,Fi[Bi++]=qo,_s=a.id,bs=a.overflow,qo=l),l=nb(l,f.children),l.flags|=4096);return l}return y?(ma(),y=f.fallback,C=l.mode,H=a.child,te=H.sibling,f=vs(H,{mode:"hidden",children:f.children}),f.subtreeFlags=H.subtreeFlags&65011712,te!==null?y=vs(te,y):(y=Ho(y,C,h,null),y.flags|=2),y.return=l,f.return=l,f.sibling=y,l.child=f,f=y,y=l.child,C=a.child.memoizedState,C===null?C=eb(h):(H=C.cachePool,H!==null?(te=mn._currentValue,H=H.parent!==te?{parent:te,pool:te}:H):H=zx(),C={baseLanes:C.baseLanes|h,cachePool:H}),y.memoizedState=C,y.childLanes=tb(a,D,h),l.memoizedState=J_,f):(pa(l),h=a.child,a=h.sibling,h=vs(h,{mode:"visible",children:f.children}),h.return=l,h.sibling=null,a!==null&&(D=l.deletions,D===null?(l.deletions=[a],l.flags|=16):D.push(a)),l.child=h,l.memoizedState=null,h)}function nb(a,l){return l=mm({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function mm(a,l){return a=vi(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function ib(a,l,h){return Nc(l,a.child,null,h),a=nb(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function iA(a,l,h){a.lanes|=l;var f=a.alternate;f!==null&&(f.lanes|=l),w_(a.return,l,h)}function rb(a,l,h,f,y){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:h,tailMode:y}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=h,_.tailMode=y)}function rA(a,l,h){var f=l.pendingProps,y=f.revealOrder,_=f.tail;if(kn(a,l,f.children,h),f=gn.current,(f&2)!==0)f=f&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&iA(a,h,l);else if(a.tag===19)iA(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(ie(gn,f),y){case"forwards":for(h=l.child,y=null;h!==null;)a=h.alternate,a!==null&&hm(a)===null&&(y=h),h=h.sibling;h=y,h===null?(y=l.child,l.child=null):(y=h.sibling,h.sibling=null),rb(l,!1,y,h,_);break;case"backwards":for(h=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&hm(a)===null){l.child=y;break}a=y.sibling,y.sibling=h,h=y,y=a}rb(l,!0,h,null,_);break;case"together":rb(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function xs(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),ba|=l.lanes,(h&l.childLanes)===0)if(a!==null){if(qh(a,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,h=vs(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=vs(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function sb(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&$p(a)))}function nB(a,l,h){switch(l.tag){case 3:Be(l,l.stateNode.containerInfo),ca(l,mn,a.memoizedState.cache),zh();break;case 27:case 5:Le(l);break;case 4:Be(l,l.stateNode.containerInfo);break;case 10:ca(l,l.type,l.memoizedProps.value);break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(pa(l),l.flags|=128,null):(h&l.child.childLanes)!==0?nA(a,l,h):(pa(l),a=xs(a,l,h),a!==null?a.sibling:null);pa(l);break;case 19:var y=(a.flags&128)!==0;if(f=(h&l.childLanes)!==0,f||(qh(a,l,h,!1),f=(h&l.childLanes)!==0),y){if(f)return rA(a,l,h);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ie(gn,gn.current),f)break;return null;case 22:case 23:return l.lanes=0,XD(a,l,h);case 24:ca(l,mn,a.memoizedState.cache)}return xs(a,l,h)}function sA(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps)Sn=!0;else{if(!sb(a,h)&&(l.flags&128)===0)return Sn=!1,nB(a,l,h);Sn=(a.flags&131072)!==0}else Sn=!1,at&&(l.flags&1048576)!==0&&Nx(l,Kp,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var f=l.elementType,y=f._init;if(f=y(f._payload),l.type=f,typeof f=="function")p_(f)?(a=Zo(f,a),l.tag=1,l=eA(null,l,f,a,h)):(l.tag=0,l=Z_(null,l,f,a,h));else{if(f!=null){if(y=f.$$typeof,y===z){l.tag=11,l=KD(null,l,f,a,h);break e}else if(y===M){l.tag=14,l=$D(null,l,f,a,h);break e}}throw l=me(f)||f,Error(n(306,l,""))}}return l;case 0:return Z_(a,l,l.type,l.pendingProps,h);case 1:return f=l.type,y=Zo(f,l.pendingProps),eA(a,l,f,y,h);case 3:e:{if(Be(l,l.stateNode.containerInfo),a===null)throw Error(n(387));f=l.pendingProps;var _=l.memoizedState;y=_.element,I_(a,l),Xh(l,f,null,h);var D=l.memoizedState;if(f=D.cache,ca(l,mn,f),f!==_.cache&&T_(l,[mn],h,!0),Qh(),f=D.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:D.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=tA(a,l,f,h);break e}else if(f!==y){y=Vi(Error(n(424)),l),Hh(y),l=tA(a,l,f,h);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ut=ar(a.firstChild),Zn=l,at=!0,Wo=null,Ar=!0,h=LD(l,null,f,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(zh(),f===y){l=xs(a,l,h);break e}kn(a,l,f,h)}l=l.child}return l;case 26:return pm(a,l),a===null?(h=c1(l.type,null,l.pendingProps,null))?l.memoizedState=h:at||(h=l.type,a=l.pendingProps,f=Rm(Te.current).createElement(h),f[dn]=l,f[nn]=a,On(f,h,a),Yt(f),l.stateNode=f):l.memoizedState=c1(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Le(l),a===null&&at&&(f=l.stateNode=a1(l.type,l.pendingProps,Te.current),Zn=l,Ar=!0,y=Ut,Ea(l.type)?(Bb=y,Ut=ar(f.firstChild)):Ut=y),kn(a,l,l.pendingProps.children,h),pm(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&at&&((y=f=Ut)&&(f=CB(f,l.type,l.pendingProps,Ar),f!==null?(l.stateNode=f,Zn=l,Ut=ar(f.firstChild),Ar=!1,y=!0):y=!1),y||Go(l)),Le(l),y=l.type,_=l.pendingProps,D=a!==null?a.memoizedProps:null,f=_.children,Nb(y,_)?f=null:D!==null&&Nb(y,D)&&(l.flags|=32),l.memoizedState!==null&&(y=O_(a,l,K4,null,null,h),_d._currentValue=y),pm(a,l),kn(a,l,f,h),l.child;case 6:return a===null&&at&&((a=h=Ut)&&(h=MB(h,l.pendingProps,Ar),h!==null?(l.stateNode=h,Zn=l,Ut=null,a=!0):a=!1),a||Go(l)),null;case 13:return nA(a,l,h);case 4:return Be(l,l.stateNode.containerInfo),f=l.pendingProps,a===null?l.child=Nc(l,null,f,h):kn(a,l,f,h),l.child;case 11:return KD(a,l,l.type,l.pendingProps,h);case 7:return kn(a,l,l.pendingProps,h),l.child;case 8:return kn(a,l,l.pendingProps.children,h),l.child;case 12:return kn(a,l,l.pendingProps.children,h),l.child;case 10:return f=l.pendingProps,ca(l,l.type,f.value),kn(a,l,f.children,h),l.child;case 9:return y=l.type._context,f=l.pendingProps.children,$o(l),y=Bn(y),f=f(y),l.flags|=1,kn(a,l,f,h),l.child;case 14:return $D(a,l,l.type,l.pendingProps,h);case 15:return QD(a,l,l.type,l.pendingProps,h);case 19:return rA(a,l,h);case 31:return f=l.pendingProps,h=l.mode,f={mode:f.mode,children:f.children},a===null?(h=mm(f,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=vs(a.child,f),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return XD(a,l,h);case 24:return $o(l),f=Bn(mn),a===null?(y=x_(),y===null&&(y=Dt,_=S_(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=h),y=_),l.memoizedState={parent:f,cache:y},A_(l),ca(l,mn,y)):((a.lanes&h)!==0&&(I_(a,l),Xh(l,null,null,h),Qh()),y=a.memoizedState,_=l.memoizedState,y.parent!==f?(y={parent:f,cache:f},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),ca(l,mn,f)):(f=_.cache,ca(l,mn,f),f!==y.cache&&T_(l,[mn],h,!0))),kn(a,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function Ds(a){a.flags|=4}function aA(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!p1(l)){if(l=Ui.current,l!==null&&((Xe&4194048)===Xe?Ir!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||l!==Ir))throw Kh=D_,Hx;a.flags|=8192}}function gm(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?wh():536870912,a.lanes|=l,Bc|=l)}function rd(a,l){if(!at)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var f=null;h!==null;)h.alternate!==null&&(f=h),h=h.sibling;f===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Nt(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,f=0;if(l)for(var y=a.child;y!==null;)h|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)h|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=f,a.childLanes=h,l}function iB(a,l,h){var f=l.pendingProps;switch(v_(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(l),null;case 1:return Nt(l),null;case 3:return h=l.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Ts(mn),ke(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(jh(l)?Ds(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Fx())),Nt(l),null;case 26:return h=l.memoizedState,a===null?(Ds(l),h!==null?(Nt(l),aA(l,h)):(Nt(l),l.flags&=-16777217)):h?h!==a.memoizedState?(Ds(l),Nt(l),aA(l,h)):(Nt(l),l.flags&=-16777217):(a.memoizedProps!==f&&Ds(l),Nt(l),l.flags&=-16777217),null;case 27:et(l),h=Te.current;var y=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==f&&Ds(l);else{if(!f){if(l.stateNode===null)throw Error(n(166));return Nt(l),null}a=ye.current,jh(l)?Vx(l):(a=a1(y,f,h),l.stateNode=a,Ds(l))}return Nt(l),null;case 5:if(et(l),h=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==f&&Ds(l);else{if(!f){if(l.stateNode===null)throw Error(n(166));return Nt(l),null}if(a=ye.current,jh(l))Vx(l);else{switch(y=Rm(Te.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?y.createElement(h,{is:f.is}):y.createElement(h)}}a[dn]=l,a[nn]=f;e:for(y=l.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===l)break e;for(;y.sibling===null;){if(y.return===null||y.return===l)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}l.stateNode=a;e:switch(On(a,h,f),h){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ds(l)}}return Nt(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==f&&Ds(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(n(166));if(a=Te.current,jh(l)){if(a=l.stateNode,h=l.memoizedProps,f=null,y=Zn,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}a[dn]=l,a=!!(a.nodeValue===h||f!==null&&f.suppressHydrationWarning===!0||JA(a.nodeValue,h)),a||Go(l)}else a=Rm(a).createTextNode(f),a[dn]=l,l.stateNode=a}return Nt(l),null;case 13:if(f=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=jh(l),f!==null&&f.dehydrated!==null){if(a===null){if(!y)throw Error(n(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[dn]=l}else zh(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Nt(l),y=!1}else y=Fx(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(Es(l),l):(Es(l),null)}if(Es(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=f!==null,a=a!==null&&a.memoizedState!==null,h){f=l.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var _=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==y&&(f.flags|=2048)}return h!==a&&h&&(l.child.flags|=8192),gm(l,l.updateQueue),Nt(l),null;case 4:return ke(),a===null&&Cb(l.stateNode.containerInfo),Nt(l),null;case 10:return Ts(l.type),Nt(l),null;case 19:if(oe(gn),y=l.memoizedState,y===null)return Nt(l),null;if(f=(l.flags&128)!==0,_=y.rendering,_===null)if(f)rd(y,!1);else{if(jt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(_=hm(a),_!==null){for(l.flags|=128,rd(y,!1),a=_.updateQueue,l.updateQueue=a,gm(l,a),l.subtreeFlags=0,a=h,h=l.child;h!==null;)Ox(h,a),h=h.sibling;return ie(gn,gn.current&1|2),l.child}a=a.sibling}y.tail!==null&&ii()>_m&&(l.flags|=128,f=!0,rd(y,!1),l.lanes=4194304)}else{if(!f)if(a=hm(_),a!==null){if(l.flags|=128,f=!0,a=a.updateQueue,l.updateQueue=a,gm(l,a),rd(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!at)return Nt(l),null}else 2*ii()-y.renderingStartTime>_m&&h!==536870912&&(l.flags|=128,f=!0,rd(y,!1),l.lanes=4194304);y.isBackwards?(_.sibling=l.child,l.child=_):(a=y.last,a!==null?a.sibling=_:l.child=_,y.last=_)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=ii(),l.sibling=null,a=gn.current,ie(gn,f?a&1|2:a&1),l):(Nt(l),null);case 22:case 23:return Es(l),k_(),f=l.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(h&536870912)!==0&&(l.flags&128)===0&&(Nt(l),l.subtreeFlags&6&&(l.flags|=8192)):Nt(l),h=l.updateQueue,h!==null&&gm(l,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048),a!==null&&oe(Qo),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Ts(mn),Nt(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function rB(a,l){switch(v_(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Ts(mn),ke(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return et(l),null;case 13:if(Es(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));zh()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return oe(gn),null;case 4:return ke(),null;case 10:return Ts(l.type),null;case 22:case 23:return Es(l),k_(),a!==null&&oe(Qo),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Ts(mn),null;case 25:return null;default:return null}}function oA(a,l){switch(v_(l),l.tag){case 3:Ts(mn),ke();break;case 26:case 27:case 5:et(l);break;case 4:ke();break;case 13:Es(l);break;case 19:oe(gn);break;case 10:Ts(l.type);break;case 22:case 23:Es(l),k_(),a!==null&&oe(Qo);break;case 24:Ts(mn)}}function sd(a,l){try{var h=l.updateQueue,f=h!==null?h.lastEffect:null;if(f!==null){var y=f.next;h=y;do{if((h.tag&a)===a){f=void 0;var _=h.create,D=h.inst;f=_(),D.destroy=f}h=h.next}while(h!==y)}}catch(C){Et(l,l.return,C)}}function ga(a,l,h){try{var f=l.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var _=y.next;f=_;do{if((f.tag&a)===a){var D=f.inst,C=D.destroy;if(C!==void 0){D.destroy=void 0,y=l;var H=h,te=C;try{te()}catch(ce){Et(y,H,ce)}}}f=f.next}while(f!==_)}}catch(ce){Et(l,l.return,ce)}}function lA(a){var l=a.updateQueue;if(l!==null){var h=a.stateNode;try{$x(l,h)}catch(f){Et(a,a.return,f)}}}function cA(a,l,h){h.props=Zo(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(f){Et(a,l,f)}}function ad(a,l){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof h=="function"?a.refCleanup=h(f):h.current=f}}catch(y){Et(a,l,y)}}function Rr(a,l){var h=a.ref,f=a.refCleanup;if(h!==null)if(typeof f=="function")try{f()}catch(y){Et(a,l,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(y){Et(a,l,y)}else h.current=null}function uA(a){var l=a.type,h=a.memoizedProps,f=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&f.focus();break e;case"img":h.src?f.src=h.src:h.srcSet&&(f.srcset=h.srcSet)}}catch(y){Et(a,a.return,y)}}function ab(a,l,h){try{var f=a.stateNode;xB(f,a.type,h,l),f[nn]=l}catch(y){Et(a,a.return,y)}}function hA(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ea(a.type)||a.tag===4}function ob(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||hA(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ea(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function lb(a,l,h){var f=a.tag;if(f===5||f===6)a=a.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(a),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Im));else if(f!==4&&(f===27&&Ea(a.type)&&(h=a.stateNode,l=null),a=a.child,a!==null))for(lb(a,l,h),a=a.sibling;a!==null;)lb(a,l,h),a=a.sibling}function ym(a,l,h){var f=a.tag;if(f===5||f===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(f!==4&&(f===27&&Ea(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(ym(a,l,h),a=a.sibling;a!==null;)ym(a,l,h),a=a.sibling}function dA(a){var l=a.stateNode,h=a.memoizedProps;try{for(var f=a.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);On(l,f,h),l[dn]=a,l[nn]=h}catch(_){Et(a,a.return,_)}}var As=!1,Gt=!1,cb=!1,fA=typeof WeakSet=="function"?WeakSet:Set,En=null;function sB(a,l){if(a=a.containerInfo,Pb=Nm,a=Ex(a),o_(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var f=h.getSelection&&h.getSelection();if(f&&f.rangeCount!==0){h=f.anchorNode;var y=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var D=0,C=-1,H=-1,te=0,ce=0,fe=a,ne=null;t:for(;;){for(var re;fe!==h||y!==0&&fe.nodeType!==3||(C=D+y),fe!==_||f!==0&&fe.nodeType!==3||(H=D+f),fe.nodeType===3&&(D+=fe.nodeValue.length),(re=fe.firstChild)!==null;)ne=fe,fe=re;for(;;){if(fe===a)break t;if(ne===h&&++te===y&&(C=D),ne===_&&++ce===f&&(H=D),(re=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=re}h=C===-1||H===-1?null:{start:C,end:H}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ob={focusedElem:a,selectionRange:h},Nm=!1,En=l;En!==null;)if(l=En,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,En=a;else for(;En!==null;){switch(l=En,_=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,h=l,y=_.memoizedProps,_=_.memoizedState,f=h.stateNode;try{var Ne=Zo(h.type,y,h.elementType===h.type);a=f.getSnapshotBeforeUpdate(Ne,_),f.__reactInternalSnapshotBeforeUpdate=a}catch(Me){Et(h,h.return,Me)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,h=a.nodeType,h===9)Lb(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Lb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=l.sibling,a!==null){a.return=l.return,En=a;break}En=l.return}}function pA(a,l,h){var f=h.flags;switch(h.tag){case 0:case 11:case 15:ya(a,h),f&4&&sd(5,h);break;case 1:if(ya(a,h),f&4)if(a=h.stateNode,l===null)try{a.componentDidMount()}catch(D){Et(h,h.return,D)}else{var y=Zo(h.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(y,l,a.__reactInternalSnapshotBeforeUpdate)}catch(D){Et(h,h.return,D)}}f&64&&lA(h),f&512&&ad(h,h.return);break;case 3:if(ya(a,h),f&64&&(a=h.updateQueue,a!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{$x(a,l)}catch(D){Et(h,h.return,D)}}break;case 27:l===null&&f&4&&dA(h);case 26:case 5:ya(a,h),l===null&&f&4&&uA(h),f&512&&ad(h,h.return);break;case 12:ya(a,h);break;case 13:ya(a,h),f&4&&yA(a,h),f&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=pB.bind(null,h),kB(a,h))));break;case 22:if(f=h.memoizedState!==null||As,!f){l=l!==null&&l.memoizedState!==null||Gt,y=As;var _=Gt;As=f,(Gt=l)&&!_?va(a,h,(h.subtreeFlags&8772)!==0):ya(a,h),As=y,Gt=_}break;case 30:break;default:ya(a,h)}}function mA(a){var l=a.alternate;l!==null&&(a.alternate=null,mA(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&sa(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Mt=null,si=!1;function Is(a,l,h){for(h=h.child;h!==null;)gA(a,l,h),h=h.sibling}function gA(a,l,h){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Bt,h)}catch{}switch(h.tag){case 26:Gt||Rr(h,l),Is(a,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Gt||Rr(h,l);var f=Mt,y=si;Ea(h.type)&&(Mt=h.stateNode,si=!1),Is(a,l,h),md(h.stateNode),Mt=f,si=y;break;case 5:Gt||Rr(h,l);case 6:if(f=Mt,y=si,Mt=null,Is(a,l,h),Mt=f,si=y,Mt!==null)if(si)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(h.stateNode)}catch(_){Et(h,l,_)}else try{Mt.removeChild(h.stateNode)}catch(_){Et(h,l,_)}break;case 18:Mt!==null&&(si?(a=Mt,r1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Sd(a)):r1(Mt,h.stateNode));break;case 4:f=Mt,y=si,Mt=h.stateNode.containerInfo,si=!0,Is(a,l,h),Mt=f,si=y;break;case 0:case 11:case 14:case 15:Gt||ga(2,h,l),Gt||ga(4,h,l),Is(a,l,h);break;case 1:Gt||(Rr(h,l),f=h.stateNode,typeof f.componentWillUnmount=="function"&&cA(h,l,f)),Is(a,l,h);break;case 21:Is(a,l,h);break;case 22:Gt=(f=Gt)||h.memoizedState!==null,Is(a,l,h),Gt=f;break;default:Is(a,l,h)}}function yA(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Sd(a)}catch(h){Et(l,l.return,h)}}function aB(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new fA),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new fA),l;default:throw Error(n(435,a.tag))}}function ub(a,l){var h=aB(a);l.forEach(function(f){var y=mB.bind(null,a,f);h.has(f)||(h.add(f),f.then(y,y))})}function _i(a,l){var h=l.deletions;if(h!==null)for(var f=0;f<h.length;f++){var y=h[f],_=a,D=l,C=D;e:for(;C!==null;){switch(C.tag){case 27:if(Ea(C.type)){Mt=C.stateNode,si=!1;break e}break;case 5:Mt=C.stateNode,si=!1;break e;case 3:case 4:Mt=C.stateNode.containerInfo,si=!0;break e}C=C.return}if(Mt===null)throw Error(n(160));gA(_,D,y),Mt=null,si=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)vA(l,a),l=l.sibling}var sr=null;function vA(a,l){var h=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:_i(l,a),bi(a),f&4&&(ga(3,a,a.return),sd(3,a),ga(5,a,a.return));break;case 1:_i(l,a),bi(a),f&512&&(Gt||h===null||Rr(h,h.return)),f&64&&As&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?f:h.concat(f))));break;case 26:var y=sr;if(_i(l,a),bi(a),f&512&&(Gt||h===null||Rr(h,h.return)),f&4){var _=h!==null?h.memoizedState:null;if(f=a.memoizedState,h===null)if(f===null)if(a.stateNode===null){e:{f=a.type,h=a.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":_=y.getElementsByTagName("title")[0],(!_||_[Ao]||_[dn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(f),y.head.insertBefore(_,y.querySelector("head > title"))),On(_,f,h),_[dn]=a,Yt(_),f=_;break e;case"link":var D=d1("link","href",y).get(f+(h.href||""));if(D){for(var C=0;C<D.length;C++)if(_=D[C],_.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&_.getAttribute("rel")===(h.rel==null?null:h.rel)&&_.getAttribute("title")===(h.title==null?null:h.title)&&_.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){D.splice(C,1);break t}}_=y.createElement(f),On(_,f,h),y.head.appendChild(_);break;case"meta":if(D=d1("meta","content",y).get(f+(h.content||""))){for(C=0;C<D.length;C++)if(_=D[C],_.getAttribute("content")===(h.content==null?null:""+h.content)&&_.getAttribute("name")===(h.name==null?null:h.name)&&_.getAttribute("property")===(h.property==null?null:h.property)&&_.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&_.getAttribute("charset")===(h.charSet==null?null:h.charSet)){D.splice(C,1);break t}}_=y.createElement(f),On(_,f,h),y.head.appendChild(_);break;default:throw Error(n(468,f))}_[dn]=a,Yt(_),f=_}a.stateNode=f}else f1(y,a.type,a.stateNode);else a.stateNode=h1(y,f,a.memoizedProps);else _!==f?(_===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):_.count--,f===null?f1(y,a.type,a.stateNode):h1(y,f,a.memoizedProps)):f===null&&a.stateNode!==null&&ab(a,a.memoizedProps,h.memoizedProps)}break;case 27:_i(l,a),bi(a),f&512&&(Gt||h===null||Rr(h,h.return)),h!==null&&f&4&&ab(a,a.memoizedProps,h.memoizedProps);break;case 5:if(_i(l,a),bi(a),f&512&&(Gt||h===null||Rr(h,h.return)),a.flags&32){y=a.stateNode;try{ki(y,"")}catch(re){Et(a,a.return,re)}}f&4&&a.stateNode!=null&&(y=a.memoizedProps,ab(a,y,h!==null?h.memoizedProps:y)),f&1024&&(cb=!0);break;case 6:if(_i(l,a),bi(a),f&4){if(a.stateNode===null)throw Error(n(162));f=a.memoizedProps,h=a.stateNode;try{h.nodeValue=f}catch(re){Et(a,a.return,re)}}break;case 3:if(km=null,y=sr,sr=Cm(l.containerInfo),_i(l,a),sr=y,bi(a),f&4&&h!==null&&h.memoizedState.isDehydrated)try{Sd(l.containerInfo)}catch(re){Et(a,a.return,re)}cb&&(cb=!1,_A(a));break;case 4:f=sr,sr=Cm(a.stateNode.containerInfo),_i(l,a),bi(a),sr=f;break;case 12:_i(l,a),bi(a);break;case 13:_i(l,a),bi(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(gb=ii()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,ub(a,f)));break;case 22:y=a.memoizedState!==null;var H=h!==null&&h.memoizedState!==null,te=As,ce=Gt;if(As=te||y,Gt=ce||H,_i(l,a),Gt=ce,As=te,bi(a),f&8192)e:for(l=a.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(h===null||H||As||Gt||Jo(a)),h=null,l=a;;){if(l.tag===5||l.tag===26){if(h===null){H=h=l;try{if(_=H.stateNode,y)D=_.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{C=H.stateNode;var fe=H.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;C.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){Et(H,H.return,re)}}}else if(l.tag===6){if(h===null){H=l;try{H.stateNode.nodeValue=y?"":H.memoizedProps}catch(re){Et(H,H.return,re)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=a.updateQueue,f!==null&&(h=f.retryQueue,h!==null&&(f.retryQueue=null,ub(a,h))));break;case 19:_i(l,a),bi(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,ub(a,f)));break;case 30:break;case 21:break;default:_i(l,a),bi(a)}}function bi(a){var l=a.flags;if(l&2){try{for(var h,f=a.return;f!==null;){if(hA(f)){h=f;break}f=f.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var y=h.stateNode,_=ob(a);ym(a,_,y);break;case 5:var D=h.stateNode;h.flags&32&&(ki(D,""),h.flags&=-33);var C=ob(a);ym(a,C,D);break;case 3:case 4:var H=h.stateNode.containerInfo,te=ob(a);lb(a,te,H);break;default:throw Error(n(161))}}catch(ce){Et(a,a.return,ce)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function _A(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;_A(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function ya(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)pA(a,l.alternate,l),l=l.sibling}function Jo(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:ga(4,l,l.return),Jo(l);break;case 1:Rr(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&cA(l,l.return,h),Jo(l);break;case 27:md(l.stateNode);case 26:case 5:Rr(l,l.return),Jo(l);break;case 22:l.memoizedState===null&&Jo(l);break;case 30:Jo(l);break;default:Jo(l)}a=a.sibling}}function va(a,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,y=a,_=l,D=_.flags;switch(_.tag){case 0:case 11:case 15:va(y,_,h),sd(4,_);break;case 1:if(va(y,_,h),f=_,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(te){Et(f,f.return,te)}if(f=_,y=f.updateQueue,y!==null){var C=f.stateNode;try{var H=y.shared.hiddenCallbacks;if(H!==null)for(y.shared.hiddenCallbacks=null,y=0;y<H.length;y++)Kx(H[y],C)}catch(te){Et(f,f.return,te)}}h&&D&64&&lA(_),ad(_,_.return);break;case 27:dA(_);case 26:case 5:va(y,_,h),h&&f===null&&D&4&&uA(_),ad(_,_.return);break;case 12:va(y,_,h);break;case 13:va(y,_,h),h&&D&4&&yA(y,_);break;case 22:_.memoizedState===null&&va(y,_,h),ad(_,_.return);break;case 30:break;default:va(y,_,h)}l=l.sibling}}function hb(a,l){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Yh(h))}function db(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Yh(a))}function Cr(a,l,h,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)bA(a,l,h,f),l=l.sibling}function bA(a,l,h,f){var y=l.flags;switch(l.tag){case 0:case 11:case 15:Cr(a,l,h,f),y&2048&&sd(9,l);break;case 1:Cr(a,l,h,f);break;case 3:Cr(a,l,h,f),y&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Yh(a)));break;case 12:if(y&2048){Cr(a,l,h,f),a=l.stateNode;try{var _=l.memoizedProps,D=_.id,C=_.onPostCommit;typeof C=="function"&&C(D,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(H){Et(l,l.return,H)}}else Cr(a,l,h,f);break;case 13:Cr(a,l,h,f);break;case 23:break;case 22:_=l.stateNode,D=l.alternate,l.memoizedState!==null?_._visibility&2?Cr(a,l,h,f):od(a,l):_._visibility&2?Cr(a,l,h,f):(_._visibility|=2,Vc(a,l,h,f,(l.subtreeFlags&10256)!==0)),y&2048&&hb(D,l);break;case 24:Cr(a,l,h,f),y&2048&&db(l.alternate,l);break;default:Cr(a,l,h,f)}}function Vc(a,l,h,f,y){for(y=y&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var _=a,D=l,C=h,H=f,te=D.flags;switch(D.tag){case 0:case 11:case 15:Vc(_,D,C,H,y),sd(8,D);break;case 23:break;case 22:var ce=D.stateNode;D.memoizedState!==null?ce._visibility&2?Vc(_,D,C,H,y):od(_,D):(ce._visibility|=2,Vc(_,D,C,H,y)),y&&te&2048&&hb(D.alternate,D);break;case 24:Vc(_,D,C,H,y),y&&te&2048&&db(D.alternate,D);break;default:Vc(_,D,C,H,y)}l=l.sibling}}function od(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=a,f=l,y=f.flags;switch(f.tag){case 22:od(h,f),y&2048&&hb(f.alternate,f);break;case 24:od(h,f),y&2048&&db(f.alternate,f);break;default:od(h,f)}l=l.sibling}}var ld=8192;function Lc(a){if(a.subtreeFlags&ld)for(a=a.child;a!==null;)wA(a),a=a.sibling}function wA(a){switch(a.tag){case 26:Lc(a),a.flags&ld&&a.memoizedState!==null&&YB(sr,a.memoizedState,a.memoizedProps);break;case 5:Lc(a);break;case 3:case 4:var l=sr;sr=Cm(a.stateNode.containerInfo),Lc(a),sr=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=ld,ld=16777216,Lc(a),ld=l):Lc(a));break;default:Lc(a)}}function TA(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function cd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];En=f,EA(f,a)}TA(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)SA(a),a=a.sibling}function SA(a){switch(a.tag){case 0:case 11:case 15:cd(a),a.flags&2048&&ga(9,a,a.return);break;case 3:cd(a);break;case 12:cd(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,vm(a)):cd(a);break;default:cd(a)}}function vm(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];En=f,EA(f,a)}TA(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:ga(8,l,l.return),vm(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,vm(l));break;default:vm(l)}a=a.sibling}}function EA(a,l){for(;En!==null;){var h=En;switch(h.tag){case 0:case 11:case 15:ga(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var f=h.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Yh(h.memoizedState.cache)}if(f=h.child,f!==null)f.return=h,En=f;else e:for(h=a;En!==null;){f=En;var y=f.sibling,_=f.return;if(mA(f),f===h){En=null;break e}if(y!==null){y.return=_,En=y;break e}En=_}}}var oB={getCacheForType:function(a){var l=Bn(mn),h=l.data.get(a);return h===void 0&&(h=a(),l.data.set(a,h)),h}},lB=typeof WeakMap=="function"?WeakMap:Map,dt=0,Dt=null,Ye=null,Xe=0,ft=0,wi=null,_a=!1,Fc=!1,fb=!1,Rs=0,jt=0,ba=0,el=0,pb=0,ji=0,Bc=0,ud=null,ai=null,mb=!1,gb=0,_m=1/0,bm=null,wa=null,Pn=0,Ta=null,Uc=null,jc=0,yb=0,vb=null,xA=null,hd=0,_b=null;function Ti(){if((dt&2)!==0&&Xe!==0)return Xe&-Xe;if(q.T!==null){var a=Ic;return a!==0?a:Db()}return ia()}function DA(){ji===0&&(ji=(Xe&536870912)===0||at?bh():536870912);var a=Ui.current;return a!==null&&(a.flags|=32),ji}function Si(a,l,h){(a===Dt&&(ft===2||ft===9)||a.cancelPendingCommit!==null)&&(zc(a,0),Sa(a,Xe,ji,!1)),os(a,h),((dt&2)===0||a!==Dt)&&(a===Dt&&((dt&2)===0&&(el|=h),jt===4&&Sa(a,Xe,ji,!1)),Mr(a))}function AA(a,l,h){if((dt&6)!==0)throw Error(n(327));var f=!h&&(l&124)===0&&(l&a.expiredLanes)===0||Do(a,l),y=f?hB(a,l):Tb(a,l,!0),_=f;do{if(y===0){Fc&&!f&&Sa(a,l,0,!1);break}else{if(h=a.current.alternate,_&&!cB(h)){y=Tb(a,l,!1),_=!1;continue}if(y===2){if(_=l,a.errorRecoveryDisabledLanes&_)var D=0;else D=a.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){l=D;e:{var C=a;y=ud;var H=C.current.memoizedState.isDehydrated;if(H&&(zc(C,D).flags|=256),D=Tb(C,D,!1),D!==2){if(fb&&!H){C.errorRecoveryDisabledLanes|=_,el|=_,y=4;break e}_=ai,ai=y,_!==null&&(ai===null?ai=_:ai.push.apply(ai,_))}y=D}if(_=!1,y!==2)continue}}if(y===1){zc(a,0),Sa(a,l,0,!0);break}e:{switch(f=a,_=y,_){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:Sa(f,l,ji,!_a);break e;case 2:ai=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(y=gb+300-ii(),10<y)){if(Sa(f,l,ji,!_a),sc(f,0,!0)!==0)break e;f.timeoutHandle=n1(IA.bind(null,f,h,ai,bm,mb,l,ji,el,Bc,_a,_,2,-0,0),y);break e}IA(f,h,ai,bm,mb,l,ji,el,Bc,_a,_,0,-0,0)}}break}while(!0);Mr(a)}function IA(a,l,h,f,y,_,D,C,H,te,ce,fe,ne,re){if(a.timeoutHandle=-1,fe=l.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(vd={stylesheets:null,count:0,unsuspend:qB},wA(l),fe=WB(),fe!==null)){a.cancelPendingCommit=fe(NA.bind(null,a,l,_,h,f,y,D,C,H,ce,1,ne,re)),Sa(a,_,D,!te);return}NA(a,l,_,h,f,y,D,C,H)}function cB(a){for(var l=a;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var f=0;f<h.length;f++){var y=h[f],_=y.getSnapshot;y=y.value;try{if(!yi(_(),y))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Sa(a,l,h,f){l&=~pb,l&=~el,a.suspendedLanes|=l,a.pingedLanes&=~l,f&&(a.warmLanes|=l),f=a.expirationTimes;for(var y=l;0<y;){var _=31-Fn(y),D=1<<_;f[_]=-1,y&=~D}h!==0&&gr(a,h,l)}function wm(){return(dt&6)===0?(dd(0),!1):!0}function bb(){if(Ye!==null){if(ft===0)var a=Ye.return;else a=Ye,ws=Ko=null,L_(a),Oc=null,nd=0,a=Ye;for(;a!==null;)oA(a.alternate,a),a=a.return;Ye=null}}function zc(a,l){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,AB(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),bb(),Dt=a,Ye=h=vs(a.current,null),Xe=l,ft=0,wi=null,_a=!1,Fc=Do(a,l),fb=!1,Bc=ji=pb=el=ba=jt=0,ai=ud=null,mb=!1,(l&8)!==0&&(l|=l&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=l;0<f;){var y=31-Fn(f),_=1<<y;l|=a[y],f&=~_}return Rs=l,Hp(),h}function RA(a,l){je=null,q.H=lm,l===Gh||l===Zp?(l=Wx(),ft=3):l===Hx?(l=Wx(),ft=4):ft=l===GD?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,wi=l,Ye===null&&(jt=1,fm(a,Vi(l,a.current)))}function CA(){var a=q.H;return q.H=lm,a===null?lm:a}function MA(){var a=q.A;return q.A=oB,a}function wb(){jt=4,_a||(Xe&4194048)!==Xe&&Ui.current!==null||(Fc=!0),(ba&134217727)===0&&(el&134217727)===0||Dt===null||Sa(Dt,Xe,ji,!1)}function Tb(a,l,h){var f=dt;dt|=2;var y=CA(),_=MA();(Dt!==a||Xe!==l)&&(bm=null,zc(a,l)),l=!1;var D=jt;e:do try{if(ft!==0&&Ye!==null){var C=Ye,H=wi;switch(ft){case 8:bb(),D=6;break e;case 3:case 2:case 9:case 6:Ui.current===null&&(l=!0);var te=ft;if(ft=0,wi=null,Hc(a,C,H,te),h&&Fc){D=0;break e}break;default:te=ft,ft=0,wi=null,Hc(a,C,H,te)}}uB(),D=jt;break}catch(ce){RA(a,ce)}while(!0);return l&&a.shellSuspendCounter++,ws=Ko=null,dt=f,q.H=y,q.A=_,Ye===null&&(Dt=null,Xe=0,Hp()),D}function uB(){for(;Ye!==null;)kA(Ye)}function hB(a,l){var h=dt;dt|=2;var f=CA(),y=MA();Dt!==a||Xe!==l?(bm=null,_m=ii()+500,zc(a,l)):Fc=Do(a,l);e:do try{if(ft!==0&&Ye!==null){l=Ye;var _=wi;t:switch(ft){case 1:ft=0,wi=null,Hc(a,l,_,1);break;case 2:case 9:if(qx(_)){ft=0,wi=null,PA(l);break}l=function(){ft!==2&&ft!==9||Dt!==a||(ft=7),Mr(a)},_.then(l,l);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:qx(_)?(ft=0,wi=null,PA(l)):(ft=0,wi=null,Hc(a,l,_,7));break;case 5:var D=null;switch(Ye.tag){case 26:D=Ye.memoizedState;case 5:case 27:var C=Ye;if(!D||p1(D)){ft=0,wi=null;var H=C.sibling;if(H!==null)Ye=H;else{var te=C.return;te!==null?(Ye=te,Tm(te)):Ye=null}break t}}ft=0,wi=null,Hc(a,l,_,5);break;case 6:ft=0,wi=null,Hc(a,l,_,6);break;case 8:bb(),jt=6;break e;default:throw Error(n(462))}}dB();break}catch(ce){RA(a,ce)}while(!0);return ws=Ko=null,q.H=f,q.A=y,dt=h,Ye!==null?0:(Dt=null,Xe=0,Hp(),jt)}function dB(){for(;Ye!==null&&!nc();)kA(Ye)}function kA(a){var l=sA(a.alternate,a,Rs);a.memoizedProps=a.pendingProps,l===null?Tm(a):Ye=l}function PA(a){var l=a,h=l.alternate;switch(l.tag){case 15:case 0:l=JD(h,l,l.pendingProps,l.type,void 0,Xe);break;case 11:l=JD(h,l,l.pendingProps,l.type.render,l.ref,Xe);break;case 5:L_(l);default:oA(h,l),l=Ye=Ox(l,Rs),l=sA(h,l,Rs)}a.memoizedProps=a.pendingProps,l===null?Tm(a):Ye=l}function Hc(a,l,h,f){ws=Ko=null,L_(l),Oc=null,nd=0;var y=l.return;try{if(tB(a,y,l,h,Xe)){jt=1,fm(a,Vi(h,a.current)),Ye=null;return}}catch(_){if(y!==null)throw Ye=y,_;jt=1,fm(a,Vi(h,a.current)),Ye=null;return}l.flags&32768?(at||f===1?a=!0:Fc||(Xe&536870912)!==0?a=!1:(_a=a=!0,(f===2||f===9||f===3||f===6)&&(f=Ui.current,f!==null&&f.tag===13&&(f.flags|=16384))),OA(l,a)):Tm(l)}function Tm(a){var l=a;do{if((l.flags&32768)!==0){OA(l,_a);return}a=l.return;var h=iB(l.alternate,l,Rs);if(h!==null){Ye=h;return}if(l=l.sibling,l!==null){Ye=l;return}Ye=l=a}while(l!==null);jt===0&&(jt=5)}function OA(a,l){do{var h=rB(a.alternate,a);if(h!==null){h.flags&=32767,Ye=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(a=a.sibling,a!==null)){Ye=a;return}Ye=a=h}while(a!==null);jt=6,Ye=null}function NA(a,l,h,f,y,_,D,C,H){a.cancelPendingCommit=null;do Sm();while(Pn!==0);if((dt&6)!==0)throw Error(n(327));if(l!==null){if(l===a.current)throw Error(n(177));if(_=l.lanes|l.childLanes,_|=d_,Th(a,h,_,D,C,H),a===Dt&&(Ye=Dt=null,Xe=0),Uc=l,Ta=a,jc=h,yb=_,vb=y,xA=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,gB(To,function(){return UA(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=q.T,q.T=null,y=G.p,G.p=2,D=dt,dt|=4;try{sB(a,l,h)}finally{dt=D,G.p=y,q.T=f}}Pn=1,VA(),LA(),FA()}}function VA(){if(Pn===1){Pn=0;var a=Ta,l=Uc,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=q.T,q.T=null;var f=G.p;G.p=2;var y=dt;dt|=4;try{vA(l,a);var _=Ob,D=Ex(a.containerInfo),C=_.focusedElem,H=_.selectionRange;if(D!==C&&C&&C.ownerDocument&&Sx(C.ownerDocument.documentElement,C)){if(H!==null&&o_(C)){var te=H.start,ce=H.end;if(ce===void 0&&(ce=te),"selectionStart"in C)C.selectionStart=te,C.selectionEnd=Math.min(ce,C.value.length);else{var fe=C.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Ne=C.textContent.length,Me=Math.min(H.start,Ne),Tt=H.end===void 0?Me:Math.min(H.end,Ne);!re.extend&&Me>Tt&&(D=Tt,Tt=Me,Me=D);var $=Tx(C,Me),Y=Tx(C,Tt);if($&&Y&&(re.rangeCount!==1||re.anchorNode!==$.node||re.anchorOffset!==$.offset||re.focusNode!==Y.node||re.focusOffset!==Y.offset)){var ee=fe.createRange();ee.setStart($.node,$.offset),re.removeAllRanges(),Me>Tt?(re.addRange(ee),re.extend(Y.node,Y.offset)):(ee.setEnd(Y.node,Y.offset),re.addRange(ee))}}}}for(fe=[],re=C;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<fe.length;C++){var ue=fe[C];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Nm=!!Pb,Ob=Pb=null}finally{dt=y,G.p=f,q.T=h}}a.current=l,Pn=2}}function LA(){if(Pn===2){Pn=0;var a=Ta,l=Uc,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=q.T,q.T=null;var f=G.p;G.p=2;var y=dt;dt|=4;try{pA(a,l.alternate,l)}finally{dt=y,G.p=f,q.T=h}}Pn=3}}function FA(){if(Pn===4||Pn===3){Pn=0,ta();var a=Ta,l=Uc,h=jc,f=xA;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Pn=5:(Pn=0,Uc=Ta=null,BA(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(wa=null),ac(h),l=l.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Bt,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=q.T,y=G.p,G.p=2,q.T=null;try{for(var _=a.onRecoverableError,D=0;D<f.length;D++){var C=f[D];_(C.value,{componentStack:C.stack})}}finally{q.T=l,G.p=y}}(jc&3)!==0&&Sm(),Mr(a),y=a.pendingLanes,(h&4194090)!==0&&(y&42)!==0?a===_b?hd++:(hd=0,_b=a):hd=0,dd(0)}}function BA(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Yh(l)))}function Sm(a){return VA(),LA(),FA(),UA()}function UA(){if(Pn!==5)return!1;var a=Ta,l=yb;yb=0;var h=ac(jc),f=q.T,y=G.p;try{G.p=32>h?32:h,q.T=null,h=vb,vb=null;var _=Ta,D=jc;if(Pn=0,Uc=Ta=null,jc=0,(dt&6)!==0)throw Error(n(331));var C=dt;if(dt|=4,SA(_.current),bA(_,_.current,D,h),dt=C,dd(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Bt,_)}catch{}return!0}finally{G.p=y,q.T=f,BA(a,l)}}function jA(a,l,h){l=Vi(h,l),l=X_(a.stateNode,l,2),a=da(a,l,2),a!==null&&(os(a,2),Mr(a))}function Et(a,l,h){if(a.tag===3)jA(a,a,h);else for(;l!==null;){if(l.tag===3){jA(l,a,h);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(wa===null||!wa.has(f))){a=Vi(h,a),h=YD(2),f=da(l,h,2),f!==null&&(WD(h,f,l,a),os(f,2),Mr(f));break}}l=l.return}}function Sb(a,l,h){var f=a.pingCache;if(f===null){f=a.pingCache=new lB;var y=new Set;f.set(l,y)}else y=f.get(l),y===void 0&&(y=new Set,f.set(l,y));y.has(h)||(fb=!0,y.add(h),a=fB.bind(null,a,l,h),l.then(a,a))}function fB(a,l,h){var f=a.pingCache;f!==null&&f.delete(l),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Dt===a&&(Xe&h)===h&&(jt===4||jt===3&&(Xe&62914560)===Xe&&300>ii()-gb?(dt&2)===0&&zc(a,0):pb|=h,Bc===Xe&&(Bc=0)),Mr(a)}function zA(a,l){l===0&&(l=wh()),a=Ec(a,l),a!==null&&(os(a,l),Mr(a))}function pB(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),zA(a,h)}function mB(a,l){var h=0;switch(a.tag){case 13:var f=a.stateNode,y=a.memoizedState;y!==null&&(h=y.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(l),zA(a,h)}function gB(a,l){return tn(a,l)}var Em=null,qc=null,Eb=!1,xm=!1,xb=!1,tl=0;function Mr(a){a!==qc&&a.next===null&&(qc===null?Em=qc=a:qc=qc.next=a),xm=!0,Eb||(Eb=!0,vB())}function dd(a,l){if(!xb&&xm){xb=!0;do for(var h=!1,f=Em;f!==null;){if(a!==0){var y=f.pendingLanes;if(y===0)var _=0;else{var D=f.suspendedLanes,C=f.pingedLanes;_=(1<<31-Fn(42|a)+1)-1,_&=y&~(D&~C),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(h=!0,WA(f,_))}else _=Xe,_=sc(f,f===Dt?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||Do(f,_)||(h=!0,WA(f,_));f=f.next}while(h);xb=!1}}function yB(){HA()}function HA(){xm=Eb=!1;var a=0;tl!==0&&(DB()&&(a=tl),tl=0);for(var l=ii(),h=null,f=Em;f!==null;){var y=f.next,_=qA(f,l);_===0?(f.next=null,h===null?Em=y:h.next=y,y===null&&(qc=h)):(h=f,(a!==0||(_&3)!==0)&&(xm=!0)),f=y}dd(a)}function qA(a,l){for(var h=a.suspendedLanes,f=a.pingedLanes,y=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var D=31-Fn(_),C=1<<D,H=y[D];H===-1?((C&h)===0||(C&f)!==0)&&(y[D]=_h(C,l)):H<=l&&(a.expiredLanes|=C),_&=~C}if(l=Dt,h=Xe,h=sc(a,a===l?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,h===0||a===l&&(ft===2||ft===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&bn(f),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||Do(a,h)){if(l=h&-h,l===a.callbackPriority)return l;switch(f!==null&&bn(f),ac(h)){case 2:case 8:h=ic;break;case 32:h=To;break;case 268435456:h=rc;break;default:h=To}return f=YA.bind(null,a),h=tn(h,f),a.callbackPriority=l,a.callbackNode=h,l}return f!==null&&f!==null&&bn(f),a.callbackPriority=2,a.callbackNode=null,2}function YA(a,l){if(Pn!==0&&Pn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(Sm()&&a.callbackNode!==h)return null;var f=Xe;return f=sc(a,a===Dt?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(AA(a,f,l),qA(a,ii()),a.callbackNode!=null&&a.callbackNode===h?YA.bind(null,a):null)}function WA(a,l){if(Sm())return null;AA(a,l,!0)}function vB(){IB(function(){(dt&6)!==0?tn(yh,yB):HA()})}function Db(){return tl===0&&(tl=bh()),tl}function GA(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:dc(""+a)}function KA(a,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,a.id&&h.setAttribute("form",a.id),l.parentNode.insertBefore(h,l),a=new FormData(a),h.parentNode.removeChild(h),a}function _B(a,l,h,f,y){if(l==="submit"&&h&&h.stateNode===y){var _=GA((y[nn]||null).action),D=f.submitter;D&&(l=(l=D[nn]||null)?GA(l.formAction):D.getAttribute("formAction"),l!==null&&(_=l,D=null));var C=new fc("action","action",null,f,y);a.push({event:C,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(tl!==0){var H=D?KA(y,D):new FormData(y);W_(h,{pending:!0,data:H,method:y.method,action:_},null,H)}}else typeof _=="function"&&(C.preventDefault(),H=D?KA(y,D):new FormData(y),W_(h,{pending:!0,data:H,method:y.method,action:_},_,H))},currentTarget:y}]})}}for(var Ab=0;Ab<h_.length;Ab++){var Ib=h_[Ab],bB=Ib.toLowerCase(),wB=Ib[0].toUpperCase()+Ib.slice(1);rr(bB,"on"+wB)}rr(Ax,"onAnimationEnd"),rr(Ix,"onAnimationIteration"),rr(Rx,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(F4,"onTransitionRun"),rr(B4,"onTransitionStart"),rr(U4,"onTransitionCancel"),rr(Cx,"onTransitionEnd"),cs("onMouseEnter",["mouseout","mouseover"]),cs("onMouseLeave",["mouseout","mouseover"]),cs("onPointerEnter",["pointerout","pointerover"]),cs("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fd));function $A(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var f=a[h],y=f.event;f=f.listeners;e:{var _=void 0;if(l)for(var D=f.length-1;0<=D;D--){var C=f[D],H=C.instance,te=C.currentTarget;if(C=C.listener,H!==_&&y.isPropagationStopped())break e;_=C,y.currentTarget=te;try{_(y)}catch(ce){dm(ce)}y.currentTarget=null,_=H}else for(D=0;D<f.length;D++){if(C=f[D],H=C.instance,te=C.currentTarget,C=C.listener,H!==_&&y.isPropagationStopped())break e;_=C,y.currentTarget=te;try{_(y)}catch(ce){dm(ce)}y.currentTarget=null,_=H}}}}function We(a,l){var h=l[Eh];h===void 0&&(h=l[Eh]=new Set);var f=a+"__bubble";h.has(f)||(QA(l,a,2,!1),h.add(f))}function Rb(a,l,h){var f=0;l&&(f|=4),QA(h,a,f,l)}var Dm="_reactListening"+Math.random().toString(36).slice(2);function Cb(a){if(!a[Dm]){a[Dm]=!0,xh.forEach(function(h){h!=="selectionchange"&&(TB.has(h)||Rb(h,!1,a),Rb(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Dm]||(l[Dm]=!0,Rb("selectionchange",!1,l))}}function QA(a,l,h,f){switch(b1(l)){case 2:var y=$B;break;case 8:y=QB;break;default:y=qb}h=y.bind(null,l,h,a),y=void 0,!Oi||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),f?y!==void 0?a.addEventListener(l,h,{capture:!0,passive:y}):a.addEventListener(l,h,!0):y!==void 0?a.addEventListener(l,h,{passive:y}):a.addEventListener(l,h,!1)}function Mb(a,l,h,f,y){var _=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var D=f.tag;if(D===3||D===4){var C=f.stateNode.containerInfo;if(C===y)break;if(D===4)for(D=f.return;D!==null;){var H=D.tag;if((H===3||H===4)&&D.stateNode.containerInfo===y)return;D=D.return}for(;C!==null;){if(D=ls(C),D===null)return;if(H=D.tag,H===5||H===6||H===26||H===27){f=_=D;continue e}C=C.parentNode}}f=f.return}Ip(function(){var te=_,ce=Pi(h),fe=[];e:{var ne=Mx.get(a);if(ne!==void 0){var re=fc,Ne=a;switch(a){case"keypress":if(Tr(h)===0)break e;case"keydown":case"keyup":re=_c;break;case"focusin":Ne="focus",re=gc;break;case"focusout":Ne="blur",re=gc;break;case"beforeblur":case"afterblur":re=gc;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Ni;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=i_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Vp;break;case Ax:case Ix:case Rx:re=yc;break;case Cx:re=Fp;break;case"scroll":case"scrollend":re=Rp;break;case"wheel":re=bc;break;case"copy":case"cut":case"paste":re=vc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Lh;break;case"toggle":case"beforetoggle":re=Up}var Me=(l&4)!==0,Tt=!Me&&(a==="scroll"||a==="scrollend"),$=Me?ne!==null?ne+"Capture":null:ne;Me=[];for(var Y=te,ee;Y!==null;){var ue=Y;if(ee=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||ee===null||$===null||(ue=Oo(Y,$),ue!=null&&Me.push(pd(Y,ue,ee))),Tt)break;Y=Y.return}0<Me.length&&(ne=new re(ne,Ne,null,h,ce),fe.push({event:ne,listeners:Me}))}}if((l&7)===0){e:{if(ne=a==="mouseover"||a==="pointerover",re=a==="mouseout"||a==="pointerout",ne&&h!==ds&&(Ne=h.relatedTarget||h.fromElement)&&(ls(Ne)||Ne[Mi]))break e;if((re||ne)&&(ne=ce.window===ce?ce:(ne=ce.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Ne=h.relatedTarget||h.toElement,re=te,Ne=Ne?ls(Ne):null,Ne!==null&&(Tt=s(Ne),Me=Ne.tag,Ne!==Tt||Me!==5&&Me!==27&&Me!==6)&&(Ne=null)):(re=null,Ne=te),re!==Ne)){if(Me=Ni,ue="onMouseLeave",$="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Me=Lh,ue="onPointerLeave",$="onPointerEnter",Y="pointer"),Tt=re==null?ne:vr(re),ee=Ne==null?ne:vr(Ne),ne=new Me(ue,Y+"leave",re,h,ce),ne.target=Tt,ne.relatedTarget=ee,ue=null,ls(ce)===te&&(Me=new Me($,Y+"enter",Ne,h,ce),Me.target=ee,Me.relatedTarget=Tt,ue=Me),Tt=ue,re&&Ne)t:{for(Me=re,$=Ne,Y=0,ee=Me;ee;ee=Yc(ee))Y++;for(ee=0,ue=$;ue;ue=Yc(ue))ee++;for(;0<Y-ee;)Me=Yc(Me),Y--;for(;0<ee-Y;)$=Yc($),ee--;for(;Y--;){if(Me===$||$!==null&&Me===$.alternate)break t;Me=Yc(Me),$=Yc($)}Me=null}else Me=null;re!==null&&XA(fe,ne,re,Me,!1),Ne!==null&&Tt!==null&&XA(fe,Tt,Ne,Me,!0)}}e:{if(ne=te?vr(te):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Ee=gx;else if(pn(ne))if(yx)Ee=N4;else{Ee=P4;var qe=k4}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&Ch(te.elementType)&&(Ee=gx):Ee=O4;if(Ee&&(Ee=Ee(a,te))){ys(fe,Ee,h,ce);break e}qe&&qe(a,ne,te),a==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&oa(ne,"number",ne.value)}switch(qe=te?vr(te):window,a){case"focusin":(pn(qe)||qe.contentEditable==="true")&&(wc=qe,l_=te,Uh=null);break;case"focusout":Uh=l_=wc=null;break;case"mousedown":c_=!0;break;case"contextmenu":case"mouseup":case"dragend":c_=!1,xx(fe,h,ce);break;case"selectionchange":if(L4)break;case"keydown":case"keyup":xx(fe,h,ce)}var Re;if(xr)e:{switch(a){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else $e?se(a,h)&&(Pe="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Pe="onCompositionStart");Pe&&(x&&h.locale!=="ko"&&($e||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&$e&&(Re=kh()):(wr=ce,la="value"in wr?wr.value:wr.textContent,$e=!0)),qe=Am(te,Pe),0<qe.length&&(Pe=new Nh(Pe,a,null,h,ce),fe.push({event:Pe,listeners:qe}),Re?Pe.data=Re:(Re=ve(h),Re!==null&&(Pe.data=Re)))),(Re=w?fn(a,h):Qe(a,h))&&(Pe=Am(te,"onBeforeInput"),0<Pe.length&&(qe=new Nh("onBeforeInput","beforeinput",null,h,ce),fe.push({event:qe,listeners:Pe}),qe.data=Re)),_B(fe,a,te,h,ce)}$A(fe,l)})}function pd(a,l,h){return{instance:a,listener:l,currentTarget:h}}function Am(a,l){for(var h=l+"Capture",f=[];a!==null;){var y=a,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=Oo(a,h),y!=null&&f.unshift(pd(a,y,_)),y=Oo(a,l),y!=null&&f.push(pd(a,y,_))),a.tag===3)return f;a=a.return}return[]}function Yc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function XA(a,l,h,f,y){for(var _=l._reactName,D=[];h!==null&&h!==f;){var C=h,H=C.alternate,te=C.stateNode;if(C=C.tag,H!==null&&H===f)break;C!==5&&C!==26&&C!==27||te===null||(H=te,y?(te=Oo(h,_),te!=null&&D.unshift(pd(h,te,H))):y||(te=Oo(h,_),te!=null&&D.push(pd(h,te,H)))),h=h.return}D.length!==0&&a.push({event:l,listeners:D})}var SB=/\r\n?/g,EB=/\u0000|\uFFFD/g;function ZA(a){return(typeof a=="string"?a:""+a).replace(SB,`
`).replace(EB,"")}function JA(a,l){return l=ZA(l),ZA(a)===l}function Im(){}function wt(a,l,h,f,y,_){switch(h){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||ki(a,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&ki(a,""+f);break;case"className":_r(a,"class",f);break;case"tabIndex":_r(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(a,h,f);break;case"style":Rh(a,f,_);break;case"data":if(l!=="object"){_r(a,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||h!=="href")){a.removeAttribute(h);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(h);break}f=dc(""+f),a.setAttribute(h,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(h==="formAction"?(l!=="input"&&wt(a,l,"name",y.name,y,null),wt(a,l,"formEncType",y.formEncType,y,null),wt(a,l,"formMethod",y.formMethod,y,null),wt(a,l,"formTarget",y.formTarget,y,null)):(wt(a,l,"encType",y.encType,y,null),wt(a,l,"method",y.method,y,null),wt(a,l,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(h);break}f=dc(""+f),a.setAttribute(h,f);break;case"onClick":f!=null&&(a.onclick=Im);break;case"onScroll":f!=null&&We("scroll",a);break;case"onScrollEnd":f!=null&&We("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(h=f.__html,h!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}h=dc(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(h,""+f):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":f===!0?a.setAttribute(h,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(h,f):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(h,f):a.removeAttribute(h);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(h):a.setAttribute(h,f);break;case"popover":We("beforetoggle",a),We("toggle",a),aa(a,"popover",f);break;case"xlinkActuate":Cn(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Cn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Cn(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Cn(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Cn(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Cn(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Cn(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Cn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Cn(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":aa(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=t_.get(h)||h,aa(a,h,f))}}function kb(a,l,h,f,y,_){switch(h){case"style":Rh(a,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(h=f.__html,h!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"children":typeof f=="string"?ki(a,f):(typeof f=="number"||typeof f=="bigint")&&ki(a,""+f);break;case"onScroll":f!=null&&We("scroll",a);break;case"onScrollEnd":f!=null&&We("scrollend",a);break;case"onClick":f!=null&&(a.onclick=Im);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oc.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(y=h.endsWith("Capture"),l=h.slice(2,y?h.length-7:void 0),_=a[nn]||null,_=_!=null?_[h]:null,typeof _=="function"&&a.removeEventListener(l,_,y),typeof f=="function")){typeof _!="function"&&_!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(l,f,y);break e}h in a?a[h]=f:f===!0?a.setAttribute(h,""):aa(a,h,f)}}}function On(a,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",a),We("load",a);var f=!1,y=!1,_;for(_ in h)if(h.hasOwnProperty(_)){var D=h[_];if(D!=null)switch(_){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:wt(a,l,_,D,h,null)}}y&&wt(a,l,"srcSet",h.srcSet,h,null),f&&wt(a,l,"src",h.src,h,null);return;case"input":We("invalid",a);var C=_=D=y=null,H=null,te=null;for(f in h)if(h.hasOwnProperty(f)){var ce=h[f];if(ce!=null)switch(f){case"name":y=ce;break;case"type":D=ce;break;case"checked":H=ce;break;case"defaultChecked":te=ce;break;case"value":_=ce;break;case"defaultValue":C=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(137,l));break;default:wt(a,l,f,ce,h,null)}}Mo(a,_,C,H,te,D,y,!1),hc(a);return;case"select":We("invalid",a),f=D=_=null;for(y in h)if(h.hasOwnProperty(y)&&(C=h[y],C!=null))switch(y){case"value":_=C;break;case"defaultValue":D=C;break;case"multiple":f=C;default:wt(a,l,y,C,h,null)}l=_,h=D,a.multiple=!!f,l!=null?hs(a,!!f,l,!1):h!=null&&hs(a,!!f,h,!0);return;case"textarea":We("invalid",a),_=y=f=null;for(D in h)if(h.hasOwnProperty(D)&&(C=h[D],C!=null))switch(D){case"value":f=C;break;case"defaultValue":y=C;break;case"children":_=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(91));break;default:wt(a,l,D,C,h,null)}ko(a,f,y,_),hc(a);return;case"option":for(H in h)if(h.hasOwnProperty(H)&&(f=h[H],f!=null))switch(H){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:wt(a,l,H,f,h,null)}return;case"dialog":We("beforetoggle",a),We("toggle",a),We("cancel",a),We("close",a);break;case"iframe":case"object":We("load",a);break;case"video":case"audio":for(f=0;f<fd.length;f++)We(fd[f],a);break;case"image":We("error",a),We("load",a);break;case"details":We("toggle",a);break;case"embed":case"source":case"link":We("error",a),We("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in h)if(h.hasOwnProperty(te)&&(f=h[te],f!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:wt(a,l,te,f,h,null)}return;default:if(Ch(l)){for(ce in h)h.hasOwnProperty(ce)&&(f=h[ce],f!==void 0&&kb(a,l,ce,f,h,void 0));return}}for(C in h)h.hasOwnProperty(C)&&(f=h[C],f!=null&&wt(a,l,C,f,h,null))}function xB(a,l,h,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,D=null,C=null,H=null,te=null,ce=null;for(re in h){var fe=h[re];if(h.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=fe;default:f.hasOwnProperty(re)||wt(a,l,re,null,f,fe)}}for(var ne in f){var re=f[ne];if(fe=h[ne],f.hasOwnProperty(ne)&&(re!=null||fe!=null))switch(ne){case"type":_=re;break;case"name":y=re;break;case"checked":te=re;break;case"defaultChecked":ce=re;break;case"value":D=re;break;case"defaultValue":C=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,l));break;default:re!==fe&&wt(a,l,ne,re,f,fe)}}gi(a,D,C,H,te,ce,_,y);return;case"select":re=D=C=ne=null;for(_ in h)if(H=h[_],h.hasOwnProperty(_)&&H!=null)switch(_){case"value":break;case"multiple":re=H;default:f.hasOwnProperty(_)||wt(a,l,_,null,f,H)}for(y in f)if(_=f[y],H=h[y],f.hasOwnProperty(y)&&(_!=null||H!=null))switch(y){case"value":ne=_;break;case"defaultValue":C=_;break;case"multiple":D=_;default:_!==H&&wt(a,l,y,_,f,H)}l=C,h=D,f=re,ne!=null?hs(a,!!h,ne,!1):!!f!=!!h&&(l!=null?hs(a,!!h,l,!0):hs(a,!!h,h?[]:"",!1));return;case"textarea":re=ne=null;for(C in h)if(y=h[C],h.hasOwnProperty(C)&&y!=null&&!f.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:wt(a,l,C,null,f,y)}for(D in f)if(y=f[D],_=h[D],f.hasOwnProperty(D)&&(y!=null||_!=null))switch(D){case"value":ne=y;break;case"defaultValue":re=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==_&&wt(a,l,D,y,f,_)}_t(a,ne,re);return;case"option":for(var Ne in h)if(ne=h[Ne],h.hasOwnProperty(Ne)&&ne!=null&&!f.hasOwnProperty(Ne))switch(Ne){case"selected":a.selected=!1;break;default:wt(a,l,Ne,null,f,ne)}for(H in f)if(ne=f[H],re=h[H],f.hasOwnProperty(H)&&ne!==re&&(ne!=null||re!=null))switch(H){case"selected":a.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:wt(a,l,H,ne,f,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in h)ne=h[Me],h.hasOwnProperty(Me)&&ne!=null&&!f.hasOwnProperty(Me)&&wt(a,l,Me,null,f,ne);for(te in f)if(ne=f[te],re=h[te],f.hasOwnProperty(te)&&ne!==re&&(ne!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,l));break;default:wt(a,l,te,ne,f,re)}return;default:if(Ch(l)){for(var Tt in h)ne=h[Tt],h.hasOwnProperty(Tt)&&ne!==void 0&&!f.hasOwnProperty(Tt)&&kb(a,l,Tt,void 0,f,ne);for(ce in f)ne=f[ce],re=h[ce],!f.hasOwnProperty(ce)||ne===re||ne===void 0&&re===void 0||kb(a,l,ce,ne,f,re);return}}for(var $ in h)ne=h[$],h.hasOwnProperty($)&&ne!=null&&!f.hasOwnProperty($)&&wt(a,l,$,null,f,ne);for(fe in f)ne=f[fe],re=h[fe],!f.hasOwnProperty(fe)||ne===re||ne==null&&re==null||wt(a,l,fe,ne,f,re)}var Pb=null,Ob=null;function Rm(a){return a.nodeType===9?a:a.ownerDocument}function e1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t1(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Nb(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Vb=null;function DB(){var a=window.event;return a&&a.type==="popstate"?a===Vb?!1:(Vb=a,!0):(Vb=null,!1)}var n1=typeof setTimeout=="function"?setTimeout:void 0,AB=typeof clearTimeout=="function"?clearTimeout:void 0,i1=typeof Promise=="function"?Promise:void 0,IB=typeof queueMicrotask=="function"?queueMicrotask:typeof i1<"u"?function(a){return i1.resolve(null).then(a).catch(RB)}:n1;function RB(a){setTimeout(function(){throw a})}function Ea(a){return a==="head"}function r1(a,l){var h=l,f=0,y=0;do{var _=h.nextSibling;if(a.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(0<f&&8>f){h=f;var D=a.ownerDocument;if(h&1&&md(D.documentElement),h&2&&md(D.body),h&4)for(h=D.head,md(h),D=h.firstChild;D;){var C=D.nextSibling,H=D.nodeName;D[Ao]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&D.rel.toLowerCase()==="stylesheet"||h.removeChild(D),D=C}}if(y===0){a.removeChild(_),Sd(l);return}y--}else h==="$"||h==="$?"||h==="$!"?y++:f=h.charCodeAt(0)-48;else f=0;h=_}while(h);Sd(l)}function Lb(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Lb(h),sa(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function CB(a,l,h,f){for(;a.nodeType===1;){var y=h;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Ao])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=ar(a.nextSibling),a===null)break}return null}function MB(a,l,h){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=ar(a.nextSibling),a===null))return null;return a}function Fb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function kB(a,l){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")l();else{var f=function(){l(),h.removeEventListener("DOMContentLoaded",f)};h.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function ar(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var Bb=null;function s1(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}function a1(a,l,h){switch(l=Rm(h),a){case"html":if(a=l.documentElement,!a)throw Error(n(452));return a;case"head":if(a=l.head,!a)throw Error(n(453));return a;case"body":if(a=l.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function md(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);sa(a)}var zi=new Map,o1=new Set;function Cm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Cs=G.d;G.d={f:PB,r:OB,D:NB,C:VB,L:LB,m:FB,X:UB,S:BB,M:jB};function PB(){var a=Cs.f(),l=wm();return a||l}function OB(a){var l=yr(a);l!==null&&l.tag===5&&l.type==="form"?AD(l):Cs.r(a)}var Wc=typeof document>"u"?null:document;function l1(a,l,h){var f=Wc;if(f&&typeof l=="string"&&l){var y=rn(l);y='link[rel="'+a+'"][href="'+y+'"]',typeof h=="string"&&(y+='[crossorigin="'+h+'"]'),o1.has(y)||(o1.add(y),a={rel:a,crossOrigin:h,href:l},f.querySelector(y)===null&&(l=f.createElement("link"),On(l,"link",a),Yt(l),f.head.appendChild(l)))}}function NB(a){Cs.D(a),l1("dns-prefetch",a,null)}function VB(a,l){Cs.C(a,l),l1("preconnect",a,l)}function LB(a,l,h){Cs.L(a,l,h);var f=Wc;if(f&&a&&l){var y='link[rel="preload"][as="'+rn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(y+='[imagesrcset="'+rn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(y+='[imagesizes="'+rn(h.imageSizes)+'"]')):y+='[href="'+rn(a)+'"]';var _=y;switch(l){case"style":_=Gc(a);break;case"script":_=Kc(a)}zi.has(_)||(a=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:a,as:l},h),zi.set(_,a),f.querySelector(y)!==null||l==="style"&&f.querySelector(gd(_))||l==="script"&&f.querySelector(yd(_))||(l=f.createElement("link"),On(l,"link",a),Yt(l),f.head.appendChild(l)))}}function FB(a,l){Cs.m(a,l);var h=Wc;if(h&&a){var f=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+rn(f)+'"][href="'+rn(a)+'"]',_=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Kc(a)}if(!zi.has(_)&&(a=p({rel:"modulepreload",href:a},l),zi.set(_,a),h.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(yd(_)))return}f=h.createElement("link"),On(f,"link",a),Yt(f),h.head.appendChild(f)}}}function BB(a,l,h){Cs.S(a,l,h);var f=Wc;if(f&&a){var y=$n(f).hoistableStyles,_=Gc(a);l=l||"default";var D=y.get(_);if(!D){var C={loading:0,preload:null};if(D=f.querySelector(gd(_)))C.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},h),(h=zi.get(_))&&Ub(a,h);var H=D=f.createElement("link");Yt(H),On(H,"link",a),H._p=new Promise(function(te,ce){H.onload=te,H.onerror=ce}),H.addEventListener("load",function(){C.loading|=1}),H.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Mm(D,l,f)}D={type:"stylesheet",instance:D,count:1,state:C},y.set(_,D)}}}function UB(a,l){Cs.X(a,l);var h=Wc;if(h&&a){var f=$n(h).hoistableScripts,y=Kc(a),_=f.get(y);_||(_=h.querySelector(yd(y)),_||(a=p({src:a,async:!0},l),(l=zi.get(y))&&jb(a,l),_=h.createElement("script"),Yt(_),On(_,"link",a),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(y,_))}}function jB(a,l){Cs.M(a,l);var h=Wc;if(h&&a){var f=$n(h).hoistableScripts,y=Kc(a),_=f.get(y);_||(_=h.querySelector(yd(y)),_||(a=p({src:a,async:!0,type:"module"},l),(l=zi.get(y))&&jb(a,l),_=h.createElement("script"),Yt(_),On(_,"link",a),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(y,_))}}function c1(a,l,h,f){var y=(y=Te.current)?Cm(y):null;if(!y)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Gc(h.href),h=$n(y).hoistableStyles,f=h.get(l),f||(f={type:"style",instance:null,count:0,state:null},h.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Gc(h.href);var _=$n(y).hoistableStyles,D=_.get(a);if(D||(y=y.ownerDocument||y,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,D),(_=y.querySelector(gd(a)))&&!_._p&&(D.instance=_,D.state.loading=5),zi.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},zi.set(a,h),_||zB(y,a,h,D.state))),l&&f===null)throw Error(n(528,""));return D}if(l&&f!==null)throw Error(n(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Kc(h),h=$n(y).hoistableScripts,f=h.get(l),f||(f={type:"script",instance:null,count:0,state:null},h.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Gc(a){return'href="'+rn(a)+'"'}function gd(a){return'link[rel="stylesheet"]['+a+"]"}function u1(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function zB(a,l,h,f){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=a.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),On(l,"link",h),Yt(l),a.head.appendChild(l))}function Kc(a){return'[src="'+rn(a)+'"]'}function yd(a){return"script[async]"+a}function h1(a,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var f=a.querySelector('style[data-href~="'+rn(h.href)+'"]');if(f)return l.instance=f,Yt(f),f;var y=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),Yt(f),On(f,"style",y),Mm(f,h.precedence,a),l.instance=f;case"stylesheet":y=Gc(h.href);var _=a.querySelector(gd(y));if(_)return l.state.loading|=4,l.instance=_,Yt(_),_;f=u1(h),(y=zi.get(y))&&Ub(f,y),_=(a.ownerDocument||a).createElement("link"),Yt(_);var D=_;return D._p=new Promise(function(C,H){D.onload=C,D.onerror=H}),On(_,"link",f),l.state.loading|=4,Mm(_,h.precedence,a),l.instance=_;case"script":return _=Kc(h.src),(y=a.querySelector(yd(_)))?(l.instance=y,Yt(y),y):(f=h,(y=zi.get(_))&&(f=p({},h),jb(f,y)),a=a.ownerDocument||a,y=a.createElement("script"),Yt(y),On(y,"link",f),a.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,Mm(f,h.precedence,a));return l.instance}function Mm(a,l,h){for(var f=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,_=y,D=0;D<f.length;D++){var C=f[D];if(C.dataset.precedence===l)_=C;else if(_!==y)break}_?_.parentNode.insertBefore(a,_.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(a,l.firstChild))}function Ub(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function jb(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var km=null;function d1(a,l,h){if(km===null){var f=new Map,y=km=new Map;y.set(h,f)}else y=km,f=y.get(h),f||(f=new Map,y.set(h,f));if(f.has(a))return f;for(f.set(a,null),h=h.getElementsByTagName(a),y=0;y<h.length;y++){var _=h[y];if(!(_[Ao]||_[dn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var D=_.getAttribute(l)||"";D=a+D;var C=f.get(D);C?C.push(_):f.set(D,[_])}}return f}function f1(a,l,h){a=a.ownerDocument||a,a.head.insertBefore(h,l==="title"?a.querySelector("head > title"):null)}function HB(a,l,h){if(h===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function p1(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var vd=null;function qB(){}function YB(a,l,h){if(vd===null)throw Error(n(475));var f=vd;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Gc(h.href),_=a.querySelector(gd(y));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=Pm.bind(f),a.then(f,f)),l.state.loading|=4,l.instance=_,Yt(_);return}_=a.ownerDocument||a,h=u1(h),(y=zi.get(y))&&Ub(h,y),_=_.createElement("link"),Yt(_);var D=_;D._p=new Promise(function(C,H){D.onload=C,D.onerror=H}),On(_,"link",h),l.instance=_}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(f.count++,l=Pm.bind(f),a.addEventListener("load",l),a.addEventListener("error",l))}}function WB(){if(vd===null)throw Error(n(475));var a=vd;return a.stylesheets&&a.count===0&&zb(a,a.stylesheets),0<a.count?function(l){var h=setTimeout(function(){if(a.stylesheets&&zb(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(h)}}:null}function Pm(){if(this.count--,this.count===0){if(this.stylesheets)zb(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Om=null;function zb(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Om=new Map,l.forEach(GB,a),Om=null,Pm.call(a))}function GB(a,l){if(!(l.state.loading&4)){var h=Om.get(a);if(h)var f=h.get(null);else{h=new Map,Om.set(a,h);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var D=y[_];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(h.set(D.dataset.precedence,D),f=D)}f&&h.set(null,f)}y=l.instance,D=y.getAttribute("data-precedence"),_=h.get(D)||f,_===f&&h.set(null,y),h.set(D,y),this.count++,f=Pm.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),_?_.parentNode.insertBefore(y,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),l.state.loading|=4}}var _d={$$typeof:O,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function KB(a,l,h,f,y,_,D,C){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=as(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.hiddenUpdates=as(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function m1(a,l,h,f,y,_,D,C,H,te,ce,fe){return a=new KB(a,l,h,D,C,H,te,fe),l=1,_===!0&&(l|=24),_=vi(3,null,null,l),a.current=_,_.stateNode=a,l=S_(),l.refCount++,a.pooledCache=l,l.refCount++,_.memoizedState={element:f,isDehydrated:h,cache:l},A_(_),a}function g1(a){return a?(a=xc,a):xc}function y1(a,l,h,f,y,_){y=g1(y),f.context===null?f.context=y:f.pendingContext=y,f=ha(l),f.payload={element:h},_=_===void 0?null:_,_!==null&&(f.callback=_),h=da(a,f,l),h!==null&&(Si(h,a,l),$h(h,a,l))}function v1(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function Hb(a,l){v1(a,l),(a=a.alternate)&&v1(a,l)}function _1(a){if(a.tag===13){var l=Ec(a,67108864);l!==null&&Si(l,a,67108864),Hb(a,67108864)}}var Nm=!0;function $B(a,l,h,f){var y=q.T;q.T=null;var _=G.p;try{G.p=2,qb(a,l,h,f)}finally{G.p=_,q.T=y}}function QB(a,l,h,f){var y=q.T;q.T=null;var _=G.p;try{G.p=8,qb(a,l,h,f)}finally{G.p=_,q.T=y}}function qb(a,l,h,f){if(Nm){var y=Yb(f);if(y===null)Mb(a,l,f,Vm,h),w1(a,f);else if(ZB(y,a,l,h,f))f.stopPropagation();else if(w1(a,f),l&4&&-1<XB.indexOf(a)){for(;y!==null;){var _=yr(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var D=tr(_.pendingLanes);if(D!==0){var C=_;for(C.pendingLanes|=2,C.entangledLanes|=2;D;){var H=1<<31-Fn(D);C.entanglements[1]|=H,D&=~H}Mr(_),(dt&6)===0&&(_m=ii()+500,dd(0))}}break;case 13:C=Ec(_,2),C!==null&&Si(C,_,2),wm(),Hb(_,2)}if(_=Yb(f),_===null&&Mb(a,l,f,Vm,h),_===y)break;y=_}y!==null&&f.stopPropagation()}else Mb(a,l,f,null,h)}}function Yb(a){return a=Pi(a),Wb(a)}var Vm=null;function Wb(a){if(Vm=null,a=ls(a),a!==null){var l=s(a);if(l===null)a=null;else{var h=l.tag;if(h===13){if(a=o(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Vm=a,null}function b1(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($v()){case yh:return 2;case ic:return 8;case To:case Qv:return 32;case rc:return 268435456;default:return 32}default:return 32}}var Gb=!1,xa=null,Da=null,Aa=null,bd=new Map,wd=new Map,Ia=[],XB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w1(a,l){switch(a){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":bd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":wd.delete(l.pointerId)}}function Td(a,l,h,f,y,_){return a===null||a.nativeEvent!==_?(a={blockedOn:l,domEventName:h,eventSystemFlags:f,nativeEvent:_,targetContainers:[y]},l!==null&&(l=yr(l),l!==null&&_1(l)),a):(a.eventSystemFlags|=f,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function ZB(a,l,h,f,y){switch(l){case"focusin":return xa=Td(xa,a,l,h,f,y),!0;case"dragenter":return Da=Td(Da,a,l,h,f,y),!0;case"mouseover":return Aa=Td(Aa,a,l,h,f,y),!0;case"pointerover":var _=y.pointerId;return bd.set(_,Td(bd.get(_)||null,a,l,h,f,y)),!0;case"gotpointercapture":return _=y.pointerId,wd.set(_,Td(wd.get(_)||null,a,l,h,f,y)),!0}return!1}function T1(a){var l=ls(a.target);if(l!==null){var h=s(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){a.blockedOn=l,wp(a.priority,function(){if(h.tag===13){var f=Ti();f=na(f);var y=Ec(h,f);y!==null&&Si(y,h,f),Hb(h,f)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Lm(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=Yb(a.nativeEvent);if(h===null){h=a.nativeEvent;var f=new h.constructor(h.type,h);ds=f,h.target.dispatchEvent(f),ds=null}else return l=yr(h),l!==null&&_1(l),a.blockedOn=h,!1;l.shift()}return!0}function S1(a,l,h){Lm(a)&&h.delete(l)}function JB(){Gb=!1,xa!==null&&Lm(xa)&&(xa=null),Da!==null&&Lm(Da)&&(Da=null),Aa!==null&&Lm(Aa)&&(Aa=null),bd.forEach(S1),wd.forEach(S1)}function Fm(a,l){a.blockedOn===l&&(a.blockedOn=null,Gb||(Gb=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,JB)))}var Bm=null;function E1(a){Bm!==a&&(Bm=a,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Bm===a&&(Bm=null);for(var l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],y=a[l+2];if(typeof f!="function"){if(Wb(f||h)===null)continue;break}var _=yr(h);_!==null&&(a.splice(l,3),l-=3,W_(_,{pending:!0,data:y,method:h.method,action:f},f,y))}}))}function Sd(a){function l(H){return Fm(H,a)}xa!==null&&Fm(xa,a),Da!==null&&Fm(Da,a),Aa!==null&&Fm(Aa,a),bd.forEach(l),wd.forEach(l);for(var h=0;h<Ia.length;h++){var f=Ia[h];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Ia.length&&(h=Ia[0],h.blockedOn===null);)T1(h),h.blockedOn===null&&Ia.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(f=0;f<h.length;f+=3){var y=h[f],_=h[f+1],D=y[nn]||null;if(typeof _=="function")D||E1(h);else if(D){var C=null;if(_&&_.hasAttribute("formAction")){if(y=_,D=_[nn]||null)C=D.formAction;else if(Wb(y)!==null)continue}else C=D.action;typeof C=="function"?h[f+1]=C:(h.splice(f,3),f-=3),E1(h)}}}function Kb(a){this._internalRoot=a}Um.prototype.render=Kb.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));var h=l.current,f=Ti();y1(h,f,a,l,null,null)},Um.prototype.unmount=Kb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;y1(a.current,2,null,a,null,null),wm(),l[Mi]=null}};function Um(a){this._internalRoot=a}Um.prototype.unstable_scheduleHydration=function(a){if(a){var l=ia();a={blockedOn:null,target:a,priority:l};for(var h=0;h<Ia.length&&l!==0&&l<Ia[h].priority;h++);Ia.splice(h,0,a),h===0&&T1(a)}};var x1=e.version;if(x1!=="19.1.0")throw Error(n(527,x1,"19.1.0"));G.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=u(l),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var e3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jm.isDisabled&&jm.supportsFiber)try{Bt=jm.inject(e3),ht=jm}catch{}}return xd.createRoot=function(a,l){if(!r(a))throw Error(n(299));var h=!1,f="",y=jD,_=zD,D=HD,C=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(C=l.unstable_transitionCallbacks)),l=m1(a,1,!1,null,null,h,f,y,_,D,C,null),a[Mi]=l.current,Cb(a),new Kb(l)},xd.hydrateRoot=function(a,l,h){if(!r(a))throw Error(n(299));var f=!1,y="",_=jD,D=zD,C=HD,H=null,te=null;return h!=null&&(h.unstable_strictMode===!0&&(f=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(C=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(H=h.unstable_transitionCallbacks),h.formState!==void 0&&(te=h.formState)),l=m1(a,1,!0,l,h??null,f,y,_,D,C,H,te),l.context=g1(null),h=l.current,f=Ti(),f=na(f),y=ha(f),y.callback=null,da(h,y,f),h=f,l.current.lanes=h,os(l,h),Mr(l),a[Mi]=l.current,Cb(a),new Um(l)},xd.version="19.1.0",xd}var N1;function d3(){if(N1)return Xb.exports;N1=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xb.exports=h3(),Xb.exports}var f3=d3();function p3({onAddClick:i,onLogout:e,onTabChange:t,currentTab:n}){return j.jsxs("nav",{className:"navbar",children:[j.jsx("button",{onClick:()=>t("dashboard"),title:"Dashboard",className:n==="dashboard"?"text-warning":"text-info",children:j.jsx("i",{className:"bi bi-house-fill"})}),j.jsx("button",{onClick:()=>t("history"),title:"History",children:j.jsx("i",{className:`bi bi-clock-history ${n==="history"?"text-warning":"text-info"}`})}),j.jsx("button",{onClick:i,title:"Add Meal",children:j.jsx("i",{className:`bi bi-plus-circle-fill ${n==="addmead"?"text-warning":"text-info"}`})}),j.jsx("button",{title:"Suggestions",onClick:()=>t("suggestions"),children:j.jsx("i",{className:`bi bi-lightbulb-fill	 ${n==="suggestions"?"text-warning":"text-info"}`})}),j.jsx("button",{onClick:()=>t("profile"),title:"Profile",children:j.jsx("i",{className:`bi bi-person-circle ${n==="profile"?"text-warning":"text-info"}`})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Zf(i){return i+.5|0}const za=(i,e,t)=>Math.max(Math.min(i,t),e);function zd(i){return za(Zf(i*2.55),0,255)}function Ga(i){return za(Zf(i*255),0,255)}function Os(i){return za(Zf(i/2.55)/100,0,1)}function V1(i){return za(Zf(i*100),0,100)}const Hi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xw=[..."0123456789ABCDEF"],m3=i=>xw[i&15],g3=i=>xw[(i&240)>>4]+xw[i&15],zm=i=>(i&240)>>4===(i&15),y3=i=>zm(i.r)&&zm(i.g)&&zm(i.b)&&zm(i.a);function v3(i){var e=i.length,t;return i[0]==="#"&&(e===4||e===5?t={r:255&Hi[i[1]]*17,g:255&Hi[i[2]]*17,b:255&Hi[i[3]]*17,a:e===5?Hi[i[4]]*17:255}:(e===7||e===9)&&(t={r:Hi[i[1]]<<4|Hi[i[2]],g:Hi[i[3]]<<4|Hi[i[4]],b:Hi[i[5]]<<4|Hi[i[6]],a:e===9?Hi[i[7]]<<4|Hi[i[8]]:255})),t}const _3=(i,e)=>i<255?e(i):"";function b3(i){var e=y3(i)?m3:g3;return i?"#"+e(i.r)+e(i.g)+e(i.b)+_3(i.a,e):void 0}const w3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xP(i,e,t){const n=e*Math.min(t,1-t),r=(s,o=(s+i/30)%12)=>t-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function T3(i,e,t){const n=(r,s=(r+i/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function S3(i,e,t){const n=xP(i,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)n[r]*=1-e-t,n[r]+=e;return n}function E3(i,e,t,n,r){return i===r?(e-t)/n+(e<t?6:0):e===r?(t-i)/n+2:(i-e)/n+4}function $T(i){const t=i.r/255,n=i.g/255,r=i.b/255,s=Math.max(t,n,r),o=Math.min(t,n,r),c=(s+o)/2;let u,d,p;return s!==o&&(p=s-o,d=c>.5?p/(2-s-o):p/(s+o),u=E3(t,n,r,p,s),u=u*60+.5),[u|0,d||0,c]}function QT(i,e,t,n){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,t,n)).map(Ga)}function XT(i,e,t){return QT(xP,i,e,t)}function x3(i,e,t){return QT(S3,i,e,t)}function D3(i,e,t){return QT(T3,i,e,t)}function DP(i){return(i%360+360)%360}function A3(i){const e=w3.exec(i);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?zd(+e[5]):Ga(+e[5]));const r=DP(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=x3(r,s,o):e[1]==="hsv"?n=D3(r,s,o):n=XT(r,s,o),{r:n[0],g:n[1],b:n[2],a:t}}function I3(i,e){var t=$T(i);t[0]=DP(t[0]+e),t=XT(t),i.r=t[0],i.g=t[1],i.b=t[2]}function R3(i){if(!i)return;const e=$T(i),t=e[0],n=V1(e[1]),r=V1(e[2]);return i.a<255?`hsla(${t}, ${n}%, ${r}%, ${Os(i.a)})`:`hsl(${t}, ${n}%, ${r}%)`}const L1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},F1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function C3(){const i={},e=Object.keys(F1),t=Object.keys(L1);let n,r,s,o,c;for(n=0;n<e.length;n++){for(o=c=e[n],r=0;r<t.length;r++)s=t[r],c=c.replace(s,L1[s]);s=parseInt(F1[o],16),i[c]=[s>>16&255,s>>8&255,s&255]}return i}let Hm;function M3(i){Hm||(Hm=C3(),Hm.transparent=[0,0,0,0]);const e=Hm[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const k3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function P3(i){const e=k3.exec(i);let t=255,n,r,s;if(e){if(e[7]!==n){const o=+e[7];t=e[8]?zd(o):za(o*255,0,255)}return n=+e[1],r=+e[3],s=+e[5],n=255&(e[2]?zd(n):za(n,0,255)),r=255&(e[4]?zd(r):za(r,0,255)),s=255&(e[6]?zd(s):za(s,0,255)),{r:n,g:r,b:s,a:t}}}function O3(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Os(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const t0=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,$c=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function N3(i,e,t){const n=$c(Os(i.r)),r=$c(Os(i.g)),s=$c(Os(i.b));return{r:Ga(t0(n+t*($c(Os(e.r))-n))),g:Ga(t0(r+t*($c(Os(e.g))-r))),b:Ga(t0(s+t*($c(Os(e.b))-s))),a:i.a+t*(e.a-i.a)}}function qm(i,e,t){if(i){let n=$T(i);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=XT(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function AP(i,e){return i&&Object.assign(e||{},i)}function B1(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=Ga(i[3]))):(e=AP(i,{r:0,g:0,b:0,a:1}),e.a=Ga(e.a)),e}function V3(i){return i.charAt(0)==="r"?P3(i):A3(i)}class Sf{constructor(e){if(e instanceof Sf)return e;const t=typeof e;let n;t==="object"?n=B1(e):t==="string"&&(n=v3(e)||M3(e)||V3(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=AP(this._rgb);return e&&(e.a=Os(e.a)),e}set rgb(e){this._rgb=B1(e)}rgbString(){return this._valid?O3(this._rgb):void 0}hexString(){return this._valid?b3(this._rgb):void 0}hslString(){return this._valid?R3(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let s;const o=t===s?.5:t,c=2*o-1,u=n.a-r.a,d=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;s=1-d,n.r=255&d*n.r+s*r.r+.5,n.g=255&d*n.g+s*r.g+.5,n.b=255&d*n.b+s*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=N3(this._rgb,e._rgb,t)),this}clone(){return new Sf(this.rgb)}alpha(e){return this._rgb.a=Ga(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Zf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return qm(this._rgb,2,e),this}darken(e){return qm(this._rgb,2,-e),this}saturate(e){return qm(this._rgb,1,e),this}desaturate(e){return qm(this._rgb,1,-e),this}rotate(e){return I3(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ms(){}const L3=(()=>{let i=0;return()=>i++})();function xt(i){return i==null}function An(i){if(Array.isArray&&Array.isArray(i))return!0;const e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function rt(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function Ji(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function kr(i,e){return Ji(i)?i:e}function it(i,e){return typeof i>"u"?e:i}const F3=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/e,IP=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function It(i,e,t){if(i&&typeof i.call=="function")return i.apply(t,e)}function mt(i,e,t,n){let r,s,o;if(An(i))for(s=i.length,r=0;r<s;r++)e.call(t,i[r],r);else if(rt(i))for(o=Object.keys(i),s=o.length,r=0;r<s;r++)e.call(t,i[o[r]],o[r])}function Xg(i,e){let t,n,r,s;if(!i||!e||i.length!==e.length)return!1;for(t=0,n=i.length;t<n;++t)if(r=i[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Zg(i){if(An(i))return i.map(Zg);if(rt(i)){const e=Object.create(null),t=Object.keys(i),n=t.length;let r=0;for(;r<n;++r)e[t[r]]=Zg(i[t[r]]);return e}return i}function RP(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function B3(i,e,t,n){if(!RP(i))return;const r=e[i],s=t[i];rt(r)&&rt(s)?Ef(r,s,n):e[i]=Zg(s)}function Ef(i,e,t){const n=An(e)?e:[e],r=n.length;if(!rt(i))return i;t=t||{};const s=t.merger||B3;let o;for(let c=0;c<r;++c){if(o=n[c],!rt(o))continue;const u=Object.keys(o);for(let d=0,p=u.length;d<p;++d)s(u[d],i,o,t)}return i}function nf(i,e){return Ef(i,e,{merger:U3})}function U3(i,e,t){if(!RP(i))return;const n=e[i],r=t[i];rt(n)&&rt(r)?nf(n,r):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=Zg(r))}const U1={"":i=>i,x:i=>i.x,y:i=>i.y};function j3(i){const e=i.split("."),t=[];let n="";for(const r of e)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function z3(i){const e=j3(i);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function Ol(i,e){return(U1[e]||(U1[e]=z3(e)))(i)}function ZT(i){return i.charAt(0).toUpperCase()+i.slice(1)}const xf=i=>typeof i<"u",io=i=>typeof i=="function",j1=(i,e)=>{if(i.size!==e.size)return!1;for(const t of i)if(!e.has(t))return!1;return!0};function H3(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const Rt=Math.PI,cn=2*Rt,Jg=Number.POSITIVE_INFINITY,q3=Rt/180,yn=Rt/2,nl=Rt/4,z1=Rt*2/3,CP=Math.log10,Ka=Math.sign;function bg(i,e,t){return Math.abs(i-e)<t}function H1(i){const e=Math.round(i);i=bg(i,e,i/1e3)?e:i;const t=Math.pow(10,Math.floor(CP(i))),n=i/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function Y3(i){const e=[],t=Math.sqrt(i);let n;for(n=1;n<t;n++)i%n===0&&(e.push(n),e.push(i/n));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function W3(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function ey(i){return!W3(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function G3(i,e){const t=Math.round(i);return t-e<=i&&t+e>=i}function K3(i,e,t){let n,r,s;for(n=0,r=i.length;n<r;n++)s=i[n][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ns(i){return i*(Rt/180)}function $3(i){return i*(180/Rt)}function q1(i){if(!Ji(i))return;let e=1,t=0;for(;Math.round(i*e)/e!==i;)e*=10,t++;return t}function MP(i,e){const t=e.x-i.x,n=e.y-i.y,r=Math.sqrt(t*t+n*n);let s=Math.atan2(n,t);return s<-.5*Rt&&(s+=cn),{angle:s,distance:r}}function Q3(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function Nr(i){return(i%cn+cn)%cn}function ty(i,e,t,n){const r=Nr(i),s=Nr(e),o=Nr(t),c=Nr(s-r),u=Nr(o-r),d=Nr(r-s),p=Nr(r-o);return r===s||r===o||n&&s===o||c>u&&d<p}function ci(i,e,t){return Math.max(e,Math.min(t,i))}function X3(i){return ci(i,-32768,32767)}function yl(i,e,t,n=1e-6){return i>=Math.min(e,t)-n&&i<=Math.max(e,t)+n}function JT(i,e,t){t=t||(o=>i[o]<e);let n=i.length-1,r=0,s;for(;n-r>1;)s=r+n>>1,t(s)?r=s:n=s;return{lo:r,hi:n}}const Dw=(i,e,t,n)=>JT(i,t,n?r=>{const s=i[r][e];return s<t||s===t&&i[r+1][e]===t}:r=>i[r][e]<t),Z3=(i,e,t)=>JT(i,t,n=>i[n][e]>=t);function J3(i,e,t){let n=0,r=i.length;for(;n<r&&i[n]<e;)n++;for(;r>n&&i[r-1]>t;)r--;return n>0||r<i.length?i.slice(n,r):i}const kP=["push","pop","shift","splice","unshift"];function eU(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),kP.forEach(t=>{const n="_onData"+ZT(t),r=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return i._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...s)}),o}})})}function Y1(i,e){const t=i._chartjs;if(!t)return;const n=t.listeners,r=n.indexOf(e);r!==-1&&n.splice(r,1),!(n.length>0)&&(kP.forEach(s=>{delete i[s]}),delete i._chartjs)}function PP(i){const e=new Set(i);return e.size===i.length?i:Array.from(e)}const OP=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function NP(i,e){let t=[],n=!1;return function(...r){t=r,n||(n=!0,OP.call(window,()=>{n=!1,i.apply(e,t)}))}}function tU(i,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(i,e,n)):i.apply(this,n),e}}const VP=i=>i==="start"?"left":i==="end"?"right":"center",Ei=(i,e,t)=>i==="start"?e:i==="end"?t:(e+t)/2,nU=(i,e,t,n)=>i===(n?"left":"right")?t:i==="center"?(e+t)/2:e,Ym=i=>i===0||i===1,W1=(i,e,t)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*cn/t)),G1=(i,e,t)=>Math.pow(2,-10*i)*Math.sin((i-e)*cn/t)+1,rf={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*yn)+1,easeOutSine:i=>Math.sin(i*yn),easeInOutSine:i=>-.5*(Math.cos(Rt*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Ym(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Ym(i)?i:W1(i,.075,.3),easeOutElastic:i=>Ym(i)?i:G1(i,.075,.3),easeInOutElastic(i){return Ym(i)?i:i<.5?.5*W1(i*2,.1125,.45):.5+.5*G1(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-rf.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?rf.easeInBounce(i*2)*.5:rf.easeOutBounce(i*2-1)*.5+.5};function LP(i){if(i&&typeof i=="object"){const e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function K1(i){return LP(i)?i:new Sf(i)}function n0(i){return LP(i)?i:new Sf(i).saturate(.5).darken(.1).hexString()}const iU=["x","y","borderWidth","radius","tension"],rU=["color","borderColor","backgroundColor"];function sU(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),i.set("animations",{colors:{type:"color",properties:rU},numbers:{type:"number",properties:iU}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function aU(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $1=new Map;function oU(i,e){e=e||{};const t=i+JSON.stringify(e);let n=$1.get(t);return n||(n=new Intl.NumberFormat(i,e),$1.set(t,n)),n}function eS(i,e,t){return oU(e,t).format(i)}const lU={values(i){return An(i)?i:""+i},numeric(i,e,t){if(i===0)return"0";const n=this.chart.options.locale;let r,s=i;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),s=cU(i,t)}const o=CP(Math.abs(s)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),eS(i,n,u)}};function cU(i,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&i!==Math.floor(i)&&(t=i-Math.floor(i)),t}var FP={formatters:lU};function uU(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:FP.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Nl=Object.create(null),Aw=Object.create(null);function sf(i,e){if(!e)return i;const t=e.split(".");for(let n=0,r=t.length;n<r;++n){const s=t[n];i=i[s]||(i[s]=Object.create(null))}return i}function i0(i,e,t){return typeof e=="string"?Ef(sf(i,e),t):Ef(sf(i,""),e)}class hU{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>n0(r.backgroundColor),this.hoverBorderColor=(n,r)=>n0(r.borderColor),this.hoverColor=(n,r)=>n0(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return i0(this,e,t)}get(e){return sf(this,e)}describe(e,t){return i0(Aw,e,t)}override(e,t){return i0(Nl,e,t)}route(e,t,n,r){const s=sf(this,e),o=sf(this,n),c="_"+t;Object.defineProperties(s,{[c]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const u=this[c],d=o[r];return rt(u)?Object.assign({},d,u):it(u,d)},set(u){this[c]=u}}})}apply(e){e.forEach(t=>t(this))}}var Qt=new hU({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[sU,aU,uU]);function dU(i){return!i||xt(i.size)||xt(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Q1(i,e,t,n,r){let s=e[r];return s||(s=e[r]=i.measureText(r).width,t.push(r)),s>n&&(n=s),n}function il(i,e,t){const n=i.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*n)/n+r}function X1(i,e){!e&&!i||(e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore())}function Z1(i,e,t,n){BP(i,e,t,n,null)}function BP(i,e,t,n,r){let s,o,c,u,d,p,g,v;const b=e.pointStyle,T=e.rotation,S=e.radius;let E=(T||0)*q3;if(b&&typeof b=="object"&&(s=b.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){i.save(),i.translate(t,n),i.rotate(E),i.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),i.restore();return}if(!(isNaN(S)||S<=0)){switch(i.beginPath(),b){default:r?i.ellipse(t,n,r/2,S,0,0,cn):i.arc(t,n,S,0,cn),i.closePath();break;case"triangle":p=r?r/2:S,i.moveTo(t+Math.sin(E)*p,n-Math.cos(E)*S),E+=z1,i.lineTo(t+Math.sin(E)*p,n-Math.cos(E)*S),E+=z1,i.lineTo(t+Math.sin(E)*p,n-Math.cos(E)*S),i.closePath();break;case"rectRounded":d=S*.516,u=S-d,o=Math.cos(E+nl)*u,g=Math.cos(E+nl)*(r?r/2-d:u),c=Math.sin(E+nl)*u,v=Math.sin(E+nl)*(r?r/2-d:u),i.arc(t-g,n-c,d,E-Rt,E-yn),i.arc(t+v,n-o,d,E-yn,E),i.arc(t+g,n+c,d,E,E+yn),i.arc(t-v,n+o,d,E+yn,E+Rt),i.closePath();break;case"rect":if(!T){u=Math.SQRT1_2*S,p=r?r/2:u,i.rect(t-p,n-u,2*p,2*u);break}E+=nl;case"rectRot":g=Math.cos(E)*(r?r/2:S),o=Math.cos(E)*S,c=Math.sin(E)*S,v=Math.sin(E)*(r?r/2:S),i.moveTo(t-g,n-c),i.lineTo(t+v,n-o),i.lineTo(t+g,n+c),i.lineTo(t-v,n+o),i.closePath();break;case"crossRot":E+=nl;case"cross":g=Math.cos(E)*(r?r/2:S),o=Math.cos(E)*S,c=Math.sin(E)*S,v=Math.sin(E)*(r?r/2:S),i.moveTo(t-g,n-c),i.lineTo(t+g,n+c),i.moveTo(t+v,n-o),i.lineTo(t-v,n+o);break;case"star":g=Math.cos(E)*(r?r/2:S),o=Math.cos(E)*S,c=Math.sin(E)*S,v=Math.sin(E)*(r?r/2:S),i.moveTo(t-g,n-c),i.lineTo(t+g,n+c),i.moveTo(t+v,n-o),i.lineTo(t-v,n+o),E+=nl,g=Math.cos(E)*(r?r/2:S),o=Math.cos(E)*S,c=Math.sin(E)*S,v=Math.sin(E)*(r?r/2:S),i.moveTo(t-g,n-c),i.lineTo(t+g,n+c),i.moveTo(t+v,n-o),i.lineTo(t-v,n+o);break;case"line":o=r?r/2:Math.cos(E)*S,c=Math.sin(E)*S,i.moveTo(t-o,n-c),i.lineTo(t+o,n+c);break;case"dash":i.moveTo(t,n),i.lineTo(t+Math.cos(E)*(r?r/2:S),n+Math.sin(E)*S);break;case!1:i.closePath();break}i.fill(),e.borderWidth>0&&i.stroke()}}function UP(i,e,t){return t=t||.5,!e||i&&i.x>e.left-t&&i.x<e.right+t&&i.y>e.top-t&&i.y<e.bottom+t}function tS(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function nS(i){i.restore()}function fU(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),xt(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function pU(i,e,t,n,r){if(r.strikethrough||r.underline){const s=i.measureText(n),o=e-s.actualBoundingBoxLeft,c=e+s.actualBoundingBoxRight,u=t-s.actualBoundingBoxAscent,d=t+s.actualBoundingBoxDescent,p=r.strikethrough?(u+d)/2:d;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(o,p),i.lineTo(c,p),i.stroke()}}function mU(i,e){const t=i.fillStyle;i.fillStyle=e.color,i.fillRect(e.left,e.top,e.width,e.height),i.fillStyle=t}function ny(i,e,t,n,r,s={}){const o=An(e)?e:[e],c=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(i.save(),i.font=r.string,fU(i,s),u=0;u<o.length;++u)d=o[u],s.backdrop&&mU(i,s.backdrop),c&&(s.strokeColor&&(i.strokeStyle=s.strokeColor),xt(s.strokeWidth)||(i.lineWidth=s.strokeWidth),i.strokeText(d,t,n,s.maxWidth)),i.fillText(d,t,n,s.maxWidth),pU(i,t,n,d,s),n+=Number(r.lineHeight);i.restore()}function iy(i,e){const{x:t,y:n,w:r,h:s,radius:o}=e;i.arc(t+o.topLeft,n+o.topLeft,o.topLeft,1.5*Rt,Rt,!0),i.lineTo(t,n+s-o.bottomLeft),i.arc(t+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,Rt,yn,!0),i.lineTo(t+r-o.bottomRight,n+s),i.arc(t+r-o.bottomRight,n+s-o.bottomRight,o.bottomRight,yn,0,!0),i.lineTo(t+r,n+o.topRight),i.arc(t+r-o.topRight,n+o.topRight,o.topRight,0,-yn,!0),i.lineTo(t+o.topLeft,n)}const gU=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,yU=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vU(i,e){const t=(""+i).match(gU);if(!t||t[1]==="normal")return e*1.2;switch(i=+t[2],t[3]){case"px":return i;case"%":i/=100;break}return e*i}const _U=i=>+i||0;function iS(i,e){const t={},n=rt(e),r=n?Object.keys(e):e,s=rt(i)?n?o=>it(i[o],i[e[o]]):o=>i[o]:()=>i;for(const o of r)t[o]=_U(s(o));return t}function jP(i){return iS(i,{top:"y",right:"x",bottom:"y",left:"x"})}function vu(i){return iS(i,["topLeft","topRight","bottomLeft","bottomRight"])}function hr(i){const e=jP(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ui(i,e){i=i||{},e=e||Qt.font;let t=it(i.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=it(i.style,e.style);n&&!(""+n).match(yU)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:it(i.family,e.family),lineHeight:vU(it(i.lineHeight,e.lineHeight),t),size:t,style:n,weight:it(i.weight,e.weight),string:""};return r.string=dU(r),r}function Wm(i,e,t,n){let r,s,o;for(r=0,s=i.length;r<s;++r)if(o=i[r],o!==void 0&&o!==void 0)return o}function bU(i,e,t){const{min:n,max:r}=i,s=IP(e,(r-n)/2),o=(c,u)=>t&&c===0?0:c+u;return{min:o(n,-Math.abs(s)),max:o(r,s)}}function th(i,e){return Object.assign(Object.create(i),e)}function rS(i,e=[""],t,n,r=()=>i[0]){const s=t||i;typeof n>"u"&&(n=YP("_fallback",i));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:s,_fallback:n,_getTarget:r,override:c=>rS([c,...i],e,s,n)};return new Proxy(o,{deleteProperty(c,u){return delete c[u],delete c._keys,delete i[0][u],!0},get(c,u){return HP(c,u,()=>IU(u,e,i,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(c,u){return eI(c).includes(u)},ownKeys(c){return eI(c)},set(c,u,d){const p=c._storage||(c._storage=r());return c[u]=p[u]=d,delete c._keys,!0}})}function Iu(i,e,t,n){const r={_cacheable:!1,_proxy:i,_context:e,_subProxy:t,_stack:new Set,_descriptors:zP(i,n),setContext:s=>Iu(i,s,t,n),override:s=>Iu(i.override(s),e,t,n)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete i[o],!0},get(s,o,c){return HP(s,o,()=>TU(s,o,c))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(i,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,o)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(s,o){return Reflect.has(i,o)},ownKeys(){return Reflect.ownKeys(i)},set(s,o,c){return i[o]=c,delete s[o],!0}})}function zP(i,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=i;return{allKeys:r,scriptable:t,indexable:n,isScriptable:io(t)?t:()=>t,isIndexable:io(n)?n:()=>n}}const wU=(i,e)=>i?i+ZT(e):e,sS=(i,e)=>rt(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function HP(i,e,t){if(Object.prototype.hasOwnProperty.call(i,e)||e==="constructor")return i[e];const n=t();return i[e]=n,n}function TU(i,e,t){const{_proxy:n,_context:r,_subProxy:s,_descriptors:o}=i;let c=n[e];return io(c)&&o.isScriptable(e)&&(c=SU(e,c,i,t)),An(c)&&c.length&&(c=EU(e,c,i,o.isIndexable)),sS(e,c)&&(c=Iu(c,r,s&&s[e],o)),c}function SU(i,e,t,n){const{_proxy:r,_context:s,_subProxy:o,_stack:c}=t;if(c.has(i))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+i);c.add(i);let u=e(s,o||n);return c.delete(i),sS(i,u)&&(u=aS(r._scopes,r,i,u)),u}function EU(i,e,t,n){const{_proxy:r,_context:s,_subProxy:o,_descriptors:c}=t;if(typeof s.index<"u"&&n(i))return e[s.index%e.length];if(rt(e[0])){const u=e,d=r._scopes.filter(p=>p!==u);e=[];for(const p of u){const g=aS(d,r,i,p);e.push(Iu(g,s,o&&o[i],c))}}return e}function qP(i,e,t){return io(i)?i(e,t):i}const xU=(i,e)=>i===!0?e:typeof i=="string"?Ol(e,i):void 0;function DU(i,e,t,n,r){for(const s of e){const o=xU(t,s);if(o){i.add(o);const c=qP(o._fallback,t,r);if(typeof c<"u"&&c!==t&&c!==n)return c}else if(o===!1&&typeof n<"u"&&t!==n)return null}return!1}function aS(i,e,t,n){const r=e._rootScopes,s=qP(e._fallback,t,n),o=[...i,...r],c=new Set;c.add(n);let u=J1(c,o,t,s||t,n);return u===null||typeof s<"u"&&s!==t&&(u=J1(c,o,s,u,n),u===null)?!1:rS(Array.from(c),[""],r,s,()=>AU(e,t,n))}function J1(i,e,t,n,r){for(;t;)t=DU(i,e,t,n,r);return t}function AU(i,e,t){const n=i._getTarget();e in n||(n[e]={});const r=n[e];return An(r)&&rt(t)?t:r||{}}function IU(i,e,t,n){let r;for(const s of e)if(r=YP(wU(s,i),t),typeof r<"u")return sS(i,r)?aS(t,n,i,r):r}function YP(i,e){for(const t of e){if(!t)continue;const n=t[i];if(typeof n<"u")return n}}function eI(i){let e=i._keys;return e||(e=i._keys=RU(i._scopes)),e}function RU(i){const e=new Set;for(const t of i)for(const n of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(n);return Array.from(e)}function oS(){return typeof window<"u"&&typeof document<"u"}function lS(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ry(i,e,t){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=i,n}const ev=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function CU(i,e){return ev(i).getPropertyValue(e)}const MU=["top","right","bottom","left"];function El(i,e,t){const n={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=MU[r];n[s]=parseFloat(i[e+"-"+s+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const kU=(i,e,t)=>(i>0||e>0)&&(!t||!t.shadowRoot);function PU(i,e){const t=i.touches,n=t&&t.length?t[0]:i,{offsetX:r,offsetY:s}=n;let o=!1,c,u;if(kU(r,s,i.target))c=r,u=s;else{const d=e.getBoundingClientRect();c=n.clientX-d.left,u=n.clientY-d.top,o=!0}return{x:c,y:u,box:o}}function ol(i,e){if("native"in i)return i;const{canvas:t,currentDevicePixelRatio:n}=e,r=ev(t),s=r.boxSizing==="border-box",o=El(r,"padding"),c=El(r,"border","width"),{x:u,y:d,box:p}=PU(i,t),g=o.left+(p&&c.left),v=o.top+(p&&c.top);let{width:b,height:T}=e;return s&&(b-=o.width+c.width,T-=o.height+c.height),{x:Math.round((u-g)/b*t.width/n),y:Math.round((d-v)/T*t.height/n)}}function OU(i,e,t){let n,r;if(e===void 0||t===void 0){const s=i&&lS(i);if(!s)e=i.clientWidth,t=i.clientHeight;else{const o=s.getBoundingClientRect(),c=ev(s),u=El(c,"border","width"),d=El(c,"padding");e=o.width-d.width-u.width,t=o.height-d.height-u.height,n=ry(c.maxWidth,s,"clientWidth"),r=ry(c.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:n||Jg,maxHeight:r||Jg}}const Gm=i=>Math.round(i*10)/10;function NU(i,e,t,n){const r=ev(i),s=El(r,"margin"),o=ry(r.maxWidth,i,"clientWidth")||Jg,c=ry(r.maxHeight,i,"clientHeight")||Jg,u=OU(i,e,t);let{width:d,height:p}=u;if(r.boxSizing==="content-box"){const v=El(r,"border","width"),b=El(r,"padding");d-=b.width+v.width,p-=b.height+v.height}return d=Math.max(0,d-s.width),p=Math.max(0,n?d/n:p-s.height),d=Gm(Math.min(d,o,u.maxWidth)),p=Gm(Math.min(p,c,u.maxHeight)),d&&!p&&(p=Gm(d/2)),(e!==void 0||t!==void 0)&&n&&u.height&&p>u.height&&(p=u.height,d=Gm(Math.floor(p*n))),{width:d,height:p}}function tI(i,e,t){const n=e||1,r=Math.floor(i.height*n),s=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const o=i.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${i.height}px`,o.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||o.height!==r||o.width!==s?(i.currentDevicePixelRatio=n,o.height=r,o.width=s,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}const VU=function(){let i=!1;try{const e={get passive(){return i=!0,!1}};oS()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return i}();function nI(i,e){const t=CU(i,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const LU=function(i,e){return{x(t){return i+i+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},FU=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function _u(i,e,t){return i?LU(e,t):FU()}function WP(i,e){let t,n;(e==="ltr"||e==="rtl")&&(t=i.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),i.prevTextDirection=n)}function GP(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function Km(i,e,t){return i.options.clip?i[t]:e[t]}function BU(i,e){const{xScale:t,yScale:n}=i;return t&&n?{left:Km(t,e,"left"),right:Km(t,e,"right"),top:Km(n,e,"top"),bottom:Km(n,e,"bottom")}:e}function UU(i,e){const t=e._clip;if(t.disabled)return!1;const n=BU(e,i.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?i.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?i.height:n.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class jU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const s=t.listeners[r],o=t.duration;s.forEach(c=>c({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=OP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let o=s.length-1,c=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>n.duration&&(n.duration=u._total),u.tick(e),c=!0):(s[o]=s[s.length-1],s.pop());c&&(r.draw(),this._notify(r,n,e,"progress")),s.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ks=new jU;const iI="transparent",zU={boolean(i,e,t){return t>.5?e:i},color(i,e,t){const n=K1(i||iI),r=n.valid&&K1(e||iI);return r&&r.valid?r.mix(n,t).hexString():e},number(i,e,t){return i+(e-i)*t}};class HU{constructor(e,t,n,r){const s=t[n];r=Wm([e.to,r,s,e.from]);const o=Wm([e.from,s,r]);this._active=!0,this._fn=e.fn||zU[e.type||typeof o],this._easing=rf[e.easing]||rf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Wm([e.to,t,r,e.from]),this._from=Wm([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,s=this._from,o=this._loop,c=this._to;let u;if(this._active=s!==c&&(o||t<n),!this._active){this._target[r]=c,this._notify(!0);return}if(t<0){this._target[r]=s;return}u=t/n%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class KP{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!rt(e))return;const t=Object.keys(Qt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!rt(s))return;const o={};for(const c of t)o[c]=s[c];(An(s.properties)&&s.properties||[r]).forEach(c=>{(c===r||!n.has(c))&&n.set(c,o)})})}_animateOptions(e,t){const n=t.options,r=YU(e,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&qU(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,t){const n=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),c=Date.now();let u;for(u=o.length-1;u>=0;--u){const d=o[u];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,t));continue}const p=t[d];let g=s[d];const v=n.get(d);if(g)if(v&&g.active()){g.update(v,p,c);continue}else g.cancel();if(!v||!v.duration){e[d]=p;continue}s[d]=g=new HU(v,e,d,p),r.push(g)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return ks.add(this._chart,n),!0}}function qU(i,e){const t=[],n=Object.keys(e);for(let r=0;r<n.length;r++){const s=i[n[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function YU(i,e){if(!e)return;let t=i.options;if(!t){i.options=e;return}return t.$shared&&(i.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function rI(i,e){const t=i&&i.options||{},n=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:n?s:r,end:n?r:s}}function WU(i,e,t){if(t===!1)return!1;const n=rI(i,t),r=rI(e,t);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function GU(i){let e,t,n,r;return rt(i)?(e=i.top,t=i.right,n=i.bottom,r=i.left):e=t=n=r=i,{top:e,right:t,bottom:n,left:r,disabled:i===!1}}function $P(i,e){const t=[],n=i._getSortedDatasetMetas(e);let r,s;for(r=0,s=n.length;r<s;++r)t.push(n[r].index);return t}function sI(i,e,t,n={}){const r=i.keys,s=n.mode==="single";let o,c,u,d;if(e===null)return;let p=!1;for(o=0,c=r.length;o<c;++o){if(u=+r[o],u===t){if(p=!0,n.all)continue;break}d=i.values[u],Ji(d)&&(s||e===0||Ka(e)===Ka(d))&&(e+=d)}return!p&&!n.all?0:e}function KU(i,e){const{iScale:t,vScale:n}=e,r=t.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",o=Object.keys(i),c=new Array(o.length);let u,d,p;for(u=0,d=o.length;u<d;++u)p=o[u],c[u]={[r]:p,[s]:i[p]};return c}function r0(i,e){const t=i&&i.options.stacked;return t||t===void 0&&e.stack!==void 0}function $U(i,e,t){return`${i.id}.${e.id}.${t.stack||t.type}`}function QU(i){const{min:e,max:t,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function XU(i,e,t){const n=i[e]||(i[e]={});return n[t]||(n[t]={})}function aI(i,e,t,n){for(const r of e.getMatchingVisibleMetas(n).reverse()){const s=i[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function oI(i,e){const{chart:t,_cachedMeta:n}=i,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:c}=n,u=s.axis,d=o.axis,p=$U(s,o,n),g=e.length;let v;for(let b=0;b<g;++b){const T=e[b],{[u]:S,[d]:E}=T,R=T._stacks||(T._stacks={});v=R[d]=XU(r,p,S),v[c]=E,v._top=aI(v,o,!0,n.type),v._bottom=aI(v,o,!1,n.type);const P=v._visualValues||(v._visualValues={});P[c]=E}}function s0(i,e){const t=i.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function ZU(i,e){return th(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function JU(i,e,t){return th(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Dd(i,e){const t=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){e=e||i._parsed;for(const r of e){const s=r._stacks;if(!s||s[n]===void 0||s[n][t]===void 0)return;delete s[n][t],s[n]._visualValues!==void 0&&s[n]._visualValues[t]!==void 0&&delete s[n]._visualValues[t]}}}const a0=i=>i==="reset"||i==="none",lI=(i,e)=>e?i:Object.assign({},i),ej=(i,e,t)=>i&&!e.hidden&&e._stacked&&{keys:$P(t,!0),values:null};class bu{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=r0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Dd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(g,v,b,T)=>g==="x"?v:g==="r"?T:b,s=t.xAxisID=it(n.xAxisID,s0(e,"x")),o=t.yAxisID=it(n.yAxisID,s0(e,"y")),c=t.rAxisID=it(n.rAxisID,s0(e,"r")),u=t.indexAxis,d=t.iAxisID=r(u,s,o,c),p=t.vAxisID=r(u,o,s,c);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Y1(this._data,this),e._stacked&&Dd(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(rt(t)){const r=this._cachedMeta;this._data=KU(t,r)}else if(n!==t){if(n){Y1(n,this);const r=this._cachedMeta;Dd(r),r._parsed=[]}t&&Object.isExtensible(t)&&eU(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=r0(t.vScale,t),t.stack!==n.stack&&(r=!0,Dd(t),t.stack=n.stack),this._resyncElements(e),(r||s!==t._stacked)&&(oI(this,t._parsed),t._stacked=r0(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:s,_stacked:o}=n,c=s.axis;let u=e===0&&t===r.length?!0:n._sorted,d=e>0&&n._parsed[e-1],p,g,v;if(this._parsing===!1)n._parsed=r,n._sorted=!0,v=r;else{An(r[e])?v=this.parseArrayData(n,r,e,t):rt(r[e])?v=this.parseObjectData(n,r,e,t):v=this.parsePrimitiveData(n,r,e,t);const b=()=>g[c]===null||d&&g[c]<d[c];for(p=0;p<t;++p)n._parsed[p+e]=g=v[p],u&&(b()&&(u=!1),d=g);n._sorted=u}o&&oI(this,v)}parsePrimitiveData(e,t,n,r){const{iScale:s,vScale:o}=e,c=s.axis,u=o.axis,d=s.getLabels(),p=s===o,g=new Array(r);let v,b,T;for(v=0,b=r;v<b;++v)T=v+n,g[v]={[c]:p||s.parse(d[T],T),[u]:o.parse(t[T],T)};return g}parseArrayData(e,t,n,r){const{xScale:s,yScale:o}=e,c=new Array(r);let u,d,p,g;for(u=0,d=r;u<d;++u)p=u+n,g=t[p],c[u]={x:s.parse(g[0],p),y:o.parse(g[1],p)};return c}parseObjectData(e,t,n,r){const{xScale:s,yScale:o}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=new Array(r);let p,g,v,b;for(p=0,g=r;p<g;++p)v=p+n,b=t[v],d[p]={x:s.parse(Ol(b,c),v),y:o.parse(Ol(b,u),v)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,s=this._cachedMeta,o=t[e.axis],c={keys:$P(r,!0),values:t._stacks[e.axis]._visualValues};return sI(c,o,s.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const s=n[t.axis];let o=s===null?NaN:s;const c=r&&n._stacks[t.axis];r&&c&&(r.values=c,o=sI(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,s=n._sorted&&e===n.iScale,o=r.length,c=this._getOtherScale(e),u=ej(t,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=QU(c);let v,b;function T(){b=r[v];const S=b[c.axis];return!Ji(b[e.axis])||p>S||g<S}for(v=0;v<o&&!(!T()&&(this.updateRangeFromParsed(d,e,b,u),s));++v);if(s){for(v=o-1;v>=0;--v)if(!T()){this.updateRangeFromParsed(d,e,b,u);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,s,o;for(r=0,s=t.length;r<s;++r)o=t[r][e.axis],Ji(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=GU(it(this.options.clip,WU(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],s=t.chartArea,o=[],c=this._drawStart||0,u=this._drawCount||r.length-c,d=this.options.drawActiveElementsOnTop;let p;for(n.dataset&&n.dataset.draw(e,s,c,u),p=c;p<c+u;++p){const g=r[p];g.hidden||(g.active&&d?o.push(g):g.draw(e,s))}for(p=0;p<o.length;++p)o[p].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=JU(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=ZU(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const r=t==="active",s=this._cachedDataOpts,o=e+"-"+t,c=s[o],u=this.enableOptionSharing&&xf(n);if(c)return lI(c,u);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,e),g=r?[`${e}Hover`,"hover",e,""]:[e,""],v=d.getOptionScopes(this.getDataset(),p),b=Object.keys(Qt.elements[e]),T=()=>this.getContext(n,r,t),S=d.resolveNamedOptions(v,b,T,g);return S.$shared&&(S.$shared=u,s[o]=Object.freeze(lI(S,u))),S}_resolveAnimations(e,t,n){const r=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,c=s[o];if(c)return c;let u;if(r.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,t),v=p.getOptionScopes(this.getDataset(),g);u=p.createResolver(v,this.getContext(e,n,t))}const d=new KP(r,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||a0(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(n),o=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:o}}updateElement(e,t,n,r){a0(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!a0(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[c,u,d]of this._syncList)this[c](u,d);this._syncList=[];const r=n.length,s=t.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,n=!0){const r=this._cachedMeta,s=r.data,o=e+t;let c;const u=d=>{for(d.length+=t,c=d.length-1;c>=o;c--)d[c]=d[c-t]};for(u(s),c=e;c<o;++c)s[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&Dd(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}de(bu,"defaults",{}),de(bu,"datasetElementType",null),de(bu,"dataElementType",null);function tj(i,e){if(!i._cache.$bar){const t=i.getMatchingVisibleMetas(e);let n=[];for(let r=0,s=t.length;r<s;r++)n=n.concat(t[r].controller.getAllParsedValues(i));i._cache.$bar=PP(n.sort((r,s)=>r-s))}return i._cache.$bar}function nj(i){const e=i.iScale,t=tj(e,i.type);let n=e._length,r,s,o,c;const u=()=>{o===32767||o===-32768||(xf(c)&&(n=Math.min(n,Math.abs(o-c)||n)),c=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),u();for(c=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),u();return n}function ij(i,e,t,n){const r=t.barThickness;let s,o;return xt(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*n,o=1),{chunk:s/n,ratio:o,start:e.pixels[i]-s/2}}function rj(i,e,t,n){const r=e.pixels,s=r[i];let o=i>0?r[i-1]:null,c=i<r.length-1?r[i+1]:null;const u=t.categoryPercentage;o===null&&(o=s-(c===null?e.end-e.start:c-s)),c===null&&(c=s+s-o);const d=s-(s-Math.min(o,c))/2*u;return{chunk:Math.abs(c-o)/2*u/n,ratio:t.barPercentage,start:d}}function sj(i,e,t,n){const r=t.parse(i[0],n),s=t.parse(i[1],n),o=Math.min(r,s),c=Math.max(r,s);let u=o,d=c;Math.abs(o)>Math.abs(c)&&(u=c,d=o),e[t.axis]=d,e._custom={barStart:u,barEnd:d,start:r,end:s,min:o,max:c}}function QP(i,e,t,n){return An(i)?sj(i,e,t,n):e[t.axis]=t.parse(i,n),e}function cI(i,e,t,n){const r=i.iScale,s=i.vScale,o=r.getLabels(),c=r===s,u=[];let d,p,g,v;for(d=t,p=t+n;d<p;++d)v=e[d],g={},g[r.axis]=c||r.parse(o[d],d),u.push(QP(v,g,s,d));return u}function o0(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function aj(i,e,t){return i!==0?Ka(i):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function oj(i){let e,t,n,r,s;return i.horizontal?(e=i.base>i.x,t="left",n="right"):(e=i.base<i.y,t="bottom",n="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:n,reverse:e,top:r,bottom:s}}function lj(i,e,t,n){let r=e.borderSkipped;const s={};if(!r){i.borderSkipped=s;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:u,top:d,bottom:p}=oj(i);r==="middle"&&t&&(i.enableBorderRadius=!0,(t._top||0)===n?r=d:(t._bottom||0)===n?r=p:(s[uI(p,o,c,u)]=!0,r=d)),s[uI(r,o,c,u)]=!0,i.borderSkipped=s}function uI(i,e,t,n){return n?(i=cj(i,e,t),i=hI(i,t,e)):i=hI(i,e,t),i}function cj(i,e,t){return i===e?t:i===t?e:i}function hI(i,e,t){return i==="start"?e:i==="end"?t:i}function uj(i,{inflateAmount:e},t){i.inflateAmount=e==="auto"?t===1?.33:0:e}class wg extends bu{parsePrimitiveData(e,t,n,r){return cI(e,t,n,r)}parseArrayData(e,t,n,r){return cI(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:s,vScale:o}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=s.axis==="x"?c:u,p=o.axis==="x"?c:u,g=[];let v,b,T,S;for(v=n,b=n+r;v<b;++v)S=t[v],T={},T[s.axis]=s.parse(Ol(S,d),v),g.push(QP(Ol(S,p),T,o,v));return g}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,s=this.getParsed(e),o=s._custom,c=o0(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),d=c.isHorizontal(),p=this._getRuler(),{sharedOptions:g,includeOptions:v}=this._getSharedOptions(t,r);for(let b=t;b<t+n;b++){const T=this.getParsed(b),S=s||xt(T[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(b),E=this._calculateBarIndexPixels(b,p),R=(T._stacks||{})[c.axis],P={horizontal:d,base:S.base,enableBorderRadius:!R||o0(T._custom)||o===R._top||o===R._bottom,x:d?S.head:E.center,y:d?E.center:S.head,height:d?E.size:Math.abs(S.size),width:d?Math.abs(S.size):E.size};v&&(P.options=g||this.resolveDataElementOptions(b,e[b].active?"active":r));const O=P.options||e[b].options;lj(P,O,R,o),uj(P,O,p.ratio),this.updateElement(e[b],b,P,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),s=n.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(t),u=c&&c[n.axis],d=p=>{const g=p._parsed.find(b=>b[n.axis]===u),v=g&&g[p.vScale.axis];if(xt(v)||isNaN(v))return!0};for(const p of r)if(!(t!==void 0&&d(p))&&((s===!1||o.indexOf(p.stack)===-1||s===void 0&&p.stack===void 0)&&o.push(p.stack),p.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[it(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const r=this._getStacks(e,n),s=t!==void 0?r.indexOf(t):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let s,o;for(s=0,o=t.data.length;s<o;++s)r.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const c=e.barThickness;return{min:c||nj(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:s,minBarLength:o}}=this,c=s||0,u=this.getParsed(e),d=u._custom,p=o0(d);let g=u[t.axis],v=0,b=n?this.applyStack(t,u,n):g,T,S;b!==g&&(v=b-g,b=g),p&&(g=d.barStart,b=d.barEnd-d.barStart,g!==0&&Ka(g)!==Ka(d.barEnd)&&(v=0),v+=g);const E=!xt(s)&&!p?s:v;let R=t.getPixelForValue(E);if(this.chart.getDataVisibility(e)?T=t.getPixelForValue(v+b):T=R,S=T-R,Math.abs(S)<o){S=aj(S,t,c)*o,g===c&&(R-=S/2);const P=t.getPixelForDecimal(0),O=t.getPixelForDecimal(1),z=Math.min(P,O),U=Math.max(P,O);R=Math.max(Math.min(R,U),z),T=R+S,n&&!p&&(u._stacks[t.axis]._visualValues[r]=t.getValueForPixel(T)-t.getValueForPixel(R))}if(R===t.getPixelForValue(c)){const P=Ka(S)*t.getLineWidthForValue(c)/2;R+=P,S-=P}return{size:S,base:R,head:T,center:T+S/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,s=r.skipNull,o=it(r.maxBarThickness,1/0);let c,u;const d=this._getAxisCount();if(t.grouped){const p=s?this._getStackCount(e):t.stackCount,g=r.barThickness==="flex"?rj(e,t,r,p*d):ij(e,t,r,p*d),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(it(v,this.getFirstScaleIdForIndexAxis())),T=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+b;c=g.start+g.chunk*T+g.chunk/2,u=Math.min(o,g.chunk*g.ratio)}else c=n.getPixelForValue(this.getParsed(e)[n.axis],e),u=Math.min(o,t.min*t.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let s=0;for(;s<r;++s)this.getParsed(s)[t.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}de(wg,"id","bar"),de(wg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),de(wg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function hj(i,e,t){let n=1,r=1,s=0,o=0;if(e<cn){const c=i,u=c+e,d=Math.cos(c),p=Math.sin(c),g=Math.cos(u),v=Math.sin(u),b=(O,z,U)=>ty(O,c,u,!0)?1:Math.max(z,z*t,U,U*t),T=(O,z,U)=>ty(O,c,u,!0)?-1:Math.min(z,z*t,U,U*t),S=b(0,d,g),E=b(yn,p,v),R=T(Rt,d,g),P=T(Rt+yn,p,v);n=(S-R)/2,r=(E-P)/2,s=-(S+R)/2,o=-(E+P)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:o}}class Hd extends bu{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=n;else{let s=u=>+n[u];if(rt(n[e])){const{key:u="value"}=this._parsing;s=d=>+Ol(n[d],u)}let o,c;for(o=e,c=e+t;o<c;++o)r._parsed[o]=s(o)}}_getRotation(){return Ns(this.options.rotation-90)}_getCircumference(){return Ns(this.options.circumference)}_getRotationExtents(){let e=cn,t=-cn;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(n.width,n.height)-o)/2,0),u=Math.min(F3(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:p,rotation:g}=this._getRotationExtents(),{ratioX:v,ratioY:b,offsetX:T,offsetY:S}=hj(g,p,u),E=(n.width-o)/v,R=(n.height-o)/b,P=Math.max(Math.min(E,R)/2,0),O=IP(this.options.radius,P),z=Math.max(O*u,0),U=(O-z)/this._getVisibleDatasetWeightTotal();this.offsetX=T*O,this.offsetY=S*O,r.total=this.calculateTotal(),this.outerRadius=O-U*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-U*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/cn)}updateElements(e,t,n,r){const s=r==="reset",o=this.chart,c=o.chartArea,d=o.options.animation,p=(c.left+c.right)/2,g=(c.top+c.bottom)/2,v=s&&d.animateScale,b=v?0:this.innerRadius,T=v?0:this.outerRadius,{sharedOptions:S,includeOptions:E}=this._getSharedOptions(t,r);let R=this._getRotation(),P;for(P=0;P<t;++P)R+=this._circumference(P,s);for(P=t;P<t+n;++P){const O=this._circumference(P,s),z=e[P],U={x:p+this.offsetX,y:g+this.offsetY,startAngle:R,endAngle:R+O,circumference:O,outerRadius:T,innerRadius:b};E&&(U.options=S||this.resolveDataElementOptions(P,z.active?"active":r)),R+=O,this.updateElement(z,P,U,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,r;for(r=0;r<t.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?cn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=eS(t._parsed[e],n.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,s,o,c,u;if(!e){for(r=0,s=n.data.datasets.length;r<s;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),e=o.data,c=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)u=c.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(t=Math.max(t,u.borderWidth||0,u.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const s=this.resolveDataElementOptions(n);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(it(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}de(Hd,"id","doughnut"),de(Hd,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),de(Hd,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),de(Hd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const u=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});function rl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class cS{constructor(e){de(this,"options");this.options=e||{}}static override(e){Object.assign(cS.prototype,e)}init(){}formats(){return rl()}parse(){return rl()}format(){return rl()}add(){return rl()}diff(){return rl()}startOf(){return rl()}endOf(){return rl()}}var dj={_date:cS};function fj(i,e,t,n){const{controller:r,data:s,_sorted:o}=i,c=r._cachedMeta.iScale,u=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&s.length){const d=c._reversePixels?Z3:Dw;if(n){if(r._sharedOptions){const p=s[0],g=typeof p.getRange=="function"&&p.getRange(e);if(g){const v=d(s,e,t-g),b=d(s,e,t+g);return{lo:v.lo,hi:b.hi}}}}else{const p=d(s,e,t);if(u){const{vScale:g}=r._cachedMeta,{_parsed:v}=i,b=v.slice(0,p.lo+1).reverse().findIndex(S=>!xt(S[g.axis]));p.lo-=Math.max(0,b);const T=v.slice(p.hi).findIndex(S=>!xt(S[g.axis]));p.hi+=Math.max(0,T)}return p}}return{lo:0,hi:s.length-1}}function tv(i,e,t,n,r){const s=i.getSortedVisibleDatasetMetas(),o=t[e];for(let c=0,u=s.length;c<u;++c){const{index:d,data:p}=s[c],{lo:g,hi:v}=fj(s[c],e,o,r);for(let b=g;b<=v;++b){const T=p[b];T.skip||n(T,d,b)}}}function pj(i){const e=i.indexOf("x")!==-1,t=i.indexOf("y")!==-1;return function(n,r){const s=e?Math.abs(n.x-r.x):0,o=t?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function l0(i,e,t,n,r){const s=[];return!r&&!i.isPointInArea(e)||tv(i,t,e,function(c,u,d){!r&&!UP(c,i.chartArea,0)||c.inRange(e.x,e.y,n)&&s.push({element:c,datasetIndex:u,index:d})},!0),s}function mj(i,e,t,n){let r=[];function s(o,c,u){const{startAngle:d,endAngle:p}=o.getProps(["startAngle","endAngle"],n),{angle:g}=MP(o,{x:e.x,y:e.y});ty(g,d,p)&&r.push({element:o,datasetIndex:c,index:u})}return tv(i,t,e,s),r}function gj(i,e,t,n,r,s){let o=[];const c=pj(t);let u=Number.POSITIVE_INFINITY;function d(p,g,v){const b=p.inRange(e.x,e.y,r);if(n&&!b)return;const T=p.getCenterPoint(r);if(!(!!s||i.isPointInArea(T))&&!b)return;const E=c(e,T);E<u?(o=[{element:p,datasetIndex:g,index:v}],u=E):E===u&&o.push({element:p,datasetIndex:g,index:v})}return tv(i,t,e,d),o}function c0(i,e,t,n,r,s){return!s&&!i.isPointInArea(e)?[]:t==="r"&&!n?mj(i,e,t,r):gj(i,e,t,n,r,s)}function dI(i,e,t,n,r){const s=[],o=t==="x"?"inXRange":"inYRange";let c=!1;return tv(i,t,e,(u,d,p)=>{u[o]&&u[o](e[t],r)&&(s.push({element:u,datasetIndex:d,index:p}),c=c||u.inRange(e.x,e.y,r))}),n&&!c?[]:s}var yj={modes:{index(i,e,t,n){const r=ol(e,i),s=t.axis||"x",o=t.includeInvisible||!1,c=t.intersect?l0(i,r,s,n,o):c0(i,r,s,!1,n,o),u=[];return c.length?(i.getSortedVisibleDatasetMetas().forEach(d=>{const p=c[0].index,g=d.data[p];g&&!g.skip&&u.push({element:g,datasetIndex:d.index,index:p})}),u):[]},dataset(i,e,t,n){const r=ol(e,i),s=t.axis||"xy",o=t.includeInvisible||!1;let c=t.intersect?l0(i,r,s,n,o):c0(i,r,s,!1,n,o);if(c.length>0){const u=c[0].datasetIndex,d=i.getDatasetMeta(u).data;c=[];for(let p=0;p<d.length;++p)c.push({element:d[p],datasetIndex:u,index:p})}return c},point(i,e,t,n){const r=ol(e,i),s=t.axis||"xy",o=t.includeInvisible||!1;return l0(i,r,s,n,o)},nearest(i,e,t,n){const r=ol(e,i),s=t.axis||"xy",o=t.includeInvisible||!1;return c0(i,r,s,t.intersect,n,o)},x(i,e,t,n){const r=ol(e,i);return dI(i,r,"x",t.intersect,n)},y(i,e,t,n){const r=ol(e,i);return dI(i,r,"y",t.intersect,n)}}};const XP=["left","top","right","bottom"];function Ad(i,e){return i.filter(t=>t.pos===e)}function fI(i,e){return i.filter(t=>XP.indexOf(t.pos)===-1&&t.box.axis===e)}function Id(i,e){return i.sort((t,n)=>{const r=e?n:t,s=e?t:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function vj(i){const e=[];let t,n,r,s,o,c;for(t=0,n=(i||[]).length;t<n;++t)r=i[t],{position:s,options:{stack:o,stackWeight:c=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:c});return e}function _j(i){const e={};for(const t of i){const{stack:n,pos:r,stackWeight:s}=t;if(!n||!XP.includes(r))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function bj(i,e){const t=_j(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e;let s,o,c;for(s=0,o=i.length;s<o;++s){c=i[s];const{fullSize:u}=c.box,d=t[c.stack],p=d&&c.stackWeight/d.weight;c.horizontal?(c.width=p?p*n:u&&e.availableWidth,c.height=r):(c.width=n,c.height=p?p*r:u&&e.availableHeight)}return t}function wj(i){const e=vj(i),t=Id(e.filter(d=>d.box.fullSize),!0),n=Id(Ad(e,"left"),!0),r=Id(Ad(e,"right")),s=Id(Ad(e,"top"),!0),o=Id(Ad(e,"bottom")),c=fI(e,"x"),u=fI(e,"y");return{fullSize:t,leftAndTop:n.concat(s),rightAndBottom:r.concat(u).concat(o).concat(c),chartArea:Ad(e,"chartArea"),vertical:n.concat(r).concat(u),horizontal:s.concat(o).concat(c)}}function pI(i,e,t,n){return Math.max(i[t],e[t])+Math.max(i[n],e[n])}function ZP(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function Tj(i,e,t,n){const{pos:r,box:s}=t,o=i.maxPadding;if(!rt(r)){t.size&&(i[r]-=t.size);const g=n[t.stack]||{size:0,count:1};g.size=Math.max(g.size,t.horizontal?s.height:s.width),t.size=g.size/g.count,i[r]+=t.size}s.getPadding&&ZP(o,s.getPadding());const c=Math.max(0,e.outerWidth-pI(o,i,"left","right")),u=Math.max(0,e.outerHeight-pI(o,i,"top","bottom")),d=c!==i.w,p=u!==i.h;return i.w=c,i.h=u,t.horizontal?{same:d,other:p}:{same:p,other:d}}function Sj(i){const e=i.maxPadding;function t(n){const r=Math.max(e[n]-i[n],0);return i[n]+=r,r}i.y+=t("top"),i.x+=t("left"),t("right"),t("bottom")}function Ej(i,e){const t=e.maxPadding;function n(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return n(i?["left","right"]:["top","bottom"])}function qd(i,e,t,n){const r=[];let s,o,c,u,d,p;for(s=0,o=i.length,d=0;s<o;++s){c=i[s],u=c.box,u.update(c.width||e.w,c.height||e.h,Ej(c.horizontal,e));const{same:g,other:v}=Tj(e,t,c,n);d|=g&&r.length,p=p||v,u.fullSize||r.push(c)}return d&&qd(r,e,t,n)||p}function $m(i,e,t,n,r){i.top=t,i.left=e,i.right=e+n,i.bottom=t+r,i.width=n,i.height=r}function mI(i,e,t,n){const r=t.padding;let{x:s,y:o}=e;for(const c of i){const u=c.box,d=n[c.stack]||{placed:0,weight:1},p=c.stackWeight/d.weight||1;if(c.horizontal){const g=e.w*p,v=d.size||u.height;xf(d.start)&&(o=d.start),u.fullSize?$m(u,r.left,o,t.outerWidth-r.right-r.left,v):$m(u,e.left+d.placed,o,g,v),d.start=o,d.placed+=g,o=u.bottom}else{const g=e.h*p,v=d.size||u.width;xf(d.start)&&(s=d.start),u.fullSize?$m(u,s,r.top,v,t.outerHeight-r.bottom-r.top):$m(u,s,e.top+d.placed,v,g),d.start=s,d.placed+=g,s=u.right}}e.x=s,e.y=o}var Ha={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},i.boxes.push(e)},removeBox(i,e){const t=i.boxes?i.boxes.indexOf(e):-1;t!==-1&&i.boxes.splice(t,1)},configure(i,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(i,e,t,n){if(!i)return;const r=hr(i.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),c=wj(i.boxes),u=c.vertical,d=c.horizontal;mt(i.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=u.reduce((S,E)=>E.box.options&&E.box.options.display===!1?S:S+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/p,hBoxMaxHeight:o/2}),v=Object.assign({},r);ZP(v,hr(n));const b=Object.assign({maxPadding:v,w:s,h:o,x:r.left,y:r.top},r),T=bj(u.concat(d),g);qd(c.fullSize,b,g,T),qd(u,b,g,T),qd(d,b,g,T)&&qd(u,b,g,T),Sj(b),mI(c.leftAndTop,b,g,T),b.x+=b.w,b.y+=b.h,mI(c.rightAndBottom,b,g,T),i.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},mt(c.chartArea,S=>{const E=S.box;Object.assign(E,i.chartArea),E.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class JP{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class xj extends JP{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Tg="$chartjs",Dj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gI=i=>i===null||i==="";function Aj(i,e){const t=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[Tg]={initial:{height:n,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",gI(r)){const s=nI(i,"width");s!==void 0&&(i.width=s)}if(gI(n))if(i.style.height==="")i.height=i.width/(e||2);else{const s=nI(i,"height");s!==void 0&&(i.height=s)}return i}const eO=VU?{passive:!0}:!1;function Ij(i,e,t){i&&i.addEventListener(e,t,eO)}function Rj(i,e,t){i&&i.canvas&&i.canvas.removeEventListener(e,t,eO)}function Cj(i,e){const t=Dj[i.type]||i.type,{x:n,y:r}=ol(i,e);return{type:t,chart:e,native:i,x:n!==void 0?n:null,y:r!==void 0?r:null}}function sy(i,e){for(const t of i)if(t===e||t.contains(e))return!0}function Mj(i,e,t){const n=i.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||sy(c.addedNodes,n),o=o&&!sy(c.removedNodes,n);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function kj(i,e,t){const n=i.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||sy(c.removedNodes,n),o=o&&!sy(c.addedNodes,n);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Df=new Map;let yI=0;function tO(){const i=window.devicePixelRatio;i!==yI&&(yI=i,Df.forEach((e,t)=>{t.currentDevicePixelRatio!==i&&e()}))}function Pj(i,e){Df.size||window.addEventListener("resize",tO),Df.set(i,e)}function Oj(i){Df.delete(i),Df.size||window.removeEventListener("resize",tO)}function Nj(i,e,t){const n=i.canvas,r=n&&lS(n);if(!r)return;const s=NP((c,u)=>{const d=r.clientWidth;t(c,u),d<r.clientWidth&&t()},window),o=new ResizeObserver(c=>{const u=c[0],d=u.contentRect.width,p=u.contentRect.height;d===0&&p===0||s(d,p)});return o.observe(r),Pj(i,s),o}function u0(i,e,t){t&&t.disconnect(),e==="resize"&&Oj(i)}function Vj(i,e,t){const n=i.canvas,r=NP(s=>{i.ctx!==null&&t(Cj(s,i))},i);return Ij(n,e,r),r}class Lj extends JP{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Aj(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Tg])return!1;const n=t[Tg].initial;["height","width"].forEach(s=>{const o=n[s];xt(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=n.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[Tg],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),o={attach:Mj,detach:kj,resize:Nj}[t]||Vj;r[t]=o(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:u0,detach:u0,resize:u0}[t]||Rj)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return NU(e,t,n,r)}isAttached(e){const t=e&&lS(e);return!!(t&&t.isConnected)}}function Fj(i){return!oS()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?xj:Lj}var _g;let nh=(_g=class{constructor(){de(this,"x");de(this,"y");de(this,"active",!1);de(this,"options");de(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return ey(this.x)&&ey(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach(s=>{r[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),r}},de(_g,"defaults",{}),de(_g,"defaultRoutes"),_g);function Bj(i,e){const t=i.options.ticks,n=Uj(i),r=Math.min(t.maxTicksLimit||n,n),s=t.major.enabled?zj(e):[],o=s.length,c=s[0],u=s[o-1],d=[];if(o>r)return Hj(e,d,s,o/r),d;const p=jj(s,e,r);if(o>0){let g,v;const b=o>1?Math.round((u-c)/(o-1)):null;for(Qm(e,d,p,xt(b)?0:c-b,c),g=0,v=o-1;g<v;g++)Qm(e,d,p,s[g],s[g+1]);return Qm(e,d,p,u,xt(b)?e.length:u+b),d}return Qm(e,d,p),d}function Uj(i){const e=i.options.offset,t=i._tickSize(),n=i._length/t+(e?0:1),r=i._maxLength/t;return Math.floor(Math.min(n,r))}function jj(i,e,t){const n=qj(i),r=e.length/t;if(!n)return Math.max(r,1);const s=Y3(n);for(let o=0,c=s.length-1;o<c;o++){const u=s[o];if(u>r)return u}return Math.max(r,1)}function zj(i){const e=[];let t,n;for(t=0,n=i.length;t<n;t++)i[t].major&&e.push(t);return e}function Hj(i,e,t,n){let r=0,s=t[0],o;for(n=Math.ceil(n),o=0;o<i.length;o++)o===s&&(e.push(i[o]),r++,s=t[r*n])}function Qm(i,e,t,n,r){const s=it(n,0),o=Math.min(it(r,i.length),i.length);let c=0,u,d,p;for(t=Math.ceil(t),r&&(u=r-n,t=u/Math.floor(u/t)),p=s;p<0;)c++,p=Math.round(s+c*t);for(d=Math.max(s,0);d<o;d++)d===p&&(e.push(i[d]),c++,p=Math.round(s+c*t))}function qj(i){const e=i.length;let t,n;if(e<2)return!1;for(n=i[0],t=1;t<e;++t)if(i[t]-i[t-1]!==n)return!1;return n}const Yj=i=>i==="left"?"right":i==="right"?"left":i,vI=(i,e,t)=>e==="top"||e==="left"?i[e]+t:i[e]-t,_I=(i,e)=>Math.min(e||i,i);function bI(i,e){const t=[],n=i.length/e,r=i.length;let s=0;for(;s<r;s+=n)t.push(i[Math.floor(s)]);return t}function Wj(i,e,t){const n=i.ticks.length,r=Math.min(e,n-1),s=i._startPixel,o=i._endPixel,c=1e-6;let u=i.getPixelForTick(r),d;if(!(t&&(n===1?d=Math.max(u-s,o-u):e===0?d=(i.getPixelForTick(1)-u)/2:d=(u-i.getPixelForTick(r-1))/2,u+=r<e?d:-d,u<s-c||u>o+c)))return u}function Gj(i,e){mt(i,t=>{const n=t.gc,r=n.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[n[s]];n.splice(0,r)}})}function Rd(i){return i.drawTicks?i.tickLength:0}function wI(i,e){if(!i.display)return 0;const t=ui(i.font,e),n=hr(i.padding);return(An(i.text)?i.text.length:1)*t.lineHeight+n.height}function Kj(i,e){return th(i,{scale:e,type:"scale"})}function $j(i,e,t){return th(i,{tick:t,index:e,type:"tick"})}function Qj(i,e,t){let n=VP(i);return(t&&e!=="right"||!t&&e==="right")&&(n=Yj(n)),n}function Xj(i,e,t,n){const{top:r,left:s,bottom:o,right:c,chart:u}=i,{chartArea:d,scales:p}=u;let g=0,v,b,T;const S=o-r,E=c-s;if(i.isHorizontal()){if(b=Ei(n,s,c),rt(t)){const R=Object.keys(t)[0],P=t[R];T=p[R].getPixelForValue(P)+S-e}else t==="center"?T=(d.bottom+d.top)/2+S-e:T=vI(i,t,e);v=c-s}else{if(rt(t)){const R=Object.keys(t)[0],P=t[R];b=p[R].getPixelForValue(P)-E+e}else t==="center"?b=(d.left+d.right)/2-E+e:b=vI(i,t,e);T=Ei(n,o,r),g=t==="left"?-yn:yn}return{titleX:b,titleY:T,maxWidth:v,rotation:g}}class ih extends nh{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=kr(e,Number.POSITIVE_INFINITY),t=kr(t,Number.NEGATIVE_INFINITY),n=kr(n,Number.POSITIVE_INFINITY),r=kr(r,Number.NEGATIVE_INFINITY),{min:kr(e,n),max:kr(t,r),minDefined:Ji(e),maxDefined:Ji(t)}}getMinMax(e){let{min:t,max:n,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:t,max:n};const c=this.getMatchingVisibleMetas();for(let u=0,d=c.length;u<d;++u)o=c[u].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(n=Math.max(n,o.max));return t=s&&t>n?n:t,n=r&&t>n?t:n,{min:kr(t,kr(n,t)),max:kr(n,kr(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){It(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:s,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=bU(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?bI(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Bj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){It(this.options.afterUpdate,[this])}beforeSetDimensions(){It(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){It(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),It(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){It(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n],s.label=It(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){It(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){It(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=_I(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let o=r,c,u,d;if(!this._isVisible()||!t.display||r>=s||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),g=p.widest.width,v=p.highest.height,b=ci(this.chart.width-g,0,this.maxWidth);c=e.offset?this.maxWidth/n:b/(n-1),g+6>c&&(c=b/(n-(e.offset?.5:1)),u=this.maxHeight-Rd(e.grid)-t.padding-wI(e.title,this.chart.options.font),d=Math.sqrt(g*g+v*v),o=$3(Math.min(Math.asin(ci((p.highest.height+6)/c,-1,1)),Math.asin(ci(u/d,-1,1))-Math.asin(ci(v/d,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){It(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){It(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:s}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const u=wI(r,t.options.font);if(c?(e.width=this.maxWidth,e.height=Rd(s)+u):(e.height=this.maxHeight,e.width=Rd(s)+u),n.display&&this.ticks.length){const{first:d,last:p,widest:g,highest:v}=this._getLabelSizes(),b=n.padding*2,T=Ns(this.labelRotation),S=Math.cos(T),E=Math.sin(T);if(c){const R=n.mirror?0:E*g.width+S*v.height;e.height=Math.min(this.maxHeight,e.height+R+b)}else{const R=n.mirror?0:S*g.width+E*v.height;e.width=Math.min(this.maxWidth,e.width+R+b)}this._calculatePadding(d,p,E,S)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:s,padding:o},position:c}=this.options,u=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,b=0;u?d?(v=r*e.width,b=n*t.height):(v=n*e.height,b=r*t.width):s==="start"?b=t.width:s==="end"?v=e.width:s!=="inner"&&(v=e.width/2,b=t.width/2),this.paddingLeft=Math.max((v-p+o)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-g+o)*this.width/(this.width-g),0)}else{let p=t.height/2,g=e.height/2;s==="start"?(p=0,g=e.height):s==="end"&&(p=t.height,g=0),this.paddingTop=p+o,this.paddingBottom=g+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){It(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)xt(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=bI(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:s}=this,o=[],c=[],u=Math.floor(t/_I(t,n));let d=0,p=0,g,v,b,T,S,E,R,P,O,z,U;for(g=0;g<t;g+=u){if(T=e[g].label,S=this._resolveTickFontOptions(g),r.font=E=S.string,R=s[E]=s[E]||{data:{},gc:[]},P=S.lineHeight,O=z=0,!xt(T)&&!An(T))O=Q1(r,R.data,R.gc,O,T),z=P;else if(An(T))for(v=0,b=T.length;v<b;++v)U=T[v],!xt(U)&&!An(U)&&(O=Q1(r,R.data,R.gc,O,U),z+=P);o.push(O),c.push(z),d=Math.max(O,d),p=Math.max(z,p)}Gj(s,t);const K=o.indexOf(d),M=c.indexOf(p),A=I=>({width:o[I]||0,height:c[I]||0});return{first:A(0),last:A(t-1),widest:A(K),highest:A(M),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return X3(this._alignToPixels?il(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=$j(this.getContext(),e,n))}return this.$context||(this.$context=Kj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Ns(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,c=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*n>c*r?c/n:u/r:u*r<c*n?u/n:c/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:s,position:o,border:c}=r,u=s.offset,d=this.isHorizontal(),g=this.ticks.length+(u?1:0),v=Rd(s),b=[],T=c.setContext(this.getContext()),S=T.display?T.width:0,E=S/2,R=function(q){return il(n,q,S)};let P,O,z,U,K,M,A,I,F,L,B,V;if(o==="top")P=R(this.bottom),M=this.bottom-v,I=P-E,L=R(e.top)+E,V=e.bottom;else if(o==="bottom")P=R(this.top),L=e.top,V=R(e.bottom)-E,M=P+E,I=this.top+v;else if(o==="left")P=R(this.right),K=this.right-v,A=P-E,F=R(e.left)+E,B=e.right;else if(o==="right")P=R(this.left),F=e.left,B=R(e.right)-E,K=P+E,A=this.left+v;else if(t==="x"){if(o==="center")P=R((e.top+e.bottom)/2+.5);else if(rt(o)){const q=Object.keys(o)[0],G=o[q];P=R(this.chart.scales[q].getPixelForValue(G))}L=e.top,V=e.bottom,M=P+E,I=M+v}else if(t==="y"){if(o==="center")P=R((e.left+e.right)/2);else if(rt(o)){const q=Object.keys(o)[0],G=o[q];P=R(this.chart.scales[q].getPixelForValue(G))}K=P-E,A=K-v,F=e.left,B=e.right}const me=it(r.ticks.maxTicksLimit,g),pe=Math.max(1,Math.ceil(g/me));for(O=0;O<g;O+=pe){const q=this.getContext(O),G=s.setContext(q),ae=c.setContext(q),X=G.lineWidth,k=G.color,W=ae.dash||[],oe=ae.dashOffset,ie=G.tickWidth,ye=G.tickColor,De=G.tickBorderDash||[],Te=G.tickBorderDashOffset;z=Wj(this,O,u),z!==void 0&&(U=il(n,z,X),d?K=A=F=B=U:M=I=L=V=U,b.push({tx1:K,ty1:M,tx2:A,ty2:I,x1:F,y1:L,x2:B,y2:V,width:X,color:k,borderDash:W,borderDashOffset:oe,tickWidth:ie,tickColor:ye,tickBorderDash:De,tickBorderDashOffset:Te}))}return this._ticksLength=g,this._borderValue=P,b}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:s}=n,o=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:d,padding:p,mirror:g}=s,v=Rd(n.grid),b=v+p,T=g?-p:b,S=-Ns(this.labelRotation),E=[];let R,P,O,z,U,K,M,A,I,F,L,B,V="middle";if(r==="top")K=this.bottom-T,M=this._getXAxisLabelAlignment();else if(r==="bottom")K=this.top+T,M=this._getXAxisLabelAlignment();else if(r==="left"){const pe=this._getYAxisLabelAlignment(v);M=pe.textAlign,U=pe.x}else if(r==="right"){const pe=this._getYAxisLabelAlignment(v);M=pe.textAlign,U=pe.x}else if(t==="x"){if(r==="center")K=(e.top+e.bottom)/2+b;else if(rt(r)){const pe=Object.keys(r)[0],q=r[pe];K=this.chart.scales[pe].getPixelForValue(q)+b}M=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")U=(e.left+e.right)/2-b;else if(rt(r)){const pe=Object.keys(r)[0],q=r[pe];U=this.chart.scales[pe].getPixelForValue(q)}M=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(u==="start"?V="top":u==="end"&&(V="bottom"));const me=this._getLabelSizes();for(R=0,P=c.length;R<P;++R){O=c[R],z=O.label;const pe=s.setContext(this.getContext(R));A=this.getPixelForTick(R)+s.labelOffset,I=this._resolveTickFontOptions(R),F=I.lineHeight,L=An(z)?z.length:1;const q=L/2,G=pe.color,ae=pe.textStrokeColor,X=pe.textStrokeWidth;let k=M;o?(U=A,M==="inner"&&(R===P-1?k=this.options.reverse?"left":"right":R===0?k=this.options.reverse?"right":"left":k="center"),r==="top"?d==="near"||S!==0?B=-L*F+F/2:d==="center"?B=-me.highest.height/2-q*F+F:B=-me.highest.height+F/2:d==="near"||S!==0?B=F/2:d==="center"?B=me.highest.height/2-q*F:B=me.highest.height-L*F,g&&(B*=-1),S!==0&&!pe.showLabelBackdrop&&(U+=F/2*Math.sin(S))):(K=A,B=(1-L)*F/2);let W;if(pe.showLabelBackdrop){const oe=hr(pe.backdropPadding),ie=me.heights[R],ye=me.widths[R];let De=B-oe.top,Te=0-oe.left;switch(V){case"middle":De-=ie/2;break;case"bottom":De-=ie;break}switch(M){case"center":Te-=ye/2;break;case"right":Te-=ye;break;case"inner":R===P-1?Te-=ye:R>0&&(Te-=ye/2);break}W={left:Te,top:De,width:ye+oe.width,height:ie+oe.height,color:pe.backdropColor}}E.push({label:z,font:I,textOffset:B,options:{rotation:S,color:G,strokeColor:ae,strokeWidth:X,textAlign:k,textBaseline:V,translation:[U,K],backdrop:W}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ns(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),c=e+s,u=o.widest.width;let d,p;return t==="left"?r?(p=this.right+s,n==="near"?d="left":n==="center"?(d="center",p+=u/2):(d="right",p+=u)):(p=this.right-c,n==="near"?d="right":n==="center"?(d="center",p-=u/2):(d="left",p=this.left)):t==="right"?r?(p=this.left+s,n==="near"?d="right":n==="center"?(d="center",p-=u/2):(d="left",p-=u)):(p=this.left+c,n==="near"?d="left":n==="center"?(d="center",p+=u/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const c=(u,d,p)=>{!p.width||!p.color||(n.save(),n.lineWidth=p.width,n.strokeStyle=p.color,n.setLineDash(p.borderDash||[]),n.lineDashOffset=p.borderDashOffset,n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const u=r[s];t.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),t.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,p,g,v;this.isHorizontal()?(d=il(e,this.left,o)-o/2,p=il(e,this.right,c)+c/2,g=v=u):(g=il(e,this.top,o)-o/2,v=il(e,this.bottom,c)+c/2,d=p=u),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(d,g),t.lineTo(p,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&tS(n,r);const s=this.getLabelItems(e);for(const o of s){const c=o.options,u=o.font,d=o.label,p=o.textOffset;ny(n,d,0,p,u,c)}r&&nS(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const s=ui(n.font),o=hr(n.padding),c=n.align;let u=s.lineHeight/2;t==="bottom"||t==="center"||rt(t)?(u+=o.bottom,An(n.text)&&(u+=s.lineHeight*(n.text.length-1))):u+=o.top;const{titleX:d,titleY:p,maxWidth:g,rotation:v}=Xj(this,u,t,c);ny(e,n.text,0,0,s,{color:n.color,maxWidth:g,rotation:v,textAlign:Qj(c,t,r),textBaseline:"middle",translation:[d,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=it(e.grid&&e.grid.z,-1),r=it(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ih.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const c=t[s];c[n]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ui(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Xm{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;e6(t)&&(n=this.register(t));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,Zj(e,o,n),this.override&&Qt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in Qt[r]&&(delete Qt[r][n],this.override&&delete Nl[n])}}function Zj(i,e,t){const n=Ef(Object.create(null),[t?Qt.get(t):{},Qt.get(e),i.defaults]);Qt.set(e,n),i.defaultRoutes&&Jj(e,i.defaultRoutes),i.descriptors&&Qt.describe(e,i.descriptors)}function Jj(i,e){Object.keys(e).forEach(t=>{const n=t.split("."),r=n.pop(),s=[i].concat(n).join("."),o=e[t].split("."),c=o.pop(),u=o.join(".");Qt.route(s,r,u,c)})}function e6(i){return"id"in i&&"defaults"in i}class t6{constructor(){this.controllers=new Xm(bu,"datasets",!0),this.elements=new Xm(nh,"elements"),this.plugins=new Xm(Object,"plugins"),this.scales=new Xm(ih,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(r=>{const s=n||this._getRegistryForType(r);n||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):mt(r,o=>{const c=n||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,t,n){const r=ZT(e);It(n["before"+r],[],n),t[e](n),It(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var Or=new t6;class n6{constructor(){this._init=[]}notify(e,t,n,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,n);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,r){r=r||{};for(const s of e){const o=s.plugin,c=o[n],u=[t,r,s.options];if(It(c,u,o)===!1&&r.cancelable)return!1}return!0}invalidate(){xt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=it(n.options&&n.options.plugins,{}),s=i6(n);return r===!1&&!t?[]:s6(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(s,o)=>s.filter(c=>!o.some(u=>c.plugin.id===u.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function i6(i){const e={},t=[],n=Object.keys(Or.plugins.items);for(let s=0;s<n.length;s++)t.push(Or.getPlugin(n[s]));const r=i.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function r6(i,e){return!e&&i===!1?null:i===!0?{}:i}function s6(i,{plugins:e,localIds:t},n,r){const s=[],o=i.getContext();for(const c of e){const u=c.id,d=r6(n[u],r);d!==null&&s.push({plugin:c,options:a6(i.config,{plugin:c,local:t[u]},d,o)})}return s}function a6(i,{plugin:e,local:t},n,r){const s=i.pluginScopeKeys(e),o=i.getOptionScopes(n,s);return t&&e.defaults&&o.push(e.defaults),i.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Iw(i,e){const t=Qt.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function o6(i,e){let t=i;return i==="_index_"?t=e:i==="_value_"&&(t=e==="x"?"y":"x"),t}function l6(i,e){return i===e?"_index_":"_value_"}function TI(i){if(i==="x"||i==="y"||i==="r")return i}function c6(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Rw(i,...e){if(TI(i))return i;for(const t of e){const n=t.axis||c6(t.position)||i.length>1&&TI(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function SI(i,e,t){if(t[e+"AxisID"]===i)return{axis:e}}function u6(i,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(t.length)return SI(i,"x",t[0])||SI(i,"y",t[0])}return{}}function h6(i,e){const t=Nl[i.type]||{scales:{}},n=e.scales||{},r=Iw(i.type,e),s=Object.create(null);return Object.keys(n).forEach(o=>{const c=n[o];if(!rt(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=Rw(o,c,u6(o,i),Qt.scales[c.type]),d=l6(u,r),p=t.scales||{};s[o]=nf(Object.create(null),[{axis:u},c,p[u],p[d]])}),i.data.datasets.forEach(o=>{const c=o.type||i.type,u=o.indexAxis||Iw(c,e),p=(Nl[c]||{}).scales||{};Object.keys(p).forEach(g=>{const v=o6(g,u),b=o[v+"AxisID"]||v;s[b]=s[b]||Object.create(null),nf(s[b],[{axis:v},n[b],p[g]])})}),Object.keys(s).forEach(o=>{const c=s[o];nf(c,[Qt.scales[c.type],Qt.scale])}),s}function nO(i){const e=i.options||(i.options={});e.plugins=it(e.plugins,{}),e.scales=h6(i,e)}function iO(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function d6(i){return i=i||{},i.data=iO(i.data),nO(i),i}const EI=new Map,rO=new Set;function Zm(i,e){let t=EI.get(i);return t||(t=e(),EI.set(i,t),rO.add(t)),t}const Cd=(i,e,t)=>{const n=Ol(e,t);n!==void 0&&i.add(n)};class f6{constructor(e){this._config=d6(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=iO(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),nO(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Zm(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Zm(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Zm(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Zm(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return(!r||t)&&(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:s}=this,o=this._cachedScopes(e,n),c=o.get(t);if(c)return c;const u=new Set;t.forEach(p=>{e&&(u.add(e),p.forEach(g=>Cd(u,e,g))),p.forEach(g=>Cd(u,r,g)),p.forEach(g=>Cd(u,Nl[s]||{},g)),p.forEach(g=>Cd(u,Qt,g)),p.forEach(g=>Cd(u,Aw,g))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),rO.has(t)&&o.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,Nl[t]||{},Qt.datasets[t]||{},{type:t},Qt,Aw]}resolveNamedOptions(e,t,n,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:c}=xI(this._resolverCache,e,r);let u=o;if(m6(o,t)){s.$shared=!1,n=io(n)?n():n;const d=this.createResolver(e,n,c);u=Iu(o,n,d)}for(const d of t)s[d]=u[d];return s}createResolver(e,t,n=[""],r){const{resolver:s}=xI(this._resolverCache,e,n);return rt(t)?Iu(s,t,void 0,r):s}}function xI(i,e,t){let n=i.get(e);n||(n=new Map,i.set(e,n));const r=t.join();let s=n.get(r);return s||(s={resolver:rS(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},n.set(r,s)),s}const p6=i=>rt(i)&&Object.getOwnPropertyNames(i).some(e=>io(i[e]));function m6(i,e){const{isScriptable:t,isIndexable:n}=zP(i);for(const r of e){const s=t(r),o=n(r),c=(o||s)&&i[r];if(s&&(io(c)||p6(c))||o&&An(c))return!0}return!1}var g6="4.5.0";const y6=["top","bottom","left","right","chartArea"];function DI(i,e){return i==="top"||i==="bottom"||y6.indexOf(i)===-1&&e==="x"}function AI(i,e){return function(t,n){return t[i]===n[i]?t[e]-n[e]:t[i]-n[i]}}function II(i){const e=i.chart,t=e.options.animation;e.notifyPlugins("afterRender"),It(t&&t.onComplete,[i],e)}function v6(i){const e=i.chart,t=e.options.animation;It(t&&t.onProgress,[i],e)}function sO(i){return oS()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const Sg={},RI=i=>{const e=sO(i);return Object.values(Sg).filter(t=>t.canvas===e).pop()};function _6(i,e,t){const n=Object.keys(i);for(const r of n){const s=+r;if(s>=e){const o=i[r];delete i[r],(t>0||s>e)&&(i[s+t]=o)}}}function b6(i,e,t,n){return!t||i.type==="mouseout"?null:n?e:i}var Na;let rh=(Na=class{static register(...e){Or.add(...e),CI()}static unregister(...e){Or.remove(...e),CI()}constructor(e,t){const n=this.config=new f6(t),r=sO(e),s=RI(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Fj(r)),this.platform.updateConfig(n);const c=this.platform.acquireContext(r,o.aspectRatio),u=c&&c.canvas,d=u&&u.height,p=u&&u.width;if(this.id=L3(),this.ctx=c,this.canvas=u,this.width=p,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new n6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=tU(g=>this.update(g),o.resizeDelay||0),this._dataChanges=[],Sg[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}ks.listen(this,"complete",II),ks.listen(this,"progress",v6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:s}=this;return xt(e)?t&&s?s:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Or}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tI(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return X1(this.canvas,this.ctx),this}stop(){return ks.stop(this),this}resize(e,t){ks.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,t,s),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,tI(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),It(n.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};mt(t,(n,r)=>{n.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce((o,c)=>(o[c]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const c=t[o],u=Rw(o,c),d=u==="r",p=u==="x";return{options:c,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),mt(s,o=>{const c=o.options,u=c.id,d=Rw(u,c),p=it(c.type,o.dtype);(c.position===void 0||DI(c.position,d)!==DI(o.dposition))&&(c.position=o.dposition),r[u]=!0;let g=null;if(u in n&&n[u].type===p)g=n[u];else{const v=Or.getScale(p);g=new v({id:u,type:p,ctx:this.ctx,chart:this}),n[g.id]=g}g.init(c,e)}),mt(r,(o,c)=>{o||delete n[c]}),mt(n,o=>{Ha.configure(this,o,o.options),Ha.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((r,s)=>r.index-s.index),n>t){for(let r=t;r<n;++r)this._destroyDatasetMeta(r);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(AI("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,r)=>{t.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const s=t[n];let o=this.getDatasetMeta(n);const c=s.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=c,o.indexAxis=s.indexAxis||Iw(c,this.options),o.order=s.order||0,o.index=n,o.label=""+s.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const u=Or.getController(c),{datasetElementType:d,dataElementType:p}=Qt.datasets[c];Object.assign(u,{dataElementType:Or.getElement(p),datasetElementType:d&&Or.getElement(d)}),o.controller=new u(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){mt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:g}=this.getDatasetMeta(d),v=!r&&s.indexOf(g)===-1;g.buildOrUpdateElements(v),o=Math.max(+g.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||mt(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(AI("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){mt(this.scales,e=>{Ha.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!j1(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:s}of t){const o=n==="_removeElements"?-s:s;_6(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=s=>new Set(e.filter(o=>o[0]===s).map((o,c)=>c+","+o.splice(1).join(","))),r=n(0);for(let s=1;s<t;s++)if(!j1(r,n(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ha.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],mt(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,io(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ks.has(this)?this.attached&&!ks.running(this)&&ks.start(this):(this.draw(),II({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,s;for(r=0,s=t.length;r<s;++r){const o=t[r];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=UU(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(r&&tS(t,r),e.controller.draw(),r&&nS(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return UP(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const s=yj.modes[t];return typeof s=="function"?s(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=th(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);xf(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(s,{visible:n}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ks.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),X1(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Sg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},r=(s,o,c)=>{s.offsetX=o,s.offsetY=c,this._eventHandler(s)};mt(this.options.events,s=>n(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(u,d)=>{t.addEventListener(this,u,d),e[u]=d},r=(u,d)=>{e[u]&&(t.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let o;const c=()=>{r("attach",c),this.attached=!0,this.resize(),n("resize",s),n("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),n("attach",c)},t.isAttached(this.canvas)?c():o()}unbindEvents(){mt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},mt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let s,o,c,u;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){o=e[c];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:s,index:o})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[o],index:o}});!Xg(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const r=this.options.hover,s=(u,d)=>u.filter(p=>!d.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),o=s(t,e),c=n?e:s(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:s}=this,o=t,c=this._getActiveElements(e,r,n,o),u=H3(e),d=b6(e,this._lastEvent,n,u);n&&(this._lastEvent=null,It(s.onHover,[e,c,this],this),u&&It(s.onClick,[e,c,this],this));const p=!Xg(c,r);return(p||t)&&(this._active=c,this._updateHoverStyles(c,r,t)),this._lastEvent=d,p}_getActiveElements(e,t,n,r){if(e.type==="mouseout")return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},de(Na,"defaults",Qt),de(Na,"instances",Sg),de(Na,"overrides",Nl),de(Na,"registry",Or),de(Na,"version",g6),de(Na,"getChart",RI),Na);function CI(){return mt(rh.instances,i=>i._plugins.invalidate())}function w6(i,e,t){const{startAngle:n,x:r,y:s,outerRadius:o,innerRadius:c,options:u}=e,{borderWidth:d,borderJoinStyle:p}=u,g=Math.min(d/o,Nr(n-t));if(i.beginPath(),i.arc(r,s,o-d/2,n+g/2,t-g/2),c>0){const v=Math.min(d/c,Nr(n-t));i.arc(r,s,c+d/2,t-v/2,n+v/2,!0)}else{const v=Math.min(d/2,o*Nr(n-t));if(p==="round")i.arc(r,s,v,t-Rt/2,n+Rt/2,!0);else if(p==="bevel"){const b=2*v*v,T=-b*Math.cos(t+Rt/2)+r,S=-b*Math.sin(t+Rt/2)+s,E=b*Math.cos(n+Rt/2)+r,R=b*Math.sin(n+Rt/2)+s;i.lineTo(T,S),i.lineTo(E,R)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function T6(i,e,t){const{startAngle:n,pixelMargin:r,x:s,y:o,outerRadius:c,innerRadius:u}=e;let d=r/c;i.beginPath(),i.arc(s,o,c,n-d,t+d),u>r?(d=r/u,i.arc(s,o,u,t+d,n-d,!0)):i.arc(s,o,r,t+yn,n-yn),i.closePath(),i.clip()}function S6(i){return iS(i,["outerStart","outerEnd","innerStart","innerEnd"])}function E6(i,e,t,n){const r=S6(i.options.borderRadius),s=(t-e)/2,o=Math.min(s,n*e/2),c=u=>{const d=(t-Math.min(s,u))*n/2;return ci(u,0,Math.min(s,d))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:ci(r.innerStart,0,o),innerEnd:ci(r.innerEnd,0,o)}}function Qc(i,e,t,n){return{x:t+i*Math.cos(e),y:n+i*Math.sin(e)}}function ay(i,e,t,n,r,s){const{x:o,y:c,startAngle:u,pixelMargin:d,innerRadius:p}=e,g=Math.max(e.outerRadius+n+t-d,0),v=p>0?p+n+t+d:0;let b=0;const T=r-u;if(n){const pe=p>0?p-n:0,q=g>0?g-n:0,G=(pe+q)/2,ae=G!==0?T*G/(G+n):T;b=(T-ae)/2}const S=Math.max(.001,T*g-t/Rt)/g,E=(T-S)/2,R=u+E+b,P=r-E-b,{outerStart:O,outerEnd:z,innerStart:U,innerEnd:K}=E6(e,v,g,P-R),M=g-O,A=g-z,I=R+O/M,F=P-z/A,L=v+U,B=v+K,V=R+U/L,me=P-K/B;if(i.beginPath(),s){const pe=(I+F)/2;if(i.arc(o,c,g,I,pe),i.arc(o,c,g,pe,F),z>0){const X=Qc(A,F,o,c);i.arc(X.x,X.y,z,F,P+yn)}const q=Qc(B,P,o,c);if(i.lineTo(q.x,q.y),K>0){const X=Qc(B,me,o,c);i.arc(X.x,X.y,K,P+yn,me+Math.PI)}const G=(P-K/v+(R+U/v))/2;if(i.arc(o,c,v,P-K/v,G,!0),i.arc(o,c,v,G,R+U/v,!0),U>0){const X=Qc(L,V,o,c);i.arc(X.x,X.y,U,V+Math.PI,R-yn)}const ae=Qc(M,R,o,c);if(i.lineTo(ae.x,ae.y),O>0){const X=Qc(M,I,o,c);i.arc(X.x,X.y,O,R-yn,I)}}else{i.moveTo(o,c);const pe=Math.cos(I)*g+o,q=Math.sin(I)*g+c;i.lineTo(pe,q);const G=Math.cos(F)*g+o,ae=Math.sin(F)*g+c;i.lineTo(G,ae)}i.closePath()}function x6(i,e,t,n,r){const{fullCircles:s,startAngle:o,circumference:c}=e;let u=e.endAngle;if(s){ay(i,e,t,n,u,r);for(let d=0;d<s;++d)i.fill();isNaN(c)||(u=o+(c%cn||cn))}return ay(i,e,t,n,u,r),i.fill(),u}function D6(i,e,t,n,r){const{fullCircles:s,startAngle:o,circumference:c,options:u}=e,{borderWidth:d,borderJoinStyle:p,borderDash:g,borderDashOffset:v,borderRadius:b}=u,T=u.borderAlign==="inner";if(!d)return;i.setLineDash(g||[]),i.lineDashOffset=v,T?(i.lineWidth=d*2,i.lineJoin=p||"round"):(i.lineWidth=d,i.lineJoin=p||"bevel");let S=e.endAngle;if(s){ay(i,e,t,n,S,r);for(let E=0;E<s;++E)i.stroke();isNaN(c)||(S=o+(c%cn||cn))}T&&T6(i,e,S),u.selfJoin&&S-o>=Rt&&b===0&&p!=="miter"&&w6(i,e,S),s||(ay(i,e,t,n,S,r),i.stroke())}class uu extends nh{constructor(t){super();de(this,"circumference");de(this,"endAngle");de(this,"fullCircles");de(this,"innerRadius");de(this,"outerRadius");de(this,"pixelMargin");de(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const s=this.getProps(["x","y"],r),{angle:o,distance:c}=MP(s,{x:t,y:n}),{startAngle:u,endAngle:d,innerRadius:p,outerRadius:g,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),b=(this.options.spacing+this.options.borderWidth)/2,T=it(v,d-u),S=ty(o,u,d)&&u!==d,E=T>=cn||S,R=yl(c,p+b,g+b);return E&&R}getCenterPoint(t){const{x:n,y:r,startAngle:s,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:p}=this.options,g=(s+o)/2,v=(c+u+p+d)/2;return{x:n+Math.cos(g)*v,y:r+Math.sin(g)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,s=(n.offset||0)/4,o=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>cn?Math.floor(r/cn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*s,Math.sin(u)*s);const d=1-Math.sin(Math.min(Rt,r||0)),p=s*d;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,x6(t,this,p,o,c),D6(t,this,p,o,c),t.restore()}}de(uu,"id","arc"),de(uu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),de(uu,"defaultRoutes",{backgroundColor:"backgroundColor"}),de(uu,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function aO(i,e){const{x:t,y:n,base:r,width:s,height:o}=i.getProps(["x","y","base","width","height"],e);let c,u,d,p,g;return i.horizontal?(g=o/2,c=Math.min(t,r),u=Math.max(t,r),d=n-g,p=n+g):(g=s/2,c=t-g,u=t+g,d=Math.min(n,r),p=Math.max(n,r)),{left:c,top:d,right:u,bottom:p}}function qa(i,e,t,n){return i?0:ci(e,t,n)}function A6(i,e,t){const n=i.options.borderWidth,r=i.borderSkipped,s=jP(n);return{t:qa(r.top,s.top,0,t),r:qa(r.right,s.right,0,e),b:qa(r.bottom,s.bottom,0,t),l:qa(r.left,s.left,0,e)}}function I6(i,e,t){const{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,s=vu(r),o=Math.min(e,t),c=i.borderSkipped,u=n||rt(r);return{topLeft:qa(!u||c.top||c.left,s.topLeft,0,o),topRight:qa(!u||c.top||c.right,s.topRight,0,o),bottomLeft:qa(!u||c.bottom||c.left,s.bottomLeft,0,o),bottomRight:qa(!u||c.bottom||c.right,s.bottomRight,0,o)}}function R6(i){const e=aO(i),t=e.right-e.left,n=e.bottom-e.top,r=A6(i,t/2,n/2),s=I6(i,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function h0(i,e,t,n){const r=e===null,s=t===null,c=i&&!(r&&s)&&aO(i,n);return c&&(r||yl(e,c.left,c.right))&&(s||yl(t,c.top,c.bottom))}function C6(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function M6(i,e){i.rect(e.x,e.y,e.w,e.h)}function d0(i,e,t={}){const n=i.x!==t.x?-e:0,r=i.y!==t.y?-e:0,s=(i.x+i.w!==t.x+t.w?e:0)-n,o=(i.y+i.h!==t.y+t.h?e:0)-r;return{x:i.x+n,y:i.y+r,w:i.w+s,h:i.h+o,radius:i.radius}}class Eg extends nh{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:o}=R6(this),c=C6(o.radius)?iy:M6;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),c(e,d0(o,t,s)),e.clip(),c(e,d0(s,-t,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),c(e,d0(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return h0(this,e,t,n)}inXRange(e,t){return h0(this,e,null,t)}inYRange(e,t){return h0(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?n:(n+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}de(Eg,"id","bar"),de(Eg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),de(Eg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const MI=(i,e)=>{let{boxHeight:t=e,boxWidth:n=e}=i;return i.usePointStyle&&(t=Math.min(t,e),n=i.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},k6=(i,e)=>i!==null&&e!==null&&i.datasetIndex===e.datasetIndex&&i.index===e.index;class kI extends nh{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=It(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,r)=>e.sort(n,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,r=ui(n.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=MI(n,s);let d,p;t.font=r.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(o,s,c,u)+10):(p=this.maxHeight,d=this._fitCols(o,r,c,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:s,maxWidth:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],p=r+c;let g=e;s.textAlign="left",s.textBaseline="middle";let v=-1,b=-p;return this.legendItems.forEach((T,S)=>{const E=n+t/2+s.measureText(T.text).width;(S===0||d[d.length-1]+E+2*c>o)&&(g+=p,d[d.length-(S>0?0:1)]=0,b+=p,v++),u[S]={left:0,top:b,row:v,width:E,height:r},d[d.length-1]+=E+c}),g}_fitCols(e,t,n,r){const{ctx:s,maxHeight:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],p=o-e;let g=c,v=0,b=0,T=0,S=0;return this.legendItems.forEach((E,R)=>{const{itemWidth:P,itemHeight:O}=P6(n,t,s,E,r);R>0&&b+O+2*c>p&&(g+=v+c,d.push({width:v,height:b}),T+=v+c,S++,v=b=0),u[R]={left:T,top:b,col:S,width:P,height:O},v=Math.max(v,P),b+=O+c}),g+=v,d.push({width:v,height:b}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:s}}=this,o=_u(s,this.left,this.width);if(this.isHorizontal()){let c=0,u=Ei(n,this.left+r,this.right-this.lineWidths[c]);for(const d of t)c!==d.row&&(c=d.row,u=Ei(n,this.left+r,this.right-this.lineWidths[c])),d.top+=this.top+e+r,d.left=o.leftForLtr(o.x(u),d.width),u+=d.width+r}else{let c=0,u=Ei(n,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const d of t)d.col!==c&&(c=d.col,u=Ei(n,this.top+e+r,this.bottom-this.columnSizes[c].height)),d.top=u,d.left+=this.left+r,d.left=o.leftForLtr(o.x(d.left),d.width),u+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;tS(e,this),this._draw(),nS(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:s,labels:o}=e,c=Qt.color,u=_u(e.rtl,this.left,this.width),d=ui(o.font),{padding:p}=o,g=d.size,v=g/2;let b;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:T,boxHeight:S,itemHeight:E}=MI(o,g),R=function(K,M,A){if(isNaN(T)||T<=0||isNaN(S)||S<0)return;r.save();const I=it(A.lineWidth,1);if(r.fillStyle=it(A.fillStyle,c),r.lineCap=it(A.lineCap,"butt"),r.lineDashOffset=it(A.lineDashOffset,0),r.lineJoin=it(A.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=it(A.strokeStyle,c),r.setLineDash(it(A.lineDash,[])),o.usePointStyle){const F={radius:S*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:I},L=u.xPlus(K,T/2),B=M+v;BP(r,F,L,B,o.pointStyleWidth&&T)}else{const F=M+Math.max((g-S)/2,0),L=u.leftForLtr(K,T),B=vu(A.borderRadius);r.beginPath(),Object.values(B).some(V=>V!==0)?iy(r,{x:L,y:F,w:T,h:S,radius:B}):r.rect(L,F,T,S),r.fill(),I!==0&&r.stroke()}r.restore()},P=function(K,M,A){ny(r,A.text,K,M+E/2,d,{strikethrough:A.hidden,textAlign:u.textAlign(A.textAlign)})},O=this.isHorizontal(),z=this._computeTitleHeight();O?b={x:Ei(s,this.left+p,this.right-n[0]),y:this.top+p+z,line:0}:b={x:this.left+p,y:Ei(s,this.top+z+p,this.bottom-t[0].height),line:0},WP(this.ctx,e.textDirection);const U=E+p;this.legendItems.forEach((K,M)=>{r.strokeStyle=K.fontColor,r.fillStyle=K.fontColor;const A=r.measureText(K.text).width,I=u.textAlign(K.textAlign||(K.textAlign=o.textAlign)),F=T+v+A;let L=b.x,B=b.y;u.setWidth(this.width),O?M>0&&L+F+p>this.right&&(B=b.y+=U,b.line++,L=b.x=Ei(s,this.left+p,this.right-n[b.line])):M>0&&B+U>this.bottom&&(L=b.x=L+t[b.line].width+p,b.line++,B=b.y=Ei(s,this.top+z+p,this.bottom-t[b.line].height));const V=u.x(L);if(R(V,B,K),L=nU(I,L+T+v,O?L+F:this.right,e.rtl),P(u.x(L),B,K),O)b.x+=F+p;else if(typeof K.text!="string"){const me=d.lineHeight;b.y+=oO(K,me)+p}else b.y+=U}),GP(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=ui(t.font),r=hr(t.padding);if(!t.display)return;const s=_u(e.rtl,this.left,this.width),o=this.ctx,c=t.position,u=n.size/2,d=r.top+u;let p,g=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+d,g=Ei(e.align,g,this.right-v);else{const T=this.columnSizes.reduce((S,E)=>Math.max(S,E.height),0);p=d+Ei(e.align,this.top,this.bottom-T-e.labels.padding-this._computeTitleHeight())}const b=Ei(c,g,g+v);o.textAlign=s.textAlign(VP(c)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,ny(o,t.text,b,p,n)}_computeTitleHeight(){const e=this.options.title,t=ui(e.font),n=hr(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,s;if(yl(e,this.left,this.right)&&yl(t,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],yl(e,r.left,r.left+r.width)&&yl(t,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!V6(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=k6(r,n);r&&!s&&It(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!s&&It(t.onHover,[e,n,this],this)}else n&&It(t.onClick,[e,n,this],this)}}function P6(i,e,t,n,r){const s=O6(n,i,e,t),o=N6(r,n,e.lineHeight);return{itemWidth:s,itemHeight:o}}function O6(i,e,t,n){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+n.measureText(r).width}function N6(i,e,t){let n=i;return typeof e.text!="string"&&(n=oO(e,t)),n}function oO(i,e){const t=i.text?i.text.length:0;return e*t}function V6(i,e){return!!((i==="mousemove"||i==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(i==="click"||i==="mouseup"))}var lO={id:"legend",_element:kI,start(i,e,t){const n=i.legend=new kI({ctx:i.ctx,options:t,chart:i});Ha.configure(i,n,t),Ha.addBox(i,n)},stop(i){Ha.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,e,t){const n=i.legend;Ha.configure(i,n,t),n.options=t},afterUpdate(i){const e=i.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(i,e){e.replay||i.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,e,t){const n=e.datasetIndex,r=t.chart;r.isDatasetVisible(n)?(r.hide(n),e.hidden=!0):(r.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const e=i.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:r,color:s,useBorderRadius:o,borderRadius:c}}=i.legend.options;return i._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(t?0:void 0),p=hr(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:o&&(c||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};const Yd={average(i){if(!i.length)return!1;let e,t,n=new Set,r=0,s=0;for(e=0,t=i.length;e<t;++e){const c=i[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();n.add(u.x),r+=u.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((c,u)=>c+u)/n.size,y:r/s}},nearest(i,e){if(!i.length)return!1;let t=e.x,n=e.y,r=Number.POSITIVE_INFINITY,s,o,c;for(s=0,o=i.length;s<o;++s){const u=i[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),p=Q3(e,d);p<r&&(r=p,c=u)}}if(c){const u=c.tooltipPosition();t=u.x,n=u.y}return{x:t,y:n}}};function Pr(i,e){return e&&(An(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function Ps(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function L6(i,e){const{element:t,datasetIndex:n,index:r}=e,s=i.getDatasetMeta(n).controller,{label:o,value:c}=s.getLabelAndValue(r);return{chart:i,label:o,parsed:s.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:c,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:t}}function PI(i,e){const t=i.chart.ctx,{body:n,footer:r,title:s}=i,{boxWidth:o,boxHeight:c}=e,u=ui(e.bodyFont),d=ui(e.titleFont),p=ui(e.footerFont),g=s.length,v=r.length,b=n.length,T=hr(e.padding);let S=T.height,E=0,R=n.reduce((z,U)=>z+U.before.length+U.lines.length+U.after.length,0);if(R+=i.beforeBody.length+i.afterBody.length,g&&(S+=g*d.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),R){const z=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;S+=b*z+(R-b)*u.lineHeight+(R-1)*e.bodySpacing}v&&(S+=e.footerMarginTop+v*p.lineHeight+(v-1)*e.footerSpacing);let P=0;const O=function(z){E=Math.max(E,t.measureText(z).width+P)};return t.save(),t.font=d.string,mt(i.title,O),t.font=u.string,mt(i.beforeBody.concat(i.afterBody),O),P=e.displayColors?o+2+e.boxPadding:0,mt(n,z=>{mt(z.before,O),mt(z.lines,O),mt(z.after,O)}),P=0,t.font=p.string,mt(i.footer,O),t.restore(),E+=T.width,{width:E,height:S}}function F6(i,e){const{y:t,height:n}=e;return t<n/2?"top":t>i.height-n/2?"bottom":"center"}function B6(i,e,t,n){const{x:r,width:s}=n,o=t.caretSize+t.caretPadding;if(i==="left"&&r+s+o>e.width||i==="right"&&r-s-o<0)return!0}function U6(i,e,t,n){const{x:r,width:s}=t,{width:o,chartArea:{left:c,right:u}}=i;let d="center";return n==="center"?d=r<=(c+u)/2?"left":"right":r<=s/2?d="left":r>=o-s/2&&(d="right"),B6(d,i,e,t)&&(d="center"),d}function OI(i,e,t){const n=t.yAlign||e.yAlign||F6(i,t);return{xAlign:t.xAlign||e.xAlign||U6(i,e,t,n),yAlign:n}}function j6(i,e){let{x:t,width:n}=i;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function z6(i,e,t){let{y:n,height:r}=i;return e==="top"?n+=t:e==="bottom"?n-=r+t:n-=r/2,n}function NI(i,e,t,n){const{caretSize:r,caretPadding:s,cornerRadius:o}=i,{xAlign:c,yAlign:u}=t,d=r+s,{topLeft:p,topRight:g,bottomLeft:v,bottomRight:b}=vu(o);let T=j6(e,c);const S=z6(e,u,d);return u==="center"?c==="left"?T+=d:c==="right"&&(T-=d):c==="left"?T-=Math.max(p,v)+r:c==="right"&&(T+=Math.max(g,b)+r),{x:ci(T,0,n.width-e.width),y:ci(S,0,n.height-e.height)}}function Jm(i,e,t){const n=hr(t.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-n.right:i.x+n.left}function VI(i){return Pr([],Ps(i))}function H6(i,e,t){return th(i,{tooltip:e,tooltipItems:t,type:"tooltip"})}function LI(i,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?i.override(t):i}const cO={beforeTitle:Ms,title(i){if(i.length>0){const e=i[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:Ms,beforeBody:Ms,beforeLabel:Ms,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let e=i.dataset.label||"";e&&(e+=": ");const t=i.formattedValue;return xt(t)||(e+=t),e},labelColor(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ms,afterBody:Ms,beforeFooter:Ms,footer:Ms,afterFooter:Ms};function oi(i,e,t,n){const r=i[e].call(t,n);return typeof r>"u"?cO[e].call(t,n):r}class Cw extends nh{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,s=new KP(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=H6(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,r=oi(n,"beforeTitle",this,e),s=oi(n,"title",this,e),o=oi(n,"afterTitle",this,e);let c=[];return c=Pr(c,Ps(r)),c=Pr(c,Ps(s)),c=Pr(c,Ps(o)),c}getBeforeBody(e,t){return VI(oi(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return mt(e,s=>{const o={before:[],lines:[],after:[]},c=LI(n,s);Pr(o.before,Ps(oi(c,"beforeLabel",this,s))),Pr(o.lines,oi(c,"label",this,s)),Pr(o.after,Ps(oi(c,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,t){return VI(oi(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=oi(n,"beforeFooter",this,e),s=oi(n,"footer",this,e),o=oi(n,"afterFooter",this,e);let c=[];return c=Pr(c,Ps(r)),c=Pr(c,Ps(s)),c=Pr(c,Ps(o)),c}_createItems(e){const t=this._active,n=this.chart.data,r=[],s=[],o=[];let c=[],u,d;for(u=0,d=t.length;u<d;++u)c.push(L6(this.chart,t[u]));return e.filter&&(c=c.filter((p,g,v)=>e.filter(p,g,v,n))),e.itemSort&&(c=c.sort((p,g)=>e.itemSort(p,g,n))),mt(c,p=>{const g=LI(e.callbacks,p);r.push(oi(g,"labelColor",this,p)),s.push(oi(g,"labelPointStyle",this,p)),o.push(oi(g,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=c,c}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const c=Yd[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const u=this._size=PI(this,n),d=Object.assign({},c,u),p=OI(this.chart,n,d),g=NI(n,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,s={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const s=this.getCaretPosition(e,n,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:c}=n,{topLeft:u,topRight:d,bottomLeft:p,bottomRight:g}=vu(c),{x:v,y:b}=e,{width:T,height:S}=t;let E,R,P,O,z,U;return s==="center"?(z=b+S/2,r==="left"?(E=v,R=E-o,O=z+o,U=z-o):(E=v+T,R=E+o,O=z-o,U=z+o),P=E):(r==="left"?R=v+Math.max(u,p)+o:r==="right"?R=v+T-Math.max(d,g)-o:R=this.caretX,s==="top"?(O=b,z=O-o,E=R-o,P=R+o):(O=b+S,z=O+o,E=R+o,P=R-o),U=O),{x1:E,x2:R,x3:P,y1:O,y2:z,y3:U}}drawTitle(e,t,n){const r=this.title,s=r.length;let o,c,u;if(s){const d=_u(n.rtl,this.x,this.width);for(e.x=Jm(this,n.titleAlign,n),t.textAlign=d.textAlign(n.titleAlign),t.textBaseline="middle",o=ui(n.titleFont),c=n.titleSpacing,t.fillStyle=n.titleColor,t.font=o.string,u=0;u<s;++u)t.fillText(r[u],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,u+1===s&&(e.y+=n.titleMarginBottom-c)}}_drawColorBox(e,t,n,r,s){const o=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:u,boxWidth:d}=s,p=ui(s.bodyFont),g=Jm(this,"left",s),v=r.x(g),b=u<p.lineHeight?(p.lineHeight-u)/2:0,T=t.y+b;if(s.usePointStyle){const S={radius:Math.min(d,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},E=r.leftForLtr(v,d)+d/2,R=T+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Z1(e,S,E,R),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Z1(e,S,E,R)}else{e.lineWidth=rt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const S=r.leftForLtr(v,d),E=r.leftForLtr(r.xPlus(v,1),d-2),R=vu(o.borderRadius);Object.values(R).some(P=>P!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,iy(e,{x:S,y:T,w:d,h:u,radius:R}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),iy(e,{x:E,y:T+1,w:d-2,h:u-2,radius:R}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(S,T,d,u),e.strokeRect(S,T,d,u),e.fillStyle=o.backgroundColor,e.fillRect(E,T+1,d-2,u-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:c,boxHeight:u,boxWidth:d,boxPadding:p}=n,g=ui(n.bodyFont);let v=g.lineHeight,b=0;const T=_u(n.rtl,this.x,this.width),S=function(A){t.fillText(A,T.x(e.x+b),e.y+v/2),e.y+=v+s},E=T.textAlign(o);let R,P,O,z,U,K,M;for(t.textAlign=o,t.textBaseline="middle",t.font=g.string,e.x=Jm(this,E,n),t.fillStyle=n.bodyColor,mt(this.beforeBody,S),b=c&&E!=="right"?o==="center"?d/2+p:d+2+p:0,z=0,K=r.length;z<K;++z){for(R=r[z],P=this.labelTextColors[z],t.fillStyle=P,mt(R.before,S),O=R.lines,c&&O.length&&(this._drawColorBox(t,e,z,T,n),v=Math.max(g.lineHeight,u)),U=0,M=O.length;U<M;++U)S(O[U]),v=g.lineHeight;mt(R.after,S)}b=0,v=g.lineHeight,mt(this.afterBody,S),e.y-=s}drawFooter(e,t,n){const r=this.footer,s=r.length;let o,c;if(s){const u=_u(n.rtl,this.x,this.width);for(e.x=Jm(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=u.textAlign(n.footerAlign),t.textBaseline="middle",o=ui(n.footerFont),t.fillStyle=n.footerColor,t.font=o.string,c=0;c<s;++c)t.fillText(r[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:s,yAlign:o}=this,{x:c,y:u}=e,{width:d,height:p}=n,{topLeft:g,topRight:v,bottomLeft:b,bottomRight:T}=vu(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(c+g,u),o==="top"&&this.drawCaret(e,t,n,r),t.lineTo(c+d-v,u),t.quadraticCurveTo(c+d,u,c+d,u+v),o==="center"&&s==="right"&&this.drawCaret(e,t,n,r),t.lineTo(c+d,u+p-T),t.quadraticCurveTo(c+d,u+p,c+d-T,u+p),o==="bottom"&&this.drawCaret(e,t,n,r),t.lineTo(c+b,u+p),t.quadraticCurveTo(c,u+p,c,u+p-b),o==="center"&&s==="left"&&this.drawCaret(e,t,n,r),t.lineTo(c,u+g),t.quadraticCurveTo(c,u,c+g,u),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,s=n&&n.y;if(r||s){const o=Yd[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=PI(this,e),u=Object.assign({},o,this._size),d=OI(t,e,u),p=NI(e,u,d,t);(r._to!==p.x||s._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=hr(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,r,t),WP(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),GP(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map(({datasetIndex:c,index:u})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[u],index:u}}),s=!Xg(n,r),o=this._positionChanged(r,t);(s||o)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,n),c=this._positionChanged(o,e),u=t||!Xg(o,s)||c;return u&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),u}_getActiveElements(e,t,n,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:r,options:s}=this,o=Yd[s.position].call(this,e,t);return o!==!1&&(n!==o.x||r!==o.y)}}de(Cw,"positioners",Yd);var uO={id:"tooltip",_element:Cw,positioners:Yd,afterInit(i,e,t){t&&(i.tooltip=new Cw({chart:i,options:t}))},beforeUpdate(i,e,t){i.tooltip&&i.tooltip.initialize(t)},reset(i,e,t){i.tooltip&&i.tooltip.initialize(t)},afterDraw(i){const e=i.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(i.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",t)}},afterEvent(i,e){if(i.tooltip){const t=e.replay;i.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,e)=>e.bodyFont.size,boxWidth:(i,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cO},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const q6=(i,e,t,n)=>(typeof e=="string"?(t=i.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Y6(i,e,t,n){const r=i.indexOf(e);if(r===-1)return q6(i,e,t,n);const s=i.lastIndexOf(e);return r!==s?t:r}const W6=(i,e)=>i===null?null:ci(Math.round(i),0,e);function FI(i){const e=this.getLabels();return i>=0&&i<e.length?e[i]:i}class Mw extends ih{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:r,label:s}of t)n[r]===s&&n.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(xt(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:Y6(n,e,it(t,e),this._addedLabels),W6(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=t;o++)r.push({value:o});return r}getLabelForValue(e){return FI.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}de(Mw,"id","category"),de(Mw,"defaults",{ticks:{callback:FI}});function G6(i,e){const t=[],{bounds:r,step:s,min:o,max:c,precision:u,count:d,maxTicks:p,maxDigits:g,includeBounds:v}=i,b=s||1,T=p-1,{min:S,max:E}=e,R=!xt(o),P=!xt(c),O=!xt(d),z=(E-S)/(g+1);let U=H1((E-S)/T/b)*b,K,M,A,I;if(U<1e-14&&!R&&!P)return[{value:S},{value:E}];I=Math.ceil(E/U)-Math.floor(S/U),I>T&&(U=H1(I*U/T/b)*b),xt(u)||(K=Math.pow(10,u),U=Math.ceil(U*K)/K),r==="ticks"?(M=Math.floor(S/U)*U,A=Math.ceil(E/U)*U):(M=S,A=E),R&&P&&s&&G3((c-o)/s,U/1e3)?(I=Math.round(Math.min((c-o)/U,p)),U=(c-o)/I,M=o,A=c):O?(M=R?o:M,A=P?c:A,I=d-1,U=(A-M)/I):(I=(A-M)/U,bg(I,Math.round(I),U/1e3)?I=Math.round(I):I=Math.ceil(I));const F=Math.max(q1(U),q1(M));K=Math.pow(10,xt(u)?F:u),M=Math.round(M*K)/K,A=Math.round(A*K)/K;let L=0;for(R&&(v&&M!==o?(t.push({value:o}),M<o&&L++,bg(Math.round((M+L*U)*K)/K,o,BI(o,z,i))&&L++):M<o&&L++);L<I;++L){const B=Math.round((M+L*U)*K)/K;if(P&&B>c)break;t.push({value:B})}return P&&v&&A!==c?t.length&&bg(t[t.length-1].value,c,BI(c,z,i))?t[t.length-1].value=c:t.push({value:c}):(!P||A===c)&&t.push({value:A}),t}function BI(i,e,{horizontal:t,minRotation:n}){const r=Ns(n),s=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+i).length;return Math.min(e/s,o)}class K6 extends ih{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return xt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const o=u=>r=t?r:u,c=u=>s=n?s:u;if(e){const u=Ka(r),d=Ka(s);u<0&&d<0?c(0):u>0&&d>0&&o(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);c(s+u),e||o(r-u)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=G6(r,s);return e.bounds==="ticks"&&K3(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return eS(e,this.chart.options.locale,this.options.ticks.format)}}class kw extends K6{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ji(e)?e:0,this.max=Ji(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Ns(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}de(kw,"id","linear"),de(kw,"defaults",{ticks:{callback:FP.formatters.numeric}});const nv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},li=Object.keys(nv);function UI(i,e){return i-e}function jI(i,e){if(xt(e))return null;const t=i._adapter,{parser:n,round:r,isoWeekday:s}=i._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Ji(o)||(o=typeof n=="string"?t.parse(o,n):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(ey(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,r)),+o)}function zI(i,e,t,n){const r=li.length;for(let s=li.indexOf(i);s<r-1;++s){const o=nv[li[s]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(c*o.size))<=n)return li[s]}return li[r-1]}function $6(i,e,t,n,r){for(let s=li.length-1;s>=li.indexOf(t);s--){const o=li[s];if(nv[o].common&&i._adapter.diff(r,n,o)>=e-1)return o}return li[t?li.indexOf(t):0]}function Q6(i){for(let e=li.indexOf(i)+1,t=li.length;e<t;++e)if(nv[li[e]].common)return li[e]}function HI(i,e,t){if(!t)i[e]=!0;else if(t.length){const{lo:n,hi:r}=JT(t,e),s=t[n]>=e?t[n]:t[r];i[s]=!0}}function X6(i,e,t,n){const r=i._adapter,s=+r.startOf(e[0].value,n),o=e[e.length-1].value;let c,u;for(c=s;c<=o;c=+r.add(c,1,n))u=t[c],u>=0&&(e[u].major=!0);return e}function qI(i,e,t){const n=[],r={},s=e.length;let o,c;for(o=0;o<s;++o)c=e[o],r[c]=o,n.push({value:c,major:!1});return s===0||!t?n:X6(i,n,r,t)}class oy extends ih{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),r=this._adapter=new dj._date(e.adapters.date);r.init(t),nf(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:jI(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:c}=this.getUserBounds();function u(d){!o&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!c&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!o||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=Ji(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),s=Ji(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,c=J3(r,s,o);return this._unit=t.unit||(n.autoSkip?zI(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):$6(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Q6(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),qI(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=ci(t,0,o),n=ci(n,0,o),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,s=r.time,o=s.unit||zI(s.minUnit,t,n,this._getLabelCapacity(t)),c=it(r.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,d=ey(u)||u===!0,p={};let g=t,v,b;if(d&&(g=+e.startOf(g,"isoWeek",u)),g=+e.startOf(g,d?"day":o),e.diff(n,t,o)>1e5*c)throw new Error(t+" and "+n+" are too far apart with stepSize of "+c+" "+o);const T=r.ticks.source==="data"&&this.getDataTimestamps();for(v=g,b=0;v<n;v=+e.add(v,c,o),b++)HI(p,v,T);return(v===n||r.bounds==="ticks"||b===1)&&HI(p,v,T),Object.keys(p).sort(UI).map(S=>+S)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,s=this._unit,o=t||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,n,r){const s=this.options,o=s.ticks.callback;if(o)return It(o,[e,t,n],this);const c=s.time.displayFormats,u=this._unit,d=this._majorUnit,p=u&&c[u],g=d&&c[d],v=n[t],b=d&&g&&v&&v.major;return this._adapter.format(e,r||(b?g:p))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Ns(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),o=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:n*s+c*o,h:n*o+c*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,qI(this,[e],this._majorUnit),r),o=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,n=r.length;t<n;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(jI(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return PP(e.sort(UI))}}de(oy,"id","time"),de(oy,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function eg(i,e,t){let n=0,r=i.length-1,s,o,c,u;t?(e>=i[n].pos&&e<=i[r].pos&&({lo:n,hi:r}=Dw(i,"pos",e)),{pos:s,time:c}=i[n],{pos:o,time:u}=i[r]):(e>=i[n].time&&e<=i[r].time&&({lo:n,hi:r}=Dw(i,"time",e)),{time:s,pos:c}=i[n],{time:o,pos:u}=i[r]);const d=o-s;return d?c+(u-c)*(e-s)/d:c}class YI extends oy{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=eg(t,this.min),this._tableRange=eg(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],s=[];let o,c,u,d,p;for(o=0,c=e.length;o<c;++o)d=e[o],d>=t&&d<=n&&r.push(d);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,c=r.length;o<c;++o)p=r[o+1],u=r[o-1],d=r[o],Math.round((p+u)/2)!==d&&s.push({time:d,pos:o/(c-1)});return s}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(eg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return eg(this._table,n*this._tableRange+this._minPos,!0)}}de(YI,"id","timeseries"),de(YI,"defaults",oy.defaults);const hO="label";function WI(i,e){typeof i=="function"?i(e):i&&(i.current=e)}function Z6(i,e){const t=i.options;t&&e&&Object.assign(t,e)}function dO(i,e){i.labels=e}function fO(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hO;const n=[];i.datasets=e.map(r=>{const s=i.datasets.find(o=>o[t]===r[t]);return!s||!r.data||n.includes(s)?{...r}:(n.push(s),Object.assign(s,r),s)})}function J6(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hO;const t={labels:[],datasets:[]};return dO(t,i.labels),fO(t,i.datasets,e),t}function e5(i,e){const{height:t=150,width:n=300,redraw:r=!1,datasetIdKey:s,type:o,data:c,options:u,plugins:d=[],fallbackContent:p,updateMode:g,...v}=i,b=Q.useRef(null),T=Q.useRef(null),S=()=>{b.current&&(T.current=new rh(b.current,{type:o,data:J6(c,s),options:u&&{...u},plugins:d}),WI(e,T.current))},E=()=>{WI(e,null),T.current&&(T.current.destroy(),T.current=null)};return Q.useEffect(()=>{!r&&T.current&&u&&Z6(T.current,u)},[r,u]),Q.useEffect(()=>{!r&&T.current&&dO(T.current.config.data,c.labels)},[r,c.labels]),Q.useEffect(()=>{!r&&T.current&&c.datasets&&fO(T.current.config.data,c.datasets,s)},[r,c.datasets]),Q.useEffect(()=>{T.current&&(r?(E(),setTimeout(S)):T.current.update(g))},[r,u,c.labels,c.datasets,g]),Q.useEffect(()=>{T.current&&(E(),setTimeout(S))},[o]),Q.useEffect(()=>(S(),()=>E()),[]),le.createElement("canvas",{ref:b,role:"img",height:t,width:n,...v},p)}const t5=Q.forwardRef(e5);function pO(i,e){return rh.register(e),Q.forwardRef((t,n)=>le.createElement(t5,{...t,ref:n,type:i}))}const n5=pO("bar",wg),mO=pO("doughnut",Hd);rh.register(Eg,Mw,kw);function gO({meals:i,startOfWeek:e}){const t=()=>{const o=[];for(let c=0;c<7;c++){const u=new Date(e);u.setDate(e.getDate()+c),o.push(u.toISOString().split("T")[0])}return o},r={labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Calories",data:t().map(c=>{let u=0;return i.filter(d=>d.date===c).forEach(d=>{d.foodItems.forEach(p=>{p.nutrients.forEach(g=>{const v=parseFloat(g.total)||0;(g.type==="Carbohydrate"||g.type==="Protein")&&(u+=v*4),g.type==="Fat"&&(u+=v*9)})})}),Math.round(u)}),backgroundColor:"deepskyblue"}]},s={plugins:{tooltip:{enabled:!0},legend:{display:!1}},scales:{y:{ticks:{color:"white"},grid:{color:"#444"}},x:{ticks:{color:"white"},grid:{color:"#444"}}}};return j.jsx(n5,{data:r,options:s})}rh.register(uu,uO,lO);function yO({meals:i,selectedDate:e,goal:t=2e3}){const n=e||new Date().toISOString().split("T")[0],s=i.filter(p=>p.date===n).reduce((p,g)=>(g.foodItems.forEach(v=>{v.nutrients.forEach(b=>{const T=parseFloat(b.total)||0;(b.type==="Carbohydrate"||b.type==="Protein")&&(p+=T*4),b.type==="Fat"&&(p+=T*9)})}),p),0),o=Math.round(s),c=t-o,u={labels:["Calories Consumed"],datasets:[{data:[s,c>0?c:0],backgroundColor:["deepskyblue","#a9c9f8ff"],borderWidth:0}]},d={cutout:"85%",plugins:{legend:{display:!0,position:"bottom",labels:{color:"white",font:{size:12,weight:"bold"},padding:15,boxWidth:10,boxHeight:10}}}};return j.jsxs("div",{className:"donut-chart",style:{position:"relative"},children:[j.jsx(mO,{data:u,options:d}),j.jsx("div",{className:"DonutWordings",children:c>0?`${c} Remaining`:"Goal Reached"})]})}rh.register(uu,uO,lO);function vO({meals:i,selectedDate:e}){const t=e||new Date().toISOString().split("T")[0],n=i.filter(b=>b.date===t),r={};n.forEach(b=>{b.foodItems.forEach(T=>{T.nutrients.forEach(S=>{const E=parseFloat(S.total)||0;r[S.type]=(r[S.type]||0)+E})})});const s=r.Protein||0,o=r.Fat||0,c=r.Carbohydrate||0,u=r["Carbs as Sugar"]||0,d=Object.entries(r).filter(([b])=>!["Protein","Fat","Carbohydrate","Carbs as Sugar"].includes(b)).reduce((b,[,T])=>b+T,0),p=[];s>0&&p.push({label:"Protein",value:s,color:"#4CAF50"}),o>0&&p.push({label:"Fat",value:o,color:"#FF9800"}),c>0&&p.push({label:"Carbohydrate",value:c,color:"#03A9F4"}),u>0&&p.push({label:"Carbs as Sugar",value:u,color:"teal"}),d>0&&p.push({label:"Others",value:d,color:"gray"});const g={labels:p.map(b=>b.label),datasets:[{data:p.map(b=>b.value),backgroundColor:p.map(b=>b.color),borderWidth:0}]},v={cutout:"85%",plugins:{tooltip:{enabled:!0},legend:{display:!0,position:"bottom",labels:{color:"white",font:{size:8,weight:"bold"},padding:5,boxWidth:5,boxHeight:5}}}};return j.jsx("div",{className:"donut-chart",style:{position:"relative"},children:j.jsx(mO,{data:g,options:v})})}const i5="Left",r5="Right",s5="Up",a5="Down",hu={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Pw={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},GI="mousemove",KI="mouseup",o5="touchend",l5="touchmove",c5="touchstart";function u5(i,e,t,n){return i>e?t>0?r5:i5:n>0?a5:s5}function $I(i,e){if(e===0)return i;const t=Math.PI/180*e,n=i[0]*Math.cos(t)+i[1]*Math.sin(t),r=i[1]*Math.cos(t)-i[0]*Math.sin(t);return[n,r]}function h5(i,e){const t=p=>{const g="touches"in p;g&&p.touches.length>1||i((v,b)=>{b.trackMouse&&!g&&(document.addEventListener(GI,n),document.addEventListener(KI,o));const{clientX:T,clientY:S}=g?p.touches[0]:p,E=$I([T,S],b.rotationAngle);return b.onTouchStartOrOnMouseDown&&b.onTouchStartOrOnMouseDown({event:p}),Object.assign(Object.assign(Object.assign({},v),Pw),{initial:E.slice(),xy:E,start:p.timeStamp||0})})},n=p=>{i((g,v)=>{const b="touches"in p;if(b&&p.touches.length>1)return g;if(p.timeStamp-g.start>v.swipeDuration)return g.swiping?Object.assign(Object.assign({},g),{swiping:!1}):g;const{clientX:T,clientY:S}=b?p.touches[0]:p,[E,R]=$I([T,S],v.rotationAngle),P=E-g.xy[0],O=R-g.xy[1],z=Math.abs(P),U=Math.abs(O),K=(p.timeStamp||0)-g.start,M=Math.sqrt(z*z+U*U)/(K||1),A=[P/(K||1),O/(K||1)],I=u5(z,U,P,O),F=typeof v.delta=="number"?v.delta:v.delta[I.toLowerCase()]||hu.delta;if(z<F&&U<F&&!g.swiping)return g;const L={absX:z,absY:U,deltaX:P,deltaY:O,dir:I,event:p,first:g.first,initial:g.initial,velocity:M,vxvy:A};L.first&&v.onSwipeStart&&v.onSwipeStart(L),v.onSwiping&&v.onSwiping(L);let B=!1;return(v.onSwiping||v.onSwiped||v[`onSwiped${I}`])&&(B=!0),B&&v.preventScrollOnSwipe&&v.trackTouch&&p.cancelable&&p.preventDefault(),Object.assign(Object.assign({},g),{first:!1,eventData:L,swiping:!0})})},r=p=>{i((g,v)=>{let b;if(g.swiping&&g.eventData){if(p.timeStamp-g.start<v.swipeDuration){b=Object.assign(Object.assign({},g.eventData),{event:p}),v.onSwiped&&v.onSwiped(b);const T=v[`onSwiped${b.dir}`];T&&T(b)}}else v.onTap&&v.onTap({event:p});return v.onTouchEndOrOnMouseUp&&v.onTouchEndOrOnMouseUp({event:p}),Object.assign(Object.assign(Object.assign({},g),Pw),{eventData:b})})},s=()=>{document.removeEventListener(GI,n),document.removeEventListener(KI,o)},o=p=>{s(),r(p)},c=(p,g)=>{let v=()=>{};if(p&&p.addEventListener){const b=Object.assign(Object.assign({},hu.touchEventOptions),g.touchEventOptions),T=[[c5,t,b],[l5,n,Object.assign(Object.assign({},b),g.preventScrollOnSwipe?{passive:!1}:{})],[o5,r,b]];T.forEach(([S,E,R])=>p.addEventListener(S,E,R)),v=()=>T.forEach(([S,E])=>p.removeEventListener(S,E))}return v},d={ref:p=>{p!==null&&i((g,v)=>{if(g.el===p)return g;const b={};return g.el&&g.el!==p&&g.cleanUpTouch&&(g.cleanUpTouch(),b.cleanUpTouch=void 0),v.trackTouch&&p&&(b.cleanUpTouch=c(p,v)),Object.assign(Object.assign(Object.assign({},g),{el:p}),b)})}};return e.trackMouse&&(d.onMouseDown=t),[d,c]}function d5(i,e,t,n){return!e.trackTouch||!i.el?(i.cleanUpTouch&&i.cleanUpTouch(),Object.assign(Object.assign({},i),{cleanUpTouch:void 0})):i.cleanUpTouch?e.preventScrollOnSwipe!==t.preventScrollOnSwipe||e.touchEventOptions.passive!==t.touchEventOptions.passive?(i.cleanUpTouch(),Object.assign(Object.assign({},i),{cleanUpTouch:n(i.el,e)})):i:Object.assign(Object.assign({},i),{cleanUpTouch:n(i.el,e)})}function f5(i){const{trackMouse:e}=i,t=Q.useRef(Object.assign({},Pw)),n=Q.useRef(Object.assign({},hu)),r=Q.useRef(Object.assign({},n.current));r.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},hu),i);let s;for(s in hu)n.current[s]===void 0&&(n.current[s]=hu[s]);const[o,c]=Q.useMemo(()=>h5(u=>t.current=u(t.current,n.current),{trackMouse:e}),[e]);return t.current=d5(t.current,n.current,r.current,c),o}const _O=Q.createContext({});function p5(i){const e=Q.useRef(null);return e.current===null&&(e.current=i()),e.current}const uS=typeof window<"u",m5=uS?Q.useLayoutEffect:Q.useEffect,hS=Q.createContext(null);function dS(i,e){i.indexOf(e)===-1&&i.push(e)}function fS(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const Ys=(i,e,t)=>t>e?e:t<i?i:t;let pS=()=>{};const Ws={},bO=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function wO(i){return typeof i=="object"&&i!==null}const TO=i=>/^0[^.\s]+$/u.test(i);function mS(i){let e;return()=>(e===void 0&&(e=i()),e)}const Xi=i=>i,g5=(i,e)=>t=>e(i(t)),Jf=(...i)=>i.reduce(g5),Af=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n};class gS{constructor(){this.subscriptions=[]}add(e){return dS(this.subscriptions,e),()=>fS(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yr=i=>i*1e3,Wr=i=>i/1e3;function SO(i,e){return e?i*(1e3/e):0}const EO=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,y5=1e-7,v5=12;function _5(i,e,t,n,r){let s,o,c=0;do o=e+(t-e)/2,s=EO(o,n,r)-i,s>0?t=o:e=o;while(Math.abs(s)>y5&&++c<v5);return o}function ep(i,e,t,n){if(i===e&&t===n)return Xi;const r=s=>_5(s,0,1,i,t);return s=>s===0||s===1?s:EO(r(s),e,n)}const xO=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,DO=i=>e=>1-i(1-e),AO=ep(.33,1.53,.69,.99),yS=DO(AO),IO=xO(yS),RO=i=>(i*=2)<1?.5*yS(i):.5*(2-Math.pow(2,-10*(i-1))),vS=i=>1-Math.sin(Math.acos(i)),CO=DO(vS),MO=xO(vS),b5=ep(.42,0,1,1),w5=ep(0,0,.58,1),kO=ep(.42,0,.58,1),T5=i=>Array.isArray(i)&&typeof i[0]!="number",PO=i=>Array.isArray(i)&&typeof i[0]=="number",S5={linear:Xi,easeIn:b5,easeInOut:kO,easeOut:w5,circIn:vS,circInOut:MO,circOut:CO,backIn:yS,backInOut:IO,backOut:AO,anticipate:RO},E5=i=>typeof i=="string",QI=i=>{if(PO(i)){pS(i.length===4);const[e,t,n,r]=i;return ep(e,t,n,r)}else if(E5(i))return S5[i];return i},tg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function x5(i,e){let t=new Set,n=new Set,r=!1,s=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(p){o.has(p)&&(d.schedule(p),i()),p(c)}const d={schedule:(p,g=!1,v=!1)=>{const T=v&&r?t:n;return g&&o.add(p),T.has(p)||T.add(p),p},cancel:p=>{n.delete(p),o.delete(p)},process:p=>{if(c=p,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(u),t.clear(),r=!1,s&&(s=!1,d.process(p))}};return d}const D5=40;function OO(i,e){let t=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=tg.reduce((O,z)=>(O[z]=x5(s),O),{}),{setup:c,read:u,resolveKeyframes:d,preUpdate:p,update:g,preRender:v,render:b,postRender:T}=o,S=()=>{const O=Ws.useManualTiming?r.timestamp:performance.now();t=!1,Ws.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(O-r.timestamp,D5),1)),r.timestamp=O,r.isProcessing=!0,c.process(r),u.process(r),d.process(r),p.process(r),g.process(r),v.process(r),b.process(r),T.process(r),r.isProcessing=!1,t&&e&&(n=!1,i(S))},E=()=>{t=!0,n=!0,r.isProcessing||i(S)};return{schedule:tg.reduce((O,z)=>{const U=o[z];return O[z]=(K,M=!1,A=!1)=>(t||E(),U.schedule(K,M,A)),O},{}),cancel:O=>{for(let z=0;z<tg.length;z++)o[tg[z]].cancel(O)},state:r,steps:o}}const{schedule:Pt,cancel:ro,state:Nn,steps:f0}=OO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xi,!0);let xg;function A5(){xg=void 0}const hi={now:()=>(xg===void 0&&hi.set(Nn.isProcessing||Ws.useManualTiming?Nn.timestamp:performance.now()),xg),set:i=>{xg=i,queueMicrotask(A5)}},NO=i=>e=>typeof e=="string"&&e.startsWith(i),_S=NO("--"),I5=NO("var(--"),bS=i=>I5(i)?R5.test(i.split("/*")[0].trim()):!1,R5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sh={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},If={...sh,transform:i=>Ys(0,1,i)},ng={...sh,default:1},af=i=>Math.round(i*1e5)/1e5,wS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function C5(i){return i==null}const M5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,TS=(i,e)=>t=>!!(typeof t=="string"&&M5.test(t)&&t.startsWith(i)||e&&!C5(t)&&Object.prototype.hasOwnProperty.call(t,e)),VO=(i,e,t)=>n=>{if(typeof n!="string")return n;const[r,s,o,c]=n.match(wS);return{[i]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},k5=i=>Ys(0,255,i),p0={...sh,transform:i=>Math.round(k5(i))},vl={test:TS("rgb","red"),parse:VO("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+p0.transform(i)+", "+p0.transform(e)+", "+p0.transform(t)+", "+af(If.transform(n))+")"};function P5(i){let e="",t="",n="",r="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),r=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),r=i.substring(4,5),e+=e,t+=t,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const Ow={test:TS("#"),parse:P5,transform:vl.transform},tp=i=>({test:e=>typeof e=="string"&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),Va=tp("deg"),Gr=tp("%"),Ve=tp("px"),O5=tp("vh"),N5=tp("vw"),XI={...Gr,parse:i=>Gr.parse(i)/100,transform:i=>Gr.transform(i*100)},du={test:TS("hsl","hue"),parse:VO("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+Gr.transform(af(e))+", "+Gr.transform(af(t))+", "+af(If.transform(n))+")"},ln={test:i=>vl.test(i)||Ow.test(i)||du.test(i),parse:i=>vl.test(i)?vl.parse(i):du.test(i)?du.parse(i):Ow.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?vl.transform(i):du.transform(i),getAnimatableNone:i=>{const e=ln.parse(i);return e.alpha=0,ln.transform(e)}},V5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function L5(i){var e,t;return isNaN(i)&&typeof i=="string"&&(((e=i.match(wS))==null?void 0:e.length)||0)+(((t=i.match(V5))==null?void 0:t.length)||0)>0}const LO="number",FO="color",F5="var",B5="var(",ZI="${}",U5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rf(i){const e=i.toString(),t=[],n={color:[],number:[],var:[]},r=[];let s=0;const c=e.replace(U5,u=>(ln.test(u)?(n.color.push(s),r.push(FO),t.push(ln.parse(u))):u.startsWith(B5)?(n.var.push(s),r.push(F5),t.push(u)):(n.number.push(s),r.push(LO),t.push(parseFloat(u))),++s,ZI)).split(ZI);return{values:t,split:c,indexes:n,types:r}}function BO(i){return Rf(i).values}function UO(i){const{split:e,types:t}=Rf(i),n=e.length;return r=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],r[o]!==void 0){const c=t[o];c===LO?s+=af(r[o]):c===FO?s+=ln.transform(r[o]):s+=r[o]}return s}}const j5=i=>typeof i=="number"?0:ln.test(i)?ln.getAnimatableNone(i):i;function z5(i){const e=BO(i);return UO(i)(e.map(j5))}const so={test:L5,parse:BO,createTransformer:UO,getAnimatableNone:z5};function m0(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function H5({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const c=t<.5?t*(1+e):t+e-t*e,u=2*t-c;r=m0(u,c,i+1/3),s=m0(u,c,i),o=m0(u,c,i-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function ly(i,e){return t=>t>0?e:i}const Vt=(i,e,t)=>i+(e-i)*t,g0=(i,e,t)=>{const n=i*i,r=t*(e*e-n)+n;return r<0?0:Math.sqrt(r)},q5=[Ow,vl,du],Y5=i=>q5.find(e=>e.test(i));function JI(i){const e=Y5(i);if(!e)return!1;let t=e.parse(i);return e===du&&(t=H5(t)),t}const eR=(i,e)=>{const t=JI(i),n=JI(e);if(!t||!n)return ly(i,e);const r={...t};return s=>(r.red=g0(t.red,n.red,s),r.green=g0(t.green,n.green,s),r.blue=g0(t.blue,n.blue,s),r.alpha=Vt(t.alpha,n.alpha,s),vl.transform(r))},Nw=new Set(["none","hidden"]);function W5(i,e){return Nw.has(i)?t=>t<=0?i:e:t=>t>=1?e:i}function G5(i,e){return t=>Vt(i,e,t)}function SS(i){return typeof i=="number"?G5:typeof i=="string"?bS(i)?ly:ln.test(i)?eR:Q5:Array.isArray(i)?jO:typeof i=="object"?ln.test(i)?eR:K5:ly}function jO(i,e){const t=[...i],n=t.length,r=i.map((s,o)=>SS(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)t[o]=r[o](s);return t}}function K5(i,e){const t={...i,...e},n={};for(const r in t)i[r]!==void 0&&e[r]!==void 0&&(n[r]=SS(i[r])(i[r],e[r]));return r=>{for(const s in n)t[s]=n[s](r);return t}}function $5(i,e){const t=[],n={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],o=i.indexes[s][n[s]],c=i.values[o]??0;t[r]=c,n[s]++}return t}const Q5=(i,e)=>{const t=so.createTransformer(e),n=Rf(i),r=Rf(e);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?Nw.has(i)&&!r.values.length||Nw.has(e)&&!n.values.length?W5(i,e):Jf(jO($5(n,r),r.values),t):ly(i,e)};function zO(i,e,t){return typeof i=="number"&&typeof e=="number"&&typeof t=="number"?Vt(i,e,t):SS(i)(i,e)}const X5=i=>{const e=({timestamp:t})=>i(t);return{start:(t=!0)=>Pt.update(e,t),stop:()=>ro(e),now:()=>Nn.isProcessing?Nn.timestamp:hi.now()}},HO=(i,e,t=10)=>{let n="";const r=Math.max(Math.round(e/t),2);for(let s=0;s<r;s++)n+=Math.round(i(s/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},cy=2e4;function ES(i){let e=0;const t=50;let n=i.next(e);for(;!n.done&&e<cy;)e+=t,n=i.next(e);return e>=cy?1/0:e}function Z5(i,e=100,t){const n=t({...i,keyframes:[0,e]}),r=Math.min(ES(n),cy);return{type:"keyframes",ease:s=>n.next(r*s).value/e,duration:Wr(r)}}const J5=5;function qO(i,e,t){const n=Math.max(e-J5,0);return SO(t-i(n),e-n)}const zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},y0=.001;function ez({duration:i=zt.duration,bounce:e=zt.bounce,velocity:t=zt.velocity,mass:n=zt.mass}){let r,s,o=1-e;o=Ys(zt.minDamping,zt.maxDamping,o),i=Ys(zt.minDuration,zt.maxDuration,Wr(i)),o<1?(r=d=>{const p=d*o,g=p*i,v=p-t,b=Vw(d,o),T=Math.exp(-g);return y0-v/b*T},s=d=>{const g=d*o*i,v=g*t+t,b=Math.pow(o,2)*Math.pow(d,2)*i,T=Math.exp(-g),S=Vw(Math.pow(d,2),o);return(-r(d)+y0>0?-1:1)*((v-b)*T)/S}):(r=d=>{const p=Math.exp(-d*i),g=(d-t)*i+1;return-y0+p*g},s=d=>{const p=Math.exp(-d*i),g=(t-d)*(i*i);return p*g});const c=5/i,u=nz(r,s,c);if(i=Yr(i),isNaN(u))return{stiffness:zt.stiffness,damping:zt.damping,duration:i};{const d=Math.pow(u,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:i}}}const tz=12;function nz(i,e,t){let n=t;for(let r=1;r<tz;r++)n=n-i(n)/e(n);return n}function Vw(i,e){return i*Math.sqrt(1-e*e)}const iz=["duration","bounce"],rz=["stiffness","damping","mass"];function tR(i,e){return e.some(t=>i[t]!==void 0)}function sz(i){let e={velocity:zt.velocity,stiffness:zt.stiffness,damping:zt.damping,mass:zt.mass,isResolvedFromDuration:!1,...i};if(!tR(i,rz)&&tR(i,iz))if(i.visualDuration){const t=i.visualDuration,n=2*Math.PI/(t*1.2),r=n*n,s=2*Ys(.05,1,1-(i.bounce||0))*Math.sqrt(r);e={...e,mass:zt.mass,stiffness:r,damping:s}}else{const t=ez(i);e={...e,...t,mass:zt.mass},e.isResolvedFromDuration=!0}return e}function uy(i=zt.visualDuration,e=zt.bounce){const t=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:e}:i;let{restSpeed:n,restDelta:r}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],c={done:!1,value:s},{stiffness:u,damping:d,mass:p,duration:g,velocity:v,isResolvedFromDuration:b}=sz({...t,velocity:-Wr(t.velocity||0)}),T=v||0,S=d/(2*Math.sqrt(u*p)),E=o-s,R=Wr(Math.sqrt(u/p)),P=Math.abs(E)<5;n||(n=P?zt.restSpeed.granular:zt.restSpeed.default),r||(r=P?zt.restDelta.granular:zt.restDelta.default);let O;if(S<1){const U=Vw(R,S);O=K=>{const M=Math.exp(-S*R*K);return o-M*((T+S*R*E)/U*Math.sin(U*K)+E*Math.cos(U*K))}}else if(S===1)O=U=>o-Math.exp(-R*U)*(E+(T+R*E)*U);else{const U=R*Math.sqrt(S*S-1);O=K=>{const M=Math.exp(-S*R*K),A=Math.min(U*K,300);return o-M*((T+S*R*E)*Math.sinh(A)+U*E*Math.cosh(A))/U}}const z={calculatedDuration:b&&g||null,next:U=>{const K=O(U);if(b)c.done=U>=g;else{let M=U===0?T:0;S<1&&(M=U===0?Yr(T):qO(O,U,K));const A=Math.abs(M)<=n,I=Math.abs(o-K)<=r;c.done=A&&I}return c.value=c.done?o:K,c},toString:()=>{const U=Math.min(ES(z),cy),K=HO(M=>z.next(U*M).value,U,30);return U+"ms "+K},toTransition:()=>{}};return z}uy.applyToOptions=i=>{const e=Z5(i,100,uy);return i.ease=e.ease,i.duration=Yr(e.duration),i.type="keyframes",i};function Lw({keyframes:i,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:c,max:u,restDelta:d=.5,restSpeed:p}){const g=i[0],v={done:!1,value:g},b=A=>c!==void 0&&A<c||u!==void 0&&A>u,T=A=>c===void 0?u:u===void 0||Math.abs(c-A)<Math.abs(u-A)?c:u;let S=t*e;const E=g+S,R=o===void 0?E:o(E);R!==E&&(S=R-g);const P=A=>-S*Math.exp(-A/n),O=A=>R+P(A),z=A=>{const I=P(A),F=O(A);v.done=Math.abs(I)<=d,v.value=v.done?R:F};let U,K;const M=A=>{b(v.value)&&(U=A,K=uy({keyframes:[v.value,T(v.value)],velocity:qO(O,A,v.value),damping:r,stiffness:s,restDelta:d,restSpeed:p}))};return M(0),{calculatedDuration:null,next:A=>{let I=!1;return!K&&U===void 0&&(I=!0,z(A),M(A)),U!==void 0&&A>=U?K.next(A-U):(!I&&z(A),v)}}}function az(i,e,t){const n=[],r=t||Ws.mix||zO,s=i.length-1;for(let o=0;o<s;o++){let c=r(i[o],i[o+1]);if(e){const u=Array.isArray(e)?e[o]||Xi:e;c=Jf(u,c)}n.push(c)}return n}function oz(i,e,{clamp:t=!0,ease:n,mixer:r}={}){const s=i.length;if(pS(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=i[0]===i[1];i[0]>i[s-1]&&(i=[...i].reverse(),e=[...e].reverse());const c=az(e,n,r),u=c.length,d=p=>{if(o&&p<i[0])return e[0];let g=0;if(u>1)for(;g<i.length-2&&!(p<i[g+1]);g++);const v=Af(i[g],i[g+1],p);return c[g](v)};return t?p=>d(Ys(i[0],i[s-1],p)):d}function lz(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const r=Af(0,e,n);i.push(Vt(t,1,r))}}function cz(i){const e=[0];return lz(e,i.length-1),e}function uz(i,e){return i.map(t=>t*e)}function hz(i,e){return i.map(()=>e||kO).splice(0,i.length-1)}function of({duration:i=300,keyframes:e,times:t,ease:n="easeInOut"}){const r=T5(n)?n.map(QI):QI(n),s={done:!1,value:e[0]},o=uz(t&&t.length===e.length?t:cz(e),i),c=oz(o,e,{ease:Array.isArray(r)?r:hz(e,r)});return{calculatedDuration:i,next:u=>(s.value=c(u),s.done=u>=i,s)}}const dz=i=>i!==null;function xS(i,{repeat:e,repeatType:t="loop"},n,r=1){const s=i.filter(dz),c=r<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!c||n===void 0?s[c]:n}const fz={decay:Lw,inertia:Lw,tween:of,keyframes:of,spring:uy};function YO(i){typeof i.type=="string"&&(i.type=fz[i.type])}class DS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const pz=i=>i/100;class AS extends DS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:t}=this.options;t&&t.updatedAt!==hi.now()&&this.tick(hi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;YO(e);const{type:t=of,repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=e;let{keyframes:c}=e;const u=t||of;u!==of&&typeof c[0]!="number"&&(this.mixKeyframes=Jf(pz,zO(c[0],c[1])),c=[0,100]);const d=u({...e,keyframes:c});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=ES(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:b,type:T,onUpdate:S,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const R=this.currentTime-d*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?R<0:R>r;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let O=this.currentTime,z=n;if(g){const A=Math.min(this.currentTime,r)/c;let I=Math.floor(A),F=A%1;!F&&A>=1&&(F=1),F===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(v==="reverse"?(F=1-F,b&&(F-=b/c)):v==="mirror"&&(z=o)),O=Ys(0,1,F)*c}const U=P?{done:!1,value:p[0]}:z.next(O);s&&(U.value=s(U.value));let{done:K}=U;!P&&u!==null&&(K=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return M&&T!==Lw&&(U.value=xS(p,this.options,E,this.speed)),S&&S(U.value),M&&this.finish(),U}then(e,t){return this.finished.then(e,t)}get duration(){return Wr(this.calculatedDuration)}get time(){return Wr(this.currentTime)}set time(e){var t;e=Yr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(hi.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Wr(this.currentTime))}play(){var r,s;if(this.isStopped)return;const{driver:e=X5,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(r=this.options).onPlay)==null||s.call(r);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function mz(i){for(let e=1;e<i.length;e++)i[e]??(i[e]=i[e-1])}const _l=i=>i*180/Math.PI,Fw=i=>{const e=_l(Math.atan2(i[1],i[0]));return Bw(e)},gz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:Fw,rotateZ:Fw,skewX:i=>_l(Math.atan(i[1])),skewY:i=>_l(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},Bw=i=>(i=i%360,i<0&&(i+=360),i),nR=Fw,iR=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),rR=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),yz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iR,scaleY:rR,scale:i=>(iR(i)+rR(i))/2,rotateX:i=>Bw(_l(Math.atan2(i[6],i[5]))),rotateY:i=>Bw(_l(Math.atan2(-i[2],i[0]))),rotateZ:nR,rotate:nR,skewX:i=>_l(Math.atan(i[4])),skewY:i=>_l(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function Uw(i){return i.includes("scale")?1:0}function jw(i,e){if(!i||i==="none")return Uw(e);const t=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(t)n=yz,r=t;else{const c=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=gz,r=c}if(!r)return Uw(e);const s=n[e],o=r[1].split(",").map(_z);return typeof s=="function"?s(o):o[s]}const vz=(i,e)=>{const{transform:t="none"}=getComputedStyle(i);return jw(t,e)};function _z(i){return parseFloat(i.trim())}const ah=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oh=new Set(ah),sR=i=>i===sh||i===Ve,bz=new Set(["x","y","z"]),wz=ah.filter(i=>!bz.has(i));function Tz(i){const e=[];return wz.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const xl={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:(i,{transform:e})=>jw(e,"x"),y:(i,{transform:e})=>jw(e,"y")};xl.translateX=xl.x;xl.translateY=xl.y;const Dl=new Set;let zw=!1,Hw=!1,qw=!1;function WO(){if(Hw){const i=Array.from(Dl).filter(n=>n.needsMeasurement),e=new Set(i.map(n=>n.element)),t=new Map;e.forEach(n=>{const r=Tz(n);r.length&&(t.set(n,r),n.render())}),i.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const r=t.get(n);r&&r.forEach(([s,o])=>{var c;(c=n.getValue(s))==null||c.set(o)})}),i.forEach(n=>n.measureEndState()),i.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Hw=!1,zw=!1,Dl.forEach(i=>i.complete(qw)),Dl.clear()}function GO(){Dl.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(Hw=!0)})}function Sz(){qw=!0,GO(),WO(),qw=!1}class IS{constructor(e,t,n,r,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Dl.add(this),zw||(zw=!0,Pt.read(GO),Pt.resolveKeyframes(WO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(e[0]===null){const s=r==null?void 0:r.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&t){const c=n.readValue(t,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),r&&s===void 0&&r.set(e[0])}mz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Dl.delete(this)}cancel(){this.state==="scheduled"&&(Dl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ez=i=>i.startsWith("--");function xz(i,e,t){Ez(e)?i.style.setProperty(e,t):i.style[e]=t}const Dz=mS(()=>window.ScrollTimeline!==void 0),Az={};function Iz(i,e){const t=mS(i);return()=>Az[e]??t()}const KO=Iz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wd=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,aR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wd([0,.65,.55,1]),circOut:Wd([.55,0,1,.45]),backIn:Wd([.31,.01,.66,-.59]),backOut:Wd([.33,1.53,.69,.99])};function $O(i,e){if(i)return typeof i=="function"?KO()?HO(i,e):"ease-out":PO(i)?Wd(i):Array.isArray(i)?i.map(t=>$O(t,e)||aR.easeOut):aR[i]}function Rz(i,e,t,{delay:n=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:c="easeOut",times:u}={},d=void 0){const p={[e]:t};u&&(p.offset=u);const g=$O(c,r);Array.isArray(g)&&(p.easing=g);const v={delay:n,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),i.animate(p,v)}function QO(i){return typeof i=="function"&&"applyToOptions"in i}function Cz({type:i,...e}){return QO(i)&&KO()?i.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Mz extends DS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,pS(typeof e.type!="string");const d=Cz(e);this.animation=Rz(t,n,r,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const p=xS(r,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):xz(t,n,p),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,n;const e=((n=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:n.call(t).duration)||0;return Wr(Number(e))}get time(){return Wr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Yr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Dz()?(this.animation.timeline=e,Xi):t(this)}}const XO={anticipate:RO,backInOut:IO,circInOut:MO};function kz(i){return i in XO}function Pz(i){typeof i.ease=="string"&&kz(i.ease)&&(i.ease=XO[i.ease])}const oR=10;class Oz extends Mz{constructor(e){Pz(e),YO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:s,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const c=new AS({...o,autoplay:!1}),u=Yr(this.finishedTime??this.time);t.setWithVelocity(c.sample(u-oR).value,c.sample(u).value,oR),c.stop()}}const lR=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(so.test(i)||i==="0")&&!i.startsWith("url("));function Nz(i){const e=i[0];if(i.length===1)return!0;for(let t=0;t<i.length;t++)if(i[t]!==e)return!0}function Vz(i,e,t,n){const r=i[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=i[i.length-1],o=lR(r,e),c=lR(s,e);return!o||!c?!1:Nz(i)||(t==="spring"||QO(t))&&n}function Yw(i){i.duration=0,i.type}const Lz=new Set(["opacity","clipPath","filter","transform"]),Fz=mS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Bz(i){var p;const{motionValue:e,name:t,repeatDelay:n,repeatType:r,damping:s,type:o}=i;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return Fz()&&t&&Lz.has(t)&&(t!=="transform"||!d)&&!u&&!n&&r!=="mirror"&&s!==0&&o!=="inertia"}const Uz=40;class jz extends DS{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",keyframes:c,name:u,motionValue:d,element:p,...g}){var T;super(),this.stop=()=>{var S,E;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=hi.now();const v={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:s,repeatType:o,name:u,motionValue:d,element:p,...g},b=(p==null?void 0:p.KeyframeResolver)||IS;this.keyframeResolver=new b(c,(S,E,R)=>this.onKeyframesResolved(S,E,v,!R),u,d,p),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:s,type:o,velocity:c,delay:u,isHandoff:d,onUpdate:p}=n;this.resolvedAt=hi.now(),Vz(e,s,o,c)||((Ws.instantAnimations||!u)&&(p==null||p(xS(e,n,t))),e[0]=e[e.length-1],Yw(n),n.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>Uz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},b=!d&&Bz(v)?new Oz({...v,element:v.motionValue.owner.current}):new AS(v);b.finished.then(()=>this.notifyFinished()).catch(Xi),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Sz()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const zz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Hz(i){const e=zz.exec(i);if(!e)return[,];const[,t,n,r]=e;return[`--${t??n}`,r]}function ZO(i,e,t=1){const[n,r]=Hz(i);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return bO(o)?parseFloat(o):o}return bS(r)?ZO(r,e,t+1):r}function RS(i,e){return(i==null?void 0:i[e])??(i==null?void 0:i.default)??i}const JO=new Set(["width","height","top","left","right","bottom",...ah]),qz={test:i=>i==="auto",parse:i=>i},eN=i=>e=>e.test(i),tN=[sh,Ve,Gr,Va,N5,O5,qz],cR=i=>tN.find(eN(i));function Yz(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||TO(i):!0}const Wz=new Set(["brightness","contrast","saturate","opacity"]);function Gz(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(wS)||[];if(!n)return i;const r=t.replace(n,"");let s=Wz.has(e)?1:0;return n!==t&&(s*=100),e+"("+s+r+")"}const Kz=/\b([a-z-]*)\(.*?\)/gu,Ww={...so,getAnimatableNone:i=>{const e=i.match(Kz);return e?e.map(Gz).join(" "):i}},uR={...sh,transform:Math.round},$z={rotate:Va,rotateX:Va,rotateY:Va,rotateZ:Va,scale:ng,scaleX:ng,scaleY:ng,scaleZ:ng,skew:Va,skewX:Va,skewY:Va,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:If,originX:XI,originY:XI,originZ:Ve},CS={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...$z,zIndex:uR,fillOpacity:If,strokeOpacity:If,numOctaves:uR},Qz={...CS,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:Ww,WebkitFilter:Ww},nN=i=>Qz[i];function iN(i,e){let t=nN(i);return t!==Ww&&(t=so),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Xz=new Set(["auto","none","0"]);function Zz(i,e,t){let n=0,r;for(;n<i.length&&!r;){const s=i[n];typeof s=="string"&&!Xz.has(s)&&Rf(s).values.length&&(r=i[n]),n++}if(r&&t)for(const s of e)i[s]=iN(t,r)}class Jz extends IS{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),bS(d))){const p=ZO(d,t.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!JO.has(n)||e.length!==2)return;const[r,s]=e,o=cR(r),c=cR(s);if(o!==c)if(sR(o)&&sR(c))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else xl[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(e[r]===null||Yz(e[r]))&&n.push(r);n.length&&Zz(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){var c;const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=xl[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function e9(i,e,t){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let n=document;const r=(t==null?void 0:t[i])??n.querySelectorAll(i);return r?Array.from(r):[]}return Array.from(i)}const rN=(i,e)=>e&&typeof i=="number"?e.transform(i):i;function t9(i){return wO(i)&&"offsetHeight"in i}const hR=30,n9=i=>!isNaN(parseFloat(i));class i9{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const r=hi.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=hi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=n9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new gS);const n=this.events[e].add(t);return e==="change"?()=>{n(),Pt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hR)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,hR);return SO(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ru(i,e){return new i9(i,e)}const{schedule:MS}=OO(queueMicrotask,!1),or={x:!1,y:!1};function sN(){return or.x||or.y}function r9(i){return i==="x"||i==="y"?or[i]?null:(or[i]=!0,()=>{or[i]=!1}):or.x||or.y?null:(or.x=or.y=!0,()=>{or.x=or.y=!1})}function aN(i,e){const t=e9(i),n=new AbortController,r={passive:!0,...e,signal:n.signal};return[t,r,()=>n.abort()]}function dR(i){return!(i.pointerType==="touch"||sN())}function s9(i,e,t={}){const[n,r,s]=aN(i,t),o=c=>{if(!dR(c))return;const{target:u}=c,d=e(u,c);if(typeof d!="function"||!u)return;const p=g=>{dR(g)&&(d(g),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,r)};return n.forEach(c=>{c.addEventListener("pointerenter",o,r)}),s}const oN=(i,e)=>e?i===e?!0:oN(i,e.parentElement):!1,kS=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,a9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function o9(i){return a9.has(i.tagName)||i.tabIndex!==-1}const Dg=new WeakSet;function fR(i){return e=>{e.key==="Enter"&&i(e)}}function v0(i,e){i.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const l9=(i,e)=>{const t=i.currentTarget;if(!t)return;const n=fR(()=>{if(Dg.has(t))return;v0(t,"down");const r=fR(()=>{v0(t,"up")}),s=()=>v0(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function pR(i){return kS(i)&&!sN()}function c9(i,e,t={}){const[n,r,s]=aN(i,t),o=c=>{const u=c.currentTarget;if(!pR(c))return;Dg.add(u);const d=e(u,c),p=(b,T)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Dg.has(u)&&Dg.delete(u),pR(b)&&typeof d=="function"&&d(b,{success:T})},g=b=>{p(b,u===window||u===document||t.useGlobalTarget||oN(u,b.target))},v=b=>{p(b,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",v,r)};return n.forEach(c=>{(t.useGlobalTarget?window:c).addEventListener("pointerdown",o,r),t9(c)&&(c.addEventListener("focus",d=>l9(d,r)),!o9(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),s}function lN(i){return wO(i)&&"ownerSVGElement"in i}function u9(i){return lN(i)&&i.tagName==="svg"}const Wn=i=>!!(i&&i.getVelocity),h9=[...tN,ln,so],d9=i=>h9.find(eN(i)),cN=Q.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function f9(i=!0){const e=Q.useContext(hS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=Q.useId();Q.useEffect(()=>{if(i)return r(s)},[i]);const o=Q.useCallback(()=>i&&n&&n(s),[s,n,i]);return!t&&n?[!1,o]:[!0]}const uN=Q.createContext({strict:!1}),mR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cu={};for(const i in mR)Cu[i]={isEnabled:e=>mR[i].some(t=>!!e[t])};function p9(i){for(const e in i)Cu[e]={...Cu[e],...i[e]}}const m9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hy(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||m9.has(i)}let hN=i=>!hy(i);function g9(i){typeof i=="function"&&(hN=e=>e.startsWith("on")?!hy(e):i(e))}try{g9(require("@emotion/is-prop-valid").default)}catch{}function y9(i,e,t){const n={};for(const r in i)r==="values"&&typeof i.values=="object"||(hN(r)||t===!0&&hy(r)||!e&&!hy(r)||i.draggable&&r.startsWith("onDrag"))&&(n[r]=i[r]);return n}const iv=Q.createContext({});function rv(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function Cf(i){return typeof i=="string"||Array.isArray(i)}const PS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],OS=["initial",...PS];function sv(i){return rv(i.animate)||OS.some(e=>Cf(i[e]))}function dN(i){return!!(sv(i)||i.variants)}function v9(i,e){if(sv(i)){const{initial:t,animate:n}=i;return{initial:t===!1||Cf(t)?t:void 0,animate:Cf(n)?n:void 0}}return i.inherit!==!1?e:{}}function _9(i){const{initial:e,animate:t}=v9(i,Q.useContext(iv));return Q.useMemo(()=>({initial:e,animate:t}),[gR(e),gR(t)])}function gR(i){return Array.isArray(i)?i.join(" "):i}const Mf={};function b9(i){for(const e in i)Mf[e]=i[e],_S(e)&&(Mf[e].isCSSVariable=!0)}function fN(i,{layout:e,layoutId:t}){return oh.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!Mf[i]||i==="opacity")}const w9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},T9=ah.length;function S9(i,e,t){let n="",r=!0;for(let s=0;s<T9;s++){const o=ah[s],c=i[o];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(o.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||t){const d=rN(c,CS[o]);if(!u){r=!1;const p=w9[o]||o;n+=`${p}(${d}) `}t&&(e[o]=d)}}return n=n.trim(),t?n=t(e,r?"":n):r&&(n="none"),n}function NS(i,e,t){const{style:n,vars:r,transformOrigin:s}=i;let o=!1,c=!1;for(const u in e){const d=e[u];if(oh.has(u)){o=!0;continue}else if(_S(u)){r[u]=d;continue}else{const p=rN(d,CS[u]);u.startsWith("origin")?(c=!0,s[u]=p):n[u]=p}}if(e.transform||(o||t?n.transform=S9(e,i.transform,t):n.transform&&(n.transform="none")),c){const{originX:u="50%",originY:d="50%",originZ:p=0}=s;n.transformOrigin=`${u} ${d} ${p}`}}const VS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pN(i,e,t){for(const n in e)!Wn(e[n])&&!fN(n,t)&&(i[n]=e[n])}function E9({transformTemplate:i},e){return Q.useMemo(()=>{const t=VS();return NS(t,e,i),Object.assign({},t.vars,t.style)},[e])}function x9(i,e){const t=i.style||{},n={};return pN(n,t,i),Object.assign(n,E9(i,e)),n}function D9(i,e){const t={},n=x9(i,e);return i.drag&&i.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(t.tabIndex=0),t.style=n,t}const A9={offset:"stroke-dashoffset",array:"stroke-dasharray"},I9={offset:"strokeDashoffset",array:"strokeDasharray"};function R9(i,e,t=1,n=0,r=!0){i.pathLength=1;const s=r?A9:I9;i[s.offset]=Ve.transform(-n);const o=Ve.transform(e),c=Ve.transform(t);i[s.array]=`${o} ${c}`}function mN(i,{attrX:e,attrY:t,attrScale:n,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...c},u,d,p){if(NS(i,c,d),u){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:g,style:v}=i;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),n!==void 0&&(g.scale=n),r!==void 0&&R9(g,r,s,o,!1)}const gN=()=>({...VS(),attrs:{}}),yN=i=>typeof i=="string"&&i.toLowerCase()==="svg";function C9(i,e,t,n){const r=Q.useMemo(()=>{const s=gN();return mN(s,e,yN(n),i.transformTemplate,i.style),{...s.attrs,style:{...s.style}}},[e]);if(i.style){const s={};pN(s,i.style,i),r.style={...s,...r.style}}return r}const M9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LS(i){return typeof i!="string"||i.includes("-")?!1:!!(M9.indexOf(i)>-1||/[A-Z]/u.test(i))}function k9(i,e,t,{latestValues:n},r,s=!1){const c=(LS(i)?C9:D9)(e,n,r,i),u=y9(e,typeof i=="string",s),d=i!==Q.Fragment?{...u,...c,ref:t}:{},{children:p}=e,g=Q.useMemo(()=>Wn(p)?p.get():p,[p]);return Q.createElement(i,{...d,children:g})}function yR(i){const e=[{},{}];return i==null||i.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function FS(i,e,t,n){if(typeof e=="function"){const[r,s]=yR(n);e=e(t!==void 0?t:i.custom,r,s)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[r,s]=yR(n);e=e(t!==void 0?t:i.custom,r,s)}return e}function Ag(i){return Wn(i)?i.get():i}function P9({scrapeMotionValuesFromProps:i,createRenderState:e},t,n,r){return{latestValues:O9(t,n,r,i),renderState:e()}}function O9(i,e,t,n){const r={},s=n(i,{});for(const v in s)r[v]=Ag(s[v]);let{initial:o,animate:c}=i;const u=sv(i),d=dN(i);e&&d&&!u&&i.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let p=t?t.initial===!1:!1;p=p||o===!1;const g=p?c:o;if(g&&typeof g!="boolean"&&!rv(g)){const v=Array.isArray(g)?g:[g];for(let b=0;b<v.length;b++){const T=FS(i,v[b]);if(T){const{transitionEnd:S,transition:E,...R}=T;for(const P in R){let O=R[P];if(Array.isArray(O)){const z=p?O.length-1:0;O=O[z]}O!==null&&(r[P]=O)}for(const P in S)r[P]=S[P]}}}return r}const vN=i=>(e,t)=>{const n=Q.useContext(iv),r=Q.useContext(hS),s=()=>P9(i,e,n,r);return t?s():p5(s)};function BS(i,e,t){var s;const{style:n}=i,r={};for(const o in n)(Wn(n[o])||e.style&&Wn(e.style[o])||fN(o,i)||((s=t==null?void 0:t.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(r[o]=n[o]);return r}const N9=vN({scrapeMotionValuesFromProps:BS,createRenderState:VS});function _N(i,e,t){const n=BS(i,e,t);for(const r in i)if(Wn(i[r])||Wn(e[r])){const s=ah.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=i[r]}return n}const V9=vN({scrapeMotionValuesFromProps:_N,createRenderState:gN}),L9=Symbol.for("motionComponentSymbol");function fu(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function F9(i,e,t){return Q.useCallback(n=>{n&&i.onMount&&i.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):fu(t)&&(t.current=n))},[e])}const US=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),B9="framerAppearId",bN="data-"+US(B9),wN=Q.createContext({});function U9(i,e,t,n,r){var S,E;const{visualElement:s}=Q.useContext(iv),o=Q.useContext(uN),c=Q.useContext(hS),u=Q.useContext(cN).reducedMotion,d=Q.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(i,{visualState:e,parent:s,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const p=d.current,g=Q.useContext(wN);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&j9(d.current,t,r,g);const v=Q.useRef(!1);Q.useInsertionEffect(()=>{p&&v.current&&p.update(t,c)});const b=t[bN],T=Q.useRef(!!b&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,b))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,b)));return m5(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),T.current&&p.animationState&&p.animationState.animateChanges())}),Q.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)==null||R.call(window,b)}),T.current=!1))}),p}function j9(i,e,t,n){const{layoutId:r,layout:s,drag:o,dragConstraints:c,layoutScroll:u,layoutRoot:d,layoutCrossfade:p}=e;i.projection=new t(i.latestValues,e["data-framer-portal-id"]?void 0:TN(i.parent)),i.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||c&&fu(c),visualElement:i,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:u,layoutRoot:d})}function TN(i){if(i)return i.options.allowProjection!==!1?i.projection:TN(i.parent)}function _0(i,{forwardMotionProps:e=!1}={},t,n){t&&p9(t);const r=LS(i)?V9:N9;function s(c,u){let d;const p={...Q.useContext(cN),...c,layoutId:z9(c)},{isStatic:g}=p,v=_9(c),b=r(c,g);if(!g&&uS){H9();const T=q9(p);d=T.MeasureLayout,v.visualElement=U9(i,b,p,n,T.ProjectionNode)}return j.jsxs(iv.Provider,{value:v,children:[d&&v.visualElement?j.jsx(d,{visualElement:v.visualElement,...p}):null,k9(i,c,F9(b,v.visualElement,u),b,g,e)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=Q.forwardRef(s);return o[L9]=i,o}function z9({layoutId:i}){const e=Q.useContext(_O).id;return e&&i!==void 0?e+"-"+i:i}function H9(i,e){Q.useContext(uN).strict}function q9(i){const{drag:e,layout:t}=Cu;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(i)||t!=null&&t.isEnabled(i)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Y9(i,e){if(typeof Proxy>"u")return _0;const t=new Map,n=(s,o)=>_0(s,o,i,e),r=(s,o)=>n(s,o);return new Proxy(r,{get:(s,o)=>o==="create"?n:(t.has(o)||t.set(o,_0(o,void 0,i,e)),t.get(o))})}function SN({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function W9({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function G9(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function b0(i){return i===void 0||i===1}function Gw({scale:i,scaleX:e,scaleY:t}){return!b0(i)||!b0(e)||!b0(t)}function ll(i){return Gw(i)||EN(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function EN(i){return vR(i.x)||vR(i.y)}function vR(i){return i&&i!=="0%"}function dy(i,e,t){const n=i-t,r=e*n;return t+r}function _R(i,e,t,n,r){return r!==void 0&&(i=dy(i,r,n)),dy(i,t,n)+e}function Kw(i,e=0,t=1,n,r){i.min=_R(i.min,e,t,n,r),i.max=_R(i.max,e,t,n,r)}function xN(i,{x:e,y:t}){Kw(i.x,e.translate,e.scale,e.originPoint),Kw(i.y,t.translate,t.scale,t.originPoint)}const bR=.999999999999,wR=1.0000000000001;function K9(i,e,t,n=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let c=0;c<r;c++){s=t[c],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&mu(i,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,xN(i,o)),n&&ll(s.latestValues)&&mu(i,s.latestValues))}e.x<wR&&e.x>bR&&(e.x=1),e.y<wR&&e.y>bR&&(e.y=1)}function pu(i,e){i.min=i.min+e,i.max=i.max+e}function TR(i,e,t,n,r=.5){const s=Vt(i.min,i.max,r);Kw(i,e,t,s,n)}function mu(i,e){TR(i.x,e.x,e.scaleX,e.scale,e.originX),TR(i.y,e.y,e.scaleY,e.scale,e.originY)}function DN(i,e){return SN(G9(i.getBoundingClientRect(),e))}function $9(i,e,t){const n=DN(i,t),{scroll:r}=e;return r&&(pu(n.x,r.offset.x),pu(n.y,r.offset.y)),n}const SR=()=>({translate:0,scale:1,origin:0,originPoint:0}),gu=()=>({x:SR(),y:SR()}),ER=()=>({min:0,max:0}),Kt=()=>({x:ER(),y:ER()}),$w={current:null},AN={current:!1};function Q9(){if(AN.current=!0,!!uS)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>$w.current=i.matches;i.addEventListener("change",e),e()}else $w.current=!1}const X9=new WeakMap;function Z9(i,e,t){for(const n in e){const r=e[n],s=t[n];if(Wn(r))i.addValue(n,r);else if(Wn(s))i.addValue(n,Ru(r,{owner:i}));else if(s!==r)if(i.hasValue(n)){const o=i.getValue(n);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=i.getStaticValue(n);i.addValue(n,Ru(o!==void 0?o:r,{owner:i}))}}for(const n in t)e[n]===void 0&&i.removeValue(n);return e}const xR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class J9{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=IS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=hi.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Pt.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=sv(t),this.isVariantNode=dN(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in g){const b=g[v];u[v]!==void 0&&Wn(b)&&b.set(u[v])}}mount(e){this.current=e,X9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),AN.current||Q9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$w.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ro(this.notifyUpdate),ro(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=oh.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Pt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Cu){const t=Cu[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<xR.length;n++){const r=xR[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=Z9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Ru(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(bO(n)||TO(n))?n=parseFloat(n):!d9(n)&&so.test(t)&&(n=iN(e,t)),this.setBaseTarget(e,Wn(n)?n.get():n)),Wn(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const o=FS(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);o&&(n=o[e])}if(t&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Wn(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new gS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){MS.render(this.render)}}class IN extends J9{constructor(){super(...arguments),this.KeyframeResolver=Jz}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function RN(i,{style:e,vars:t},n,r){const s=i.style;let o;for(o in e)s[o]=e[o];r==null||r.applyProjectionStyles(s,n);for(o in t)s.setProperty(o,t[o])}function eH(i){return window.getComputedStyle(i)}class tH extends IN{constructor(){super(...arguments),this.type="html",this.renderInstance=RN}readValueFromInstance(e,t){var n;if(oh.has(t))return(n=this.projection)!=null&&n.isProjecting?Uw(t):vz(e,t);{const r=eH(e),s=(_S(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return DN(e,t)}build(e,t,n){NS(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return BS(e,t,n)}}const CN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nH(i,e,t,n){RN(i,e,void 0,n);for(const r in e.attrs)i.setAttribute(CN.has(r)?r:US(r),e.attrs[r])}class iH extends IN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(oh.has(t)){const n=nN(t);return n&&n.default||0}return t=CN.has(t)?t:US(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return _N(e,t,n)}build(e,t,n){mN(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){nH(e,t,n,r)}mount(e){this.isSVGTag=yN(e.tagName),super.mount(e)}}const rH=(i,e)=>LS(i)?new iH(e):new tH(e,{allowProjection:i!==Q.Fragment});function kf(i,e,t){const n=i.getProps();return FS(n,e,t!==void 0?t:n.custom,i)}const Qw=i=>Array.isArray(i);function sH(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,Ru(t))}function aH(i){return Qw(i)?i[i.length-1]||0:i}function oH(i,e){const t=kf(i,e);let{transitionEnd:n={},transition:r={},...s}=t||{};s={...s,...n};for(const o in s){const c=aH(s[o]);sH(i,o,c)}}function lH(i){return!!(Wn(i)&&i.add)}function Xw(i,e){const t=i.getValue("willChange");if(lH(t))return t.add(e);if(!t&&Ws.WillChange){const n=new Ws.WillChange("auto");i.addValue("willChange",n),n.add(e)}}function MN(i){return i.props[bN]}const cH=i=>i!==null;function uH(i,{repeat:e,repeatType:t="loop"},n){const r=i.filter(cH),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[s]}const hH={type:"spring",stiffness:500,damping:25,restSpeed:10},dH=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),fH={type:"keyframes",duration:.8},pH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mH=(i,{keyframes:e})=>e.length>2?fH:oh.has(i)?i.startsWith("scale")?dH(e[1]):hH:pH;function gH({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:c,from:u,elapsed:d,...p}){return!!Object.keys(p).length}const jS=(i,e,t,n={},r,s)=>o=>{const c=RS(n,i)||{},u=c.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Yr(u);const p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-d,onUpdate:v=>{e.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:i,motionValue:e,element:s?void 0:r};gH(c)||Object.assign(p,mH(i,p)),p.duration&&(p.duration=Yr(p.duration)),p.repeatDelay&&(p.repeatDelay=Yr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Yw(p),p.delay===0&&(g=!0)),(Ws.instantAnimations||Ws.skipAnimations)&&(g=!0,Yw(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,g&&!s&&e.get()!==void 0){const v=uH(p.keyframes,c);if(v!==void 0){Pt.update(()=>{p.onUpdate(v),p.onComplete()});return}}return c.isSync?new AS(p):new jz(p)};function yH({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function kN(i,e,{delay:t=0,transitionOverride:n,type:r}={}){let{transition:s=i.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(s=n);const u=[],d=r&&i.animationState&&i.animationState.getState()[r];for(const p in c){const g=i.getValue(p,i.latestValues[p]??null),v=c[p];if(v===void 0||d&&yH(d,p))continue;const b={delay:t,...RS(s||{},p)},T=g.get();if(T!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===T&&!b.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const R=MN(i);if(R){const P=window.MotionHandoffAnimation(R,p,Pt);P!==null&&(b.startTime=P,S=!0)}}Xw(i,p),g.start(jS(p,g,v,i.shouldReduceMotion&&JO.has(p)?{type:!1}:b,i,S));const E=g.animation;E&&u.push(E)}return o&&Promise.all(u).then(()=>{Pt.update(()=>{o&&oH(i,o)})}),u}function Zw(i,e,t={}){var u;const n=kf(i,e,t.type==="exit"?(u=i.presenceContext)==null?void 0:u.custom:void 0);let{transition:r=i.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(r=t.transitionOverride);const s=n?()=>Promise.all(kN(i,n,t)):()=>Promise.resolve(),o=i.variantChildren&&i.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=r;return vH(i,e,d,p,g,v,t)}:()=>Promise.resolve(),{when:c}=r;if(c){const[d,p]=c==="beforeChildren"?[s,o]:[o,s];return d().then(()=>p())}else return Promise.all([s(),o(t.delay)])}function vH(i,e,t=0,n=0,r=0,s=1,o){const c=[],u=i.variantChildren.size,d=(u-1)*r,p=typeof n=="function",g=p?v=>n(v,u):s===1?(v=0)=>v*r:(v=0)=>d-v*r;return Array.from(i.variantChildren).sort(_H).forEach((v,b)=>{v.notify("AnimationStart",e),c.push(Zw(v,e,{...o,delay:t+(p?0:n)+g(b)}).then(()=>v.notify("AnimationComplete",e)))}),Promise.all(c)}function _H(i,e){return i.sortNodePosition(e)}function bH(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(s=>Zw(i,s,t));n=Promise.all(r)}else if(typeof e=="string")n=Zw(i,e,t);else{const r=typeof e=="function"?kf(i,e,t.custom):e;n=Promise.all(kN(i,r,t))}return n.then(()=>{i.notify("AnimationComplete",e)})}function PN(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}const wH=OS.length;function ON(i){if(!i)return;if(!i.isControllingVariants){const t=i.parent?ON(i.parent)||{}:{};return i.props.initial!==void 0&&(t.initial=i.props.initial),t}const e={};for(let t=0;t<wH;t++){const n=OS[t],r=i.props[n];(Cf(r)||r===!1)&&(e[n]=r)}return e}const TH=[...PS].reverse(),SH=PS.length;function EH(i){return e=>Promise.all(e.map(({animation:t,options:n})=>bH(i,t,n)))}function xH(i){let e=EH(i),t=DR(),n=!0;const r=u=>(d,p)=>{var v;const g=kf(i,p,u==="exit"?(v=i.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:b,transitionEnd:T,...S}=g;d={...d,...S,...T}}return d};function s(u){e=u(i)}function o(u){const{props:d}=i,p=ON(i.parent)||{},g=[],v=new Set;let b={},T=1/0;for(let E=0;E<SH;E++){const R=TH[E],P=t[R],O=d[R]!==void 0?d[R]:p[R],z=Cf(O),U=R===u?P.isActive:null;U===!1&&(T=E);let K=O===p[R]&&O!==d[R]&&z;if(K&&n&&i.manuallyAnimateOnMount&&(K=!1),P.protectedKeys={...b},!P.isActive&&U===null||!O&&!P.prevProp||rv(O)||typeof O=="boolean")continue;const M=DH(P.prevProp,O);let A=M||R===u&&P.isActive&&!K&&z||E>T&&z,I=!1;const F=Array.isArray(O)?O:[O];let L=F.reduce(r(R),{});U===!1&&(L={});const{prevResolvedValues:B={}}=P,V={...B,...L},me=G=>{A=!0,v.has(G)&&(I=!0,v.delete(G)),P.needsAnimating[G]=!0;const ae=i.getValue(G);ae&&(ae.liveStyle=!1)};for(const G in V){const ae=L[G],X=B[G];if(b.hasOwnProperty(G))continue;let k=!1;Qw(ae)&&Qw(X)?k=!PN(ae,X):k=ae!==X,k?ae!=null?me(G):v.add(G):ae!==void 0&&v.has(G)?me(G):P.protectedKeys[G]=!0}P.prevProp=O,P.prevResolvedValues=L,P.isActive&&(b={...b,...L}),n&&i.blockInitialAnimation&&(A=!1),A&&(!(K&&M)||I)&&g.push(...F.map(G=>({animation:G,options:{type:R}})))}if(v.size){const E={};if(typeof d.initial!="boolean"){const R=kf(i,Array.isArray(d.initial)?d.initial[0]:d.initial);R&&R.transition&&(E.transition=R.transition)}v.forEach(R=>{const P=i.getBaseTarget(R),O=i.getValue(R);O&&(O.liveStyle=!0),E[R]=P??null}),g.push({animation:E})}let S=!!g.length;return n&&(d.initial===!1||d.initial===d.animate)&&!i.manuallyAnimateOnMount&&(S=!1),n=!1,S?e(g):Promise.resolve()}function c(u,d){var g;if(t[u].isActive===d)return Promise.resolve();(g=i.variantChildren)==null||g.forEach(v=>{var b;return(b=v.animationState)==null?void 0:b.setActive(u,d)}),t[u].isActive=d;const p=o(u);for(const v in t)t[v].protectedKeys={};return p}return{animateChanges:o,setActive:c,setAnimateFunction:s,getState:()=>t,reset:()=>{t=DR(),n=!0}}}function DH(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!PN(e,i):!1}function sl(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DR(){return{animate:sl(!0),whileInView:sl(),whileHover:sl(),whileTap:sl(),whileDrag:sl(),whileFocus:sl(),exit:sl()}}class po{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AH extends po{constructor(e){super(e),e.animationState||(e.animationState=xH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let IH=0;class RH extends po{constructor(){super(...arguments),this.id=IH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const CH={animation:{Feature:AH},exit:{Feature:RH}};function Pf(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}function np(i){return{point:{x:i.pageX,y:i.pageY}}}const MH=i=>e=>kS(e)&&i(e,np(e));function lf(i,e,t,n){return Pf(i,e,MH(t),n)}const NN=1e-4,kH=1-NN,PH=1+NN,VN=.01,OH=0-VN,NH=0+VN;function ei(i){return i.max-i.min}function VH(i,e,t){return Math.abs(i-e)<=t}function AR(i,e,t,n=.5){i.origin=n,i.originPoint=Vt(e.min,e.max,i.origin),i.scale=ei(t)/ei(e),i.translate=Vt(t.min,t.max,i.origin)-i.originPoint,(i.scale>=kH&&i.scale<=PH||isNaN(i.scale))&&(i.scale=1),(i.translate>=OH&&i.translate<=NH||isNaN(i.translate))&&(i.translate=0)}function cf(i,e,t,n){AR(i.x,e.x,t.x,n?n.originX:void 0),AR(i.y,e.y,t.y,n?n.originY:void 0)}function IR(i,e,t){i.min=t.min+e.min,i.max=i.min+ei(e)}function LH(i,e,t){IR(i.x,e.x,t.x),IR(i.y,e.y,t.y)}function RR(i,e,t){i.min=e.min-t.min,i.max=i.min+ei(e)}function uf(i,e,t){RR(i.x,e.x,t.x),RR(i.y,e.y,t.y)}function Yi(i){return[i("x"),i("y")]}const LN=({current:i})=>i?i.ownerDocument.defaultView:null,CR=(i,e)=>Math.abs(i-e);function FH(i,e){const t=CR(i.x,e.x),n=CR(i.y,e.y);return Math.sqrt(t**2+n**2)}class FN{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=T0(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,T=FH(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!T)return;const{point:S}=v,{timestamp:E}=Nn;this.history.push({...S,timestamp:E});const{onStart:R,onMove:P}=this.handlers;b||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=w0(b,this.transformPagePoint),Pt.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:T,onSessionEnd:S,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=T0(v.type==="pointercancel"?this.lastMoveEventInfo:w0(b,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,R),S&&S(v,R)},!kS(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=r||window;const c=np(e),u=w0(c,this.transformPagePoint),{point:d}=u,{timestamp:p}=Nn;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=t;g&&g(e,T0(u,this.history)),this.removeListeners=Jf(lf(this.contextWindow,"pointermove",this.handlePointerMove),lf(this.contextWindow,"pointerup",this.handlePointerUp),lf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ro(this.updatePoint)}}function w0(i,e){return e?{point:e(i.point)}:i}function MR(i,e){return{x:i.x-e.x,y:i.y-e.y}}function T0({point:i},e){return{point:i,delta:MR(i,BN(e)),offset:MR(i,BH(e)),velocity:UH(e,.1)}}function BH(i){return i[0]}function BN(i){return i[i.length-1]}function UH(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const r=BN(i);for(;t>=0&&(n=i[t],!(r.timestamp-n.timestamp>Yr(e)));)t--;if(!n)return{x:0,y:0};const s=Wr(r.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-n.x)/s,y:(r.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function jH(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?Vt(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?Vt(t,i,n.max):Math.min(i,t)),i}function kR(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function zH(i,{top:e,left:t,bottom:n,right:r}){return{x:kR(i.x,t,r),y:kR(i.y,e,n)}}function PR(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function HH(i,e){return{x:PR(i.x,e.x),y:PR(i.y,e.y)}}function qH(i,e){let t=.5;const n=ei(i),r=ei(e);return r>n?t=Af(e.min,e.max-n,i.min):n>r&&(t=Af(i.min,i.max-r,e.min)),Ys(0,1,t)}function YH(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const Jw=.35;function WH(i=Jw){return i===!1?i=0:i===!0&&(i=Jw),{x:OR(i,"left","right"),y:OR(i,"top","bottom")}}function OR(i,e,t){return{min:NR(i,e),max:NR(i,t)}}function NR(i,e){return typeof i=="number"?i:i[e]||0}const GH=new WeakMap;class KH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(np(g).point)},o=(g,v)=>{const{drag:b,dragPropagation:T,onDragStart:S}=this.getProps();if(b&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=r9(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yi(R=>{let P=this.getAxisMotionValue(R).get()||0;if(Gr.test(P)){const{projection:O}=this.visualElement;if(O&&O.layout){const z=O.layout.layoutBox[R];z&&(P=ei(z)*(parseFloat(P)/100))}}this.originPoint[R]=P}),S&&Pt.postRender(()=>S(g,v)),Xw(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},c=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:b,dragDirectionLock:T,onDirectionLock:S,onDrag:E}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:R}=v;if(T&&this.currentDirection===null){this.currentDirection=$H(R),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),E&&E(g,v)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Yi(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new FN(e,{onSessionStart:s,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:LN(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&Pt.postRender(()=>c(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!ig(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=jH(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,r=this.constraints;e&&fu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=zH(n.layoutBox,e):this.constraints=!1,this.elastic=WH(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Yi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=YH(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!fu(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=$9(n,r.root,this.visualElement.getTransformPagePoint());let o=HH(r.layout.layoutBox,s);if(t){const c=t(W9(o));this.hasMutatedConstraints=!!c,c&&(o=SN(c))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},d=Yi(p=>{if(!ig(p,t,this.currentDirection))return;let g=u&&u[p]||{};o&&(g={min:0,max:0});const v=r?200:1e6,b=r?40:1e7,T={type:"inertia",velocity:n?e[p]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(p,T)});return Promise.all(d).then(c)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Xw(this.visualElement,e),n.start(jS(e,n,0,t,this.visualElement,!1))}stopAnimation(){Yi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Yi(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Yi(t=>{const{drag:n}=this.getProps();if(!ig(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:c}=r.layout.layoutBox[t];s.set(e[t]-Vt(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!fu(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Yi(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const u=c.get();r[o]=qH({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Yi(o=>{if(!ig(o,e,null))return;const c=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];c.set(Vt(u,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;GH.set(this.visualElement,this);const e=this.visualElement.current,t=lf(e,"pointerdown",u=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();fu(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Pt.read(n);const o=Pf(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Yi(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=u[p].translate,g.set(g.get()+u[p].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=Jw,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:c}}}function ig(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function $H(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class QH extends po{constructor(e){super(e),this.removeGroupControls=Xi,this.removeListeners=Xi,this.controls=new KH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xi}unmount(){this.removeGroupControls(),this.removeListeners()}}const VR=i=>(e,t)=>{i&&Pt.postRender(()=>i(e,t))};class XH extends po{constructor(){super(...arguments),this.removePointerDownListener=Xi}onPointerDown(e){this.session=new FN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:VR(e),onStart:VR(t),onMove:n,onEnd:(s,o)=>{delete this.session,r&&Pt.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=lf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ig={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LR(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const Md={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(Ve.test(i))i=parseFloat(i);else return i;const t=LR(i,e.target.x),n=LR(i,e.target.y);return`${t}% ${n}%`}},ZH={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,r=so.parse(i);if(r.length>5)return n;const s=so.createTransformer(i),o=typeof r[0]!="number"?1:0,c=t.x.scale*e.x,u=t.y.scale*e.y;r[0+o]/=c,r[1+o]/=u;const d=Vt(c,u,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),s(r)}};let FR=!1;class JH extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;b9(eq),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),FR&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ig.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,FR=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Pt.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),MS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function UN(i){const[e,t]=f9(),n=Q.useContext(_O);return j.jsx(JH,{...i,layoutGroup:n,switchLayoutGroup:Q.useContext(wN),isPresent:e,safeToRemove:t})}const eq={borderRadius:{...Md,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Md,borderTopRightRadius:Md,borderBottomLeftRadius:Md,borderBottomRightRadius:Md,boxShadow:ZH};function tq(i,e,t){const n=Wn(i)?i:Ru(i);return n.start(jS("",n,e,t)),n.animation}const nq=(i,e)=>i.depth-e.depth;class iq{constructor(){this.children=[],this.isDirty=!1}add(e){dS(this.children,e),this.isDirty=!0}remove(e){fS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nq),this.isDirty=!1,this.children.forEach(e)}}function rq(i,e){const t=hi.now(),n=({timestamp:r})=>{const s=r-t;s>=e&&(ro(n),i(s-e))};return Pt.setup(n,!0),()=>ro(n)}const jN=["TopLeft","TopRight","BottomLeft","BottomRight"],sq=jN.length,BR=i=>typeof i=="string"?parseFloat(i):i,UR=i=>typeof i=="number"||Ve.test(i);function aq(i,e,t,n,r,s){r?(i.opacity=Vt(0,t.opacity??1,oq(n)),i.opacityExit=Vt(e.opacity??1,0,lq(n))):s&&(i.opacity=Vt(e.opacity??1,t.opacity??1,n));for(let o=0;o<sq;o++){const c=`border${jN[o]}Radius`;let u=jR(e,c),d=jR(t,c);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||UR(u)===UR(d)?(i[c]=Math.max(Vt(BR(u),BR(d),n),0),(Gr.test(d)||Gr.test(u))&&(i[c]+="%")):i[c]=d}(e.rotate||t.rotate)&&(i.rotate=Vt(e.rotate||0,t.rotate||0,n))}function jR(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const oq=zN(0,.5,CO),lq=zN(.5,.95,Xi);function zN(i,e,t){return n=>n<i?0:n>e?1:t(Af(i,e,n))}function zR(i,e){i.min=e.min,i.max=e.max}function qi(i,e){zR(i.x,e.x),zR(i.y,e.y)}function HR(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}function qR(i,e,t,n,r){return i-=e,i=dy(i,1/t,n),r!==void 0&&(i=dy(i,1/r,n)),i}function cq(i,e=0,t=1,n=.5,r,s=i,o=i){if(Gr.test(e)&&(e=parseFloat(e),e=Vt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=Vt(s.min,s.max,n);i===s&&(c-=e),i.min=qR(i.min,e,t,c,r),i.max=qR(i.max,e,t,c,r)}function YR(i,e,[t,n,r],s,o){cq(i,e[t],e[n],e[r],e.scale,s,o)}const uq=["x","scaleX","originX"],hq=["y","scaleY","originY"];function WR(i,e,t,n){YR(i.x,e,uq,t?t.x:void 0,n?n.x:void 0),YR(i.y,e,hq,t?t.y:void 0,n?n.y:void 0)}function GR(i){return i.translate===0&&i.scale===1}function HN(i){return GR(i.x)&&GR(i.y)}function KR(i,e){return i.min===e.min&&i.max===e.max}function dq(i,e){return KR(i.x,e.x)&&KR(i.y,e.y)}function $R(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function qN(i,e){return $R(i.x,e.x)&&$R(i.y,e.y)}function QR(i){return ei(i.x)/ei(i.y)}function XR(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}class fq{constructor(){this.members=[]}add(e){dS(this.members,e),e.scheduleRender()}remove(e){if(fS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let n;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pq(i,e,t){let n="";const r=i.x.translate/e.x,s=i.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((r||s||o)&&(n=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:p,rotateX:g,rotateY:v,skewX:b,skewY:T}=t;d&&(n=`perspective(${d}px) ${n}`),p&&(n+=`rotate(${p}deg) `),g&&(n+=`rotateX(${g}deg) `),v&&(n+=`rotateY(${v}deg) `),b&&(n+=`skewX(${b}deg) `),T&&(n+=`skewY(${T}deg) `)}const c=i.x.scale*e.x,u=i.y.scale*e.y;return(c!==1||u!==1)&&(n+=`scale(${c}, ${u})`),n||"none"}const S0=["","X","Y","Z"],mq=1e3;let gq=0;function E0(i,e,t,n){const{latestValues:r}=e;r[i]&&(t[i]=r[i],e.setStaticValue(i,0),n&&(n[i]=0))}function YN(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const t=MN(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=i.options;window.MotionCancelOptimisedAnimation(t,"transform",Pt,!(r||s))}const{parent:n}=i;n&&!n.hasCheckedOptimisedAppear&&YN(n)}function WN({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(o={},c=e==null?void 0:e()){this.id=gq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_q),this.nodes.forEach(Sq),this.nodes.forEach(Eq),this.nodes.forEach(bq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new iq)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new gS),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const u=this.eventHandlers.get(o);u&&u.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=lN(o)&&!u9(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),i){let p,g=0;const v=()=>this.root.updateBlockedByResize=!1;Pt.read(()=>{g=window.innerWidth}),i(o,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,p&&p(),p=rq(v,250),Ig.hasAnimatedSinceResize&&(Ig.hasAnimatedSinceResize=!1,this.nodes.forEach(eC)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||d.getDefaultTransition()||Rq,{onLayoutAnimationStart:S,onLayoutAnimationComplete:E}=d.getProps(),R=!this.targetLayout||!qN(this.targetLayout,b),P=!g&&v;if(this.options.layoutRoot||this.resumeFrom||P||g&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...RS(T,"layout"),onPlay:S,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(p,P)}else g||eC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ro(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(JR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Tq),this.nodes.forEach(yq),this.nodes.forEach(vq)):this.nodes.forEach(JR),this.clearAllSnapshots();const c=hi.now();Nn.delta=Ys(0,1e3/60,c-Nn.timestamp),Nn.timestamp=c,Nn.isProcessing=!0,f0.update.process(Nn),f0.preRender.process(Nn),f0.render.process(Nn),Nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,MS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wq),this.sharedNodes.forEach(Dq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ei(this.snapshot.measuredBox.x)&&!ei(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!HN(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;o&&this.instance&&(c||ll(this.latestValues)||p)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return o&&(u=this.removeTransform(u)),Cq(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Kt();const c=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Mq))){const{scroll:p}=this.root;p&&(pu(c.x,p.offset.x),pu(c.y,p.offset.y))}return c}removeElementScroll(o){var u;const c=Kt();if(qi(c,o),(u=this.scroll)!=null&&u.wasRoot)return c;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&qi(c,o),pu(c.x,g.offset.x),pu(c.y,g.offset.y))}return c}applyTransform(o,c=!1){const u=Kt();qi(u,o);for(let d=0;d<this.path.length;d++){const p=this.path[d];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&mu(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ll(p.latestValues)&&mu(u,p.latestValues)}return ll(this.latestValues)&&mu(u,this.latestValues),u}removeTransform(o){const c=Kt();qi(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!ll(d.latestValues))continue;Gw(d.latestValues)&&d.updateSnapshot();const p=Kt(),g=d.measurePageBox();qi(p,g),WR(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return ll(this.latestValues)&&WR(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var v;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Nn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),uf(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),qi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kt(),this.targetWithTransforms=Kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qi(this.target,this.layout.layoutBox),xN(this.target,this.targetDelta)):qi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),uf(this.relativeTargetOrigin,this.target,b.target),qi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gw(this.parent.latestValues)||EN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Nn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;qi(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;K9(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Kt());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HR(this.prevProjectionDelta.x,this.projectionDelta.x),HR(this.prevProjectionDelta.y,this.projectionDelta.y)),cf(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!XR(this.projectionDelta.x,this.prevProjectionDelta.x)||!XR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gu(),this.projectionDelta=gu(),this.projectionDeltaWithTransform=gu()}setAnimationOrigin(o,c=!1){const u=this.snapshot,d=u?u.latestValues:{},p={...this.latestValues},g=gu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=Kt(),b=u?u.source:void 0,T=this.layout?this.layout.source:void 0,S=b!==T,E=this.getStack(),R=!E||E.members.length<=1,P=!!(S&&!R&&this.options.crossfade===!0&&!this.path.some(Iq));this.animationProgress=0;let O;this.mixTargetDelta=z=>{const U=z/1e3;tC(g.x,o.x,U),tC(g.y,o.y,U),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uf(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Aq(this.relativeTarget,this.relativeTargetOrigin,v,U),O&&dq(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Kt()),qi(O,this.relativeTarget)),S&&(this.animationValues=p,aq(p,d,this.latestValues,U,P,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,u,d;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(d=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ro(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pt.update(()=>{Ig.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ru(0)),this.currentAnimation=tq(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),o.onUpdate&&o.onUpdate(p)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:u,layout:d,latestValues:p}=o;if(!(!c||!u||!d)){if(this!==o&&this.layout&&d&&GN(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Kt();const g=ei(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+g;const v=ei(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+v}qi(c,u),mu(c,p),cf(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new fq),this.sharedNodes.get(o).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const d={};u.z&&E0("z",o,d,this.animationValues);for(let p=0;p<S0.length;p++)E0(`rotate${S0[p]}`,o,d,this.animationValues),E0(`skew${S0[p]}`,o,d,this.animationValues);o.render();for(const p in d)o.setStaticValue(p,d[p]),this.animationValues&&(this.animationValues[p]=d[p]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ag(c==null?void 0:c.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ag(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ll(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const p=d.animationValues||d.latestValues;this.applyTransformsToTarget();let g=pq(this.projectionDeltaWithTransform,this.treeScale,p);u&&(g=u(p,g)),o.transform=g;const{x:v,y:b}=this.projectionDelta;o.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,d.animationValues?o.opacity=d===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:o.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const T in Mf){if(p[T]===void 0)continue;const{correct:S,applyTo:E,isCSSVariable:R}=Mf[T],P=g==="none"?p[T]:S(p[T],d);if(E){const O=E.length;for(let z=0;z<O;z++)o[E[z]]=P}else R?this.options.visualElement.renderState.vars[T]=P:o[T]=P}this.options.layoutId&&(o.pointerEvents=d===this?Ag(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(ZR),this.root.sharedNodes.clear()}}}function yq(i){i.updateLayout()}function vq(i){var t;const e=((t=i.resumeFrom)==null?void 0:t.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&e&&i.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=i.layout,{animationType:s}=i.options,o=e.source!==i.layout.source;s==="size"?Yi(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],b=ei(v);v.min=n[g].min,v.max=v.min+b}):GN(s,e.layoutBox,n)&&Yi(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],b=ei(n[g]);v.max=v.min+b,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[g].max=i.relativeTarget[g].min+b)});const c=gu();cf(c,n,e.layoutBox);const u=gu();o?cf(u,i.applyTransform(r,!0),e.measuredBox):cf(u,n,e.layoutBox);const d=!HN(c);let p=!1;if(!i.resumeFrom){const g=i.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const T=Kt();uf(T,e.layoutBox,v.layoutBox);const S=Kt();uf(S,n,b.layoutBox),qN(T,S)||(p=!0),g.options.layoutRoot&&(i.relativeTarget=S,i.relativeTargetOrigin=T,i.relativeParent=g)}}}i.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(i.isLead()){const{onExitComplete:n}=i.options;n&&n()}i.options.transition=void 0}function _q(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function bq(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function wq(i){i.clearSnapshot()}function ZR(i){i.clearMeasurements()}function JR(i){i.isLayoutDirty=!1}function Tq(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function eC(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function Sq(i){i.resolveTargetDelta()}function Eq(i){i.calcProjection()}function xq(i){i.resetSkewAndRotation()}function Dq(i){i.removeLeadSnapshot()}function tC(i,e,t){i.translate=Vt(e.translate,0,t),i.scale=Vt(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function nC(i,e,t,n){i.min=Vt(e.min,t.min,n),i.max=Vt(e.max,t.max,n)}function Aq(i,e,t,n){nC(i.x,e.x,t.x,n),nC(i.y,e.y,t.y,n)}function Iq(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const Rq={duration:.45,ease:[.4,0,.1,1]},iC=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),rC=iC("applewebkit/")&&!iC("chrome/")?Math.round:Xi;function sC(i){i.min=rC(i.min),i.max=rC(i.max)}function Cq(i){sC(i.x),sC(i.y)}function GN(i,e,t){return i==="position"||i==="preserve-aspect"&&!VH(QR(e),QR(t),.2)}function Mq(i){var e;return i!==i.root&&((e=i.scroll)==null?void 0:e.wasRoot)}const kq=WN({attachResizeListener:(i,e)=>Pf(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),x0={current:void 0},KN=WN({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!x0.current){const i=new kq({});i.mount(window),i.setOptions({layoutScroll:!0}),x0.current=i}return x0.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),Pq={pan:{Feature:XH},drag:{Feature:QH,ProjectionNode:KN,MeasureLayout:UN}};function aC(i,e,t){const{props:n}=i;i.animationState&&n.whileHover&&i.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,s=n[r];s&&Pt.postRender(()=>s(e,np(e)))}class Oq extends po{mount(){const{current:e}=this.node;e&&(this.unmount=s9(e,(t,n)=>(aC(this.node,n,"Start"),r=>aC(this.node,r,"End"))))}unmount(){}}class Nq extends po{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jf(Pf(this.node.current,"focus",()=>this.onFocus()),Pf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oC(i,e,t){const{props:n}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&n.whileTap&&i.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),s=n[r];s&&Pt.postRender(()=>s(e,np(e)))}class Vq extends po{mount(){const{current:e}=this.node;e&&(this.unmount=c9(e,(t,n)=>(oC(this.node,n,"Start"),(r,{success:s})=>oC(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const eT=new WeakMap,D0=new WeakMap,Lq=i=>{const e=eT.get(i.target);e&&e(i)},Fq=i=>{i.forEach(Lq)};function Bq({root:i,...e}){const t=i||document;D0.has(t)||D0.set(t,{});const n=D0.get(t),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver(Fq,{root:i,...e})),n[r]}function Uq(i,e,t){const n=Bq(e);return eT.set(i,t),n.observe(i),()=>{eT.delete(i),n.unobserve(i)}}const jq={some:0,all:1};class zq extends po{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:jq[r]},c=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=d?p:g;v&&v(u)};return Uq(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Hq(e,t))&&this.startObserver()}unmount(){}}function Hq({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const qq={inView:{Feature:zq},tap:{Feature:Vq},focus:{Feature:Nq},hover:{Feature:Oq}},Yq={layout:{ProjectionNode:KN,MeasureLayout:UN}},Wq={...CH,...qq,...Pq,...Yq},Gq=Y9(Wq,rH);function $N({name:i,nutrients:e,onEdit:t,onDelete:n,unit:r="g",disableSwipe:s}){const[o,c]=le.useState(null),u=()=>{let g=0;return e.forEach(v=>{const b=parseFloat(v.total)||0;(v.type==="Carbohydrate"||v.type==="Protein")&&(g+=b*4),v.type==="Fat"&&(g+=b*9)}),Math.round(g)},d=g=>g.charAt(0).toUpperCase()+g.slice(1),p=f5({onSwipedLeft:()=>{s||(c("left"),setTimeout(()=>{n&&n(),c(null)},300))},onSwipedRight:()=>{s||(c("right"),setTimeout(()=>{t&&t(),c(null)},300))},preventScrollOnSwipe:!0,trackMouse:!0});return j.jsxs("div",{...p,className:"position-relative mb-2",children:[o==="left"&&j.jsx("div",{className:"position-absolute top-50 start-100 translate-middle-y text-danger fw-bold",style:{zIndex:1},children:""}),o==="right"&&j.jsx("div",{className:"position-absolute top-50 start-0 translate-middle-y text-warning fw-bold",style:{zIndex:1},children:""}),j.jsxs(Gq.div,{initial:{x:0},animate:{x:o==="left"?-100:o==="right"?100:0},transition:{duration:.3},className:"meal-card text-white p-3 rounded shadow-sm",style:{backgroundColor:"#00bfff17"},children:[j.jsx("p",{className:"MealCardText mb-1 fw-bold",children:i}),j.jsxs("p",{className:"MealCardText mb-1",children:["Calories: ",u()," kcal"]}),e.map((g,v)=>j.jsxs("p",{className:"MealCardText mb-1",children:[d(g.type),": ",g.total," ",r]},v))]})]})}const Kq=i=>{const e=Math.floor(i/100)+1,t=i%100,n=100,r=t/n*100;return{level:e,currentXP:t,nextXP:n,percent:r}};function $q({meals:i,onEditMeal:e,onDeleteMeal:t,user:n}){const{level:r,currentXP:s,nextXP:o,percent:c}=Kq(n.xp||0),u=new Date().toISOString().split("T")[0],d=S=>i.filter(E=>E.mealType===S&&E.date===u),p=S=>{const E=new Date(S),R=E.getDay(),P=E.getDate()-R+(R===0?-6:1);return new Date(E.setDate(P))},[g,v]=Q.useState(p(new Date)),b=S=>{const E=new Date(g);E.setDate(g.getDate()+S),v(E)},T=S=>new Date(S).toLocaleDateString("en-GB");return j.jsxs("div",{className:"home-container",children:[j.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-wrap mb-3",children:[j.jsxs("p",{className:"TitleName mb-1",children:["Hello ",n.firstName]}),j.jsxs("div",{className:"text-end",children:[j.jsxs("span",{className:"small fw-bold",style:{color:"deepskyblue"},children:["Level ",r]}),j.jsx("div",{className:"progress",style:{height:"6px",width:"150px",background:"#444"},children:j.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${c}%`,backgroundColor:"deepskyblue"},"aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":o})})]})]}),j.jsxs("div",{className:"CalBarCharSection bg-dark",children:[j.jsxs("div",{className:"d-flex col-md-12 mb-2 justify-content-between",children:[j.jsx("p",{className:"SubTitleName mb-0",children:"Calories Consumed"}),j.jsxs("div",{className:"d-flex align-items-center DateRangePicker",children:[j.jsx("span",{style:{cursor:"pointer",marginRight:"10px"},onClick:()=>b(-7),children:""}),T(g),"  ",T(new Date(g.getTime()+6*864e5)),j.jsx("span",{style:{cursor:"pointer",marginLeft:"10px"},onClick:()=>b(7),children:""})]})]}),j.jsx(gO,{meals:i,startOfWeek:g})]}),j.jsxs("div",{className:"TodayChartsSection col-md-12",children:[j.jsxs("div",{className:"CalDonutSection bg-dark",children:[j.jsx("p",{className:"SubTitleName",children:"Calorie Intake"}),j.jsx(yO,{meals:i,selectedDate:u,goal:n.calorieGoal})]}),j.jsxs("div",{className:"NutriDonutSection bg-dark",children:[j.jsx("p",{className:"SubTitleName",children:"Nutrition Intake"}),j.jsx(vO,{meals:i,selectedDate:u})]})]}),j.jsx("div",{className:"FoodItemList bg-dark",children:(n.mealOrder||["Breakfast","Lunch","Dinner"]).map(S=>j.jsxs("div",{className:"mb-3",children:[j.jsx("p",{className:"SubTitleName",children:S}),d(S).map(E=>E.foodItems.map((R,P)=>j.jsx($N,{name:R.name,nutrients:R.nutrients,onEdit:()=>e(E),onDelete:()=>t(E.id),unit:n.unit||"g"},`${S}-${E.id}-${P}`)))]},S))})]})}function Qq({meals:i,onEditMeal:e,onDeleteMeal:t}){const n=new Date().toISOString().split("T")[0],[r,s]=Q.useState(n),o=i.filter(u=>u.date===r),c={Breakfast:[],Lunch:[],Dinner:[]};return o.forEach(u=>{c[u.mealType]&&c[u.mealType].push(u)}),j.jsxs("div",{className:"home-container",children:[j.jsx("h4",{className:"mb-2 TitleName",children:"History"}),j.jsx("h5",{className:"SubTitleName",children:"Select a Date"}),j.jsx("input",{type:"date",className:"form-control mb-3",value:r,onChange:u=>s(u.target.value),max:n}),j.jsxs("div",{className:"TodayChartsSection d-flex",children:[j.jsx("div",{className:"CalDonutSection bg-dark",children:j.jsx(yO,{meals:o,selectedDate:r})}),j.jsx("div",{className:"NutriDonutSection bg-dark",children:j.jsx(vO,{meals:o,selectedDate:r})})]}),j.jsx("div",{className:"FoodItemList bg-dark mt-2",children:["Breakfast","Lunch","Dinner"].map(u=>j.jsxs("div",{className:"mb-3",children:[j.jsx("h6",{className:"SubTitleName",children:u}),c[u].length===0&&j.jsx("p",{className:"text-muted ms-2",style:{fontSize:"13px"},children:"No meals logged"}),c[u].map((d,p)=>d.foodItems.map((g,v)=>j.jsx($N,{name:g.name,nutrients:g.nutrients,onEdit:()=>e(d),onDelete:()=>t(d.id)},`${d.id}-${v}`)))]},u))})]})}var A0={exports:{}},lC;function Xq(){return lC||(lC=1,function(i){var e=function(t){var n=Object.prototype,r=n.hasOwnProperty,s=Object.defineProperty||function(X,k,W){X[k]=W.value},o,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",p=c.toStringTag||"@@toStringTag";function g(X,k,W){return Object.defineProperty(X,k,{value:W,enumerable:!0,configurable:!0,writable:!0}),X[k]}try{g({},"")}catch{g=function(k,W,oe){return k[W]=oe}}function v(X,k,W,oe){var ie=k&&k.prototype instanceof O?k:O,ye=Object.create(ie.prototype),De=new q(oe||[]);return s(ye,"_invoke",{value:B(X,W,De)}),ye}t.wrap=v;function b(X,k,W){try{return{type:"normal",arg:X.call(k,W)}}catch(oe){return{type:"throw",arg:oe}}}var T="suspendedStart",S="suspendedYield",E="executing",R="completed",P={};function O(){}function z(){}function U(){}var K={};g(K,u,function(){return this});var M=Object.getPrototypeOf,A=M&&M(M(G([])));A&&A!==n&&r.call(A,u)&&(K=A);var I=U.prototype=O.prototype=Object.create(K);z.prototype=U,s(I,"constructor",{value:U,configurable:!0}),s(U,"constructor",{value:z,configurable:!0}),z.displayName=g(U,p,"GeneratorFunction");function F(X){["next","throw","return"].forEach(function(k){g(X,k,function(W){return this._invoke(k,W)})})}t.isGeneratorFunction=function(X){var k=typeof X=="function"&&X.constructor;return k?k===z||(k.displayName||k.name)==="GeneratorFunction":!1},t.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,U):(X.__proto__=U,g(X,p,"GeneratorFunction")),X.prototype=Object.create(I),X},t.awrap=function(X){return{__await:X}};function L(X,k){function W(ye,De,Te,Je){var Be=b(X[ye],X,De);if(Be.type==="throw")Je(Be.arg);else{var ke=Be.arg,Le=ke.value;return Le&&typeof Le=="object"&&r.call(Le,"__await")?k.resolve(Le.__await).then(function(et){W("next",et,Te,Je)},function(et){W("throw",et,Te,Je)}):k.resolve(Le).then(function(et){ke.value=et,Te(ke)},function(et){return W("throw",et,Te,Je)})}}var oe;function ie(ye,De){function Te(){return new k(function(Je,Be){W(ye,De,Je,Be)})}return oe=oe?oe.then(Te,Te):Te()}s(this,"_invoke",{value:ie})}F(L.prototype),g(L.prototype,d,function(){return this}),t.AsyncIterator=L,t.async=function(X,k,W,oe,ie){ie===void 0&&(ie=Promise);var ye=new L(v(X,k,W,oe),ie);return t.isGeneratorFunction(k)?ye:ye.next().then(function(De){return De.done?De.value:ye.next()})};function B(X,k,W){var oe=T;return function(ye,De){if(oe===E)throw new Error("Generator is already running");if(oe===R){if(ye==="throw")throw De;return ae()}for(W.method=ye,W.arg=De;;){var Te=W.delegate;if(Te){var Je=V(Te,W);if(Je){if(Je===P)continue;return Je}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(oe===T)throw oe=R,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);oe=E;var Be=b(X,k,W);if(Be.type==="normal"){if(oe=W.done?R:S,Be.arg===P)continue;return{value:Be.arg,done:W.done}}else Be.type==="throw"&&(oe=R,W.method="throw",W.arg=Be.arg)}}}function V(X,k){var W=k.method,oe=X.iterator[W];if(oe===o)return k.delegate=null,W==="throw"&&X.iterator.return&&(k.method="return",k.arg=o,V(X,k),k.method==="throw")||W!=="return"&&(k.method="throw",k.arg=new TypeError("The iterator does not provide a '"+W+"' method")),P;var ie=b(oe,X.iterator,k.arg);if(ie.type==="throw")return k.method="throw",k.arg=ie.arg,k.delegate=null,P;var ye=ie.arg;if(!ye)return k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,P;if(ye.done)k[X.resultName]=ye.value,k.next=X.nextLoc,k.method!=="return"&&(k.method="next",k.arg=o);else return ye;return k.delegate=null,P}F(I),g(I,p,"Generator"),g(I,u,function(){return this}),g(I,"toString",function(){return"[object Generator]"});function me(X){var k={tryLoc:X[0]};1 in X&&(k.catchLoc=X[1]),2 in X&&(k.finallyLoc=X[2],k.afterLoc=X[3]),this.tryEntries.push(k)}function pe(X){var k=X.completion||{};k.type="normal",delete k.arg,X.completion=k}function q(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(me,this),this.reset(!0)}t.keys=function(X){var k=Object(X),W=[];for(var oe in k)W.push(oe);return W.reverse(),function ie(){for(;W.length;){var ye=W.pop();if(ye in k)return ie.value=ye,ie.done=!1,ie}return ie.done=!0,ie}};function G(X){if(X){var k=X[u];if(k)return k.call(X);if(typeof X.next=="function")return X;if(!isNaN(X.length)){var W=-1,oe=function ie(){for(;++W<X.length;)if(r.call(X,W))return ie.value=X[W],ie.done=!1,ie;return ie.value=o,ie.done=!0,ie};return oe.next=oe}}return{next:ae}}t.values=G;function ae(){return{value:o,done:!0}}return q.prototype={constructor:q,reset:function(X){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(pe),!X)for(var k in this)k.charAt(0)==="t"&&r.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=o)},stop:function(){this.done=!0;var X=this.tryEntries[0],k=X.completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(X){if(this.done)throw X;var k=this;function W(Je,Be){return ye.type="throw",ye.arg=X,k.next=Je,Be&&(k.method="next",k.arg=o),!!Be}for(var oe=this.tryEntries.length-1;oe>=0;--oe){var ie=this.tryEntries[oe],ye=ie.completion;if(ie.tryLoc==="root")return W("end");if(ie.tryLoc<=this.prev){var De=r.call(ie,"catchLoc"),Te=r.call(ie,"finallyLoc");if(De&&Te){if(this.prev<ie.catchLoc)return W(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return W(ie.finallyLoc)}else if(De){if(this.prev<ie.catchLoc)return W(ie.catchLoc,!0)}else if(Te){if(this.prev<ie.finallyLoc)return W(ie.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(X,k){for(var W=this.tryEntries.length-1;W>=0;--W){var oe=this.tryEntries[W];if(oe.tryLoc<=this.prev&&r.call(oe,"finallyLoc")&&this.prev<oe.finallyLoc){var ie=oe;break}}ie&&(X==="break"||X==="continue")&&ie.tryLoc<=k&&k<=ie.finallyLoc&&(ie=null);var ye=ie?ie.completion:{};return ye.type=X,ye.arg=k,ie?(this.method="next",this.next=ie.finallyLoc,P):this.complete(ye)},complete:function(X,k){if(X.type==="throw")throw X.arg;return X.type==="break"||X.type==="continue"?this.next=X.arg:X.type==="return"?(this.rval=this.arg=X.arg,this.method="return",this.next="end"):X.type==="normal"&&k&&(this.next=k),P},finish:function(X){for(var k=this.tryEntries.length-1;k>=0;--k){var W=this.tryEntries[k];if(W.finallyLoc===X)return this.complete(W.completion,W.afterLoc),pe(W),P}},catch:function(X){for(var k=this.tryEntries.length-1;k>=0;--k){var W=this.tryEntries[k];if(W.tryLoc===X){var oe=W.completion;if(oe.type==="throw"){var ie=oe.arg;pe(W)}return ie}}throw new Error("illegal catch attempt")},delegateYield:function(X,k,W){return this.delegate={iterator:G(X),resultName:k,nextLoc:W},this.method==="next"&&(this.arg=o),P}},t}(i.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(A0)),A0.exports}var I0,cC;function zS(){return cC||(cC=1,I0=(i,e)=>`${i}-${e}-${Math.random().toString(16).slice(3,8)}`),I0}var R0,uC;function QN(){if(uC)return R0;uC=1;const i=zS();let e=0;return R0=({id:t,action:n,payload:r={}})=>{let s=t;return typeof s>"u"&&(s=i("Job",e),e+=1),{id:s,action:n,payload:r}},R0}var kd={},hC;function HS(){if(hC)return kd;hC=1;let i=!1;return kd.logging=i,kd.setLogging=e=>{i=e},kd.log=(...e)=>i?console.log.apply(this,e):null,kd}var C0,dC;function Zq(){if(dC)return C0;dC=1;const i=QN(),{log:e}=HS(),t=zS();let n=0;return C0=()=>{const r=t("Scheduler",n),s={},o={};let c=[];n+=1;const u=()=>c.length,d=()=>Object.keys(s).length,p=()=>{if(c.length!==0){const S=Object.keys(s);for(let E=0;E<S.length;E+=1)if(typeof o[S[E]]>"u"){c[0](s[S[E]]);break}}},g=(S,E)=>new Promise((R,P)=>{const O=i({action:S,payload:E});c.push(async z=>{c.shift(),o[z.id]=O;try{R(await z[S].apply(this,[...E,O.id]))}catch(U){P(U)}finally{delete o[z.id],p()}}),e(`[${r}]: Add ${O.id} to JobQueue`),e(`[${r}]: JobQueue length=${c.length}`),p()});return{addWorker:S=>(s[S.id]=S,e(`[${r}]: Add ${S.id}`),e(`[${r}]: Number of workers=${d()}`),p(),S.id),addJob:async(S,...E)=>{if(d()===0)throw Error(`[${r}]: You need to have at least one worker before adding jobs`);return g(S,E)},terminate:async()=>{Object.keys(s).forEach(async S=>{await s[S].terminate()}),c=[]},getQueueLen:u,getNumWorkers:d}},C0}function Jq(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var M0,fC;function eY(){return fC||(fC=1,M0=i=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof Jq=="function"&&(e.type="node"),typeof i>"u"?e:e[i]}),M0}var k0,pC;function tY(){if(pC)return k0;pC=1;const e=eY()("type")==="browser"?t=>new URL(t,window.location.href).href:t=>t;return k0=t=>{const n={...t};return["corePath","workerPath","langPath"].forEach(r=>{t[r]&&(n[r]=e(n[r]))}),n},k0}var P0,mC;function XN(){return mC||(mC=1,P0={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),P0}const nY="6.0.1",iY={version:nY};var O0,gC;function rY(){return gC||(gC=1,O0={workerBlobURL:!0,logger:()=>{}}),O0}var N0,yC;function sY(){if(yC)return N0;yC=1;const i=iY.version;return N0={...rY(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${i}/dist/worker.min.js`},N0}var V0,vC;function aY(){return vC||(vC=1,V0=({workerPath:i,workerBlobURL:e})=>{let t;if(Blob&&URL&&e){const n=new Blob([`importScripts("${i}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(n))}else t=new Worker(i);return t}),V0}var L0,_C;function oY(){return _C||(_C=1,L0=i=>{i.terminate()}),L0}var F0,bC;function lY(){return bC||(bC=1,F0=(i,e)=>{i.onmessage=({data:t})=>{e(t)}}),F0}var B0,wC;function cY(){return wC||(wC=1,B0=async(i,e)=>{i.postMessage(e)}),B0}var U0,TC;function uY(){if(TC)return U0;TC=1;const i=t=>new Promise((n,r)=>{const s=new FileReader;s.onload=()=>{n(s.result)},s.onerror=({target:{error:{code:o}}})=>{r(Error(`File could not be read! Code=${o}`))},s.readAsArrayBuffer(t)}),e=async t=>{let n=t;if(typeof t>"u")return"undefined";if(typeof t=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)?n=atob(t.split(",")[1]).split("").map(r=>r.charCodeAt(0)):n=await(await fetch(t)).arrayBuffer();else if(typeof HTMLElement<"u"&&t instanceof HTMLElement)t.tagName==="IMG"&&(n=await e(t.src)),t.tagName==="VIDEO"&&(n=await e(t.poster)),t.tagName==="CANVAS"&&await new Promise(r=>{t.toBlob(async s=>{n=await i(s),r()})});else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas){const r=await t.convertToBlob();n=await i(r)}else(t instanceof File||t instanceof Blob)&&(n=await i(t));return new Uint8Array(n)};return U0=e,U0}var j0,SC;function hY(){if(SC)return j0;SC=1;const i=sY(),e=aY(),t=oY(),n=lY(),r=cY(),s=uY();return j0={defaultOptions:i,spawnWorker:e,terminateWorker:t,onMessage:n,send:r,loadImage:s},j0}var z0,EC;function ZN(){if(EC)return z0;EC=1;const i=tY(),e=QN(),{log:t}=HS(),n=zS(),r=XN(),{defaultOptions:s,spawnWorker:o,terminateWorker:c,onMessage:u,loadImage:d,send:p}=hY();let g=0;return z0=async(v="eng",b=r.LSTM_ONLY,T={},S={})=>{const E=n("Worker",g),{logger:R,errorHandler:P,...O}=i({...s,...T}),z={},U=typeof v=="string"?v.split("+"):v;let K=b,M=S;const A=[r.DEFAULT,r.LSTM_ONLY].includes(b)&&!O.legacyCore;let I,F;const L=new Promise((ke,Le)=>{F=ke,I=Le}),B=ke=>{I(ke.message)};let V=o(O);V.onerror=B,g+=1;const me=({id:ke,action:Le,payload:et})=>new Promise((en,tn)=>{t(`[${E}]: Start ${ke}, action=${Le}`);const bn=`${Le}-${ke}`;z[bn]={resolve:en,reject:tn},p(V,{workerId:E,jobId:ke,action:Le,payload:et})}),pe=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),q=ke=>me(e({id:ke,action:"load",payload:{options:{lstmOnly:A,corePath:O.corePath,logging:O.logging}}})),G=(ke,Le,et)=>me(e({id:et,action:"FS",payload:{method:"writeFile",args:[ke,Le]}})),ae=(ke,Le)=>me(e({id:Le,action:"FS",payload:{method:"readFile",args:[ke,{encoding:"utf8"}]}})),X=(ke,Le)=>me(e({id:Le,action:"FS",payload:{method:"unlink",args:[ke]}})),k=(ke,Le,et)=>me(e({id:et,action:"FS",payload:{method:ke,args:Le}})),W=(ke,Le)=>me(e({id:Le,action:"loadLanguage",payload:{langs:ke,options:{langPath:O.langPath,dataPath:O.dataPath,cachePath:O.cachePath,cacheMethod:O.cacheMethod,gzip:O.gzip,lstmOnly:[r.DEFAULT,r.LSTM_ONLY].includes(K)&&!O.legacyLang}}})),oe=(ke,Le,et,en)=>me(e({id:en,action:"initialize",payload:{langs:ke,oem:Le,config:et}})),ie=(ke="eng",Le,et,en)=>{if(A&&[r.TESSERACT_ONLY,r.TESSERACT_LSTM_COMBINED].includes(Le))throw Error("Legacy model requested but code missing.");const tn=Le||K;K=tn;const bn=et||M;M=bn;const ta=(typeof ke=="string"?ke.split("+"):ke).filter(ii=>!U.includes(ii));return U.push(...ta),ta.length>0?W(ta,en).then(()=>oe(ke,tn,bn,en)):oe(ke,tn,bn,en)},ye=(ke={},Le)=>me(e({id:Le,action:"setParameters",payload:{params:ke}})),De=async(ke,Le={},et={text:!0},en)=>me(e({id:en,action:"recognize",payload:{image:await d(ke),options:Le,output:et}})),Te=async(ke,Le)=>{if(A)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return me(e({id:Le,action:"detect",payload:{image:await d(ke)}}))},Je=async()=>(V!==null&&(c(V),V=null),Promise.resolve());u(V,({workerId:ke,jobId:Le,status:et,action:en,data:tn})=>{const bn=`${en}-${Le}`;if(et==="resolve")t(`[${ke}]: Complete ${Le}`),z[bn].resolve({jobId:Le,data:tn}),delete z[bn];else if(et==="reject")if(z[bn].reject(tn),delete z[bn],en==="load"&&I(tn),P)P(tn);else throw Error(tn);else et==="progress"&&R({...tn,userJobId:Le})});const Be={id:E,worker:V,load:pe,writeText:G,readText:ae,removeFile:X,FS:k,reinitialize:ie,setParameters:ye,recognize:De,detect:Te,terminate:Je};return q().then(()=>W(v)).then(()=>oe(v,b,S)).then(()=>F(Be)).catch(()=>{}),L},z0}var H0,xC;function dY(){if(xC)return H0;xC=1;const i=ZN();return H0={recognize:async(n,r,s)=>{const o=await i(r,1,s);return o.recognize(n).finally(async()=>{await o.terminate()})},detect:async(n,r)=>{const s=await i("osd",0,r);return s.detect(n).finally(async()=>{await s.terminate()})}},H0}var q0,DC;function fY(){return DC||(DC=1,q0={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),q0}var Y0,AC;function pY(){return AC||(AC=1,Y0={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),Y0}var W0,IC;function mY(){if(IC)return W0;IC=1,Xq();const i=Zq(),e=ZN(),t=dY(),n=fY(),r=XN(),s=pY(),{setLogging:o}=HS();return W0={languages:n,OEM:r,PSM:s,createScheduler:i,createWorker:e,setLogging:o,...t},W0}var gY=mY();const yY=GT(gY);function JN(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(e=0;e<r;e++)i[e]&&(t=JN(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function Ln(){for(var i,e,t=0,n="",r=arguments.length;t<r;t++)(i=arguments[t])&&(e=JN(i))&&(n&&(n+=" "),n+=e);return n}const e2=6048e5,vY=864e5,av=6e4,ov=36e5,_Y=1e3,RC=Symbol.for("constructDateFrom");function vt(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&RC in i?i[RC](e):i instanceof Date?new i.constructor(e):new Date(e)}function Ae(i,e){return vt(e||i,i)}function ur(i,e,t){const n=Ae(i,t==null?void 0:t.in);return isNaN(e)?vt((t==null?void 0:t.in)||i,NaN):(e&&n.setDate(n.getDate()+e),n)}function dr(i,e,t){const n=Ae(i,t==null?void 0:t.in);if(isNaN(e))return vt(i,NaN);if(!e)return n;const r=n.getDate(),s=vt(i,n.getTime());s.setMonth(n.getMonth()+e+1,0);const o=s.getDate();return r>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function t2(i,e,t){return vt(i,+Ae(i)+e)}function bY(i,e,t){return t2(i,e*ov)}let wY={};function Ql(){return wY}function Gs(i,e){var c,u,d,p;const t=Ql(),n=(e==null?void 0:e.weekStartsOn)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((p=(d=t.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,r=Ae(i,e==null?void 0:e.in),s=r.getDay(),o=(s<n?7:0)+s-n;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Mu(i,e){return Gs(i,{...e,weekStartsOn:1})}function n2(i,e){const t=Ae(i,e==null?void 0:e.in),n=t.getFullYear(),r=vt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Mu(r),o=vt(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const c=Mu(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function fy(i){const e=Ae(i),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+i-+t}function Zs(i,...e){const t=vt.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Vl(i,e){const t=Ae(i,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function ku(i,e,t){const[n,r]=Zs(t==null?void 0:t.in,i,e),s=Vl(n),o=Vl(r),c=+s-fy(s),u=+o-fy(o);return Math.round((c-u)/vY)}function TY(i,e){const t=n2(i,e),n=vt(i,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Mu(n)}function tT(i,e,t){const n=Ae(i,t==null?void 0:t.in);return n.setTime(n.getTime()+e*av),n}function qS(i,e,t){return dr(i,e*3,t)}function SY(i,e,t){return t2(i,e*1e3)}function py(i,e,t){return ur(i,e*7,t)}function Bs(i,e,t){return dr(i,e*12,t)}function CC(i,e){let t,n=e==null?void 0:e.in;return i.forEach(r=>{!n&&typeof r=="object"&&(n=vt.bind(null,r));const s=Ae(r,n);(!t||t<s||isNaN(+s))&&(t=s)}),vt(n,t||NaN)}function MC(i,e){let t,n=e==null?void 0:e.in;return i.forEach(r=>{!n&&typeof r=="object"&&(n=vt.bind(null,r));const s=Ae(r,n);(!t||t>s||isNaN(+s))&&(t=s)}),vt(n,t||NaN)}function EY(i,e,t){const[n,r]=Zs(t==null?void 0:t.in,i,e);return+Vl(n)==+Vl(r)}function Us(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function my(i){return!(!Us(i)&&typeof i!="number"||isNaN(+Ae(i)))}function gy(i,e,t){const[n,r]=Zs(t==null?void 0:t.in,i,e),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function Al(i,e){const t=Ae(i,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function yy(i,e,t){const[n,r]=Zs(t==null?void 0:t.in,i,e),s=n.getFullYear()-r.getFullYear(),o=Al(n)-Al(r);return s*4+o}function vy(i,e,t){const[n,r]=Zs(t==null?void 0:t.in,i,e);return n.getFullYear()-r.getFullYear()}function xY(i,e,t){const[n,r]=Zs(t==null?void 0:t.in,i,e),s=kC(n,r),o=Math.abs(ku(n,r));n.setDate(n.getDate()-s*o);const c=+(kC(n,r)===-s),u=s*(o-c);return u===0?0:u}function kC(i,e){const t=i.getFullYear()-e.getFullYear()||i.getMonth()-e.getMonth()||i.getDate()-e.getDate()||i.getHours()-e.getHours()||i.getMinutes()-e.getMinutes()||i.getSeconds()-e.getSeconds()||i.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function i2(i,e){const t=Ae(i,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function r2(i,e){const t=Ae(i,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function nT(i,e){const t=Ae(i,e==null?void 0:e.in),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function s2(i,e){const t=Ae(i,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function a2(i,e){const t=Ae(i,e==null?void 0:e.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function lv(i,e){const t=Ae(i,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function DY(i,e){var c,u;const t=Ql(),n=t.weekStartsOn??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,r=Ae(i,e==null?void 0:e.in),s=r.getDay(),o=(s<n?-7:0)+6-(s-n);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}const AY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},IY=(i,e,t)=>{let n;const r=AY[i];return typeof r=="string"?n=r:e===1?n=r.one:n=r.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function G0(i){return(e={})=>{const t=e.width?String(e.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}const RY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},CY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},MY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kY={date:G0({formats:RY,defaultWidth:"full"}),time:G0({formats:CY,defaultWidth:"full"}),dateTime:G0({formats:MY,defaultWidth:"full"})},PY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},OY=(i,e,t,n)=>PY[i];function Pd(i){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let r;if(n==="formatting"&&i.formattingValues){const o=i.defaultFormattingWidth||i.defaultWidth,c=t!=null&&t.width?String(t.width):o;r=i.formattingValues[c]||i.formattingValues[o]}else{const o=i.defaultWidth,c=t!=null&&t.width?String(t.width):i.defaultWidth;r=i.values[c]||i.values[o]}const s=i.argumentCallback?i.argumentCallback(e):e;return r[s]}}const NY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},VY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},LY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jY=(i,e)=>{const t=Number(i),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},zY={ordinalNumber:jY,era:Pd({values:NY,defaultWidth:"wide"}),quarter:Pd({values:VY,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Pd({values:LY,defaultWidth:"wide"}),day:Pd({values:FY,defaultWidth:"wide"}),dayPeriod:Pd({values:BY,defaultWidth:"wide",formattingValues:UY,defaultFormattingWidth:"wide"})};function Od(i){return(e,t={})=>{const n=t.width,r=n&&i.matchPatterns[n]||i.matchPatterns[i.defaultMatchWidth],s=e.match(r);if(!s)return null;const o=s[0],c=n&&i.parsePatterns[n]||i.parsePatterns[i.defaultParseWidth],u=Array.isArray(c)?qY(c,g=>g.test(o)):HY(c,g=>g.test(o));let d;d=i.valueCallback?i.valueCallback(u):u,d=t.valueCallback?t.valueCallback(d):d;const p=e.slice(o.length);return{value:d,rest:p}}}function HY(i,e){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&e(i[t]))return t}function qY(i,e){for(let t=0;t<i.length;t++)if(e(i[t]))return t}function YY(i){return(e,t={})=>{const n=e.match(i.matchPattern);if(!n)return null;const r=n[0],s=e.match(i.parsePattern);if(!s)return null;let o=i.valueCallback?i.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const c=e.slice(r.length);return{value:o,rest:c}}}const WY=/^(\d+)(th|st|nd|rd)?/i,GY=/\d+/i,KY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$Y={any:[/^b/i,/^(a|c)/i]},QY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XY={any:[/1/i,/2/i,/3/i,/4/i]},ZY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},e8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},t8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},n8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},i8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},r8={ordinalNumber:YY({matchPattern:WY,parsePattern:GY,valueCallback:i=>parseInt(i,10)}),era:Od({matchPatterns:KY,defaultMatchWidth:"wide",parsePatterns:$Y,defaultParseWidth:"any"}),quarter:Od({matchPatterns:QY,defaultMatchWidth:"wide",parsePatterns:XY,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Od({matchPatterns:ZY,defaultMatchWidth:"wide",parsePatterns:JY,defaultParseWidth:"any"}),day:Od({matchPatterns:e8,defaultMatchWidth:"wide",parsePatterns:t8,defaultParseWidth:"any"}),dayPeriod:Od({matchPatterns:n8,defaultMatchWidth:"any",parsePatterns:i8,defaultParseWidth:"any"})},o2={code:"en-US",formatDistance:IY,formatLong:kY,formatRelative:OY,localize:zY,match:r8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function s8(i,e){const t=Ae(i,e==null?void 0:e.in);return ku(t,lv(t))+1}function YS(i,e){const t=Ae(i,e==null?void 0:e.in),n=+Mu(t)-+TY(t);return Math.round(n/e2)+1}function WS(i,e){var p,g,v,b;const t=Ae(i,e==null?void 0:e.in),n=t.getFullYear(),r=Ql(),s=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((b=(v=r.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,o=vt((e==null?void 0:e.in)||i,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const c=Gs(o,e),u=vt((e==null?void 0:e.in)||i,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const d=Gs(u,e);return+t>=+c?n+1:+t>=+d?n:n-1}function a8(i,e){var c,u,d,p;const t=Ql(),n=(e==null?void 0:e.firstWeekContainsDate)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??t.firstWeekContainsDate??((p=(d=t.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,r=WS(i,e),s=vt((e==null?void 0:e.in)||i,0);return s.setFullYear(r,0,n),s.setHours(0,0,0,0),Gs(s,e)}function l2(i,e){const t=Ae(i,e==null?void 0:e.in),n=+Gs(t,e)-+a8(t,e);return Math.round(n/e2)+1}function pt(i,e){const t=i<0?"-":"",n=Math.abs(i).toString().padStart(e,"0");return t+n}const Ca={y(i,e){const t=i.getFullYear(),n=t>0?t:1-t;return pt(e==="yy"?n%100:n,e.length)},M(i,e){const t=i.getMonth();return e==="M"?String(t+1):pt(t+1,2)},d(i,e){return pt(i.getDate(),e.length)},a(i,e){const t=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(i,e){return pt(i.getHours()%12||12,e.length)},H(i,e){return pt(i.getHours(),e.length)},m(i,e){return pt(i.getMinutes(),e.length)},s(i,e){return pt(i.getSeconds(),e.length)},S(i,e){const t=e.length,n=i.getMilliseconds(),r=Math.trunc(n*Math.pow(10,t-3));return pt(r,e.length)}},Xc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PC={G:function(i,e,t){const n=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(i,e,t){if(e==="yo"){const n=i.getFullYear(),r=n>0?n:1-n;return t.ordinalNumber(r,{unit:"year"})}return Ca.y(i,e)},Y:function(i,e,t,n){const r=WS(i,n),s=r>0?r:1-r;if(e==="YY"){const o=s%100;return pt(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):pt(s,e.length)},R:function(i,e){const t=n2(i);return pt(t,e.length)},u:function(i,e){const t=i.getFullYear();return pt(t,e.length)},Q:function(i,e,t){const n=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return pt(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(i,e,t){const n=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return pt(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(i,e,t){const n=i.getMonth();switch(e){case"M":case"MM":return Ca.M(i,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(i,e,t){const n=i.getMonth();switch(e){case"L":return String(n+1);case"LL":return pt(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(i,e,t,n){const r=l2(i,n);return e==="wo"?t.ordinalNumber(r,{unit:"week"}):pt(r,e.length)},I:function(i,e,t){const n=YS(i);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):pt(n,e.length)},d:function(i,e,t){return e==="do"?t.ordinalNumber(i.getDate(),{unit:"date"}):Ca.d(i,e)},D:function(i,e,t){const n=s8(i);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):pt(n,e.length)},E:function(i,e,t){const n=i.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(i,e,t,n){const r=i.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return pt(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(i,e,t,n){const r=i.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return pt(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(i,e,t){const n=i.getDay(),r=n===0?7:n;switch(e){case"i":return String(r);case"ii":return pt(r,e.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(i,e,t){const r=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(i,e,t){const n=i.getHours();let r;switch(n===12?r=Xc.noon:n===0?r=Xc.midnight:r=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(i,e,t){const n=i.getHours();let r;switch(n>=17?r=Xc.evening:n>=12?r=Xc.afternoon:n>=4?r=Xc.morning:r=Xc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(i,e,t){if(e==="ho"){let n=i.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Ca.h(i,e)},H:function(i,e,t){return e==="Ho"?t.ordinalNumber(i.getHours(),{unit:"hour"}):Ca.H(i,e)},K:function(i,e,t){const n=i.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):pt(n,e.length)},k:function(i,e,t){let n=i.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):pt(n,e.length)},m:function(i,e,t){return e==="mo"?t.ordinalNumber(i.getMinutes(),{unit:"minute"}):Ca.m(i,e)},s:function(i,e,t){return e==="so"?t.ordinalNumber(i.getSeconds(),{unit:"second"}):Ca.s(i,e)},S:function(i,e){return Ca.S(i,e)},X:function(i,e,t){const n=i.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return NC(n);case"XXXX":case"XX":return cl(n);case"XXXXX":case"XXX":default:return cl(n,":")}},x:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"x":return NC(n);case"xxxx":case"xx":return cl(n);case"xxxxx":case"xxx":default:return cl(n,":")}},O:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+OC(n,":");case"OOOO":default:return"GMT"+cl(n,":")}},z:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+OC(n,":");case"zzzz":default:return"GMT"+cl(n,":")}},t:function(i,e,t){const n=Math.trunc(+i/1e3);return pt(n,e.length)},T:function(i,e,t){return pt(+i,e.length)}};function OC(i,e=""){const t=i>0?"-":"+",n=Math.abs(i),r=Math.trunc(n/60),s=n%60;return s===0?t+String(r):t+String(r)+e+pt(s,2)}function NC(i,e){return i%60===0?(i>0?"-":"+")+pt(Math.abs(i)/60,2):cl(i,e)}function cl(i,e=""){const t=i>0?"-":"+",n=Math.abs(i),r=pt(Math.trunc(n/60),2),s=pt(n%60,2);return t+r+e+s}const VC=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},c2=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},o8=(i,e)=>{const t=i.match(/(P+)(p+)?/)||[],n=t[1],r=t[2];if(!r)return VC(i,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",VC(n,e)).replace("{{time}}",c2(r,e))},iT={p:c2,P:o8},l8=/^D+$/,c8=/^Y+$/,u8=["D","DD","YY","YYYY"];function h8(i){return l8.test(i)}function d8(i){return c8.test(i)}function f8(i,e,t){const n=p8(i,e,t);if(console.warn(n),u8.includes(i))throw new RangeError(n)}function p8(i,e,t){const n=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const m8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y8=/^'([^]*?)'?$/,v8=/''/g,_8=/[a-zA-Z]/;function LC(i,e,t){var p,g,v,b,T,S,E,R;const n=Ql(),r=(t==null?void 0:t.locale)??n.locale??o2,s=(t==null?void 0:t.firstWeekContainsDate)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((S=(T=t==null?void 0:t.locale)==null?void 0:T.options)==null?void 0:S.weekStartsOn)??n.weekStartsOn??((R=(E=n.locale)==null?void 0:E.options)==null?void 0:R.weekStartsOn)??0,c=Ae(i,t==null?void 0:t.in);if(!my(c))throw new RangeError("Invalid time value");let u=e.match(g8).map(P=>{const O=P[0];if(O==="p"||O==="P"){const z=iT[O];return z(P,r.formatLong)}return P}).join("").match(m8).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const O=P[0];if(O==="'")return{isToken:!1,value:b8(P)};if(PC[O])return{isToken:!0,value:P};if(O.match(_8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:P}});r.localize.preprocessor&&(u=r.localize.preprocessor(c,u));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:r};return u.map(P=>{if(!P.isToken)return P.value;const O=P.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&d8(O)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&h8(O))&&f8(O,e,String(i));const z=PC[O[0]];return z(c,O,r.localize,d)}).join("")}function b8(i){const e=i.match(y8);return e?e[1].replace(v8,"'"):i}function FC(i,e){return Ae(i,e==null?void 0:e.in).getDate()}function w8(i,e){return Ae(i,e==null?void 0:e.in).getDay()}function T8(i,e){const t=Ae(i,e==null?void 0:e.in),n=t.getFullYear(),r=t.getMonth(),s=vt(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function S8(){return Object.assign({},Ql())}function js(i,e){return Ae(i,e==null?void 0:e.in).getHours()}function E8(i,e){const t=Ae(i,e==null?void 0:e.in).getDay();return t===0?7:t}function zs(i,e){return Ae(i,e==null?void 0:e.in).getMinutes()}function qn(i,e){return Ae(i,e==null?void 0:e.in).getMonth()}function $a(i){return Ae(i).getSeconds()}function rT(i){return+Ae(i)}function ze(i,e){return Ae(i,e==null?void 0:e.in).getFullYear()}function ao(i,e){return+Ae(i)>+Ae(e)}function Ll(i,e){return+Ae(i)<+Ae(e)}function x8(i,e){return+Ae(i)==+Ae(e)}function D8(i,e){const t=A8(e)?new e(0):vt(e,0);return t.setFullYear(i.getFullYear(),i.getMonth(),i.getDate()),t.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t}function A8(i){var e;return typeof i=="function"&&((e=i.prototype)==null?void 0:e.constructor)===i}const I8=10;class u2{constructor(){de(this,"subPriority",0)}validate(e,t){return!0}}class R8 extends u2{constructor(e,t,n,r,s){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class C8 extends u2{constructor(t,n){super();de(this,"priority",I8);de(this,"subPriority",-1);this.context=t||(r=>vt(n,r))}set(t,n){return n.timestampIsSet?t:vt(t,D8(t,this.context))}}class ot{run(e,t,n,r){const s=this.parse(e,t,n,r);return s?{setter:new R8(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,n){return!0}}class M8 extends ot{constructor(){super(...arguments);de(this,"priority",140);de(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,n,r){return n.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}const Xt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ur={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Zt(i,e){return i&&{value:e(i.value),rest:i.rest}}function Lt(i,e){const t=e.match(i);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function jr(i,e){const t=e.match(i);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,r=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:n*(r*ov+s*av+o*_Y),rest:e.slice(t[0].length)}}function h2(i){return Lt(Xt.anyDigitsSigned,i)}function qt(i,e){switch(i){case 1:return Lt(Xt.singleDigit,e);case 2:return Lt(Xt.twoDigits,e);case 3:return Lt(Xt.threeDigits,e);case 4:return Lt(Xt.fourDigits,e);default:return Lt(new RegExp("^\\d{1,"+i+"}"),e)}}function _y(i,e){switch(i){case 1:return Lt(Xt.singleDigitSigned,e);case 2:return Lt(Xt.twoDigitsSigned,e);case 3:return Lt(Xt.threeDigitsSigned,e);case 4:return Lt(Xt.fourDigitsSigned,e);default:return Lt(new RegExp("^-?\\d{1,"+i+"}"),e)}}function GS(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function d2(i,e){const t=e>0,n=t?e:1-e;let r;if(n<=50)r=i||100;else{const s=n+50,o=Math.trunc(s/100)*100,c=i>=s%100;r=i+o-(c?100:0)}return t?r:1-r}function f2(i){return i%400===0||i%4===0&&i%100!==0}class k8 extends ot{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,r){const s=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Zt(qt(4,t),s);case"yo":return Zt(r.ordinalNumber(t,{unit:"year"}),s);default:return Zt(qt(n.length,t),s)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r){const s=t.getFullYear();if(r.isTwoDigitYear){const c=d2(r.year,s);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const o=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class P8 extends ot{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,r){const s=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Zt(qt(4,t),s);case"Yo":return Zt(r.ordinalNumber(t,{unit:"year"}),s);default:return Zt(qt(n.length,t),s)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r,s){const o=WS(t,s);if(r.isTwoDigitYear){const u=d2(r.year,o);return t.setFullYear(u,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Gs(t,s)}const c=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(c,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Gs(t,s)}}class O8 extends ot{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return _y(n==="R"?4:n.length,t)}set(t,n,r){const s=vt(t,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),Mu(s)}}class N8 extends ot{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return _y(n==="u"?4:n.length,t)}set(t,n,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}class V8 extends ot{constructor(){super(...arguments);de(this,"priority",120);de(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,r){switch(n){case"Q":case"QQ":return qt(n.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}}class L8 extends ot{constructor(){super(...arguments);de(this,"priority",120);de(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,r){switch(n){case"q":case"qq":return qt(n.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}}class F8 extends ot{constructor(){super(...arguments);de(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);de(this,"priority",110)}parse(t,n,r){const s=o=>o-1;switch(n){case"M":return Zt(Lt(Xt.month,t),s);case"MM":return Zt(qt(2,t),s);case"Mo":return Zt(r.ordinalNumber(t,{unit:"month"}),s);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class B8 extends ot{constructor(){super(...arguments);de(this,"priority",110);de(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,r){const s=o=>o-1;switch(n){case"L":return Zt(Lt(Xt.month,t),s);case"LL":return Zt(qt(2,t),s);case"Lo":return Zt(r.ordinalNumber(t,{unit:"month"}),s);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}function U8(i,e,t){const n=Ae(i,t==null?void 0:t.in),r=l2(n,t)-e;return n.setDate(n.getDate()-r*7),Ae(n,t==null?void 0:t.in)}class j8 extends ot{constructor(){super(...arguments);de(this,"priority",100);de(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,r){switch(n){case"w":return Lt(Xt.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return qt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r,s){return Gs(U8(t,r,s),s)}}function z8(i,e,t){const n=Ae(i,t==null?void 0:t.in),r=YS(n,t)-e;return n.setDate(n.getDate()-r*7),n}class H8 extends ot{constructor(){super(...arguments);de(this,"priority",100);de(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,r){switch(n){case"I":return Lt(Xt.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return qt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r){return Mu(z8(t,r))}}const q8=[31,28,31,30,31,30,31,31,30,31,30,31],Y8=[31,29,31,30,31,30,31,31,30,31,30,31];class W8 extends ot{constructor(){super(...arguments);de(this,"priority",90);de(this,"subPriority",1);de(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,r){switch(n){case"d":return Lt(Xt.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return qt(n.length,t)}}validate(t,n){const r=t.getFullYear(),s=f2(r),o=t.getMonth();return s?n>=1&&n<=Y8[o]:n>=1&&n<=q8[o]}set(t,n,r){return t.setDate(r),t.setHours(0,0,0,0),t}}class G8 extends ot{constructor(){super(...arguments);de(this,"priority",90);de(this,"subpriority",1);de(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,r){switch(n){case"D":case"DD":return Lt(Xt.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return qt(n.length,t)}}validate(t,n){const r=t.getFullYear();return f2(r)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}}function KS(i,e,t){var g,v,b,T;const n=Ql(),r=(t==null?void 0:t.weekStartsOn)??((v=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((T=(b=n.locale)==null?void 0:b.options)==null?void 0:T.weekStartsOn)??0,s=Ae(i,t==null?void 0:t.in),o=s.getDay(),u=(e%7+7)%7,d=7-r,p=e<0||e>6?e-(o+d)%7:(u+d)%7-(o+d)%7;return ur(s,p,t)}class K8 extends ot{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,s){return t=KS(t,r,s),t.setHours(0,0,0,0),t}}class $8 extends ot{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,r,s){const o=c=>{const u=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+u};switch(n){case"e":case"ee":return Zt(qt(n.length,t),o);case"eo":return Zt(r.ordinalNumber(t,{unit:"day"}),o);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,s){return t=KS(t,r,s),t.setHours(0,0,0,0),t}}class Q8 extends ot{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,r,s){const o=c=>{const u=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+u};switch(n){case"c":case"cc":return Zt(qt(n.length,t),o);case"co":return Zt(r.ordinalNumber(t,{unit:"day"}),o);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,s){return t=KS(t,r,s),t.setHours(0,0,0,0),t}}function X8(i,e,t){const n=Ae(i,t==null?void 0:t.in),r=E8(n,t),s=e-r;return ur(n,s,t)}class Z8 extends ot{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,r){const s=o=>o===0?7:o;switch(n){case"i":case"ii":return qt(n.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return Zt(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return Zt(r.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Zt(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Zt(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,n){return n>=1&&n<=7}set(t,n,r){return t=X8(t,r),t.setHours(0,0,0,0),t}}class J8 extends ot{constructor(){super(...arguments);de(this,"priority",80);de(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(GS(r),0,0,0),t}}class e7 extends ot{constructor(){super(...arguments);de(this,"priority",80);de(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(GS(r),0,0,0),t}}class t7 extends ot{constructor(){super(...arguments);de(this,"priority",80);de(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(GS(r),0,0,0),t}}class n7 extends ot{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,r){switch(n){case"h":return Lt(Xt.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return qt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,r){const s=t.getHours()>=12;return s&&r<12?t.setHours(r+12,0,0,0):!s&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}}class i7 extends ot{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,r){switch(n){case"H":return Lt(Xt.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return qt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,r){return t.setHours(r,0,0,0),t}}class r7 extends ot{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,r){switch(n){case"K":return Lt(Xt.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return qt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}}class s7 extends ot{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,r){switch(n){case"k":return Lt(Xt.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return qt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,r){const s=r<=24?r%24:r;return t.setHours(s,0,0,0),t}}class a7 extends ot{constructor(){super(...arguments);de(this,"priority",60);de(this,"incompatibleTokens",["t","T"])}parse(t,n,r){switch(n){case"m":return Lt(Xt.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return qt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setMinutes(r,0,0),t}}class o7 extends ot{constructor(){super(...arguments);de(this,"priority",50);de(this,"incompatibleTokens",["t","T"])}parse(t,n,r){switch(n){case"s":return Lt(Xt.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return qt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setSeconds(r,0),t}}class l7 extends ot{constructor(){super(...arguments);de(this,"priority",30);de(this,"incompatibleTokens",["t","T"])}parse(t,n){const r=s=>Math.trunc(s*Math.pow(10,-n.length+3));return Zt(qt(n.length,t),r)}set(t,n,r){return t.setMilliseconds(r),t}}class c7 extends ot{constructor(){super(...arguments);de(this,"priority",10);de(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return jr(Ur.basicOptionalMinutes,t);case"XX":return jr(Ur.basic,t);case"XXXX":return jr(Ur.basicOptionalSeconds,t);case"XXXXX":return jr(Ur.extendedOptionalSeconds,t);case"XXX":default:return jr(Ur.extended,t)}}set(t,n,r){return n.timestampIsSet?t:vt(t,t.getTime()-fy(t)-r)}}class u7 extends ot{constructor(){super(...arguments);de(this,"priority",10);de(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return jr(Ur.basicOptionalMinutes,t);case"xx":return jr(Ur.basic,t);case"xxxx":return jr(Ur.basicOptionalSeconds,t);case"xxxxx":return jr(Ur.extendedOptionalSeconds,t);case"xxx":default:return jr(Ur.extended,t)}}set(t,n,r){return n.timestampIsSet?t:vt(t,t.getTime()-fy(t)-r)}}class h7 extends ot{constructor(){super(...arguments);de(this,"priority",40);de(this,"incompatibleTokens","*")}parse(t){return h2(t)}set(t,n,r){return[vt(t,r*1e3),{timestampIsSet:!0}]}}class d7 extends ot{constructor(){super(...arguments);de(this,"priority",20);de(this,"incompatibleTokens","*")}parse(t){return h2(t)}set(t,n,r){return[vt(t,r),{timestampIsSet:!0}]}}const f7={G:new M8,y:new k8,Y:new P8,R:new O8,u:new N8,Q:new V8,q:new L8,M:new F8,L:new B8,w:new j8,I:new H8,d:new W8,D:new G8,E:new K8,e:new $8,c:new Q8,i:new Z8,a:new J8,b:new e7,B:new t7,h:new n7,H:new i7,K:new r7,k:new s7,m:new a7,s:new o7,S:new l7,X:new c7,x:new u7,t:new h7,T:new d7},p7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,m7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g7=/^'([^]*?)'?$/,y7=/''/g,v7=/\S/,_7=/[a-zA-Z]/;function b7(i,e,t,n){var E,R,P,O,z,U,K,M;const r=()=>vt((n==null?void 0:n.in)||t,NaN),s=S8(),o=(n==null?void 0:n.locale)??s.locale??o2,c=(n==null?void 0:n.firstWeekContainsDate)??((R=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:R.firstWeekContainsDate)??s.firstWeekContainsDate??((O=(P=s.locale)==null?void 0:P.options)==null?void 0:O.firstWeekContainsDate)??1,u=(n==null?void 0:n.weekStartsOn)??((U=(z=n==null?void 0:n.locale)==null?void 0:z.options)==null?void 0:U.weekStartsOn)??s.weekStartsOn??((M=(K=s.locale)==null?void 0:K.options)==null?void 0:M.weekStartsOn)??0;if(!e)return i?r():Ae(t,n==null?void 0:n.in);const d={firstWeekContainsDate:c,weekStartsOn:u,locale:o},p=[new C8(n==null?void 0:n.in,t)],g=e.match(m7).map(A=>{const I=A[0];if(I in iT){const F=iT[I];return F(A,o.formatLong)}return A}).join("").match(p7),v=[];for(let A of g){const I=A[0],F=f7[I];if(F){const{incompatibleTokens:L}=F;if(Array.isArray(L)){const V=v.find(me=>L.includes(me.token)||me.token===I);if(V)throw new RangeError(`The format string mustn't contain \`${V.fullToken}\` and \`${A}\` at the same time`)}else if(F.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);v.push({token:I,fullToken:A});const B=F.run(i,A,o.match,d);if(!B)return r();p.push(B.setter),i=B.rest}else{if(I.match(_7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(A==="''"?A="'":I==="'"&&(A=w7(A)),i.indexOf(A)===0)i=i.slice(A.length);else return r()}}if(i.length>0&&v7.test(i))return r();const b=p.map(A=>A.priority).sort((A,I)=>I-A).filter((A,I,F)=>F.indexOf(A)===I).map(A=>p.filter(I=>I.priority===A).sort((I,F)=>F.subPriority-I.subPriority)).map(A=>A[0]);let T=Ae(t,n==null?void 0:n.in);if(isNaN(+T))return r();const S={};for(const A of b){if(!A.validate(T,d))return r();const I=A.set(T,S,d);Array.isArray(I)?(T=I[0],Object.assign(S,I[1])):T=I}return T}function w7(i){return i.match(g7)[1].replace(y7,"'")}function T7(i,e,t){const[n,r]=Zs(t==null?void 0:t.in,i,e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function S7(i,e,t){const[n,r]=Zs(t==null?void 0:t.in,i,e);return+nT(n)==+nT(r)}function E7(i,e,t){const[n,r]=Zs(t==null?void 0:t.in,i,e);return n.getFullYear()===r.getFullYear()}function Of(i,e,t){const n=+Ae(i,t==null?void 0:t.in),[r,s]=[+Ae(e.start,t==null?void 0:t.in),+Ae(e.end,t==null?void 0:t.in)].sort((o,c)=>o-c);return n>=r&&n<=s}function x7(i,e,t){return ur(i,-1,t)}function D7(i,e){const t=()=>vt(e==null?void 0:e.in,NaN),r=C7(i);let s;if(r.date){const d=M7(r.date,2);s=k7(d.restDateString,d.year)}if(!s||isNaN(+s))return t();const o=+s;let c=0,u;if(r.time&&(c=P7(r.time),isNaN(c)))return t();if(r.timezone){if(u=O7(r.timezone),isNaN(u))return t()}else{const d=new Date(o+c),p=Ae(0,e==null?void 0:e.in);return p.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),p.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),p}return Ae(o+c+u,e==null?void 0:e.in)}const rg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},A7=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,I7=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,R7=/^([+-])(\d{2})(?::?(\d{2}))?$/;function C7(i){const e={},t=i.split(rg.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],rg.timeZoneDelimiter.test(e.date)&&(e.date=i.split(rg.timeZoneDelimiter)[0],n=i.substr(e.date.length,i.length))),n){const r=rg.timezone.exec(n);r?(e.time=n.replace(r[1],""),e.timezone=r[1]):e.time=n}return e}function M7(i,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=i.match(t);if(!n)return{year:NaN,restDateString:""};const r=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?r:s*100,restDateString:i.slice((n[1]||n[2]).length)}}function k7(i,e){if(e===null)return new Date(NaN);const t=i.match(A7);if(!t)return new Date(NaN);const n=!!t[4],r=Nd(t[1]),s=Nd(t[2])-1,o=Nd(t[3]),c=Nd(t[4]),u=Nd(t[5])-1;if(n)return B7(e,c,u)?N7(e,c,u):new Date(NaN);{const d=new Date(0);return!L7(e,s,o)||!F7(e,r)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(r,o)),d)}}function Nd(i){return i?parseInt(i):1}function P7(i){const e=i.match(I7);if(!e)return NaN;const t=K0(e[1]),n=K0(e[2]),r=K0(e[3]);return U7(t,n,r)?t*ov+n*av+r*1e3:NaN}function K0(i){return i&&parseFloat(i.replace(",","."))||0}function O7(i){if(i==="Z")return 0;const e=i.match(R7);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return j7(n,r)?t*(n*ov+r*av):NaN}function N7(i,e,t){const n=new Date(0);n.setUTCFullYear(i,0,4);const r=n.getUTCDay()||7,s=(e-1)*7+t+1-r;return n.setUTCDate(n.getUTCDate()+s),n}const V7=[31,null,31,30,31,30,31,31,30,31,30,31];function p2(i){return i%400===0||i%4===0&&i%100!==0}function L7(i,e,t){return e>=0&&e<=11&&t>=1&&t<=(V7[e]||(p2(i)?29:28))}function F7(i,e){return e>=1&&e<=(p2(i)?366:365)}function B7(i,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function U7(i,e,t){return i===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&i>=0&&i<25}function j7(i,e){return e>=0&&e<=59}function Gi(i,e,t){const n=Ae(i,t==null?void 0:t.in),r=n.getFullYear(),s=n.getDate(),o=vt(i,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const c=T8(o);return n.setMonth(e,Math.min(s,c)),n}function Rg(i,e,t){const n=Ae(i,t==null?void 0:t.in);return n.setHours(e),n}function Cg(i,e,t){const n=Ae(i,t==null?void 0:t.in);return n.setMinutes(e),n}function ru(i,e,t){const n=Ae(i,t==null?void 0:t.in),r=Math.trunc(n.getMonth()/3)+1,s=e-r;return Gi(n,n.getMonth()+s*3)}function Mg(i,e,t){const n=Ae(i,t==null?void 0:t.in);return n.setSeconds(e),n}function Vr(i,e,t){const n=Ae(i,t==null?void 0:t.in);return isNaN(+n)?vt(i,NaN):(n.setFullYear(e),n)}function Il(i,e,t){return dr(i,-e,t)}function m2(i,e,t){return qS(i,-1,t)}function BC(i,e,t){return py(i,-1,t)}function Pu(i,e,t){return Bs(i,-e,t)}function cv(){return typeof window<"u"}function lh(i){return g2(i)?(i.nodeName||"").toLowerCase():"#document"}function Ai(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function ss(i){var e;return(e=(g2(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function g2(i){return cv()?i instanceof Node||i instanceof Ai(i).Node:!1}function ti(i){return cv()?i instanceof Element||i instanceof Ai(i).Element:!1}function es(i){return cv()?i instanceof HTMLElement||i instanceof Ai(i).HTMLElement:!1}function UC(i){return!cv()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof Ai(i).ShadowRoot}const z7=new Set(["inline","contents"]);function ip(i){const{overflow:e,overflowX:t,overflowY:n,display:r}=er(i);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!z7.has(r)}const H7=new Set(["table","td","th"]);function q7(i){return H7.has(lh(i))}const Y7=[":popover-open",":modal"];function uv(i){return Y7.some(e=>{try{return i.matches(e)}catch{return!1}})}const W7=["transform","translate","scale","rotate","perspective"],G7=["transform","translate","scale","rotate","perspective","filter"],K7=["paint","layout","strict","content"];function $S(i){const e=QS(),t=ti(i)?er(i):i;return W7.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||G7.some(n=>(t.willChange||"").includes(n))||K7.some(n=>(t.contain||"").includes(n))}function $7(i){let e=oo(i);for(;es(e)&&!Ou(e);){if($S(e))return e;if(uv(e))return null;e=oo(e)}return null}function QS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Q7=new Set(["html","body","#document"]);function Ou(i){return Q7.has(lh(i))}function er(i){return Ai(i).getComputedStyle(i)}function hv(i){return ti(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function oo(i){if(lh(i)==="html")return i;const e=i.assignedSlot||i.parentNode||UC(i)&&i.host||ss(i);return UC(e)?e.host:e}function y2(i){const e=oo(i);return Ou(e)?i.ownerDocument?i.ownerDocument.body:i.body:es(e)&&ip(e)?e:y2(e)}function Nf(i,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=y2(i),s=r===((n=i.ownerDocument)==null?void 0:n.body),o=Ai(r);if(s){const c=sT(o);return e.concat(o,o.visualViewport||[],ip(r)?r:[],c&&t?Nf(c):[])}return e.concat(r,Nf(r,[],t))}function sT(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}const Nu=Math.min,Rl=Math.max,by=Math.round,sg=Math.floor,Kr=i=>({x:i,y:i}),X7={left:"right",right:"left",bottom:"top",top:"bottom"},Z7={start:"end",end:"start"};function J7(i,e,t){return Rl(i,Nu(e,t))}function dv(i,e){return typeof i=="function"?i(e):i}function Vu(i){return i.split("-")[0]}function rp(i){return i.split("-")[1]}function eW(i){return i==="x"?"y":"x"}function XS(i){return i==="y"?"height":"width"}const tW=new Set(["top","bottom"]);function bl(i){return tW.has(Vu(i))?"y":"x"}function ZS(i){return eW(bl(i))}function nW(i,e,t){t===void 0&&(t=!1);const n=rp(i),r=ZS(i),s=XS(r);let o=r==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=wy(o)),[o,wy(o)]}function iW(i){const e=wy(i);return[aT(i),e,aT(e)]}function aT(i){return i.replace(/start|end/g,e=>Z7[e])}const jC=["left","right"],zC=["right","left"],rW=["top","bottom"],sW=["bottom","top"];function aW(i,e,t){switch(i){case"top":case"bottom":return t?e?zC:jC:e?jC:zC;case"left":case"right":return e?rW:sW;default:return[]}}function oW(i,e,t,n){const r=rp(i);let s=aW(Vu(i),t==="start",n);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(aT)))),s}function wy(i){return i.replace(/left|right|bottom|top/g,e=>X7[e])}function lW(i){return{top:0,right:0,bottom:0,left:0,...i}}function v2(i){return typeof i!="number"?lW(i):{top:i,right:i,bottom:i,left:i}}function Ty(i){const{x:e,y:t,width:n,height:r}=i;return{width:n,height:r,top:t,left:e,right:e+n,bottom:t+r,x:e,y:t}}var cW=typeof document<"u",uW=function(){},Sy=cW?Q.useLayoutEffect:uW;const hW={...SP},dW=hW.useInsertionEffect,fW=dW||(i=>i());function pW(i){const e=Q.useRef(()=>{});return fW(()=>{e.current=i}),Q.useCallback(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.current==null?void 0:e.current(...n)},[])}var _2=EP();const mW=GT(_2);function HC(i,e,t){let{reference:n,floating:r}=i;const s=bl(e),o=ZS(e),c=XS(o),u=Vu(e),d=s==="y",p=n.x+n.width/2-r.width/2,g=n.y+n.height/2-r.height/2,v=n[c]/2-r[c]/2;let b;switch(u){case"top":b={x:p,y:n.y-r.height};break;case"bottom":b={x:p,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:g};break;case"left":b={x:n.x-r.width,y:g};break;default:b={x:n.x,y:n.y}}switch(rp(e)){case"start":b[o]-=v*(t&&d?-1:1);break;case"end":b[o]+=v*(t&&d?-1:1);break}return b}const gW=async(i,e,t)=>{const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,c=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:i,floating:e,strategy:r}),{x:p,y:g}=HC(d,n,u),v=n,b={},T=0;for(let S=0;S<c.length;S++){const{name:E,fn:R}=c[S],{x:P,y:O,data:z,reset:U}=await R({x:p,y:g,initialPlacement:n,placement:v,strategy:r,middlewareData:b,rects:d,platform:o,elements:{reference:i,floating:e}});p=P??p,g=O??g,b={...b,[E]:{...b[E],...z}},U&&T<=50&&(T++,typeof U=="object"&&(U.placement&&(v=U.placement),U.rects&&(d=U.rects===!0?await o.getElementRects({reference:i,floating:e,strategy:r}):U.rects),{x:p,y:g}=HC(d,v,u)),S=-1)}return{x:p,y:g,placement:v,strategy:r,middlewareData:b}};async function yW(i,e){var t;e===void 0&&(e={});const{x:n,y:r,platform:s,rects:o,elements:c,strategy:u}=i,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:b=0}=dv(e,i),T=v2(b),E=c[v?g==="floating"?"reference":"floating":g],R=Ty(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(E)))==null||t?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:d,rootBoundary:p,strategy:u})),P=g==="floating"?{x:n,y:r,width:o.floating.width,height:o.floating.height}:o.reference,O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),z=await(s.isElement==null?void 0:s.isElement(O))?await(s.getScale==null?void 0:s.getScale(O))||{x:1,y:1}:{x:1,y:1},U=Ty(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:P,offsetParent:O,strategy:u}):P);return{top:(R.top-U.top+T.top)/z.y,bottom:(U.bottom-R.bottom+T.bottom)/z.y,left:(R.left-U.left+T.left)/z.x,right:(U.right-R.right+T.right)/z.x}}const vW=i=>({name:"arrow",options:i,async fn(e){const{x:t,y:n,placement:r,rects:s,platform:o,elements:c,middlewareData:u}=e,{element:d,padding:p=0}=dv(i,e)||{};if(d==null)return{};const g=v2(p),v={x:t,y:n},b=ZS(r),T=XS(b),S=await o.getDimensions(d),E=b==="y",R=E?"top":"left",P=E?"bottom":"right",O=E?"clientHeight":"clientWidth",z=s.reference[T]+s.reference[b]-v[b]-s.floating[T],U=v[b]-s.reference[b],K=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let M=K?K[O]:0;(!M||!await(o.isElement==null?void 0:o.isElement(K)))&&(M=c.floating[O]||s.floating[T]);const A=z/2-U/2,I=M/2-S[T]/2-1,F=Nu(g[R],I),L=Nu(g[P],I),B=F,V=M-S[T]-L,me=M/2-S[T]/2+A,pe=J7(B,me,V),q=!u.arrow&&rp(r)!=null&&me!==pe&&s.reference[T]/2-(me<B?F:L)-S[T]/2<0,G=q?me<B?me-B:me-V:0;return{[b]:v[b]+G,data:{[b]:pe,centerOffset:me-pe-G,...q&&{alignmentOffset:G}},reset:q}}}),_W=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,n;const{placement:r,middlewareData:s,rects:o,initialPlacement:c,platform:u,elements:d}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:S=!0,...E}=dv(i,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const R=Vu(r),P=bl(c),O=Vu(c)===c,z=await(u.isRTL==null?void 0:u.isRTL(d.floating)),U=v||(O||!S?[wy(c)]:iW(c)),K=T!=="none";!v&&K&&U.push(...oW(c,S,T,z));const M=[c,...U],A=await yW(e,E),I=[];let F=((n=s.flip)==null?void 0:n.overflows)||[];if(p&&I.push(A[R]),g){const me=nW(r,o,z);I.push(A[me[0]],A[me[1]])}if(F=[...F,{placement:r,overflows:I}],!I.every(me=>me<=0)){var L,B;const me=(((L=s.flip)==null?void 0:L.index)||0)+1,pe=M[me];if(pe&&(!(g==="alignment"?P!==bl(pe):!1)||F.every(ae=>ae.overflows[0]>0&&bl(ae.placement)===P)))return{data:{index:me,overflows:F},reset:{placement:pe}};let q=(B=F.filter(G=>G.overflows[0]<=0).sort((G,ae)=>G.overflows[1]-ae.overflows[1])[0])==null?void 0:B.placement;if(!q)switch(b){case"bestFit":{var V;const G=(V=F.filter(ae=>{if(K){const X=bl(ae.placement);return X===P||X==="y"}return!0}).map(ae=>[ae.placement,ae.overflows.filter(X=>X>0).reduce((X,k)=>X+k,0)]).sort((ae,X)=>ae[1]-X[1])[0])==null?void 0:V[0];G&&(q=G);break}case"initialPlacement":q=c;break}if(r!==q)return{reset:{placement:q}}}return{}}}},bW=new Set(["left","top"]);async function wW(i,e){const{placement:t,platform:n,elements:r}=i,s=await(n.isRTL==null?void 0:n.isRTL(r.floating)),o=Vu(t),c=rp(t),u=bl(t)==="y",d=bW.has(o)?-1:1,p=s&&u?-1:1,g=dv(e,i);let{mainAxis:v,crossAxis:b,alignmentAxis:T}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof T=="number"&&(b=c==="end"?T*-1:T),u?{x:b*p,y:v*d}:{x:v*d,y:b*p}}const TW=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,n;const{x:r,y:s,placement:o,middlewareData:c}=e,u=await wW(e,i);return o===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+u.x,y:s+u.y,data:{...u,placement:o}}}}};function b2(i){const e=er(i);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=es(i),s=r?i.offsetWidth:t,o=r?i.offsetHeight:n,c=by(t)!==s||by(n)!==o;return c&&(t=s,n=o),{width:t,height:n,$:c}}function JS(i){return ti(i)?i:i.contextElement}function wu(i){const e=JS(i);if(!es(e))return Kr(1);const t=e.getBoundingClientRect(),{width:n,height:r,$:s}=b2(e);let o=(s?by(t.width):t.width)/n,c=(s?by(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const SW=Kr(0);function w2(i){const e=Ai(i);return!QS()||!e.visualViewport?SW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EW(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ai(i)?!1:e}function Fl(i,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=i.getBoundingClientRect(),s=JS(i);let o=Kr(1);e&&(n?ti(n)&&(o=wu(n)):o=wu(i));const c=EW(s,t,n)?w2(s):Kr(0);let u=(r.left+c.x)/o.x,d=(r.top+c.y)/o.y,p=r.width/o.x,g=r.height/o.y;if(s){const v=Ai(s),b=n&&ti(n)?Ai(n):n;let T=v,S=sT(T);for(;S&&n&&b!==T;){const E=wu(S),R=S.getBoundingClientRect(),P=er(S),O=R.left+(S.clientLeft+parseFloat(P.paddingLeft))*E.x,z=R.top+(S.clientTop+parseFloat(P.paddingTop))*E.y;u*=E.x,d*=E.y,p*=E.x,g*=E.y,u+=O,d+=z,T=Ai(S),S=sT(T)}}return Ty({width:p,height:g,x:u,y:d})}function eE(i,e){const t=hv(i).scrollLeft;return e?e.left+t:Fl(ss(i)).left+t}function T2(i,e,t){t===void 0&&(t=!1);const n=i.getBoundingClientRect(),r=n.left+e.scrollLeft-(t?0:eE(i,n)),s=n.top+e.scrollTop;return{x:r,y:s}}function xW(i){let{elements:e,rect:t,offsetParent:n,strategy:r}=i;const s=r==="fixed",o=ss(n),c=e?uv(e.floating):!1;if(n===o||c&&s)return t;let u={scrollLeft:0,scrollTop:0},d=Kr(1);const p=Kr(0),g=es(n);if((g||!g&&!s)&&((lh(n)!=="body"||ip(o))&&(u=hv(n)),es(n))){const b=Fl(n);d=wu(n),p.x=b.x+n.clientLeft,p.y=b.y+n.clientTop}const v=o&&!g&&!s?T2(o,u,!0):Kr(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-u.scrollLeft*d.x+p.x+v.x,y:t.y*d.y-u.scrollTop*d.y+p.y+v.y}}function DW(i){return Array.from(i.getClientRects())}function AW(i){const e=ss(i),t=hv(i),n=i.ownerDocument.body,r=Rl(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Rl(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-t.scrollLeft+eE(i);const c=-t.scrollTop;return er(n).direction==="rtl"&&(o+=Rl(e.clientWidth,n.clientWidth)-r),{width:r,height:s,x:o,y:c}}function IW(i,e){const t=Ai(i),n=ss(i),r=t.visualViewport;let s=n.clientWidth,o=n.clientHeight,c=0,u=0;if(r){s=r.width,o=r.height;const d=QS();(!d||d&&e==="fixed")&&(c=r.offsetLeft,u=r.offsetTop)}return{width:s,height:o,x:c,y:u}}const RW=new Set(["absolute","fixed"]);function CW(i,e){const t=Fl(i,!0,e==="fixed"),n=t.top+i.clientTop,r=t.left+i.clientLeft,s=es(i)?wu(i):Kr(1),o=i.clientWidth*s.x,c=i.clientHeight*s.y,u=r*s.x,d=n*s.y;return{width:o,height:c,x:u,y:d}}function qC(i,e,t){let n;if(e==="viewport")n=IW(i,t);else if(e==="document")n=AW(ss(i));else if(ti(e))n=CW(e,t);else{const r=w2(i);n={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Ty(n)}function S2(i,e){const t=oo(i);return t===e||!ti(t)||Ou(t)?!1:er(t).position==="fixed"||S2(t,e)}function MW(i,e){const t=e.get(i);if(t)return t;let n=Nf(i,[],!1).filter(c=>ti(c)&&lh(c)!=="body"),r=null;const s=er(i).position==="fixed";let o=s?oo(i):i;for(;ti(o)&&!Ou(o);){const c=er(o),u=$S(o);!u&&c.position==="fixed"&&(r=null),(s?!u&&!r:!u&&c.position==="static"&&!!r&&RW.has(r.position)||ip(o)&&!u&&S2(i,o))?n=n.filter(p=>p!==o):r=c,o=oo(o)}return e.set(i,n),n}function kW(i){let{element:e,boundary:t,rootBoundary:n,strategy:r}=i;const o=[...t==="clippingAncestors"?uv(e)?[]:MW(e,this._c):[].concat(t),n],c=o[0],u=o.reduce((d,p)=>{const g=qC(e,p,r);return d.top=Rl(g.top,d.top),d.right=Nu(g.right,d.right),d.bottom=Nu(g.bottom,d.bottom),d.left=Rl(g.left,d.left),d},qC(e,c,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function PW(i){const{width:e,height:t}=b2(i);return{width:e,height:t}}function OW(i,e,t){const n=es(e),r=ss(e),s=t==="fixed",o=Fl(i,!0,s,e);let c={scrollLeft:0,scrollTop:0};const u=Kr(0);function d(){u.x=eE(r)}if(n||!n&&!s)if((lh(e)!=="body"||ip(r))&&(c=hv(e)),n){const b=Fl(e,!0,s,e);u.x=b.x+e.clientLeft,u.y=b.y+e.clientTop}else r&&d();s&&!n&&r&&d();const p=r&&!n&&!s?T2(r,c):Kr(0),g=o.left+c.scrollLeft-u.x-p.x,v=o.top+c.scrollTop-u.y-p.y;return{x:g,y:v,width:o.width,height:o.height}}function $0(i){return er(i).position==="static"}function YC(i,e){if(!es(i)||er(i).position==="fixed")return null;if(e)return e(i);let t=i.offsetParent;return ss(i)===t&&(t=t.ownerDocument.body),t}function E2(i,e){const t=Ai(i);if(uv(i))return t;if(!es(i)){let r=oo(i);for(;r&&!Ou(r);){if(ti(r)&&!$0(r))return r;r=oo(r)}return t}let n=YC(i,e);for(;n&&q7(n)&&$0(n);)n=YC(n,e);return n&&Ou(n)&&$0(n)&&!$S(n)?t:n||$7(i)||t}const NW=async function(i){const e=this.getOffsetParent||E2,t=this.getDimensions,n=await t(i.floating);return{reference:OW(i.reference,await e(i.floating),i.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function VW(i){return er(i).direction==="rtl"}const LW={convertOffsetParentRelativeRectToViewportRelativeRect:xW,getDocumentElement:ss,getClippingRect:kW,getOffsetParent:E2,getElementRects:NW,getClientRects:DW,getDimensions:PW,getScale:wu,isElement:ti,isRTL:VW};function x2(i,e){return i.x===e.x&&i.y===e.y&&i.width===e.width&&i.height===e.height}function FW(i,e){let t=null,n;const r=ss(i);function s(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const d=i.getBoundingClientRect(),{left:p,top:g,width:v,height:b}=d;if(c||e(),!v||!b)return;const T=sg(g),S=sg(r.clientWidth-(p+v)),E=sg(r.clientHeight-(g+b)),R=sg(p),O={rootMargin:-T+"px "+-S+"px "+-E+"px "+-R+"px",threshold:Rl(0,Nu(1,u))||1};let z=!0;function U(K){const M=K[0].intersectionRatio;if(M!==u){if(!z)return o();M?o(!1,M):n=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!x2(d,i.getBoundingClientRect())&&o(),z=!1}try{t=new IntersectionObserver(U,{...O,root:r.ownerDocument})}catch{t=new IntersectionObserver(U,O)}t.observe(i)}return o(!0),s}function BW(i,e,t,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=JS(i),p=r||s?[...d?Nf(d):[],...Nf(e)]:[];p.forEach(R=>{r&&R.addEventListener("scroll",t,{passive:!0}),s&&R.addEventListener("resize",t)});const g=d&&c?FW(d,t):null;let v=-1,b=null;o&&(b=new ResizeObserver(R=>{let[P]=R;P&&P.target===d&&b&&(b.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var O;(O=b)==null||O.observe(e)})),t()}),d&&!u&&b.observe(d),b.observe(e));let T,S=u?Fl(i):null;u&&E();function E(){const R=Fl(i);S&&!x2(S,R)&&t(),S=R,T=requestAnimationFrame(E)}return t(),()=>{var R;p.forEach(P=>{r&&P.removeEventListener("scroll",t),s&&P.removeEventListener("resize",t)}),g==null||g(),(R=b)==null||R.disconnect(),b=null,u&&cancelAnimationFrame(T)}}const UW=TW,jW=_W,WC=vW,zW=(i,e,t)=>{const n=new Map,r={platform:LW,...t},s={...r.platform,_c:n};return gW(i,e,{...r,platform:s})};var HW=typeof document<"u",qW=function(){},kg=HW?Q.useLayoutEffect:qW;function Ey(i,e){if(i===e)return!0;if(typeof i!=typeof e)return!1;if(typeof i=="function"&&i.toString()===e.toString())return!0;let t,n,r;if(i&&e&&typeof i=="object"){if(Array.isArray(i)){if(t=i.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Ey(i[n],e[n]))return!1;return!0}if(r=Object.keys(i),t=r.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,r[n]))return!1;for(n=t;n--!==0;){const s=r[n];if(!(s==="_owner"&&i.$$typeof)&&!Ey(i[s],e[s]))return!1}return!0}return i!==i&&e!==e}function D2(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function GC(i,e){const t=D2(i);return Math.round(e*t)/t}function Q0(i){const e=Q.useRef(i);return kg(()=>{e.current=i}),e}function YW(i){i===void 0&&(i={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:r,elements:{reference:s,floating:o}={},transform:c=!0,whileElementsMounted:u,open:d}=i,[p,g]=Q.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,b]=Q.useState(n);Ey(v,n)||b(n);const[T,S]=Q.useState(null),[E,R]=Q.useState(null),P=Q.useCallback(ae=>{ae!==K.current&&(K.current=ae,S(ae))},[]),O=Q.useCallback(ae=>{ae!==M.current&&(M.current=ae,R(ae))},[]),z=s||T,U=o||E,K=Q.useRef(null),M=Q.useRef(null),A=Q.useRef(p),I=u!=null,F=Q0(u),L=Q0(r),B=Q0(d),V=Q.useCallback(()=>{if(!K.current||!M.current)return;const ae={placement:e,strategy:t,middleware:v};L.current&&(ae.platform=L.current),zW(K.current,M.current,ae).then(X=>{const k={...X,isPositioned:B.current!==!1};me.current&&!Ey(A.current,k)&&(A.current=k,_2.flushSync(()=>{g(k)}))})},[v,e,t,L,B]);kg(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,g(ae=>({...ae,isPositioned:!1})))},[d]);const me=Q.useRef(!1);kg(()=>(me.current=!0,()=>{me.current=!1}),[]),kg(()=>{if(z&&(K.current=z),U&&(M.current=U),z&&U){if(F.current)return F.current(z,U,V);V()}},[z,U,V,F,I]);const pe=Q.useMemo(()=>({reference:K,floating:M,setReference:P,setFloating:O}),[P,O]),q=Q.useMemo(()=>({reference:z,floating:U}),[z,U]),G=Q.useMemo(()=>{const ae={position:t,left:0,top:0};if(!q.floating)return ae;const X=GC(q.floating,p.x),k=GC(q.floating,p.y);return c?{...ae,transform:"translate("+X+"px, "+k+"px)",...D2(q.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:X,top:k}},[t,c,q.floating,p.x,p.y]);return Q.useMemo(()=>({...p,update:V,refs:pe,elements:q,floatingStyles:G}),[p,V,pe,q,G])}const WW=i=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:i,fn(t){const{element:n,padding:r}=typeof i=="function"?i(t):i;return n&&e(n)?n.current!=null?WC({element:n.current,padding:r}).fn(t):{}:n?WC({element:n,padding:r}).fn(t):{}}}},GW=(i,e)=>({...UW(i),options:[i,e]}),KW=(i,e)=>({...jW(i),options:[i,e]}),$W=(i,e)=>({...WW(i),options:[i,e]}),QW={...SP};let KC=!1,XW=0;const $C=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+XW++;function ZW(){const[i,e]=Q.useState(()=>KC?$C():void 0);return Sy(()=>{i==null&&e($C())},[]),Q.useEffect(()=>{KC=!0},[]),i}const JW=QW.useId,A2=JW||ZW,eG=Q.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:s,shift:o}},width:c=14,height:u=7,tipRadius:d=0,strokeWidth:p=0,staticOffset:g,stroke:v,d:b,style:{transform:T,...S}={},...E}=e,R=A2(),[P,O]=Q.useState(!1);if(Sy(()=>{if(!r)return;er(r).direction==="rtl"&&O(!0)},[r]),!r)return null;const[z,U]=n.split("-"),K=z==="top"||z==="bottom";let M=g;(K&&o!=null&&o.x||!K&&o!=null&&o.y)&&(M=null);const A=p*2,I=A/2,F=c/2*(d/-8+1),L=u/2*d/4,B=!!b,V=M&&U==="end"?"bottom":"top";let me=M&&U==="end"?"right":"left";M&&P&&(me=U==="end"?"left":"right");const pe=(s==null?void 0:s.x)!=null?M||s.x:"",q=(s==null?void 0:s.y)!=null?M||s.y:"",G=b||"M0,0"+(" H"+c)+(" L"+(c-F)+","+(u-L))+(" Q"+c/2+","+u+" "+F+","+(u-L))+" Z",ae={top:B?"rotate(180deg)":"",left:B?"rotate(90deg)":"rotate(-90deg)",bottom:B?"":"rotate(180deg)",right:B?"rotate(-90deg)":"rotate(90deg)"}[z];return j.jsxs("svg",{...E,"aria-hidden":!0,ref:t,width:B?c:c+A,height:c,viewBox:"0 0 "+c+" "+(u>c?u:c),style:{position:"absolute",pointerEvents:"none",[me]:pe,[V]:q,[z]:K||B?"100%":"calc(100% - "+A/2+"px)",transform:[ae,T].filter(X=>!!X).join(" "),...S},children:[A>0&&j.jsx("path",{clipPath:"url(#"+R+")",fill:"none",stroke:v,strokeWidth:A+(b?0:1),d:G}),j.jsx("path",{stroke:A&&!b?E.fill:"none",d:G}),j.jsx("clipPath",{id:R,children:j.jsx("rect",{x:-I,y:I*(B?-1:1),width:c+A,height:c})})]})});function tG(){const i=new Map;return{emit(e,t){var n;(n=i.get(e))==null||n.forEach(r=>r(t))},on(e,t){i.has(e)||i.set(e,new Set),i.get(e).add(t)},off(e,t){var n;(n=i.get(e))==null||n.delete(t)}}}const nG=Q.createContext(null),iG=Q.createContext(null),rG=()=>{var i;return((i=Q.useContext(nG))==null?void 0:i.id)||null},sG=()=>Q.useContext(iG);function aG(i){const{open:e=!1,onOpenChange:t,elements:n}=i,r=A2(),s=Q.useRef({}),[o]=Q.useState(()=>tG()),c=rG()!=null,[u,d]=Q.useState(n.reference),p=pW((b,T,S)=>{s.current.openEvent=b?T:void 0,o.emit("openchange",{open:b,event:T,reason:S,nested:c}),t==null||t(b,T,S)}),g=Q.useMemo(()=>({setPositionReference:d}),[]),v=Q.useMemo(()=>({reference:u||n.reference||null,floating:n.floating||null,domReference:n.reference}),[u,n.reference,n.floating]);return Q.useMemo(()=>({dataRef:s,open:e,onOpenChange:p,elements:v,events:o,floatingId:r,refs:g}),[e,p,v,o,r,g])}function oG(i){i===void 0&&(i={});const{nodeId:e}=i,t=aG({...i,elements:{reference:null,floating:null,...i.elements}}),n=i.rootContext||t,r=n.elements,[s,o]=Q.useState(null),[c,u]=Q.useState(null),p=(r==null?void 0:r.domReference)||s,g=Q.useRef(null),v=sG();Sy(()=>{p&&(g.current=p)},[p]);const b=YW({...i,elements:{...r,...c&&{reference:c}}}),T=Q.useCallback(O=>{const z=ti(O)?{getBoundingClientRect:()=>O.getBoundingClientRect(),getClientRects:()=>O.getClientRects(),contextElement:O}:O;u(z),b.refs.setReference(z)},[b.refs]),S=Q.useCallback(O=>{(ti(O)||O===null)&&(g.current=O,o(O)),(ti(b.refs.reference.current)||b.refs.reference.current===null||O!==null&&!ti(O))&&b.refs.setReference(O)},[b.refs]),E=Q.useMemo(()=>({...b.refs,setReference:S,setPositionReference:T,domReference:g}),[b.refs,S,T]),R=Q.useMemo(()=>({...b.elements,domReference:p}),[b.elements,p]),P=Q.useMemo(()=>({...b,...n,refs:E,elements:R,nodeId:e}),[b,E,R,e,n]);return Sy(()=>{n.dataRef.current.floatingContext=P;const O=v==null?void 0:v.nodesRef.current.find(z=>z.id===e);O&&(O.context=P)}),Q.useMemo(()=>({...b,context:P,refs:E,elements:R}),[b,E,R,P])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var oT=function(e,t){return oT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},oT(e,t)};function Rn(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");oT(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var nt=function(){return nt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},nt.apply(this,arguments)};function zr(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,s;n<r;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return i.concat(s||Array.prototype.slice.call(e))}var lG=function(i){var e=i.showTimeSelectOnly,t=e===void 0?!1:e,n=i.showTime,r=n===void 0?!1:n,s=i.className,o=i.children,c=t?"Choose Time":"Choose Date".concat(r?" and Time":"");return le.createElement("div",{className:s,role:"dialog","aria-label":c,"aria-modal":"true"},o)},cG=function(i,e){var t=Q.useRef(null),n=Q.useRef(i);n.current=i;var r=Q.useCallback(function(s){var o,c=s.composed&&s.composedPath&&s.composedPath().find(function(u){return u instanceof Node})||s.target;t.current&&!t.current.contains(c)&&(e&&c instanceof HTMLElement&&c.classList.contains(e)||(o=n.current)===null||o===void 0||o.call(n,s))},[e]);return Q.useEffect(function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r]),t},fv=function(i){var e=i.children,t=i.onClickOutside,n=i.className,r=i.containerRef,s=i.style,o=i.ignoreClass,c=cG(t,o);return le.createElement("div",{className:n,style:s,ref:function(u){c.current=u,r&&(r.current=u)}},e)},we;(function(i){i.ArrowUp="ArrowUp",i.ArrowDown="ArrowDown",i.ArrowLeft="ArrowLeft",i.ArrowRight="ArrowRight",i.PageUp="PageUp",i.PageDown="PageDown",i.Home="Home",i.End="End",i.Enter="Enter",i.Space=" ",i.Tab="Tab",i.Escape="Escape",i.Backspace="Backspace",i.X="x"})(we||(we={}));function I2(){var i=typeof window<"u"?window:globalThis;return i}var sp=12;function ut(i){if(i==null)return new Date;var e=typeof i=="string"?D7(i):Ae(i);return pv(e)?e:new Date}function X0(i,e,t,n,r){r===void 0&&(r=ut());for(var s=Lu(t)||Lu(tE()),o=Array.isArray(e)?e:[e],c=0,u=o;c<u.length;c++){var d=u[c],p=b7(i,d,r,{locale:s});if(pv(p)&&(!n||i===Ot(p,d,t)))return p}return null}function pv(i,e){return my(i)&&!Ll(i,new Date("1/1/1800"))}function Ot(i,e,t){if(t==="en")return LC(i,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Lu(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||Lu(tE()),LC(i,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Wi(i,e){var t=e.dateFormat,n=e.locale,r=Array.isArray(t)&&t.length>0?t[0]:t;return i&&Ot(i,r,n)||""}var R2=" - ";function uG(i,e,t){if(!i)return"";var n=Wi(i,t),r=e?Wi(e,t):"";return"".concat(n).concat(R2).concat(r)}function hG(i,e){if(!(i!=null&&i.length))return"";var t=i[0]?Wi(i[0],e):"";if(i.length===1)return t;if(i.length===2&&i[1]){var n=Wi(i[1],e);return"".concat(t,", ").concat(n)}var r=i.length-1;return"".concat(t," (+").concat(r,")")}function Z0(i,e){var t=e.hour,n=t===void 0?0:t,r=e.minute,s=r===void 0?0:r,o=e.second,c=o===void 0?0:o;return Rg(Cg(Mg(i,c),s),n)}function dG(i){return YS(i)}function fG(i,e){return Ot(i,"ddd",e)}function Pg(i){return Vl(i)}function Qa(i,e,t){var n=Lu(e||tE());return Gs(i,{locale:n,weekStartsOn:t})}function Hs(i){return s2(i)}function Gd(i){return lv(i)}function QC(i){return nT(i)}function XC(){return Vl(ut())}function ZC(i){return i2(i)}function pG(i){return DY(i)}function mG(i){return r2(i)}function Fr(i,e){return i&&e?E7(i,e):!i&&!e}function Jn(i,e){return i&&e?T7(i,e):!i&&!e}function xy(i,e){return i&&e?S7(i,e):!i&&!e}function tt(i,e){return i&&e?EY(i,e):!i&&!e}function wl(i,e){return i&&e?x8(i,e):!i&&!e}function Kd(i,e,t){var n,r=Vl(e),s=i2(t);try{n=Of(i,{start:r,end:s})}catch{n=!1}return n}function tE(){var i=I2();return i.__localeId__}function Lu(i){if(typeof i=="string"){var e=I2();return e.__localeData__?e.__localeData__[i]:void 0}else return i}function gG(i,e,t){return e(Ot(i,"EEEE",t))}function yG(i,e){return Ot(i,"EEEEEE",e)}function vG(i,e){return Ot(i,"EEE",e)}function nE(i,e){return Ot(Gi(ut(),i),"LLLL",e)}function C2(i,e){return Ot(Gi(ut(),i),"LLL",e)}function _G(i,e){return Ot(ru(ut(),i),"QQQ",e)}function Ki(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.maxDate,s=t.excludeDates,o=t.excludeDateIntervals,c=t.includeDates,u=t.includeDateIntervals,d=t.filterDate;return ap(i,{minDate:n,maxDate:r})||s&&s.some(function(p){return p instanceof Date?tt(i,p):tt(i,p.date)})||o&&o.some(function(p){var g=p.start,v=p.end;return Of(i,{start:g,end:v})})||c&&!c.some(function(p){return tt(i,p)})||u&&!u.some(function(p){var g=p.start,v=p.end;return Of(i,{start:g,end:v})})||d&&!d(ut(i))||!1}function iE(i,e){var t=e===void 0?{}:e,n=t.excludeDates,r=t.excludeDateIntervals;return r&&r.length>0?r.some(function(s){var o=s.start,c=s.end;return Of(i,{start:o,end:c})}):n&&n.some(function(s){var o;return s instanceof Date?tt(i,s):tt(i,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function M2(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.maxDate,s=t.excludeDates,o=t.includeDates,c=t.filterDate;return ap(i,{minDate:n?s2(n):void 0,maxDate:r?r2(r):void 0})||(s==null?void 0:s.some(function(u){return Jn(i,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return Jn(i,u)})||c&&!c(ut(i))||!1}function ag(i,e,t,n){var r=ze(i),s=qn(i),o=ze(e),c=qn(e),u=ze(n);return r===o&&r===u?s<=t&&t<=c:r<o?u===r&&s<=t||u===o&&c>=t||u<o&&u>r:!1}function bG(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.maxDate,s=t.excludeDates,o=t.includeDates;return ap(i,{minDate:n,maxDate:r})||s&&s.some(function(c){return Jn(c instanceof Date?c:c.date,i)})||o&&!o.some(function(c){return Jn(c,i)})||!1}function og(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.maxDate,s=t.excludeDates,o=t.includeDates,c=t.filterDate;return ap(i,{minDate:n,maxDate:r})||(s==null?void 0:s.some(function(u){return xy(i,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return xy(i,u)})||c&&!c(ut(i))||!1}function lg(i,e,t){if(!e||!t||!my(e)||!my(t))return!1;var n=ze(e),r=ze(t);return n<=i&&r>=i}function Og(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.maxDate,s=t.excludeDates,o=t.includeDates,c=t.filterDate,u=new Date(i,0,1);return ap(u,{minDate:n?lv(n):void 0,maxDate:r?a2(r):void 0})||(s==null?void 0:s.some(function(d){return Fr(u,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return Fr(u,d)})||c&&!c(ut(u))||!1}function cg(i,e,t,n){var r=ze(i),s=Al(i),o=ze(e),c=Al(e),u=ze(n);return r===o&&r===u?s<=t&&t<=c:r<o?u===r&&s<=t||u===o&&c>=t||u<o&&u>r:!1}function ap(i,e){var t,n=e===void 0?{}:e,r=n.minDate,s=n.maxDate;return(t=r&&ku(i,r)<0||s&&ku(i,s)>0)!==null&&t!==void 0?t:!1}function JC(i,e){return e.some(function(t){return js(t)===js(i)&&zs(t)===zs(i)&&$a(t)===$a(i)})}function eM(i,e){var t=e===void 0?{}:e,n=t.excludeTimes,r=t.includeTimes,s=t.filterTime;return n&&JC(i,n)||r&&!JC(i,r)||s&&!s(i)||!1}function tM(i,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var r=ut();r=Rg(r,js(i)),r=Cg(r,zs(i)),r=Mg(r,$a(i));var s=ut();s=Rg(s,js(t)),s=Cg(s,zs(t)),s=Mg(s,$a(t));var o=ut();o=Rg(o,js(n)),o=Cg(o,zs(n)),o=Mg(o,$a(n));var c;try{c=!Of(r,{start:s,end:o})}catch{c=!1}return c}function nM(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.includeDates,s=Il(i,1);return n&&gy(n,s)>0||r&&r.every(function(o){return gy(o,s)>0})||!1}function iM(i,e){var t=e===void 0?{}:e,n=t.maxDate,r=t.includeDates,s=dr(i,1);return n&&gy(s,n)>0||r&&r.every(function(o){return gy(s,o)>0})||!1}function wG(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.includeDates,s=lv(i),o=m2(s);return n&&yy(n,o)>0||r&&r.every(function(c){return yy(c,o)>0})||!1}function TG(i,e){var t=e===void 0?{}:e,n=t.maxDate,r=t.includeDates,s=a2(i),o=qS(s,1);return n&&yy(o,n)>0||r&&r.every(function(c){return yy(o,c)>0})||!1}function rM(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.includeDates,s=Pu(i,1);return n&&vy(n,s)>0||r&&r.every(function(o){return vy(o,s)>0})||!1}function SG(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.yearItemNumber,s=r===void 0?sp:r,o=Gd(Pu(i,s)),c=Ya(o,s).endPeriod,u=n&&ze(n);return u&&u>c||!1}function sM(i,e){var t=e===void 0?{}:e,n=t.maxDate,r=t.includeDates,s=Bs(i,1);return n&&vy(s,n)>0||r&&r.every(function(o){return vy(s,o)>0})||!1}function EG(i,e){var t=e===void 0?{}:e,n=t.maxDate,r=t.yearItemNumber,s=r===void 0?sp:r,o=Bs(i,s),c=Ya(o,s).startPeriod,u=n&&ze(n);return u&&u<c||!1}function k2(i){var e=i.minDate,t=i.includeDates;if(t&&e){var n=t.filter(function(r){return ku(r,e)>=0});return MC(n)}else return t?MC(t):e}function P2(i){var e=i.maxDate,t=i.includeDates;if(t&&e){var n=t.filter(function(r){return ku(r,e)<=0});return CC(n)}else return t?CC(t):e}function aM(i,e){var t;i===void 0&&(i=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,r=0,s=i.length;r<s;r++){var o=i[r];if(Us(o)){var c=Ot(o,"MM.dd.yyyy"),u=n.get(c)||[];u.includes(e)||(u.push(e),n.set(c,u))}else if(typeof o=="object"){var d=Object.keys(o),p=(t=d[0])!==null&&t!==void 0?t:"",g=o[p];if(typeof p=="string"&&Array.isArray(g))for(var v=0,b=g.length;v<b;v++){var T=g[v];if(T){var c=Ot(T,"MM.dd.yyyy"),u=n.get(c)||[];u.includes(p)||(u.push(p),n.set(c,u))}}}}return n}function xG(i,e){return i.length!==e.length?!1:i.every(function(t,n){return t===e[n]})}function DG(i,e){i===void 0&&(i=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return i.forEach(function(n){var r=n.date,s=n.holidayName;if(Us(r)){var o=Ot(r,"MM.dd.yyyy"),c=t.get(o)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&xG(c.holidayNames,[s]))){c.className=e;var u=c.holidayNames;c.holidayNames=u?zr(zr([],u,!0),[s],!1):[s],t.set(o,c)}}}),t}function AG(i,e,t,n,r){for(var s=r.length,o=[],c=0;c<s;c++){var u=i,d=r[c];d&&(u=bY(u,js(d)),u=tT(u,zs(d)),u=SY(u,$a(d)));var p=tT(i,(t+1)*n);ao(u,e)&&Ll(u,p)&&d!=null&&o.push(d)}return o}function oM(i){return i<10?"0".concat(i):"".concat(i)}function Ya(i,e){e===void 0&&(e=sp);var t=Math.ceil(ze(i)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function IG(i){var e=new Date(i.getFullYear(),i.getMonth(),i.getDate()),t=new Date(i.getFullYear(),i.getMonth(),i.getDate(),24);return Math.round((+t-+e)/36e5)}function lM(i){var e=i.getSeconds(),t=i.getMilliseconds();return Ae(i.getTime()-e*1e3-t)}function RG(i,e){return lM(i).getTime()===lM(e).getTime()}function cM(i){if(!Us(i))throw new Error("Invalid date");var e=new Date(i);return e.setHours(0,0,0,0),e}function uM(i,e){if(!Us(i)||!Us(e))throw new Error("Invalid date received");var t=cM(i),n=cM(e);return Ll(t,n)}function O2(i){return i.key===we.Space}var CG=function(i){Rn(e,i);function e(t){var n=i.call(this,t)||this;return n.inputRef=le.createRef(),n.onTimeChange=function(r){var s,o;n.setState({time:r});var c=n.props.date,u=c instanceof Date&&!isNaN(+c),d=u?c:new Date;if(r!=null&&r.includes(":")){var p=r.split(":"),g=p[0],v=p[1];d.setHours(Number(g)),d.setMinutes(Number(v))}(o=(s=n.props).onChange)===null||o===void 0||o.call(s,d)},n.renderTimeInput=function(){var r=n.state.time,s=n.props,o=s.date,c=s.timeString,u=s.customTimeInput;return u?Q.cloneElement(u,{date:o,value:r,onChange:n.onTimeChange}):le.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var d;(d=n.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:r,onChange:function(d){n.onTimeChange(d.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return le.createElement("div",{className:"react-datepicker__input-time-container"},le.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),le.createElement("div",{className:"react-datepicker-time__input-container"},le.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(Q.Component),MG=function(i){Rn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.dayEl=Q.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var r,s,o=n.key;o===we.Space&&(n.preventDefault(),n.key=we.Enter),(s=(r=t.props).handleOnKeyDown)===null||s===void 0||s.call(r,n)},t.isSameDay=function(n){return tt(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var r=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!r&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),Ki(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return iE(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return tt(t.props.day,Qa(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&tt(n,Qa(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,r=n.day,s=n.highlightDates;if(!s)return!1;var o=Ot(r,"MM.dd.yyyy");return s.get(o)},t.getHolidaysClass=function(){var n,r=t.props,s=r.day,o=r.holidays;if(!o)return[void 0];var c=Ot(s,"MM.dd.yyyy");return o.has(c)?[(n=o.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,r=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:Kd(r,s,o)},t.isInSelectingRange=function(){var n,r=t.props,s=r.day,o=r.selectsStart,c=r.selectsEnd,u=r.selectsRange,d=r.selectsDisabledDaysInRange,p=r.startDate,g=r.endDate,v=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(o||c||u)||!v||!d&&t.isDisabled()?!1:o&&g&&(Ll(v,g)||wl(v,g))?Kd(s,v,g):c&&p&&(ao(v,p)||wl(v,p))||u&&p&&!g&&(ao(v,p)||wl(v,p))?Kd(s,p,v):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var r=t.props,s=r.day,o=r.startDate,c=r.selectsStart,u=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?tt(s,u):tt(s,o)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var r=t.props,s=r.day,o=r.endDate,c=r.selectsEnd,u=r.selectsRange,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c||u?tt(s,d):tt(s,o)},t.isRangeStart=function(){var n=t.props,r=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:tt(s,r)},t.isRangeEnd=function(){var n=t.props,r=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:tt(o,r)},t.isWeekend=function(){var n=w8(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===qn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(qn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(ut())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(r){return t.isSameDayOrWeek(r)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var r=t.props.dayClassName?t.props.dayClassName(n):void 0;return Ln("react-datepicker__day",r,"react-datepicker__day--"+fG(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,r=n.day,s=n.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,c=n.ariaLabelPrefixWhenDisabled,u=c===void 0?"Not available":c,d=t.isDisabled()||t.isExcluded()?u:o;return"".concat(d," ").concat(Ot(r,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,r=n.day,s=n.holidays,o=s===void 0?new Map:s,c=n.excludeDates,u=Ot(r,"MM.dd.yyyy"),d=[];return o.has(u)&&d.push.apply(d,o.get(u).holidayNames),t.isExcluded()&&d.push(c==null?void 0:c.filter(function(p){return p instanceof Date?tt(p,r):tt(p==null?void 0:p.date,r)}).map(function(p){if(!(p instanceof Date))return p==null?void 0:p.message})),d.join(", ")},t.getTabIndex=function(){var n=t.props.selected,r=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&tt(r,n))?0:-1;return s},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(FC(t.props.day),t.props.day):FC(t.props.day)},t.render=function(){return le.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&le.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,r;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((r=document.activeElement)===null||r===void 0?void 0:r.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(Q.Component),kG=function(i){Rn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.weekNumberEl=Q.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var r,s,o=n.key;o===we.Space&&(n.preventDefault(),n.key=we.Enter),(s=(r=t.props).handleOnKeyDown)===null||s===void 0||s.call(r,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!tt(t.props.date,t.props.selected)&&tt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||tt(t.props.date,t.props.selected)&&tt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var r=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&tt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(r=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(r=!0)),r&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,r=t.isWeekDisabled,s=t.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,c=t.onClick,u={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!r,"react-datepicker__week-number--selected":!!c&&tt(this.props.date,this.props.selected)};return le.createElement("div",{ref:this.weekNumberEl,className:Ln(u),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(Q.Component),PG=function(i){Rn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.isDisabled=function(n){return Ki(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,r){t.props.onDayClick&&t.props.onDayClick(n,r)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,r,s){for(var o,c,u,d=new Date(n),p=0;p<7;p++){var g=new Date(n);g.setDate(g.getDate()+p);var v=!t.isDisabled(g);if(v){d=g;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,r,s),t.props.showWeekPicker&&t.handleDayClick(d,s),((o=t.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((u=(c=t.props).setOpen)===null||u===void 0||u.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):dG(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),r=ur(n,6),s=new Date(n);s<=r;){if(!t.isDisabled(s))return!1;s=ur(s,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),r=[],s=t.formatWeekNumber(n);if(t.props.showWeekNumber){var o=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,s):void 0;r.push(le.createElement(kG,nt({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:o})))}return r.concat([0,1,2,3,4,5,6].map(function(c){var u=ur(n,c);return le.createElement(MG,nt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:u.valueOf(),day:u,onClick:t.handleDayClick.bind(t,u),onMouseEnter:t.handleDayMouseEnter.bind(t,u)}))}))},t.startOfWeek=function(){return Qa(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!tt(t.startOfWeek(),t.props.selected)&&tt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":tt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return le.createElement("div",{className:Ln(t)},this.renderDays())},e}(Q.Component),Vd,OG=6,Tu={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},J0=(Vd={},Vd[Tu.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Vd[Tu.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Vd[Tu.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Vd),ug=1;function hM(i,e){return i?Tu.FOUR_COLUMNS:e?Tu.TWO_COLUMNS:Tu.THREE_COLUMNS}var NG=function(i){Rn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.MONTH_REFS=zr([],Array(12),!0).map(function(){return Q.createRef()}),t.QUARTER_REFS=zr([],Array(4),!0).map(function(){return Q.createRef()}),t.isDisabled=function(n){return Ki(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return iE(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,r){var s,o;(o=(s=t.props).onDayClick)===null||o===void 0||o.call(s,n,r,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var r,s;(s=(r=t.props).onDayMouseEnter)===null||s===void 0||s.call(r,n)},t.handleMouseLeave=function(){var n,r;(r=(n=t.props).onMouseLeave)===null||r===void 0||r.call(n)},t.isRangeStartMonth=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:Jn(Gi(s,n),o)},t.isRangeStartQuarter=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:xy(ru(s,n),o)},t.isRangeEndMonth=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:Jn(Gi(s,n),c)},t.isRangeEndQuarter=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:xy(ru(s,n),c)},t.isInSelectingRangeMonth=function(n){var r,s=t.props,o=s.day,c=s.selectsStart,u=s.selectsEnd,d=s.selectsRange,p=s.startDate,g=s.endDate,v=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(c||u||d)||!v?!1:c&&g?ag(v,g,n,o):u&&p||d&&p&&!g?ag(p,v,n,o):!1},t.isSelectingMonthRangeStart=function(n){var r;if(!t.isInSelectingRangeMonth(n))return!1;var s=t.props,o=s.day,c=s.startDate,u=s.selectsStart,d=Gi(o,n),p=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u?Jn(d,p):Jn(d,c)},t.isSelectingMonthRangeEnd=function(n){var r;if(!t.isInSelectingRangeMonth(n))return!1;var s=t.props,o=s.day,c=s.endDate,u=s.selectsEnd,d=s.selectsRange,p=Gi(o,n),g=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u||d?Jn(p,g):Jn(p,c)},t.isInSelectingRangeQuarter=function(n){var r,s=t.props,o=s.day,c=s.selectsStart,u=s.selectsEnd,d=s.selectsRange,p=s.startDate,g=s.endDate,v=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(c||u||d)||!v?!1:c&&g?cg(v,g,n,o):u&&p||d&&p&&!g?cg(p,v,n,o):!1},t.isWeekInMonth=function(n){var r=t.props.day,s=ur(n,6);return Jn(n,r)||Jn(s,r)},t.isCurrentMonth=function(n,r){return ze(n)===ze(ut())&&r===qn(ut())},t.isCurrentQuarter=function(n,r){return ze(n)===ze(ut())&&r===Al(ut())},t.isSelectedMonth=function(n,r,s){return qn(s)===r&&ze(n)===ze(s)},t.isSelectMonthInList=function(n,r,s){return s.some(function(o){return t.isSelectedMonth(n,r,o)})},t.isSelectedQuarter=function(n,r,s){return Al(n)===r&&ze(n)===ze(s)},t.isMonthSelected=function(){var n=t.props,r=n.day,s=n.selected,o=n.selectedDates,c=n.selectsMultiple,u=qn(r);return c?o==null?void 0:o.some(function(d){return t.isSelectedMonth(r,u,d)}):!!s&&t.isSelectedMonth(r,u,s)},t.renderWeeks=function(){for(var n=[],r=t.props.fixedHeight,s=0,o=!1,c=Qa(Hs(t.props.day),t.props.locale,t.props.calendarStartDay),u=function(T){return t.props.showWeekPicker?Qa(T,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(T){return t.props.showWeekPicker?Qa(T,t.props.locale,t.props.calendarStartDay):t.props.selected},p=t.props.selected?d(t.props.selected):void 0,g=t.props.preSelection?u(t.props.preSelection):void 0;n.push(le.createElement(PG,nt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:c,month:qn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:p,preSelection:g,showWeekNumber:t.props.showWeekNumbers}))),!o;){s++,c=py(c,1);var v=r&&s>=OG,b=!r&&!t.isWeekInMonth(c);if(v||b)if(t.props.peekNextMonth)o=!0;else break}return n},t.onMonthClick=function(n,r){var s=t.isMonthDisabledForLabelDate(r),o=s.isDisabled,c=s.labelDate;o||t.handleDayClick(Hs(c),n)},t.onMonthMouseEnter=function(n){var r=t.isMonthDisabledForLabelDate(n),s=r.isDisabled,o=r.labelDate;s||t.handleDayMouseEnter(Hs(o))},t.handleMonthNavigation=function(n,r){var s,o,c,u;(o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,r),(u=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus()},t.handleKeyboardNavigation=function(n,r,s){var o,c=t.props,u=c.selected,d=c.preSelection,p=c.setPreSelection,g=c.minDate,v=c.maxDate,b=c.showFourColumnMonthYearPicker,T=c.showTwoColumnMonthYearPicker;if(d){var S=hM(b,T),E=t.getVerticalOffset(S),R=(o=J0[S])===null||o===void 0?void 0:o.grid,P=function(M,A,I){var F,L,B=A,V=I;switch(M){case we.ArrowRight:B=dr(A,ug),V=I===11?0:I+ug;break;case we.ArrowLeft:B=Il(A,ug),V=I===0?11:I-ug;break;case we.ArrowUp:B=Il(A,E),V=!((F=R==null?void 0:R[0])===null||F===void 0)&&F.includes(I)?I+12-E:I-E;break;case we.ArrowDown:B=dr(A,E),V=!((L=R==null?void 0:R[R.length-1])===null||L===void 0)&&L.includes(I)?I-12+E:I+E;break}return{newCalculatedDate:B,newCalculatedMonth:V}},O=function(M,A,I){for(var F=40,L=M,B=!1,V=0,me=P(L,A,I),pe=me.newCalculatedDate,q=me.newCalculatedMonth;!B;){if(V>=F){pe=A,q=I;break}if(g&&pe<g){L=we.ArrowRight;var G=P(L,pe,q);pe=G.newCalculatedDate,q=G.newCalculatedMonth}if(v&&pe>v){L=we.ArrowLeft;var G=P(L,pe,q);pe=G.newCalculatedDate,q=G.newCalculatedMonth}if(bG(pe,t.props)){var G=P(L,pe,q);pe=G.newCalculatedDate,q=G.newCalculatedMonth}else B=!0;V++}return{newCalculatedDate:pe,newCalculatedMonth:q}};if(r===we.Enter){t.isMonthDisabled(s)||(t.onMonthClick(n,s),p==null||p(u));return}var z=O(r,d,s),U=z.newCalculatedDate,K=z.newCalculatedMonth;switch(r){case we.ArrowRight:case we.ArrowLeft:case we.ArrowUp:case we.ArrowDown:t.handleMonthNavigation(K,U);break}}},t.getVerticalOffset=function(n){var r,s;return(s=(r=J0[n])===null||r===void 0?void 0:r.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(n,r){var s=t.props,o=s.disabledKeyboardNavigation,c=s.handleOnMonthKeyDown,u=n.key;u!==we.Tab&&n.preventDefault(),o||t.handleKeyboardNavigation(n,u,r),c&&c(n)},t.onQuarterClick=function(n,r){var s=ru(t.props.day,r);og(s,t.props)||t.handleDayClick(QC(s),n)},t.onQuarterMouseEnter=function(n){var r=ru(t.props.day,n);og(r,t.props)||t.handleDayMouseEnter(QC(r))},t.handleQuarterNavigation=function(n,r){var s,o,c,u;t.isDisabled(r)||t.isExcluded(r)||((o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,r),(u=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus())},t.onQuarterKeyDown=function(n,r){var s,o,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case we.Enter:t.onQuarterClick(n,r),(o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,t.props.selected);break;case we.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(r===4?1:r+1,qS(t.props.preSelection,1));break;case we.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(r===1?4:r-1,m2(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var r,s=t.props,o=s.day,c=s.minDate,u=s.maxDate,d=s.excludeDates,p=s.includeDates,g=Gi(o,n);return{isDisabled:(r=(c||u||d||p)&&M2(g,t.props))!==null&&r!==void 0?r:!1,labelDate:g}},t.isMonthDisabled=function(n){var r=t.isMonthDisabledForLabelDate(n).isDisabled;return r},t.getMonthClassNames=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate,u=r.preSelection,d=r.monthClassName,p=d?d(Gi(s,n)):void 0,g=t.getSelection();return Ln("react-datepicker__month-text","react-datepicker__month-".concat(n),p,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":g?t.isSelectMonthInList(s,n,g):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&u&&t.isSelectedMonth(s,n,u)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":o&&c?ag(o,c,n,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(s,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var r=qn(t.props.preSelection),s=t.isMonthDisabledForLabelDate(r).isDisabled,o=n===r&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var r=Al(t.props.preSelection),s=og(t.props.day,t.props),o=n===r&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getAriaLabel=function(n){var r=t.props,s=r.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,c=r.disabledDayAriaLabelPrefix,u=c===void 0?"Not available":c,d=r.day,p=r.locale,g=Gi(d,n),v=t.isDisabled(g)||t.isExcluded(g)?u:o;return"".concat(v," ").concat(Ot(g,"MMMM yyyy",p))},t.getQuarterClassNames=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate,u=r.selected,d=r.minDate,p=r.maxDate,g=r.excludeDates,v=r.includeDates,b=r.filterDate,T=r.preSelection,S=r.disabledKeyboardNavigation,E=(d||p||g||v||b)&&og(ru(s,n),t.props);return Ln("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":E,"react-datepicker__quarter-text--selected":u?t.isSelectedQuarter(s,n,u):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&T&&t.isSelectedQuarter(s,n,T)&&!E,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":o&&c?cg(o,c,n,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,n)})},t.getMonthContent=function(n){var r=t.props,s=r.showFullMonthYearPicker,o=r.renderMonthContent,c=r.locale,u=r.day,d=C2(n,c),p=nE(n,c);return o?o(n,d,p,u):s?p:d},t.getQuarterContent=function(n){var r,s=t.props,o=s.renderQuarterContent,c=s.locale,u=_G(n,c);return(r=o==null?void 0:o(n,u))!==null&&r!==void 0?r:u},t.renderMonths=function(){var n,r=t.props,s=r.showTwoColumnMonthYearPicker,o=r.showFourColumnMonthYearPicker,c=r.day,u=r.selected,d=(n=J0[hM(o,s)])===null||n===void 0?void 0:n.grid;return d==null?void 0:d.map(function(p,g){return le.createElement("div",{className:"react-datepicker__month-wrapper",key:g},p.map(function(v,b){return le.createElement("div",{ref:t.MONTH_REFS[v],key:b,onClick:function(T){t.onMonthClick(T,v)},onKeyDown:function(T){O2(T)&&(T.preventDefault(),T.key=we.Enter),t.onMonthKeyDown(T,v)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(v)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(v)}:void 0,tabIndex:Number(t.getTabIndex(v)),className:t.getMonthClassNames(v),"aria-disabled":t.isMonthDisabled(v),role:"option","aria-label":t.getAriaLabel(v),"aria-current":t.isCurrentMonth(c,v)?"date":void 0,"aria-selected":u?t.isSelectedMonth(c,v,u):void 0},t.getMonthContent(v))}))})},t.renderQuarters=function(){var n=t.props,r=n.day,s=n.selected,o=[1,2,3,4];return le.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(c,u){return le.createElement("div",{key:u,ref:t.QUARTER_REFS[u],role:"option",onClick:function(d){t.onQuarterClick(d,c)},onKeyDown:function(d){t.onQuarterKeyDown(d,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":s?t.isSelectedQuarter(r,c,s):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(r,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,r=n.selectingDate,s=n.selectsStart,o=n.selectsEnd,c=n.showMonthYearPicker,u=n.showQuarterYearPicker,d=n.showWeekPicker;return Ln("react-datepicker__month",{"react-datepicker__month--selecting-range":r&&(s||o)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":u},{"react-datepicker__weekPicker":d})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,r=t.selectedDates,s=t.selectsMultiple;if(s)return r;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,r=t.showQuarterYearPicker,s=t.day,o=t.ariaLabelPrefix,c=o===void 0?"Month ":o,u=c?c.trim()+" ":"";return le.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(Ot(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():r?this.renderQuarters():this.renderWeeks())},e}(Q.Component),VG=function(i){Rn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,r){return le.createElement("div",{className:t.isSelectedMonth(r)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,r),"aria-selected":t.isSelectedMonth(r)?"true":void 0},t.isSelectedMonth(r)?le.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return le.createElement(fv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Q.Component),LG=function(i){Rn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(r,s){return le.createElement("option",{key:r,value:s},r)})},t.renderSelectMode=function(n){return le.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(r){return t.onChange(parseInt(r.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,r){return le.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},le.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),le.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},r[t.props.month]))},t.renderDropdown=function(n){return le.createElement(VG,nt({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var r=t.state.dropdownVisible,s=[t.renderReadView(!r,n)];return r&&s.unshift(t.renderDropdown(n)),s},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return C2(s,t.props.locale)}:function(s){return nE(s,t.props.locale)}),r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(n);break;case"select":r=this.renderSelectMode(n);break}return le.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},r)},e}(Q.Component);function FG(i,e){for(var t=[],n=Hs(i),r=Hs(e);!ao(n,r);)t.push(ut(n)),n=dr(n,1);return t}var BG=function(i){Rn(e,i);function e(t){var n=i.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(r){var s=rT(r),o=Fr(n.props.date,r)&&Jn(n.props.date,r);return le.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:n.onChange.bind(n,s),"aria-selected":o?"true":void 0},o?le.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Ot(r,n.props.dateFormat,n.props.locale))})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:FG(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=Ln({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return le.createElement(fv,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Q.Component),UG=function(i){Rn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=Hs(t.props.minDate),r=Hs(t.props.maxDate),s=[];!ao(n,r);){var o=rT(n);s.push(le.createElement("option",{key:o,value:o},Ot(n,t.props.dateFormat,t.props.locale))),n=dr(n,1)}return s},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return le.createElement("select",{value:rT(Hs(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var r=Ot(t.props.date,t.props.dateFormat,t.props.locale);return le.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},le.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),le.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},r))},t.renderDropdown=function(){return le.createElement(BG,nt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,r=[t.renderReadView(!n)];return n&&r.unshift(t.renderDropdown()),r},t.onChange=function(n){t.toggleDropdown();var r=ut(n);Fr(t.props.date,r)&&Jn(t.props.date,r)||t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return le.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(Q.Component),jG=function(i){Rn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,r,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((r=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&r!==void 0?r:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(n){var r,s;(t.props.minTime||t.props.maxTime)&&tM(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&eM(n,t.props)||(s=(r=t.props).onChange)===null||s===void 0||s.call(r,n)},t.isSelectedTime=function(n){return t.props.selected&&RG(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&tM(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&eM(n,t.props)},t.liClasses=function(n){var r,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(js(n)*3600+zs(n)*60+$a(n))%(((r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(n,r){var s,o;n.key===we.Space&&(n.preventDefault(),n.key=we.Enter),(n.key===we.ArrowUp||n.key===we.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===we.ArrowDown||n.key===we.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===we.Enter&&t.handleClick(r),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},t.renderTimes=function(){for(var n,r=[],s=typeof t.props.format=="string"?t.props.format:"p",o=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=t.props.selected||t.props.openToDate||ut(),u=Pg(c),d=t.props.injectTimes&&t.props.injectTimes.sort(function(E,R){return E.getTime()-R.getTime()}),p=60*IG(c),g=p/o,v=0;v<g;v++){var b=tT(u,v*o);if(r.push(b),d){var T=AG(u,b,v,o,d);r=r.concat(T)}}var S=r.reduce(function(E,R){return R.getTime()<=c.getTime()?R:E},r[0]);return r.map(function(E){return le.createElement("li",{key:E.valueOf(),onClick:t.handleClick.bind(t,E),className:t.liClasses(E),ref:function(R){E===S&&(t.centerLi=R)},onKeyDown:function(R){t.handleOnKeyDown(R,E)},tabIndex:E===S?0:-1,role:"option","aria-selected":t.isSelectedTime(E)?"true":void 0,"aria-disabled":t.isDisabledTime(E)?"true":void 0},Ot(E,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?le.createElement(le.Fragment,null):le.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},le.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,r=this.state.height;return le.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),le.createElement("div",{className:"react-datepicker__time"},le.createElement("div",{className:"react-datepicker__time-box"},le.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(Q.Component),dM=3,zG=function(i){Rn(e,i);function e(t){var n=i.call(this,t)||this;return n.YEAR_REFS=zr([],Array(n.props.yearItemNumber),!0).map(function(){return Q.createRef()}),n.isDisabled=function(r){return Ki(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return iE(r,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var r;return(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection},n.updateFocusOnPaginate=function(r){var s=function(){var o,c;(c=(o=n.YEAR_REFS[r])===null||o===void 0?void 0:o.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(s)},n.handleYearClick=function(r,s){n.props.onDayClick&&n.props.onDayClick(r,s)},n.handleYearNavigation=function(r,s){var o,c,u,d,p=n.props,g=p.date,v=p.yearItemNumber;if(!(g===void 0||v===void 0)){var b=Ya(g,v).startPeriod;n.isDisabled(s)||n.isExcluded(s)||((c=(o=n.props).setPreSelection)===null||c===void 0||c.call(o,s),r-b<0?n.updateFocusOnPaginate(v-(b-r)):r-b>=v?n.updateFocusOnPaginate(Math.abs(v-(r-b))):(d=(u=n.YEAR_REFS[r-b])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())}},n.isSameDay=function(r,s){return tt(r,s)},n.isCurrentYear=function(r){return r===ze(ut())},n.isRangeStart=function(r){return n.props.startDate&&n.props.endDate&&Fr(Vr(ut(),r),n.props.startDate)},n.isRangeEnd=function(r){return n.props.startDate&&n.props.endDate&&Fr(Vr(ut(),r),n.props.endDate)},n.isInRange=function(r){return lg(r,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(r){var s=n.props,o=s.selectsStart,c=s.selectsEnd,u=s.selectsRange,d=s.startDate,p=s.endDate;return!(o||c||u)||!n.selectingDate()?!1:o&&p?lg(r,n.selectingDate(),p):c&&d||u&&d&&!p?lg(r,d,n.selectingDate()):!1},n.isSelectingRangeStart=function(r){var s;if(!n.isInSelectingRange(r))return!1;var o=n.props,c=o.startDate,u=o.selectsStart,d=Vr(ut(),r);return u?Fr(d,(s=n.selectingDate())!==null&&s!==void 0?s:null):Fr(d,c??null)},n.isSelectingRangeEnd=function(r){var s;if(!n.isInSelectingRange(r))return!1;var o=n.props,c=o.endDate,u=o.selectsEnd,d=o.selectsRange,p=Vr(ut(),r);return u||d?Fr(p,(s=n.selectingDate())!==null&&s!==void 0?s:null):Fr(p,c??null)},n.isKeyboardSelected=function(r){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var s=n.props,o=s.minDate,c=s.maxDate,u=s.excludeDates,d=s.includeDates,p=s.filterDate,g=Gd(Vr(n.props.date,r)),v=(o||c||u||d||p)&&Og(r,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!tt(g,Gd(n.props.selected))&&tt(g,Gd(n.props.preSelection))&&!v}},n.isSelectedYear=function(r){var s=n.props,o=s.selectsMultiple,c=s.selected,u=s.selectedDates;return o?u==null?void 0:u.some(function(d){return r===ze(d)}):!!c&&r===ze(c)},n.onYearClick=function(r,s){var o=n.props.date;o!==void 0&&n.handleYearClick(Gd(Vr(o,s)),r)},n.onYearKeyDown=function(r,s){var o,c,u=r.key,d=n.props,p=d.date,g=d.yearItemNumber,v=d.handleOnKeyDown;if(u!==we.Tab&&r.preventDefault(),!n.props.disabledKeyboardNavigation)switch(u){case we.Enter:if(n.props.selected==null)break;n.onYearClick(r,s),(c=(o=n.props).setPreSelection)===null||c===void 0||c.call(o,n.props.selected);break;case we.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(s+1,Bs(n.props.preSelection,1));break;case we.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(s-1,Pu(n.props.preSelection,1));break;case we.ArrowUp:{if(p===void 0||g===void 0||n.props.preSelection==null)break;var b=Ya(p,g).startPeriod,T=dM,S=s-T;if(S<b){var E=g%T;s>=b&&s<b+E?T=E:T+=E,S=s-T}n.handleYearNavigation(S,Pu(n.props.preSelection,T));break}case we.ArrowDown:{if(p===void 0||g===void 0||n.props.preSelection==null)break;var R=Ya(p,g).endPeriod,T=dM,S=s+T;if(S>R){var E=g%T;s<=R&&s>R-E?T=E:T+=E,S=s+T}n.handleYearNavigation(S,Bs(n.props.preSelection,T));break}}v&&v(r)},n.getYearClassNames=function(r){var s=n.props,o=s.date,c=s.minDate,u=s.maxDate,d=s.excludeDates,p=s.includeDates,g=s.filterDate,v=s.yearClassName;return Ln("react-datepicker__year-text","react-datepicker__year-".concat(r),o?v==null?void 0:v(Vr(o,r)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(r),"react-datepicker__year-text--disabled":(c||u||d||p||g)&&Og(r,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(r),"react-datepicker__year-text--range-start":n.isRangeStart(r),"react-datepicker__year-text--range-end":n.isRangeEnd(r),"react-datepicker__year-text--in-range":n.isInRange(r),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(r),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(r),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(r),"react-datepicker__year-text--today":n.isCurrentYear(r)})},n.getYearTabIndex=function(r){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var s=ze(n.props.preSelection),o=Og(r,n.props);return r===s&&!o?"0":"-1"},n.getYearContent=function(r){return n.props.renderYearContent?n.props.renderYearContent(r):r},n}return e.prototype.render=function(){var t=this,n=[],r=this.props,s=r.date,o=r.yearItemNumber,c=r.onYearMouseEnter,u=r.onYearMouseLeave;if(s===void 0)return null;for(var d=Ya(s,o),p=d.startPeriod,g=d.endPeriod,v=function(S){n.push(le.createElement("div",{ref:b.YEAR_REFS[S-p],onClick:function(E){t.onYearClick(E,S)},onKeyDown:function(E){O2(E)&&(E.preventDefault(),E.key=we.Enter),t.onYearKeyDown(E,S)},tabIndex:Number(b.getYearTabIndex(S)),className:b.getYearClassNames(S),onMouseEnter:b.props.usePointerEvent?void 0:function(E){return c(E,S)},onPointerEnter:b.props.usePointerEvent?function(E){return c(E,S)}:void 0,onMouseLeave:b.props.usePointerEvent?void 0:function(E){return u(E,S)},onPointerLeave:b.props.usePointerEvent?function(E){return u(E,S)}:void 0,key:S,"aria-current":b.isCurrentYear(S)?"date":void 0},b.getYearContent(S)))},b=this,T=p;T<=g;T++)v(T);return le.createElement("div",{className:"react-datepicker__year"},le.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(Q.Component);function HG(i,e,t,n){for(var r=[],s=0;s<2*e+1;s++){var o=i+e-s,c=!0;t&&(c=ze(t)<=o),n&&c&&(c=ze(n)>=o),c&&r.push(o)}return r}var qG=function(i){Rn(e,i);function e(t){var n=i.call(this,t)||this;n.renderOptions=function(){var c=n.props.year,u=n.state.yearsList.map(function(g){return le.createElement("div",{className:c===g?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:g,onClick:n.onChange.bind(n,g),"aria-selected":c===g?"true":void 0},c===g?le.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",g)}),d=n.props.minDate?ze(n.props.minDate):null,p=n.props.maxDate?ze(n.props.maxDate):null;return(!p||!n.state.yearsList.find(function(g){return g===p}))&&u.unshift(le.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},le.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!n.state.yearsList.find(function(g){return g===d}))&&u.push(le.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},le.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var u=n.state.yearsList.map(function(d){return d+c});n.setState({yearsList:u})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,o=r||(s?10:5);return n.state={yearsList:HG(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=Q.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,r=n?n.find(function(s){return s.ariaSelected}):null;t.scrollTop=r&&r instanceof HTMLElement?r.offsetTop+(r.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Ln({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return le.createElement(fv,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Q.Component),YG=function(i){Rn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?ze(t.props.minDate):1900,r=t.props.maxDate?ze(t.props.maxDate):2100,s=[],o=n;o<=r;o++)s.push(le.createElement("option",{key:o,value:o},o));return s},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return le.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return le.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(r){return t.toggleDropdown(r)}},le.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),le.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return le.createElement(qG,nt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,r=[t.renderReadView(!n)];return n&&r.unshift(t.renderDropdown()),r},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,r){var s;(s=t.onSelect)===null||s===void 0||s.call(t,n,r),t.setOpen()},t.onSelect=function(n,r){var s,o;(o=(s=t.props).onSelect)===null||o===void 0||o.call(s,n,r)},t.setOpen=function(){var n,r;(r=(n=t.props).setOpen)===null||r===void 0||r.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return le.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(Q.Component),WG=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],GG=function(i){var e=(i.className||"").split(/\s+/);return WG.some(function(t){return e.indexOf(t)>=0})},KG=function(i){Rn(e,i);function e(t){var n=i.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(r){n.props.onClickOutside(r)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(r){var s,o;GG(r.target)&&((o=(s=n.props).onDropdownFocus)===null||o===void 0||o.call(s,r))},n.getDateInView=function(){var r=n.props,s=r.preSelection,o=r.selected,c=r.openToDate,u=k2(n.props),d=P2(n.props),p=ut(),g=c||o||s;return g||(u&&Ll(p,u)?u:d&&ao(p,d)?d:p)},n.increaseMonth=function(){n.setState(function(r){var s=r.date;return{date:dr(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(r){var s=r.date;return{date:Il(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(r,s,o){n.props.onSelect(r,s,o),n.props.setPreSelection&&n.props.setPreSelection(r)},n.handleDayMouseEnter=function(r){n.setState({selectingDate:r}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(r,s){n.setState({selectingDate:Vr(ut(),s)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(r,s)},n.handleYearMouseLeave=function(r,s){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(r,s)},n.handleYearChange=function(r){var s,o,c,u;(o=(s=n.props).onYearChange)===null||o===void 0||o.call(s,r),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(r),(u=(c=n.props).setOpen)===null||u===void 0||u.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(r)},n.getEnabledPreSelectionDateForMonth=function(r){if(!Ki(r,n.props))return r;for(var s=Hs(r),o=mG(r),c=xY(o,s),u=null,d=0;d<=c;d++){var p=ur(s,d);if(!Ki(p,n.props)){u=p;break}}return u},n.handleMonthChange=function(r){var s,o,c,u=(s=n.getEnabledPreSelectionDateForMonth(r))!==null&&s!==void 0?s:r;n.handleCustomMonthChange(u),n.props.adjustDateOnChange&&(n.props.onSelect(u),(c=(o=n.props).setOpen)===null||c===void 0||c.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(u)},n.handleCustomMonthChange=function(r){var s,o;(o=(s=n.props).onMonthChange)===null||o===void 0||o.call(s,r),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(r){n.handleYearChange(r),n.handleMonthChange(r)},n.changeYear=function(r){n.setState(function(s){var o=s.date;return{date:Vr(o,Number(r))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(r){n.setState(function(s){var o=s.date;return{date:Gi(o,Number(r))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(r){n.setState(function(s){var o=s.date;return{date:Vr(Gi(o,qn(r)),ze(r))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(r){r===void 0&&(r=n.state.date);var s=Qa(r,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(le.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(c){var u=ur(s,c),d=n.formatWeekday(u,n.props.locale),p=n.props.weekDayClassName?n.props.weekDayClassName(u):void 0;return le.createElement("div",{key:c,"aria-label":Ot(u,"EEEE",n.props.locale),className:Ln("react-datepicker__day-name",p)},d)}))},n.formatWeekday=function(r,s){return n.props.formatWeekDay?gG(r,n.props.formatWeekDay,s):n.props.useWeekdaysShort?vG(r,s):yG(r,s)},n.decreaseYear=function(){n.setState(function(r){var s,o=r.date;return{date:Pu(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var r,s,o;if(!n.props.renderCustomHeader){var c=(r=n.props.monthsShown)!==null&&r!==void 0?r:e.defaultProps.monthsShown,u=n.props.showPreviousMonths?c-1:0,d=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:u,p=Il(n.state.date,d),g;switch(!0){case n.props.showMonthYearPicker:g=rM(n.state.date,n.props);break;case n.props.showYearPicker:g=SG(n.state.date,n.props);break;case n.props.showQuarterYearPicker:g=wG(n.state.date,n.props);break;default:g=nM(p,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&g||n.props.showTimeSelectOnly)){var v=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],b=["react-datepicker__navigation","react-datepicker__navigation--previous"],T=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(T=n.decreaseYear),g&&n.props.showDisabledMonthNavigation&&(b.push("react-datepicker__navigation--previous--disabled"),T=void 0);var S=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,E=n.props,R=E.previousMonthButtonLabel,P=R===void 0?e.defaultProps.previousMonthButtonLabel:R,O=E.previousYearButtonLabel,z=O===void 0?e.defaultProps.previousYearButtonLabel:O,U=n.props,K=U.previousMonthAriaLabel,M=K===void 0?typeof P=="string"?P:"Previous Month":K,A=U.previousYearAriaLabel,I=A===void 0?typeof z=="string"?z:"Previous Year":A;return le.createElement("button",{type:"button",className:b.join(" "),onClick:T,onKeyDown:n.props.handleOnKeyDown,"aria-label":S?I:M},le.createElement("span",{className:v.join(" ")},S?z:P))}}},n.increaseYear=function(){n.setState(function(r){var s,o=r.date;return{date:Bs(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var r;if(!n.props.renderCustomHeader){var s;switch(!0){case n.props.showMonthYearPicker:s=sM(n.state.date,n.props);break;case n.props.showYearPicker:s=EG(n.state.date,n.props);break;case n.props.showQuarterYearPicker:s=TG(n.state.date,n.props);break;default:s=iM(n.state.date,n.props);break}if(!(!((r=n.props.forceShowMonthNavigation)!==null&&r!==void 0?r:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&s||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var u=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(u=n.increaseYear),s&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),u=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,p=n.props,g=p.nextMonthButtonLabel,v=g===void 0?e.defaultProps.nextMonthButtonLabel:g,b=p.nextYearButtonLabel,T=b===void 0?e.defaultProps.nextYearButtonLabel:b,S=n.props,E=S.nextMonthAriaLabel,R=E===void 0?typeof v=="string"?v:"Next Month":E,P=S.nextYearAriaLabel,O=P===void 0?typeof T=="string"?T:"Next Year":P;return le.createElement("button",{type:"button",className:o.join(" "),onClick:u,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?O:R},le.createElement("span",{className:c.join(" ")},d?T:v))}}},n.renderCurrentMonth=function(r){r===void 0&&(r=n.state.date);var s=["react-datepicker__current-month"];return n.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),le.createElement("h2",{className:s.join(" ")},Ot(r,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(r){if(r===void 0&&(r=!1),!(!n.props.showYearDropdown||r))return le.createElement(YG,nt({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:ze(n.state.date)}))},n.renderMonthDropdown=function(r){if(r===void 0&&(r=!1),!(!n.props.showMonthDropdown||r))return le.createElement(LG,nt({},e.defaultProps,n.props,{month:qn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(r){if(r===void 0&&(r=!1),!(!n.props.showMonthYearDropdown||r))return le.createElement(UG,nt({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(r){n.props.onSelect(XC(),r),n.props.setPreSelection&&n.props.setPreSelection(XC())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return le.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(r){var s=r.monthDate,o=r.i;return le.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(s),le.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)),le.createElement("div",{className:"react-datepicker__day-names"},n.header(s)))},n.renderCustomHeader=function(r){var s,o,c=r.monthDate,u=r.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var d=nM(n.state.date,n.props),p=iM(n.state.date,n.props),g=rM(n.state.date,n.props),v=sM(n.state.date,n.props),b=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return le.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(o=(s=n.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,nt(nt({},n.state),{customHeaderCount:u,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:p,prevYearButtonDisabled:g,nextYearButtonDisabled:v})),b&&le.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(r){var s=r.monthDate,o=n.props,c=o.showYearPicker,u=o.yearItemNumber,d=u===void 0?e.defaultProps.yearItemNumber:u,p=Ya(s,d),g=p.startPeriod,v=p.endPeriod;return le.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(g," - ").concat(v):ze(s))},n.renderHeader=function(r){var s=r.monthDate,o=r.i,c=o===void 0?0:o,u={monthDate:s,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(u);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(u);default:return n.renderDefaultHeader(u)}},n.renderMonths=function(){var r,s;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var o=[],c=(r=n.props.monthsShown)!==null&&r!==void 0?r:e.defaultProps.monthsShown,u=n.props.showPreviousMonths?c-1:0,d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Bs(n.state.date,u):Il(n.state.date,u),p=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:u,g=0;g<c;++g){var v=g-p+u,b=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Bs(d,v):dr(d,v),T="month-".concat(g),S=g<c-1,E=g>0;o.push(le.createElement("div",{key:T,ref:function(R){n.monthContainer=R??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:b,i:g}),le.createElement(NG,nt({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:b,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:g,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:E}))))}return o}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return le.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),le.createElement(zG,nt({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return le.createElement(jG,nt({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var r=n.props.selected?new Date(n.props.selected):void 0,s=r&&pv(r)&&!!n.props.selected,o=s?"".concat(oM(r.getHours()),":").concat(oM(r.getMinutes())):"";if(n.props.showTimeInput)return le.createElement(CG,nt({},e.defaultProps,n.props,{date:r,timeString:o,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var r,s=Ya(n.state.date,(r=n.props.yearItemNumber)!==null&&r!==void 0?r:e.defaultProps.yearItemNumber),o=s.startPeriod,c=s.endPeriod,u;return n.props.showYearPicker?u="".concat(o," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?u=ze(n.state.date):u="".concat(nE(qn(n.state.date),n.props.locale)," ").concat(ze(n.state.date)),le.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&u)},n.renderChildren=function(){if(n.props.children)return le.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=Q.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:sp}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!tt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var r=!Jn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return r&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!tt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||lG;return le.createElement(fv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},le.createElement("div",{style:{display:"contents"},ref:this.containerRef},le.createElement(t,{className:Ln("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(Q.Component),$G=function(i){var e=i.icon,t=i.className,n=t===void 0?"":t,r=i.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return le.createElement("i",{className:"".concat(s," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:r});if(le.isValidElement(e)){var o=e;return le.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(n),onClick:function(c){typeof o.props.onClick=="function"&&o.props.onClick(c),typeof r=="function"&&r(c)}})}return le.createElement("svg",{className:"".concat(s," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:r},le.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},N2=function(i){Rn(e,i);function e(t){var n=i.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return mW.createPortal(this.props.children,this.el)},e}(Q.Component),QG="[tabindex], a, button, input, select, textarea",XG=function(i){return(i instanceof HTMLAnchorElement||!i.disabled)&&i.tabIndex!==-1},V2=function(i){Rn(e,i);function e(t){var n=i.call(this,t)||this;return n.getTabChildren=function(){var r;return Array.prototype.slice.call((r=n.tabLoopRef.current)===null||r===void 0?void 0:r.querySelectorAll(QG),1,-1).filter(XG)},n.handleFocusStart=function(){var r=n.getTabChildren();r&&r.length>1&&r[r.length-1].focus()},n.handleFocusEnd=function(){var r=n.getTabChildren();r&&r.length>1&&r[0].focus()},n.tabLoopRef=Q.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?le.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},le.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,le.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(Q.Component);function ZG(i){var e=function(t){var n,r=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=Q.useRef(null),o=oG(nt({open:!r,whileElementsMounted:BW,placement:t.popperPlacement,middleware:zr([KW({padding:15}),GW(10),$W({element:s})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=nt(nt({},t),{hidePopper:r,popperProps:nt(nt({},o),{arrowRef:s})});return le.createElement(i,nt({},c))};return e}var JG=function(i){Rn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,r=t.wrapperClassName,s=t.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,c=t.popperComponent,u=t.targetComponent,d=t.enableTabLoop,p=t.popperOnKeyDown,g=t.portalId,v=t.portalHost,b=t.popperProps,T=t.showArrow,S=void 0;if(!o){var E=Ln("react-datepicker-popper",n);S=le.createElement(V2,{enableTabLoop:d},le.createElement("div",{ref:b.refs.setFloating,style:b.floatingStyles,className:E,"data-placement":b.placement,onKeyDown:p},c,T&&le.createElement(eG,{ref:b.arrowRef,context:b.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(S=Q.createElement(this.props.popperContainer,{},S)),g&&!o&&(S=le.createElement(N2,{portalId:g,portalHost:v},S));var R=Ln("react-datepicker-wrapper",r);return le.createElement(le.Fragment,null,le.createElement("div",{ref:b.refs.setReference,className:R},u),S)},e}(Q.Component),eK=ZG(JG),fM="react-datepicker-ignore-onclickoutside";function tK(i,e){return i&&e?qn(i)!==qn(e)||ze(i)!==ze(e):i!==e}var ew="Date input not valid.",nK=function(i){Rn(e,i);function e(t){var n=i.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:ut()},n.modifyHolidays=function(){var r;return(r=n.props.holidays)===null||r===void 0?void 0:r.reduce(function(s,o){var c=new Date(o.date);return pv(c)?zr(zr([],s,!0),[nt(nt({},o),{date:c})],!1):s},[])},n.calcInitialState=function(){var r,s=n.getPreSelection(),o=k2(n.props),c=P2(n.props),u=o&&Ll(s,Pg(o))?o:c&&ao(s,ZC(c))?c:s;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(r=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&r!==void 0?r:u,highlightDates:aM(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(nt(nt({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(nt(nt({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var r,s;(s=(r=n.input)===null||r===void 0?void 0:r.focus)===null||s===void 0||s.call(r,{preventScroll:!0})},n.setBlur=function(){var r,s;(s=(r=n.input)===null||r===void 0?void 0:r.blur)===null||s===void 0||s.call(r),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(r,s){s===void 0&&(s=!1),n.setState({open:r,preSelection:r&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:tw},function(){r||n.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Us(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(r){var s,o,c=n.state.wasHidden,u=c?n.state.open:!0;c&&n.resetHiddenStatus(),n.state.preventFocus||((o=(s=n.props).onFocus)===null||o===void 0||o.call(s,r),u&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(r){var s,o;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((o=(s=n.props).onBlur)===null||o===void 0||o.call(s,r)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(r){var s,o;n.props.inline||n.setOpen(!1),(o=(s=n.props).onClickOutside)===null||o===void 0||o.call(s,r),n.props.withPortal&&r.preventDefault()},n.handleChange=function(){for(var r,s,o,c,u,d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var g=d[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,d),!g||typeof g.isDefaultPrevented!="function"||g.isDefaultPrevented()))){n.setState({inputValue:(g==null?void 0:g.target)instanceof HTMLInputElement?g.target.value:null,lastPreSelectChange:iK});var v=n.props,b=v.selectsRange,T=v.startDate,S=v.endDate,E=(r=n.props.dateFormat)!==null&&r!==void 0?r:e.defaultProps.dateFormat,R=(s=n.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,P=(g==null?void 0:g.target)instanceof HTMLInputElement?g.target.value:"";if(b){var O=P.split(E.includes("-")?R2:"-",2).map(function(L){return L.trim()}),z=O[0],U=O[1],K=X0(z??"",E,n.props.locale,R),M=X0(U??"",E,n.props.locale,R),A=(T==null?void 0:T.getTime())!==(K==null?void 0:K.getTime()),I=(S==null?void 0:S.getTime())!==(M==null?void 0:M.getTime());if(!A&&!I||K&&Ki(K,n.props)||M&&Ki(M,n.props))return;(c=(o=n.props).onChange)===null||c===void 0||c.call(o,[K,M],g)}else{var F=X0(P,E,n.props.locale,R,(u=n.props.selected)!==null&&u!==void 0?u:void 0);(F||!P)&&n.setSelected(F,g,!0)}}},n.handleSelect=function(r,s,o){if(!n.props.readOnly){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(s),n.setSelected(r,s,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(r);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,u=c.startDate,d=c.endDate;u&&!d&&(n.props.swapRange||!uM(r,u))&&n.setOpen(!1)}}},n.setSelected=function(r,s,o,c){var u,d,p=r;if(n.props.showYearPicker){if(p!==null&&Og(ze(p),n.props))return}else if(n.props.showMonthYearPicker){if(p!==null&&M2(p,n.props))return}else if(p!==null&&Ki(p,n.props))return;var g=n.props,v=g.onChange,b=g.selectsRange,T=g.startDate,S=g.endDate,E=g.selectsMultiple,R=g.selectedDates,P=g.minTime,O=g.swapRange;if(!wl(n.props.selected,p)||n.props.allowSameDay||b||E)if(p!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(p=Z0(p,{hour:js(n.props.selected),minute:zs(n.props.selected),second:$a(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&P&&(p=Z0(p,{hour:P.getHours(),minute:P.getMinutes(),second:P.getSeconds()})),n.props.inline||n.setState({preSelection:p}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),b){var z=!T&&!S,U=T&&!S,K=T&&S;z?v==null||v([p,null],s):U&&(p===null?v==null||v([null,null],s):uM(p,T)?O?v==null||v([p,T],s):v==null||v([p,null],s):v==null||v([T,p],s)),K&&(v==null||v([p,null],s))}else if(E){if(p!==null)if(!(R!=null&&R.length))v==null||v([p],s);else{var M=R.some(function(I){return tt(I,p)});if(M){var A=R.filter(function(I){return!tt(I,p)});v==null||v(A,s)}else v==null||v(zr(zr([],R,!0),[p],!1),s)}}else v==null||v(p,s);o||((d=(u=n.props).onSelect)===null||d===void 0||d.call(u,p,s),n.setState({inputValue:null}))},n.setPreSelection=function(r){if(!n.props.readOnly){var s=Us(n.props.minDate),o=Us(n.props.maxDate),c=!0;if(r){var u=Pg(r);if(s&&o)c=Kd(r,n.props.minDate,n.props.maxDate);else if(s){var d=Pg(n.props.minDate);c=ao(r,d)||wl(u,d)}else if(o){var p=ZC(n.props.maxDate);c=Ll(r,p)||wl(u,p)}}c&&n.setState({preSelection:r})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(r){var s,o;if(!(n.props.selectsRange||n.props.selectsMultiple)){var c=n.props.selected?n.props.selected:n.getPreSelection(),u=n.props.selected?r:Z0(c,{hour:js(r),minute:zs(r)});n.setState({preSelection:u}),(o=(s=n.props).onChange)===null||o===void 0||o.call(s,u),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var r,s;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(s=(r=n.props).onInputClick)===null||s===void 0||s.call(r)},n.onInputKeyDown=function(r){var s,o,c,u,d,p;(o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,r);var g=r.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(g===we.ArrowDown||g===we.ArrowUp||g===we.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open){if(g===we.ArrowDown||g===we.ArrowUp){r.preventDefault();var v=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',b=((u=n.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(v);b instanceof HTMLElement&&b.focus({preventScroll:!0});return}var T=ut(n.state.preSelection);g===we.Enter?(r.preventDefault(),r.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===tw?(n.handleSelect(T,r),!n.props.shouldCloseOnSelect&&n.setPreSelection(T)):n.setOpen(!1)):g===we.Escape?(r.preventDefault(),r.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):g===we.Tab&&n.setOpen(!1),n.inputOk()||(p=(d=n.props).onInputError)===null||p===void 0||p.call(d,{code:1,msg:ew})}},n.onPortalKeyDown=function(r){var s=r.key;s===we.Escape&&(r.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(r){var s,o,c,u,d,p,g=n.props,v=g.minDate,b=g.maxDate,T=g.disabledKeyboardNavigation,S=g.showWeekPicker,E=g.shouldCloseOnSelect,R=g.locale,P=g.calendarStartDay,O=g.adjustDateOnChange,z=g.inline;if((o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,r),!T){var U=r.key,K=r.shiftKey,M=ut(n.state.preSelection),A=function(pe,q){var G=q;switch(pe){case we.ArrowRight:G=S?py(q,1):ur(q,1);break;case we.ArrowLeft:G=S?BC(q):x7(q);break;case we.ArrowUp:G=BC(q);break;case we.ArrowDown:G=py(q,1);break;case we.PageUp:G=K?Pu(q,1):Il(q,1);break;case we.PageDown:G=K?Bs(q,1):dr(q,1);break;case we.Home:G=Qa(q,R,P);break;case we.End:G=pG(q);break}return G},I=function(pe,q){for(var G=40,ae=pe,X=!1,k=0,W=A(pe,q);!X;){if(k>=G){W=q;break}v&&W<v&&(ae=we.ArrowRight,W=Ki(v,n.props)?A(ae,W):v),b&&W>b&&(ae=we.ArrowLeft,W=Ki(b,n.props)?A(ae,W):b),Ki(W,n.props)?((ae===we.PageUp||ae===we.Home)&&(ae=we.ArrowRight),(ae===we.PageDown||ae===we.End)&&(ae=we.ArrowLeft),W=A(ae,W)):X=!0,k++}return W};if(U===we.Enter){r.preventDefault(),n.handleSelect(M,r),!E&&n.setPreSelection(M);return}else if(U===we.Escape){r.preventDefault(),n.setOpen(!1),n.inputOk()||(u=(c=n.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:ew});return}var F=null;switch(U){case we.ArrowLeft:case we.ArrowRight:case we.ArrowUp:case we.ArrowDown:case we.PageUp:case we.PageDown:case we.Home:case we.End:F=I(U,M);break}if(!F){(p=(d=n.props).onInputError)===null||p===void 0||p.call(d,{code:1,msg:ew});return}if(r.preventDefault(),n.setState({lastPreSelectChange:tw}),O&&n.setSelected(F),n.setPreSelection(F),z){var L=qn(M),B=qn(F),V=ze(M),me=ze(F);L!==B||V!==me?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(r){var s=r.key;s===we.Escape&&(r.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(r){r&&r.preventDefault&&r.preventDefault(),n.sendFocusBackToInput();var s=n.props,o=s.selectsRange,c=s.onChange;o?c==null||c([null,null],r):c==null||c(null,r),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(r){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(r.target===document||r.target===document.documentElement||r.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(r)&&n.setOpen(!1)},n.renderCalendar=function(){var r,s;return!n.props.inline&&!n.isCalendarOpen()?null:le.createElement(KG,nt({showMonthYearDropdown:void 0,ref:function(o){n.calendar=o}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(r=n.props.dateFormatCalendar)!==null&&r!==void 0?r:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:DG(n.modifyHolidays()),outsideClickIgnoreClass:fM,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(s=n.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var r=n.props,s=r.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,c=r.locale,u=n.props.showTimeInput||n.props.showTimeSelect,d=u?"PPPPp":"PPPP",p;return n.props.selectsRange?p="Selected start date: ".concat(Wi(n.props.startDate,{dateFormat:d,locale:c}),". ").concat(n.props.endDate?"End date: "+Wi(n.props.endDate,{dateFormat:d,locale:c}):""):n.props.showTimeSelectOnly?p="Selected time: ".concat(Wi(n.props.selected,{dateFormat:o,locale:c})):n.props.showYearPicker?p="Selected year: ".concat(Wi(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?p="Selected month: ".concat(Wi(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?p="Selected quarter: ".concat(Wi(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):p="Selected date: ".concat(Wi(n.props.selected,{dateFormat:d,locale:c})),le.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},n.renderDateInput=function(){var r,s,o,c=Ln(n.props.className,(r={},r[fM]=n.state.open,r)),u=n.props.customInput||le.createElement("input",{type:"text"}),d=n.props.customInputRef||"ref",p=n.props,g=p.dateFormat,v=g===void 0?e.defaultProps.dateFormat:g,b=p.locale,T=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?uG(n.props.startDate,n.props.endDate,{dateFormat:v,locale:b}):n.props.selectsMultiple?hG((o=n.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:v,locale:b}):Wi(n.props.selected,{dateFormat:v,locale:b});return Q.cloneElement(u,(s={},s[d]=function(S){n.input=S},s.value=T,s.onBlur=n.handleBlur,s.onChange=n.handleChange,s.onClick=n.onInputClick,s.onFocus=n.handleFocus,s.onKeyDown=n.onInputKeyDown,s.id=n.props.id,s.name=n.props.name,s.form=n.props.form,s.autoFocus=n.props.autoFocus,s.placeholder=n.props.placeholderText,s.disabled=n.props.disabled,s.autoComplete=n.props.autoComplete,s.className=Ln(u.props.className,c),s.title=n.props.title,s.readOnly=n.props.readOnly,s.required=n.props.required,s.tabIndex=n.props.tabIndex,s["aria-describedby"]=n.props.ariaDescribedBy,s["aria-invalid"]=n.props.ariaInvalid,s["aria-labelledby"]=n.props.ariaLabelledBy,s["aria-required"]=n.props.ariaRequired,s))},n.renderClearButton=function(){var r=n.props,s=r.isClearable,o=r.disabled,c=r.selected,u=r.startDate,d=r.endDate,p=r.clearButtonTitle,g=r.clearButtonClassName,v=g===void 0?"":g,b=r.ariaLabelClose,T=b===void 0?"Close":b,S=r.selectedDates,E=r.readOnly;return s&&!E&&(c!=null||u!=null||d!=null||S!=null&&S.length)?le.createElement("button",{type:"button",className:Ln("react-datepicker__close-icon",v,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":T,onClick:n.onClearClick,title:p,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:sp,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var r,s,o,c;t.inline&&tK(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:aM(this.props.highlightDates)}),!n.focused&&!wl(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((s=(r=this.props).onCalendarOpen)===null||s===void 0||s.call(r)),n.open===!0&&this.state.open===!1&&((c=(o=this.props).onCalendarClose)===null||c===void 0||c.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,r=t.icon,s=t.calendarIconClassname,o=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,u=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),le.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&le.createElement($G,nt({icon:r,className:Ln(o,!o&&s,u&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?le.createElement(V2,{enableTabLoop:this.props.enableTabLoop},le.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=le.createElement(N2,nt({portalId:this.props.portalId},this.props),n)),le.createElement("div",null,this.renderInputContainer(),n)}return le.createElement(eK,nt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(Q.Component),iK="input",tw="navigate";const rK={Fat:["fat","saturates","of which saturates"],Carbohydrate:["carbohydrate","carb"],Sugar:["sugar","sugars","of which sugars"],Fibre:["fibre","fiber"],Protein:["protein","protien"],Salt:["salt","sodium"]};function sK(i){const e=i.match(/([\d.]+)\s*(g|mg)?/i);if(e){const t=parseFloat(e[1]);if(!isNaN(t)&&t<1e3)return t}return null}function aK(i){const e=i.split(`
`).map(n=>n.trim()).filter(Boolean),t=[];for(const n of e)for(const r of Object.keys(rK))if(n.toLowerCase().includes(r.toLowerCase())){const s=sK(n);s!==null&&!t.find(o=>o.type===r)&&t.push({type:r,count:s.toFixed(2),serving:"1",total:s.toFixed(2)})}return t}function oK({isOpen:i,onClose:e,onSave:t,editMeal:n}){const[r,s]=Q.useState("Breakfast"),[o,c]=Q.useState(new Date),[u,d]=Q.useState([""]),[p,g]=Q.useState([[{type:"Protein",count:"",serving:"1",total:""}]]),[v,b]=Q.useState(!1),[T,S]=Q.useState(!1),E=Q.useRef(null);Q.useEffect(()=>{n&&(s(n.mealType),c(new Date(n.timestamp)),d(n.foodItems.map(L=>L.name)),g(n.foodItems.map(L=>L.nutrients)),b(!0))},[n]);const R=()=>{g([[{type:"Protein",count:"",serving:"1",total:""}]]),d([""]),c(new Date),b(!1)},P=()=>{g([...p,[{type:"Protein",count:"",serving:"1",total:""}]]),d([...u,""])},O=L=>{const B=[...p];B[L].push({type:"Protein",count:"",serving:"1",total:""}),g(B)},z=(L,B)=>{const V=[...p];V[L].splice(B,1),g(V)},U=(L,B,V,me)=>{const pe=[...p],q=pe[L];if(V==="serving")q.forEach(G=>{G.serving=me;const ae=parseFloat(G.count)||0,X=parseFloat(me)||1;G.total=(ae*X).toFixed(2)});else{const G=q[B];G[V]=me;const ae=parseFloat(G.count)||0,X=parseFloat(G.serving)||1;G.total=(ae*X).toFixed(2)}g(pe)},K=()=>{const L=p.map((V,me)=>({name:u[me]||`Food ${me+1}`,nutrients:V})),B={mealType:r,date:o.toISOString().split("T")[0],timestamp:o.toISOString(),foodItems:L};t(B),R(),e()},M=async()=>{try{S(!0);const L=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});E.current&&(E.current.srcObject=L,E.current.play())}catch{alert("Camera access denied."),S(!1)}},A=()=>{const L=E.current;L&&L.srcObject&&(L.srcObject.getTracks().forEach(B=>B.stop()),L.srcObject=null),S(!1)},I=()=>{const L=E.current;if(!L||L.videoWidth===0){alert("Camera not ready yet. Wait a moment.");return}const B=document.createElement("canvas");B.width=L.videoWidth,B.height=L.videoHeight;const V=B.getContext("2d");V.drawImage(L,0,0);const me=V.getImageData(0,0,B.width,B.height),pe=me.data;for(let q=0;q<pe.length;q+=4){const G=(pe[q]+pe[q+1]+pe[q+2])/3;pe[q]=G,pe[q+1]=G,pe[q+2]=G}V.putImageData(me,0,0),yY.recognize(B,"eng").then(({data:{text:q}})=>{const G=aK(q);G.length>0?(b(!0),g([G])):alert("No nutritional values detected. Try again or enter manually."),A()})},F=async(L,B)=>{var V;try{const q=(V=(await(await fetch(`https://world.openfoodfacts.org/cgi/search.pl?search_terms=${encodeURIComponent(L)}&search_simple=1&action=process&json=1`)).json()).products)==null?void 0:V.find(k=>k.nutriments&&k.nutriments["energy-kcal_100g"]&&k.nutriments.proteins_100g);if(!q||!q.nutriments)throw new Error("No valid nutrition info found.");const G=q.nutriments,ae=[G.proteins_100g&&{type:"Protein",count:parseFloat(G.proteins_100g).toFixed(2),serving:"1",total:parseFloat(G.proteins_100g).toFixed(2)},G.fat_100g&&{type:"Fat",count:parseFloat(G.fat_100g).toFixed(2),serving:"1",total:parseFloat(G.fat_100g).toFixed(2)},G.carbohydrates_100g&&{type:"Carbohydrate",count:parseFloat(G.carbohydrates_100g).toFixed(2),serving:"1",total:parseFloat(G.carbohydrates_100g).toFixed(2)},G.sugars_100g&&{type:"Carbs as Sugar",count:parseFloat(G.sugars_100g).toFixed(2),serving:"1",total:parseFloat(G.sugars_100g).toFixed(2)},G.fiber_100g&&{type:"Fibre",count:parseFloat(G.fiber_100g).toFixed(2),serving:"1",total:parseFloat(G.fiber_100g).toFixed(2)},G.salt_100g&&{type:"Salt",count:parseFloat(G.salt_100g).toFixed(2),serving:"1",total:parseFloat(G.salt_100g).toFixed(2)}].filter(Boolean),X=[...p];X[B]=ae,g(X),b(!0)}catch{alert(" Could not fetch nutrition info. Try a more specific food name.")}};return i?j.jsx("div",{className:"modal-backdrop",children:j.jsxs("div",{className:"modal-container bg-dark",children:[j.jsxs("div",{className:"modal-header col-md-12 mb-2",style:{display:"flex"},children:[j.jsxs("div",{style:{display:"flex",width:"100%",marginRight:"5%",alignItems:"center"},children:[j.jsx("p",{className:"ModelTitleName",children:"Select Meal"}),j.jsxs("select",{className:"DropDownMeal",value:r,onChange:L=>s(L.target.value),children:[j.jsx("option",{children:"Breakfast"}),j.jsx("option",{children:"Lunch"}),j.jsx("option",{children:"Dinner"})]})]}),j.jsx(nK,{selected:o,onChange:L=>c(L),className:"form-control",dateFormat:"yyyy-MM-dd",maxDate:new Date})]}),j.jsxs("div",{className:"modal-body",children:[j.jsxs("div",{className:"manual-scan-buttons mb-2",children:[j.jsx("button",{className:"btn btn-primary btn-sm btn-manual",style:{backgroundColor:"deepskyblue",borderColor:"deepskyblue"},onClick:()=>b(!0),children:"Manual Entry"}),j.jsx("button",{className:"btn btn-primary btn-sm btn-scan",style:{backgroundColor:"deepskyblue",borderColor:"deepskyblue"},onClick:M,children:"Scan It"})]}),T&&j.jsxs("div",{className:"scan-box text-center",children:[j.jsx("video",{ref:E,style:{width:"100%",maxHeight:"200px"}}),j.jsx("button",{className:"btn btn-primary mt-2",style:{backgroundColor:"deepskyblue",borderColor:"deepskyblue"},onClick:I,children:"Capture"}),j.jsx("button",{className:"btn btn-danger mt-2 ms-2",onClick:A,children:"Cancel"})]}),v&&j.jsxs("div",{className:"TotalFoodSection",children:[p.map((L,B)=>j.jsxs("div",{className:"food-section",children:[j.jsxs("div",{className:"FoodNameSection d-flex align-items-center gap-2",children:[j.jsx("textarea",{className:"FoodNameTextArea",value:u[B],onChange:V=>{const me=[...u];me[B]=V.target.value,d(me)},placeholder:"Enter food name (e.g., boiled egg)"}),j.jsx("button",{className:"btn btn-sm btn-info",style:{fontSize:"12px"},onClick:()=>F(u[B],B),children:" Auto-Fill"})]}),j.jsxs("div",{className:"row fw-bold mb-2 text-white",style:{fontSize:"12px",padding:"0 10px"},children:[j.jsx("div",{className:"col",children:"Type"}),j.jsx("div",{className:"col",children:"Count"}),j.jsx("div",{className:"col",children:"Servings"}),j.jsx("div",{className:"col",children:"Total"}),j.jsx("div",{className:"col",children:"Remove"})]}),j.jsx("div",{className:"SplitTable",children:L.map((V,me)=>j.jsxs("div",{className:"row mb-1",children:[j.jsx("div",{className:"col",children:j.jsxs("select",{className:"form-select",value:V.type,onChange:pe=>U(B,me,"type",pe.target.value),children:[j.jsx("option",{children:"Protein"}),j.jsx("option",{children:"Fat"}),j.jsx("option",{children:"Carbohydrate"}),j.jsx("option",{children:"Carbs as Sugar"}),j.jsx("option",{children:"Fibre"}),j.jsx("option",{children:"Salt"})]})}),j.jsx("div",{className:"col",children:j.jsx("input",{type:"number",className:"form-control",value:V.count,onChange:pe=>U(B,me,"count",pe.target.value)})}),j.jsx("div",{className:"col",children:j.jsx("select",{className:"form-select",value:V.serving,onChange:pe=>U(B,me,"serving",pe.target.value),children:[...Array(10)].map((pe,q)=>j.jsx("option",{children:q+1},q+1))})}),j.jsx("div",{className:"col",children:j.jsx("input",{type:"number",className:"form-control",value:V.total,disabled:!0})}),j.jsx("div",{className:"col text-center",children:j.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>z(B,me),children:""})})]},me))}),j.jsx("button",{className:"AddItemButton mt-1",onClick:()=>O(B),children:"Add Nutrient"})]},B)),j.jsx("button",{className:"AddItemButton mt-3",onClick:P,children:"Add Food Item"})]})]}),j.jsxs("div",{className:"modal-footer mt-3",children:[j.jsx("button",{className:"btn btn-save btn-primary",style:{backgroundColor:"deepskyblue",borderColor:"deepskyblue"},onClick:K,children:"Save"}),j.jsx("button",{className:"btn btn-exit btn-danger",onClick:()=>{R(),e()},children:"Exit"})]})]})}):null}const lK=()=>{};var pM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},cK=function(i){const e=[];let t=0,n=0;for(;t<i.length;){const r=i[t++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=i[t++];e[n++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=i[t++],o=i[t++],c=i[t++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const s=i[t++],o=i[t++];e[n++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},F2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){const s=i[r],o=r+1<i.length,c=o?i[r+1]:0,u=r+2<i.length,d=u?i[r+2]:0,p=s>>2,g=(s&3)<<4|c>>4;let v=(c&15)<<2|d>>6,b=d&63;u||(b=64,o||(v=64)),n.push(t[p],t[g],t[v],t[b])}return n.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(L2(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):cK(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){const s=t[i.charAt(r++)],c=r<i.length?t[i.charAt(r)]:0;++r;const d=r<i.length?t[i.charAt(r)]:64;++r;const g=r<i.length?t[i.charAt(r)]:64;if(++r,s==null||c==null||d==null||g==null)throw new uK;const v=s<<2|c>>4;if(n.push(v),d!==64){const b=c<<4&240|d>>2;if(n.push(b),g!==64){const T=d<<6&192|g;n.push(T)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class uK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hK=function(i){const e=L2(i);return F2.encodeByteArray(e,!0)},B2=function(i){return hK(i).replace(/\./g,"")},U2=function(i){try{return F2.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dK=()=>j2().__FIREBASE_DEFAULTS__,fK=()=>{if(typeof process>"u"||typeof pM>"u")return;const i=pM.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},pK=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&U2(i[1]);return e&&JSON.parse(e)},mv=()=>{try{return lK()||dK()||fK()||pK()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},mK=i=>{var e,t;return(t=(e=mv())==null?void 0:e.emulatorHosts)==null?void 0:t[i]},z2=()=>{var i;return(i=mv())==null?void 0:i.config},H2=i=>{var e;return(e=mv())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q2(i){return(await fetch(i,{credentials:"include"})).ok}const hf={};function yK(){const i={prod:[],emulator:[]};for(const e of Object.keys(hf))hf[e]?i.emulator.push(e):i.prod.push(e);return i}function vK(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let mM=!1;function _K(i,e){if(typeof window>"u"||typeof document>"u"||!ch(window.location.host)||hf[i]===e||hf[i]||mM)return;hf[i]=e;function t(v){return`__firebase__banner__${v}`}const n="__firebase__banner",s=yK().prod.length>0;function o(){const v=document.getElementById(n);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{mM=!0,o()},v}function p(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=vK(n),b=t("text"),T=document.getElementById(b)||document.createElement("span"),S=t("learnmore"),E=document.getElementById(S)||document.createElement("a"),R=t("preprendIcon"),P=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const O=v.element;c(O),p(E,S);const z=d();u(P,R),O.append(P,T,E,z),document.body.appendChild(O)}s?(T.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function Y2(){var e;const i=(e=mv())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wK(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function TK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SK(){const i=vn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function G2(){return!Y2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K2(){return!Y2()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function rE(){try{return typeof indexedDB=="object"}catch{return!1}}function $2(){return new Promise((i,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(t){e(t)}})}function EK(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK="FirebaseError";class mr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=xK,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?DK(s,n):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new mr(r,c,n)}}function DK(i,e){return i.replace(AK,(t,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const AK=/\{\$([^}]+)}/g;function IK(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function lo(i,e){if(i===e)return!0;const t=Object.keys(i),n=Object.keys(e);for(const r of t){if(!n.includes(r))return!1;const s=i[r],o=e[r];if(gM(s)&&gM(o)){if(!lo(s,o))return!1}else if(s!==o)return!1}for(const r of n)if(!t.includes(r))return!1;return!0}function gM(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(i){const e=[];for(const[t,n]of Object.entries(i))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function $d(i){const e={};return i.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Qd(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function RK(i,e){const t=new CK(i,e);return t.subscribe.bind(t)}class CK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");MK(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:n},r.next===void 0&&(r.next=nw),r.error===void 0&&(r.error=nw),r.complete===void 0&&(r.complete=nw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MK(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function nw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK=1e3,PK=2,OK=4*60*60*1e3,NK=.5;function yM(i,e=kK,t=PK){const n=e*Math.pow(t,i),r=Math.round(NK*n*(Math.random()-.5)*2);return Math.min(OK,n+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(i){return i&&i._delegate?i._delegate:i}class fr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new gK;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(n)return null;throw r}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FK(e))try{this.getOrInitializeService({instanceIdentifier:ul})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});n.resolve(s)}catch{}}}}clearInstance(e=ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ul){return this.instances.has(e)}getOptions(e=ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&o.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const s=this.instances.get(n);return s&&e(s,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:LK(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ul){return this.component?this.component.multipleInstances?e:ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LK(i){return i===ul?void 0:i}function FK(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new VK(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ge||(Ge={}));const UK={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},jK=Ge.INFO,zK={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},HK=(i,e,...t)=>{if(e<i.logLevel)return;const n=new Date().toISOString(),r=zK[e];if(r)console[r](`[${n}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gv{constructor(e){this.name=e,this._logLevel=jK,this._logHandler=HK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const qK=(i,e)=>e.some(t=>i instanceof t);let vM,_M;function YK(){return vM||(vM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WK(){return _M||(_M=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q2=new WeakMap,lT=new WeakMap,X2=new WeakMap,iw=new WeakMap,sE=new WeakMap;function GK(i){const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("success",s),i.removeEventListener("error",o)},s=()=>{t(Xa(i.result)),r()},o=()=>{n(i.error),r()};i.addEventListener("success",s),i.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Q2.set(t,i)}).catch(()=>{}),sE.set(e,i),e}function KK(i){if(lT.has(i))return;const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("complete",s),i.removeEventListener("error",o),i.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",s),i.addEventListener("error",o),i.addEventListener("abort",o)});lT.set(i,e)}let cT={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return lT.get(i);if(e==="objectStoreNames")return i.objectStoreNames||X2.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xa(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function $K(i){cT=i(cT)}function QK(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=i.call(rw(this),e,...t);return X2.set(n,e.sort?e.sort():[e]),Xa(n)}:WK().includes(i)?function(...e){return i.apply(rw(this),e),Xa(Q2.get(this))}:function(...e){return Xa(i.apply(rw(this),e))}}function XK(i){return typeof i=="function"?QK(i):(i instanceof IDBTransaction&&KK(i),qK(i,YK())?new Proxy(i,cT):i)}function Xa(i){if(i instanceof IDBRequest)return GK(i);if(iw.has(i))return iw.get(i);const e=XK(i);return e!==i&&(iw.set(i,e),sE.set(e,i)),e}const rw=i=>sE.get(i);function ZK(i,e,{blocked:t,upgrade:n,blocking:r,terminated:s}={}){const o=indexedDB.open(i,e),c=Xa(o);return n&&o.addEventListener("upgradeneeded",u=>{n(Xa(o.result),u.oldVersion,u.newVersion,Xa(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const JK=["get","getKey","getAll","getAllKeys","count"],e$=["put","add","delete","clear"],sw=new Map;function bM(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(sw.get(e))return sw.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,r=e$.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(r||JK.includes(t)))return;const s=async function(o,...c){const u=this.transaction(o,r?"readwrite":"readonly");let d=u.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),r&&u.done]))[0]};return sw.set(e,s),s}$K(i=>({...i,get:(e,t,n)=>bM(e,t)||i.get(e,t,n),has:(e,t)=>!!bM(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(n$(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function n$(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uT="@firebase/app",wM="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new gv("@firebase/app"),i$="@firebase/app-compat",r$="@firebase/analytics-compat",s$="@firebase/analytics",a$="@firebase/app-check-compat",o$="@firebase/app-check",l$="@firebase/auth",c$="@firebase/auth-compat",u$="@firebase/database",h$="@firebase/data-connect",d$="@firebase/database-compat",f$="@firebase/functions",p$="@firebase/functions-compat",m$="@firebase/installations",g$="@firebase/installations-compat",y$="@firebase/messaging",v$="@firebase/messaging-compat",_$="@firebase/performance",b$="@firebase/performance-compat",w$="@firebase/remote-config",T$="@firebase/remote-config-compat",S$="@firebase/storage",E$="@firebase/storage-compat",x$="@firebase/firestore",D$="@firebase/ai",A$="@firebase/firestore-compat",I$="firebase",R$="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="[DEFAULT]",C$={[uT]:"fire-core",[i$]:"fire-core-compat",[s$]:"fire-analytics",[r$]:"fire-analytics-compat",[o$]:"fire-app-check",[a$]:"fire-app-check-compat",[l$]:"fire-auth",[c$]:"fire-auth-compat",[u$]:"fire-rtdb",[h$]:"fire-data-connect",[d$]:"fire-rtdb-compat",[f$]:"fire-fn",[p$]:"fire-fn-compat",[m$]:"fire-iid",[g$]:"fire-iid-compat",[y$]:"fire-fcm",[v$]:"fire-fcm-compat",[_$]:"fire-perf",[b$]:"fire-perf-compat",[w$]:"fire-rc",[T$]:"fire-rc-compat",[S$]:"fire-gcs",[E$]:"fire-gcs-compat",[x$]:"fire-fst",[A$]:"fire-fst-compat",[D$]:"fire-vertex","fire-js":"fire-js",[I$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=new Map,M$=new Map,dT=new Map;function TM(i,e){try{i.container.addComponent(e)}catch(t){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ts(i){const e=i.name;if(dT.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;dT.set(e,i);for(const t of Dy.values())TM(t,i);for(const t of M$.values())TM(t,i);return!0}function Zl(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function $i(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Za=new Xl("app","Firebase",k$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=R$;function Z2(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const n={name:hT,automaticDataCollectionEnabled:!0,...e},r=n.name;if(typeof r!="string"||!r)throw Za.create("bad-app-name",{appName:String(r)});if(t||(t=z2()),!t)throw Za.create("no-options");const s=Dy.get(r);if(s){if(lo(t,s.options)&&lo(n,s.config))return s;throw Za.create("duplicate-app",{appName:r})}const o=new BK(r);for(const u of dT.values())o.addComponent(u);const c=new P$(t,n,o);return Dy.set(r,c),c}function J2(i=hT){const e=Dy.get(i);if(!e&&i===hT&&z2())return Z2();if(!e)throw Za.create("no-app",{appName:i});return e}function Zi(i,e,t){let n=C$[i]??i;t&&(n+=`-${t}`);const r=n.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const o=[`Unable to register library "${n}" with version "${e}":`];r&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(o.join(" "));return}ts(new fr(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$="firebase-heartbeat-database",N$=1,Vf="firebase-heartbeat-store";let aw=null;function eV(){return aw||(aw=ZK(O$,N$,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Vf)}catch(t){console.warn(t)}}}}).catch(i=>{throw Za.create("idb-open",{originalErrorMessage:i.message})})),aw}async function V$(i){try{const t=(await eV()).transaction(Vf),n=await t.objectStore(Vf).get(tV(i));return await t.done,n}catch(e){if(e instanceof mr)Ks.warn(e.message);else{const t=Za.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ks.warn(t.message)}}}async function SM(i,e){try{const n=(await eV()).transaction(Vf,"readwrite");await n.objectStore(Vf).put(e,tV(i)),await n.done}catch(t){if(t instanceof mr)Ks.warn(t.message);else{const n=Za.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ks.warn(n.message)}}}function tV(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=1024,F$=30;class B${constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new j$(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=EM();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>F$){const o=z$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ks.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=EM(),{heartbeatsToSend:n,unsentEntries:r}=U$(this._heartbeatsCache.heartbeats),s=B2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ks.warn(t),""}}}function EM(){return new Date().toISOString().substring(0,10)}function U$(i,e=L$){const t=[];let n=i.slice();for(const r of i){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),xM(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),xM(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class j${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rE()?$2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await V$(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return SM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return SM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function xM(i){return B2(JSON.stringify({version:2,heartbeats:i})).length}function z$(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let n=1;n<i.length;n++)i[n].date<t&&(t=i[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(i){ts(new fr("platform-logger",e=>new t$(e),"PRIVATE")),ts(new fr("heartbeat",e=>new B$(e),"PRIVATE")),Zi(uT,wM,i),Zi(uT,wM,"esm2020"),Zi("fire-js","")}H$("");var q$="firebase",Y$="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(q$,Y$,"app");const W$=(i,e)=>e.some(t=>i instanceof t);let DM,AM;function G$(){return DM||(DM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K$(){return AM||(AM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nV=new WeakMap,fT=new WeakMap,iV=new WeakMap,ow=new WeakMap,aE=new WeakMap;function $$(i){const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("success",s),i.removeEventListener("error",o)},s=()=>{t(Ja(i.result)),r()},o=()=>{n(i.error),r()};i.addEventListener("success",s),i.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&nV.set(t,i)}).catch(()=>{}),aE.set(e,i),e}function Q$(i){if(fT.has(i))return;const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("complete",s),i.removeEventListener("error",o),i.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",s),i.addEventListener("error",o),i.addEventListener("abort",o)});fT.set(i,e)}let pT={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return fT.get(i);if(e==="objectStoreNames")return i.objectStoreNames||iV.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ja(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function X$(i){pT=i(pT)}function Z$(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=i.call(lw(this),e,...t);return iV.set(n,e.sort?e.sort():[e]),Ja(n)}:K$().includes(i)?function(...e){return i.apply(lw(this),e),Ja(nV.get(this))}:function(...e){return Ja(i.apply(lw(this),e))}}function J$(i){return typeof i=="function"?Z$(i):(i instanceof IDBTransaction&&Q$(i),W$(i,G$())?new Proxy(i,pT):i)}function Ja(i){if(i instanceof IDBRequest)return $$(i);if(ow.has(i))return ow.get(i);const e=J$(i);return e!==i&&(ow.set(i,e),aE.set(e,i)),e}const lw=i=>aE.get(i);function eQ(i,e,{blocked:t,upgrade:n,blocking:r,terminated:s}={}){const o=indexedDB.open(i,e),c=Ja(o);return n&&o.addEventListener("upgradeneeded",u=>{n(Ja(o.result),u.oldVersion,u.newVersion,Ja(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const tQ=["get","getKey","getAll","getAllKeys","count"],nQ=["put","add","delete","clear"],cw=new Map;function IM(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(cw.get(e))return cw.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,r=nQ.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(r||tQ.includes(t)))return;const s=async function(o,...c){const u=this.transaction(o,r?"readwrite":"readonly");let d=u.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),r&&u.done]))[0]};return cw.set(e,s),s}X$(i=>({...i,get:(e,t,n)=>IM(e,t)||i.get(e,t,n),has:(e,t)=>!!IM(e,t)||i.has(e,t)}));const rV="@firebase/installations",oE="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=1e4,aV=`w:${oE}`,oV="FIS_v2",iQ="https://firebaseinstallations.googleapis.com/v1",rQ=60*60*1e3,sQ="installations",aQ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oQ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bl=new Xl(sQ,aQ,oQ);function lV(i){return i instanceof mr&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV({projectId:i}){return`${iQ}/projects/${i}/installations`}function uV(i){return{token:i.token,requestStatus:2,expiresIn:cQ(i.expiresIn),creationTime:Date.now()}}async function hV(i,e){const n=(await e.json()).error;return Bl.create("request-failed",{requestName:i,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function dV({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function lQ(i,{refreshToken:e}){const t=dV(i);return t.append("Authorization",uQ(e)),t}async function fV(i){const e=await i();return e.status>=500&&e.status<600?i():e}function cQ(i){return Number(i.replace("s","000"))}function uQ(i){return`${oV} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hQ({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const n=cV(i),r=dV(i),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const o={fid:t,authVersion:oV,appId:i.appId,sdkVersion:aV},c={method:"POST",headers:r,body:JSON.stringify(o)},u=await fV(()=>fetch(n,c));if(u.ok){const d=await u.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:uV(d.authToken)}}else throw await hV("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dQ(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ=/^[cdef][\w-]{21}$/,mT="";function pQ(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=mQ(i);return fQ.test(t)?t:mT}catch{return mT}}function mQ(i){return dQ(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=new Map;function gV(i,e){const t=yv(i);yV(t,e),gQ(t,e)}function yV(i,e){const t=mV.get(i);if(t)for(const n of t)n(e)}function gQ(i,e){const t=yQ();t&&t.postMessage({key:i,fid:e}),vQ()}let Tl=null;function yQ(){return!Tl&&"BroadcastChannel"in self&&(Tl=new BroadcastChannel("[Firebase] FID Change"),Tl.onmessage=i=>{yV(i.data.key,i.data.fid)}),Tl}function vQ(){mV.size===0&&Tl&&(Tl.close(),Tl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Q="firebase-installations-database",bQ=1,Ul="firebase-installations-store";let uw=null;function lE(){return uw||(uw=eQ(_Q,bQ,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ul)}}})),uw}async function Ay(i,e){const t=yv(i),r=(await lE()).transaction(Ul,"readwrite"),s=r.objectStore(Ul),o=await s.get(t);return await s.put(e,t),await r.done,(!o||o.fid!==e.fid)&&gV(i,e.fid),e}async function vV(i){const e=yv(i),n=(await lE()).transaction(Ul,"readwrite");await n.objectStore(Ul).delete(e),await n.done}async function vv(i,e){const t=yv(i),r=(await lE()).transaction(Ul,"readwrite"),s=r.objectStore(Ul),o=await s.get(t),c=e(o);return c===void 0?await s.delete(t):await s.put(c,t),await r.done,c&&(!o||o.fid!==c.fid)&&gV(i,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cE(i){let e;const t=await vv(i.appConfig,n=>{const r=wQ(n),s=TQ(i,r);return e=s.registrationPromise,s.installationEntry});return t.fid===mT?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function wQ(i){const e=i||{fid:pQ(),registrationStatus:0};return _V(e)}function TQ(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Bl.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=SQ(i,t);return{installationEntry:t,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:EQ(i)}:{installationEntry:e}}async function SQ(i,e){try{const t=await hQ(i,e);return Ay(i.appConfig,t)}catch(t){throw lV(t)&&t.customData.serverCode===409?await vV(i.appConfig):await Ay(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function EQ(i){let e=await RM(i.appConfig);for(;e.registrationStatus===1;)await pV(100),e=await RM(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:n}=await cE(i);return n||t}return e}function RM(i){return vv(i,e=>{if(!e)throw Bl.create("installation-not-found");return _V(e)})}function _V(i){return xQ(i)?{fid:i.fid,registrationStatus:0}:i}function xQ(i){return i.registrationStatus===1&&i.registrationTime+sV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DQ({appConfig:i,heartbeatServiceProvider:e},t){const n=AQ(i,t),r=lQ(i,t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const o={installation:{sdkVersion:aV,appId:i.appId}},c={method:"POST",headers:r,body:JSON.stringify(o)},u=await fV(()=>fetch(n,c));if(u.ok){const d=await u.json();return uV(d)}else throw await hV("Generate Auth Token",u)}function AQ(i,{fid:e}){return`${cV(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uE(i,e=!1){let t;const n=await vv(i.appConfig,s=>{if(!bV(s))throw Bl.create("not-registered");const o=s.authToken;if(!e&&CQ(o))return s;if(o.requestStatus===1)return t=IQ(i,e),s;{if(!navigator.onLine)throw Bl.create("app-offline");const c=kQ(s);return t=RQ(i,c),c}});return t?await t:n.authToken}async function IQ(i,e){let t=await CM(i.appConfig);for(;t.authToken.requestStatus===1;)await pV(100),t=await CM(i.appConfig);const n=t.authToken;return n.requestStatus===0?uE(i,e):n}function CM(i){return vv(i,e=>{if(!bV(e))throw Bl.create("not-registered");const t=e.authToken;return PQ(t)?{...e,authToken:{requestStatus:0}}:e})}async function RQ(i,e){try{const t=await DQ(i,e),n={...e,authToken:t};return await Ay(i.appConfig,n),t}catch(t){if(lV(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await vV(i.appConfig);else{const n={...e,authToken:{requestStatus:0}};await Ay(i.appConfig,n)}throw t}}function bV(i){return i!==void 0&&i.registrationStatus===2}function CQ(i){return i.requestStatus===2&&!MQ(i)}function MQ(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+rQ}function kQ(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function PQ(i){return i.requestStatus===1&&i.requestTime+sV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OQ(i){const e=i,{installationEntry:t,registrationPromise:n}=await cE(e);return n?n.catch(console.error):uE(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NQ(i,e=!1){const t=i;return await VQ(t),(await uE(t,e)).token}async function VQ(i){const{registrationPromise:e}=await cE(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LQ(i){if(!i||!i.options)throw hw("App Configuration");if(!i.name)throw hw("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw hw(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function hw(i){return Bl.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="installations",FQ="installations-internal",BQ=i=>{const e=i.getProvider("app").getImmediate(),t=LQ(e),n=Zl(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},UQ=i=>{const e=i.getProvider("app").getImmediate(),t=Zl(e,wV).getImmediate();return{getId:()=>OQ(t),getToken:r=>NQ(t,r)}};function jQ(){ts(new fr(wV,BQ,"PUBLIC")),ts(new fr(FQ,UQ,"PRIVATE"))}jQ();Zi(rV,oE);Zi(rV,oE,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="analytics",zQ="firebase_id",HQ="origin",qQ=60*1e3,YQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new gv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ii=new Xl("analytics","Analytics",WQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GQ(i){if(!i.startsWith(hE)){const e=Ii.create("invalid-gtag-resource",{gtagURL:i});return pi.warn(e.message),""}return i}function TV(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function KQ(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function $Q(i,e){const t=KQ("firebase-js-sdk-policy",{createScriptURL:GQ}),n=document.createElement("script"),r=`${hE}?l=${i}&id=${e}`;n.src=t?t==null?void 0:t.createScriptURL(r):r,n.async=!0,document.head.appendChild(n)}function QQ(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function XQ(i,e,t,n,r,s){const o=n[r];try{if(o)await e[o];else{const u=(await TV(t)).find(d=>d.measurementId===r);u&&await e[u.appId]}}catch(c){pi.error(c)}i("config",r,s)}async function ZQ(i,e,t,n,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const c=await TV(t);for(const u of o){const d=c.find(g=>g.measurementId===u),p=d&&e[d.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),i("event",n,r||{})}catch(s){pi.error(s)}}function JQ(i,e,t,n){async function r(s,...o){try{if(s==="event"){const[c,u]=o;await ZQ(i,e,t,c,u)}else if(s==="config"){const[c,u]=o;await XQ(i,e,t,n,c,u)}else if(s==="consent"){const[c,u]=o;i("consent",c,u)}else if(s==="get"){const[c,u,d]=o;i("get",c,u,d)}else if(s==="set"){const[c]=o;i("set",c)}else i(s,...o)}catch(c){pi.error(c)}}return r}function eX(i,e,t,n,r){let s=function(...o){window[n].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=JQ(s,i,e,t),{gtagCore:s,wrappedGtag:window[r]}}function tX(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(hE)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nX=30,iX=1e3;class rX{constructor(e={},t=iX){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const SV=new rX;function sX(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function aX(i){var o;const{appId:e,apiKey:t}=i,n={method:"GET",headers:sX(t)},r=YQ.replace("{app-id}",e),s=await fetch(r,n);if(s.status!==200&&s.status!==304){let c="";try{const u=await s.json();(o=u.error)!=null&&o.message&&(c=u.error.message)}catch{}throw Ii.create("config-fetch-failed",{httpStatus:s.status,responseMessage:c})}return s.json()}async function oX(i,e=SV,t){const{appId:n,apiKey:r,measurementId:s}=i.options;if(!n)throw Ii.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:n};throw Ii.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new uX;return setTimeout(async()=>{c.abort()},qQ),EV({appId:n,apiKey:r,measurementId:s},o,c,e)}async function EV(i,{throttleEndTimeMillis:e,backoffCount:t},n,r=SV){var c;const{appId:s,measurementId:o}=i;try{await lX(n,e)}catch(u){if(o)return pi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:o};throw u}try{const u=await aX(i);return r.deleteThrottleMetadata(s),u}catch(u){const d=u;if(!cX(d)){if(r.deleteThrottleMetadata(s),o)return pi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:s,measurementId:o};throw u}const p=Number((c=d==null?void 0:d.customData)==null?void 0:c.httpStatus)===503?yM(t,r.intervalMillis,nX):yM(t,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return r.setThrottleMetadata(s,g),pi.debug(`Calling attemptFetch again in ${p} millis`),EV(i,g,n,r)}}function lX(i,e){return new Promise((t,n)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);i.addEventListener(()=>{clearTimeout(s),n(Ii.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cX(i){if(!(i instanceof mr)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class uX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function hX(i,e,t,n,r){if(r&&r.global){i("event",t,n);return}else{const s=await e,o={...n,send_to:s};i("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dX(){if(rE())try{await $2()}catch(i){return pi.warn(Ii.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return pi.warn(Ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fX(i,e,t,n,r,s,o){const c=oX(i);c.then(v=>{t[v.measurementId]=v.appId,i.options.measurementId&&v.measurementId!==i.options.measurementId&&pi.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>pi.error(v)),e.push(c);const u=dX().then(v=>{if(v)return n.getId()}),[d,p]=await Promise.all([c,u]);tX(s)||$Q(s,d.measurementId),r("js",new Date);const g=(o==null?void 0:o.config)??{};return g[HQ]="firebase",g.update=!0,p!=null&&(g[zQ]=p),r("config",d.measurementId,g),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(e){this.app=e}_delete(){return delete df[this.app.options.appId],Promise.resolve()}}let df={},MM=[];const kM={};let dw="dataLayer",mX="gtag",PM,xV,OM=!1;function gX(){const i=[];if(W2()&&i.push("This is a browser extension environment."),EK()||i.push("Cookies are not available."),i.length>0){const e=i.map((n,r)=>`(${r+1}) ${n}`).join(" "),t=Ii.create("invalid-analytics-context",{errorInfo:e});pi.warn(t.message)}}function yX(i,e,t){gX();const n=i.options.appId;if(!n)throw Ii.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)pi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ii.create("no-api-key");if(df[n]!=null)throw Ii.create("already-exists",{id:n});if(!OM){QQ(dw);const{wrappedGtag:s,gtagCore:o}=eX(df,MM,kM,dw,mX);xV=s,PM=o,OM=!0}return df[n]=fX(i,MM,kM,e,PM,dw,t),new pX(i)}function vX(i=J2()){i=In(i);const e=Zl(i,Iy);return e.isInitialized()?e.getImmediate():_X(i)}function _X(i,e={}){const t=Zl(i,Iy);if(t.isInitialized()){const r=t.getImmediate();if(lo(e,t.getOptions()))return r;throw Ii.create("already-initialized")}return t.initialize({options:e})}function bX(i,e,t,n){i=In(i),hX(xV,df[i.app.options.appId],e,t,n).catch(r=>pi.error(r))}const NM="@firebase/analytics",VM="0.10.18";function wX(){ts(new fr(Iy,(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return yX(n,r,t)},"PUBLIC")),ts(new fr("analytics-internal",i,"PRIVATE")),Zi(NM,VM),Zi(NM,VM,"esm2020");function i(e){try{const t=e.getProvider(Iy).getImmediate();return{logEvent:(n,r,s)=>bX(t,n,r,s)}}catch(t){throw Ii.create("interop-component-reg-failed",{reason:t})}}}wX();function DV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TX=DV,AV=new Xl("auth","Firebase",DV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=new gv("@firebase/auth");function SX(i,...e){Ry.logLevel<=Ge.WARN&&Ry.warn(`Auth (${uh}): ${i}`,...e)}function Ng(i,...e){Ry.logLevel<=Ge.ERROR&&Ry.error(`Auth (${uh}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(i,...e){throw dE(i,...e)}function $r(i,...e){return dE(i,...e)}function IV(i,e,t){const n={...TX(),[e]:t};return new Xl("auth","Firebase",n).create(e,{appName:i.name})}function qs(i){return IV(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dE(i,...e){if(typeof i!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(t,...n)}return AV.create(i,...e)}function Oe(i,e,...t){if(!i)throw dE(e,...t)}function Vs(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ng(e),new Error(e)}function $s(i,e){i||Vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function EX(){return LM()==="http:"||LM()==="https:"}function LM(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EX()||W2()||"connection"in navigator)?navigator.onLine:!0}function DX(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t){this.shortDelay=e,this.longDelay=t,$s(t>e,"Short delay should be less than long delay!"),this.isMobile=bK()||TK()}get(){return xX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(i,e){$s(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RX=new lp(3e4,6e4);function mo(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function go(i,e,t,n,r={}){return CV(i,r,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const c=op({key:i.config.apiKey,...o}).slice(1),u=await i._getAdditionalHeaders();u["Content-Type"]="application/json",i.languageCode&&(u["X-Firebase-Locale"]=i.languageCode);const d={method:e,headers:u,...s};return wK()||(d.referrerPolicy="no-referrer"),i.emulatorConfig&&ch(i.emulatorConfig.host)&&(d.credentials="include"),RV.fetch()(await MV(i,i.config.apiHost,t,c),d)})}async function CV(i,e,t){i._canInitEmulator=!1;const n={...AX,...e};try{const r=new MX(i),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw hg(i,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw hg(i,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw hg(i,"email-already-in-use",o);if(u==="USER_DISABLED")throw hg(i,"user-disabled",o);const p=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw IV(i,p,d);pr(i,p)}}catch(r){if(r instanceof mr)throw r;pr(i,"network-request-failed",{message:String(r)})}}async function cp(i,e,t,n,r={}){const s=await go(i,e,t,n,r);return"mfaPendingCredential"in s&&pr(i,"multi-factor-auth-required",{_serverResponse:s}),s}async function MV(i,e,t,n){const r=`${e}${t}?${n}`,s=i,o=s.config.emulator?fE(i.config,r):`${i.config.apiScheme}://${r}`;return IX.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function CX(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MX{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n($r(this.auth,"network-request-failed")),RX.get())})}}function hg(i,e,t){const n={appName:i.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const r=$r(i,e,n);return r.customData._tokenResponse=t,r}function FM(i){return i!==void 0&&i.enterprise!==void 0}class kX{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return CX(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PX(i,e){return go(i,"GET","/v2/recaptchaConfig",mo(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OX(i,e){return go(i,"POST","/v1/accounts:delete",e)}async function Cy(i,e){return go(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NX(i,e=!1){const t=In(i),n=await t.getIdToken(e),r=pE(n);Oe(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:n,authTime:ff(fw(r.auth_time)),issuedAtTime:ff(fw(r.iat)),expirationTime:ff(fw(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function fw(i){return Number(i)*1e3}function pE(i){const[e,t,n]=i.split(".");if(e===void 0||t===void 0||n===void 0)return Ng("JWT malformed, contained fewer than 3 sections"),null;try{const r=U2(t);return r?JSON.parse(r):(Ng("Failed to decode base64 JWT payload"),null)}catch(r){return Ng("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function BM(i){const e=pE(i);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(i,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof mr&&VX(n)&&i.auth.currentUser===i&&await i.auth.signOut(),n}}function VX({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ff(this.lastLoginAt),this.creationTime=ff(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function My(i){var g;const e=i.auth,t=await i.getIdToken(),n=await Lf(i,Cy(e,{idToken:t}));Oe(n==null?void 0:n.users.length,e,"internal-error");const r=n.users[0];i._notifyReloadListener(r);const s=(g=r.providerUserInfo)!=null&&g.length?kV(r.providerUserInfo):[],o=BX(i.providerData,s),c=i.isAnonymous,u=!(i.email&&r.passwordHash)&&!(o!=null&&o.length),d=c?u:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new yT(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(i,p)}async function FX(i){const e=In(i);await My(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BX(i,e){return[...i.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function kV(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UX(i,e){const t=await CV(i,{},async()=>{const n=op({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=i.config,o=await MV(i,r,"/v1/token",`key=${s}`),c=await i._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:n};return i.emulatorConfig&&ch(i.emulatorConfig.host)&&(u.credentials="include"),RV.fetch()(o,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jX(i,e){return go(i,"POST","/v2/accounts:revokeToken",mo(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=BM(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await UX(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,o=new Su;return n&&(Oe(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),r&&(Oe(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Su,this.toJSON())}_performRefresh(){return Vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(i,e){Oe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class cr{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new LX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new yT(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Lf(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return NX(this,e)}reload(){return FX(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await My(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($i(this.auth.app))return Promise.reject(qs(this.auth));const e=await this.getIdToken();return await Lf(this,OX(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,c=t.tenantId??void 0,u=t._redirectEventId??void 0,d=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:b,providerData:T,stsTokenManager:S}=t;Oe(g&&S,e,"internal-error");const E=Su.fromJSON(this.name,S);Oe(typeof g=="string",e,"internal-error"),Ma(n,e.name),Ma(r,e.name),Oe(typeof v=="boolean",e,"internal-error"),Oe(typeof b=="boolean",e,"internal-error"),Ma(s,e.name),Ma(o,e.name),Ma(c,e.name),Ma(u,e.name),Ma(d,e.name),Ma(p,e.name);const R=new cr({uid:g,auth:e,email:r,emailVerified:v,displayName:n,isAnonymous:b,photoURL:o,phoneNumber:s,tenantId:c,stsTokenManager:E,createdAt:d,lastLoginAt:p});return T&&Array.isArray(T)&&(R.providerData=T.map(P=>({...P}))),u&&(R._redirectEventId=u),R}static async _fromIdTokenResponse(e,t,n=!1){const r=new Su;r.updateFromServerResponse(t);const s=new cr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await My(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Oe(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?kV(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),c=new Su;c.updateFromIdToken(n);const u=new cr({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new yT(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=new Map;function Ls(i){$s(i instanceof Function,"Expected a class definition");let e=UM.get(i);return e?($s(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,UM.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}PV.type="NONE";const jM=PV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(i,e,t){return`firebase:${i}:${e}:${t}`}class Eu{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Vg(this.userKey,r.apiKey,s),this.fullPersistenceKey=Vg("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Cy(this.auth,{idToken:e}).catch(()=>{});return t?cr._fromGetAccountInfoResponse(this.auth,t,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Eu(Ls(jM),e,n);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=r[0]||Ls(jM);const o=Vg(n,e.config.apiKey,e.name);let c=null;for(const d of t)try{const p=await d._get(o);if(p){let g;if(typeof p=="string"){const v=await Cy(e,{idToken:p}).catch(()=>{});if(!v)break;g=await cr._fromGetAccountInfoResponse(e,v,p)}else g=cr._fromJSON(e,p);d!==s&&(c=g),s=d;break}}catch{}const u=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Eu(s,e,n):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new Eu(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BV(e))return"Blackberry";if(UV(e))return"Webos";if(NV(e))return"Safari";if((e.includes("chrome/")||VV(e))&&!e.includes("edge/"))return"Chrome";if(FV(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function OV(i=vn()){return/firefox\//i.test(i)}function NV(i=vn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VV(i=vn()){return/crios\//i.test(i)}function LV(i=vn()){return/iemobile/i.test(i)}function FV(i=vn()){return/android/i.test(i)}function BV(i=vn()){return/blackberry/i.test(i)}function UV(i=vn()){return/webos/i.test(i)}function mE(i=vn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function zX(i=vn()){var e;return mE(i)&&!!((e=window.navigator)!=null&&e.standalone)}function HX(){return SK()&&document.documentMode===10}function jV(i=vn()){return mE(i)||FV(i)||UV(i)||BV(i)||/windows phone/i.test(i)||LV(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(i,e=[]){let t;switch(i){case"Browser":t=zM(vn());break;case"Worker":t=`${zM(vn())}-${i}`;break;default:t=i}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${uh}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((o,c)=>{try{const u=e(s);o(u)}catch(u){c(u)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YX(i,e={}){return go(i,"GET","/v2/passwordPolicy",mo(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WX=6;class GX{constructor(e){var n;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??WX,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HM(this),this.idTokenSubscription=new HM(this),this.beforeStateQueue=new qX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ls(t)),this._initializationPromise=this.queue(async()=>{var n,r,s;if(!this._deleted&&(this.persistenceManager=await Eu.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Cy(this,{idToken:e}),n=await cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if($i(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,c=n==null?void 0:n._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(n=u.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await My(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DX()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($i(this.app))return Promise.reject(qs(this));const t=e?In(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $i(this.app)?Promise.reject(qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $i(this.app)?Promise.reject(qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YX(this),t=new GX(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await jX(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ls(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await Eu.create(this,[Ls(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,n,r);return()=>{o=!0,u()}}else{const u=e.addObserver(t);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var t;if($i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&SX(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Jl(i){return In(i)}class HM{constructor(e){this.auth=e,this.observer=null,this.addObserver=RK(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _v={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $X(i){_v=i}function HV(i){return _v.loadJS(i)}function QX(){return _v.recaptchaEnterpriseScript}function XX(){return _v.gapiScript}function ZX(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class JX{constructor(){this.enterprise=new eZ}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eZ{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const tZ="recaptcha-enterprise",qV="NO_RECAPTCHA";class nZ{constructor(e){this.type=tZ,this.auth=Jl(e)}async verify(e="verify",t=!1){async function n(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{PX(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new kX(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{c(u)})})}function r(s,o,c){const u=window.grecaptcha;FM(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(qV)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JX().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(c=>{if(!t&&FM(window.grecaptcha))r(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=QX();u.length!==0&&(u+=c),HV(u).then(()=>{r(c,s,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})}}async function qM(i,e,t,n=!1,r=!1){const s=new nZ(i);let o;if(r)o=qV;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function vT(i,e,t,n,r){var s;if((s=i._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await qM(i,e,t,t==="getOobCode");return n(i,o)}else return n(i,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await qM(i,e,t,t==="getOobCode");return n(i,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iZ(i,e){const t=Zl(i,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(lo(s,e??{}))return r;pr(r,"already-initialized")}return t.initialize({options:e})}function rZ(i,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Ls);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function sZ(i,e,t){const n=Jl(i);Oe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const r=!1,s=YV(e),{host:o,port:c}=aZ(e),u=c===null?"":`:${c}`,d={url:`${s}//${o}${u}/`},p=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!n._canInitEmulator){Oe(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Oe(lo(d,n.config.emulator)&&lo(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,ch(o)?(q2(`${s}//${o}${u}`),_K("Auth",!0)):oZ()}function YV(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function aZ(i){const e=YV(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const s=r[1];return{host:s,port:YM(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:YM(o)}}}function YM(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function oZ(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vs("not implemented")}_getIdTokenResponse(e){return Vs("not implemented")}_linkToIdToken(e,t){return Vs("not implemented")}_getReauthenticationResolver(e){return Vs("not implemented")}}async function lZ(i,e){return go(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cZ(i,e){return cp(i,"POST","/v1/accounts:signInWithPassword",mo(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uZ(i,e){return cp(i,"POST","/v1/accounts:signInWithEmailLink",mo(i,e))}async function hZ(i,e){return cp(i,"POST","/v1/accounts:signInWithEmailLink",mo(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends gE{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ff(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ff(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vT(e,t,"signInWithPassword",cZ);case"emailLink":return uZ(e,{email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vT(e,n,"signUpPassword",lZ);case"emailLink":return hZ(e,{idToken:t,email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(i,e){return cp(i,"POST","/v1/accounts:signInWithIdp",mo(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dZ="http://localhost";class jl extends gE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new jl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:r,...s}=t;if(!n||!r)return null;const o=new jl(n,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return xu(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,xu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xu(e,t)}buildRequest(){const e={requestUri:dZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=op(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fZ(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pZ(i){const e=$d(Qd(i)).link,t=e?$d(Qd(e)).deep_link_id:null,n=$d(Qd(i)).deep_link_id;return(n?$d(Qd(n)).link:null)||n||t||e||i}class yE{constructor(e){const t=$d(Qd(e)),n=t.apiKey??null,r=t.oobCode??null,s=fZ(t.mode??null);Oe(n&&r&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=pZ(e);try{return new yE(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this.providerId=hh.PROVIDER_ID}static credential(e,t){return Ff._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=yE.parseLink(t);return Oe(n,"argument-error"),Ff._fromEmailAndCode(e,n.code,n.tenantId)}}hh.PROVIDER_ID="password";hh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up extends WV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends up{constructor(){super("facebook.com")}static credential(e){return jl._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return La.credential(e.oauthAccessToken)}catch{return null}}}La.FACEBOOK_SIGN_IN_METHOD="facebook.com";La.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends up{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return jl._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Fa.credential(t,n)}catch{return null}}}Fa.GOOGLE_SIGN_IN_METHOD="google.com";Fa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends up{constructor(){super("github.com")}static credential(e){return jl._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ba.credential(e.oauthAccessToken)}catch{return null}}}Ba.GITHUB_SIGN_IN_METHOD="github.com";Ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends up{constructor(){super("twitter.com")}static credential(e,t){return jl._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ua.credential(t,n)}catch{return null}}}Ua.TWITTER_SIGN_IN_METHOD="twitter.com";Ua.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mZ(i,e){return cp(i,"POST","/v1/accounts:signUp",mo(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const s=await cr._fromIdTokenResponse(e,n,r),o=WM(n);return new zl({user:s,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=WM(n);return new zl({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function WM(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky extends mr{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ky.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ky(e,t,n,r)}}function GV(i,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ky._fromErrorAndOperation(i,s,e,n):s})}async function gZ(i,e,t=!1){const n=await Lf(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return zl._forOperation(i,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yZ(i,e,t=!1){const{auth:n}=i;if($i(n.app))return Promise.reject(qs(n));const r="reauthenticate";try{const s=await Lf(i,GV(n,r,e,i),t);Oe(s.idToken,n,"internal-error");const o=pE(s.idToken);Oe(o,n,"internal-error");const{sub:c}=o;return Oe(i.uid===c,n,"user-mismatch"),zl._forOperation(i,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&pr(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(i,e,t=!1){if($i(i.app))return Promise.reject(qs(i));const n="signIn",r=await GV(i,n,e),s=await zl._fromIdTokenResponse(i,n,r);return t||await i._updateCurrentUser(s.user),s}async function vZ(i,e){return KV(Jl(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(i){const e=Jl(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _Z(i,e,t){if($i(i.app))return Promise.reject(qs(i));const n=Jl(i),o=await vT(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mZ).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&$V(i),u}),c=await zl._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(c.user),c}function bZ(i,e,t){return $i(i.app)?Promise.reject(qs(i)):vZ(In(i),hh.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&$V(i),n})}function wZ(i,e,t,n){return In(i).onIdTokenChanged(e,t,n)}function TZ(i,e,t){return In(i).beforeAuthStateChanged(e,t)}function SZ(i){return In(i).signOut()}const Py="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Py,"1"),this.storage.removeItem(Py),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EZ=1e3,xZ=10;class XV extends QV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(n);!t&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);HX()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,xZ):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},EZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}XV.type="LOCAL";const DZ=XV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV extends QV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ZV.type="SESSION";const JV=ZV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AZ(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const n=new bv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const c=Array.from(o).map(async d=>d(t.origin,s)),u=await AZ(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(i="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{const d=vE("",20);r.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(g){const v=g;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return window}function RZ(i){Qr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(){return typeof Qr().WorkerGlobalScope<"u"&&typeof Qr().importScripts=="function"}async function CZ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MZ(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function kZ(){return eL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="firebaseLocalStorageDb",PZ=1,Oy="firebaseLocalStorage",nL="fbase_key";class hp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wv(i,e){return i.transaction([Oy],e?"readwrite":"readonly").objectStore(Oy)}function OZ(){const i=indexedDB.deleteDatabase(tL);return new hp(i).toPromise()}function _T(){const i=indexedDB.open(tL,PZ);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const n=i.result;try{n.createObjectStore(Oy,{keyPath:nL})}catch(r){t(r)}}),i.addEventListener("success",async()=>{const n=i.result;n.objectStoreNames.contains(Oy)?e(n):(n.close(),await OZ(),e(await _T()))})})}async function GM(i,e,t){const n=wv(i,!0).put({[nL]:e,value:t});return new hp(n).toPromise()}async function NZ(i,e){const t=wv(i,!1).get(e),n=await new hp(t).toPromise();return n===void 0?null:n.value}function KM(i,e){const t=wv(i,!0).delete(e);return new hp(t).toPromise()}const VZ=800,LZ=3;class iL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _T(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>LZ)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bv._getInstance(kZ()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await CZ(),!this.activeServiceWorker)return;this.sender=new IZ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _T();return await GM(e,Py,"1"),await KM(e,Py),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>GM(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>NZ(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>KM(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=wv(r,!1).getAll();return new hp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iL.type="LOCAL";const FZ=iL;new lp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BZ(i,e){return e?Ls(e):(Oe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E extends gE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function UZ(i){return KV(i.auth,new _E(i),i.bypassAuthState)}function jZ(i){const{auth:e,user:t}=i;return Oe(t,e,"internal-error"),yZ(t,new _E(i),i.bypassAuthState)}async function zZ(i){const{auth:e,user:t}=i;return Oe(t,e,"internal-error"),gZ(t,new _E(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,t,n,r,s=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UZ;case"linkViaPopup":case"linkViaRedirect":return zZ;case"reauthViaPopup":case"reauthViaRedirect":return jZ;default:pr(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HZ=new lp(2e3,1e4);class yu extends rL{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,yu.currentPopupAction&&yu.currentPopupAction.cancel(),yu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=vE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if((n=(t=this.authWindow)==null?void 0:t.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HZ.get())};e()}}yu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qZ="pendingRedirect",Lg=new Map;class YZ extends rL{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Lg.get(this.auth._key());if(!e){try{const n=await WZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Lg.set(this.auth._key(),e)}return this.bypassAuthState||Lg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WZ(i,e){const t=$Z(e),n=KZ(i);if(!await n._isAvailable())return!1;const r=await n._get(t)==="true";return await n._remove(t),r}function GZ(i,e){Lg.set(i._key(),e)}function KZ(i){return Ls(i._redirectPersistence)}function $Z(i){return Vg(qZ,i.config.apiKey,i.name)}async function QZ(i,e,t=!1){if($i(i.app))return Promise.reject(qs(i));const n=Jl(i),r=BZ(n,e),o=await new YZ(n,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZ=10*60*1e3;class ZZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JZ(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!sL(e)){const r=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";t.onError($r(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XZ&&this.cachedEventUids.clear(),this.cachedEventUids.has($M(e))}saveEventToCache(e){this.cachedEventUids.add($M(e)),this.lastProcessedEventTime=Date.now()}}function $M(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function sL({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JZ(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sL(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eJ(i,e={}){return go(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nJ=/^https?/;async function iJ(i){if(i.config.emulator)return;const{authorizedDomains:e}=await eJ(i);for(const t of e)try{if(rJ(t))return}catch{}pr(i,"unauthorized-domain")}function rJ(i){const e=gT(),{protocol:t,hostname:n}=new URL(e);if(i.startsWith("chrome-extension://")){const o=new URL(i);return o.hostname===""&&n===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===n}if(!nJ.test(t))return!1;if(tJ.test(i))return n===i;const r=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ=new lp(3e4,6e4);function QM(){const i=Qr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function aJ(i){return new Promise((e,t)=>{var r,s,o;function n(){QM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QM(),t($r(i,"network-request-failed"))},timeout:sJ.get()})}if((s=(r=Qr().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Qr().gapi)!=null&&o.load)n();else{const c=ZX("iframefcb");return Qr()[c]=()=>{gapi.load?n():t($r(i,"network-request-failed"))},HV(`${XX()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw Fg=null,e})}let Fg=null;function oJ(i){return Fg=Fg||aJ(i),Fg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJ=new lp(5e3,15e3),cJ="__/auth/iframe",uJ="emulator/auth/iframe",hJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fJ(i){const e=i.config;Oe(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?fE(e,uJ):`https://${i.config.authDomain}/${cJ}`,n={apiKey:e.apiKey,appName:i.name,v:uh},r=dJ.get(i.config.apiHost);r&&(n.eid=r);const s=i._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${op(n).slice(1)}`}async function pJ(i){const e=await oJ(i),t=Qr().gapi;return Oe(t,i,"internal-error"),e.open({where:document.body,url:fJ(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hJ,dontclear:!0},n=>new Promise(async(r,s)=>{await n.restyle({setHideOnLeave:!1});const o=$r(i,"network-request-failed"),c=Qr().setTimeout(()=>{s(o)},lJ.get());function u(){Qr().clearTimeout(c),r(n)}n.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gJ=500,yJ=600,vJ="_blank",_J="http://localhost";class XM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bJ(i,e,t,n=gJ,r=yJ){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const u={...mJ,width:n.toString(),height:r.toString(),top:s,left:o},d=vn().toLowerCase();t&&(c=VV(d)?vJ:t),OV(d)&&(e=e||_J,u.scrollbars="yes");const p=Object.entries(u).reduce((v,[b,T])=>`${v}${b}=${T},`,"");if(zX(d)&&c!=="_self")return wJ(e||"",c),new XM(null);const g=window.open(e||"",c,p);Oe(g,i,"popup-blocked");try{g.focus()}catch{}return new XM(g)}function wJ(i,e){const t=document.createElement("a");t.href=i,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TJ="__/auth/handler",SJ="emulator/auth/handler",EJ=encodeURIComponent("fac");async function ZM(i,e,t,n,r,s){Oe(i.config.authDomain,i,"auth-domain-config-required"),Oe(i.config.apiKey,i,"invalid-api-key");const o={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:n,v:uh,eventId:r};if(e instanceof WV){e.setDefaultLanguage(i.languageCode),o.providerId=e.providerId||"",IK(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof up){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}i.tenantId&&(o.tid=i.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await i._getAppCheckToken(),d=u?`#${EJ}=${encodeURIComponent(u)}`:"";return`${xJ(i)}?${op(c).slice(1)}${d}`}function xJ({config:i}){return i.emulator?fE(i,SJ):`https://${i.authDomain}/${TJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="webStorageSupport";class DJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JV,this._completeRedirectFn=QZ,this._overrideRedirectResult=GZ}async _openPopup(e,t,n,r){var o;$s((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await ZM(e,t,n,gT(),r);return bJ(e,s,vE())}async _openRedirect(e,t,n,r){await this._originValidation(e);const s=await ZM(e,t,n,gT(),r);return RZ(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):($s(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await pJ(e),n=new ZZ(e);return t.register("authEvent",r=>(Oe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pw,{type:pw},r=>{var o;const s=(o=r==null?void 0:r[0])==null?void 0:o[pw];s!==void 0&&t(!!s),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=iJ(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jV()||NV()||mE()}}const AJ=DJ;var JM="@firebase/auth",ek="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RJ(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CJ(i){ts(new fr("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;Oe(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:o,authDomain:c,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zV(i)},d=new KX(n,r,s,u);return rZ(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),ts(new fr("auth-internal",e=>{const t=Jl(e.getProvider("auth").getImmediate());return(n=>new IJ(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(JM,ek,RJ(i)),Zi(JM,ek,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ=5*60,kJ=H2("authIdTokenMaxAge")||MJ;let tk=null;const PJ=i=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>kJ)return;const r=t==null?void 0:t.token;tk!==r&&(tk=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function OJ(i=J2()){const e=Zl(i,"auth");if(e.isInitialized())return e.getImmediate();const t=iZ(i,{popupRedirectResolver:AJ,persistence:[FZ,DZ,JV]}),n=H2("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=PJ(s.toString());TZ(t,o,()=>o(t.currentUser)),wZ(t,c=>o(c))}}const r=mK("auth");return r&&sZ(t,`http://${r}`),t}function NJ(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}$X({loadJS(i){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",i),n.onload=e,n.onerror=r=>{const s=$r("internal-error");s.customData=r,t(s)},n.type="text/javascript",n.charset="UTF-8",NJ().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CJ("Browser");var nk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eo,aL;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,A){function I(){}I.prototype=A.prototype,M.D=A.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(F,L,B){for(var V=Array(arguments.length-2),me=2;me<arguments.length;me++)V[me-2]=arguments[me];return A.prototype[L].apply(F,V)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,A,I){I||(I=0);var F=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)F[L]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(L=0;16>L;++L)F[L]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=M.g[0],I=M.g[1],L=M.g[2];var B=M.g[3],V=A+(B^I&(L^B))+F[0]+3614090360&4294967295;A=I+(V<<7&4294967295|V>>>25),V=B+(L^A&(I^L))+F[1]+3905402710&4294967295,B=A+(V<<12&4294967295|V>>>20),V=L+(I^B&(A^I))+F[2]+606105819&4294967295,L=B+(V<<17&4294967295|V>>>15),V=I+(A^L&(B^A))+F[3]+3250441966&4294967295,I=L+(V<<22&4294967295|V>>>10),V=A+(B^I&(L^B))+F[4]+4118548399&4294967295,A=I+(V<<7&4294967295|V>>>25),V=B+(L^A&(I^L))+F[5]+1200080426&4294967295,B=A+(V<<12&4294967295|V>>>20),V=L+(I^B&(A^I))+F[6]+2821735955&4294967295,L=B+(V<<17&4294967295|V>>>15),V=I+(A^L&(B^A))+F[7]+4249261313&4294967295,I=L+(V<<22&4294967295|V>>>10),V=A+(B^I&(L^B))+F[8]+1770035416&4294967295,A=I+(V<<7&4294967295|V>>>25),V=B+(L^A&(I^L))+F[9]+2336552879&4294967295,B=A+(V<<12&4294967295|V>>>20),V=L+(I^B&(A^I))+F[10]+4294925233&4294967295,L=B+(V<<17&4294967295|V>>>15),V=I+(A^L&(B^A))+F[11]+2304563134&4294967295,I=L+(V<<22&4294967295|V>>>10),V=A+(B^I&(L^B))+F[12]+1804603682&4294967295,A=I+(V<<7&4294967295|V>>>25),V=B+(L^A&(I^L))+F[13]+4254626195&4294967295,B=A+(V<<12&4294967295|V>>>20),V=L+(I^B&(A^I))+F[14]+2792965006&4294967295,L=B+(V<<17&4294967295|V>>>15),V=I+(A^L&(B^A))+F[15]+1236535329&4294967295,I=L+(V<<22&4294967295|V>>>10),V=A+(L^B&(I^L))+F[1]+4129170786&4294967295,A=I+(V<<5&4294967295|V>>>27),V=B+(I^L&(A^I))+F[6]+3225465664&4294967295,B=A+(V<<9&4294967295|V>>>23),V=L+(A^I&(B^A))+F[11]+643717713&4294967295,L=B+(V<<14&4294967295|V>>>18),V=I+(B^A&(L^B))+F[0]+3921069994&4294967295,I=L+(V<<20&4294967295|V>>>12),V=A+(L^B&(I^L))+F[5]+3593408605&4294967295,A=I+(V<<5&4294967295|V>>>27),V=B+(I^L&(A^I))+F[10]+38016083&4294967295,B=A+(V<<9&4294967295|V>>>23),V=L+(A^I&(B^A))+F[15]+3634488961&4294967295,L=B+(V<<14&4294967295|V>>>18),V=I+(B^A&(L^B))+F[4]+3889429448&4294967295,I=L+(V<<20&4294967295|V>>>12),V=A+(L^B&(I^L))+F[9]+568446438&4294967295,A=I+(V<<5&4294967295|V>>>27),V=B+(I^L&(A^I))+F[14]+3275163606&4294967295,B=A+(V<<9&4294967295|V>>>23),V=L+(A^I&(B^A))+F[3]+4107603335&4294967295,L=B+(V<<14&4294967295|V>>>18),V=I+(B^A&(L^B))+F[8]+1163531501&4294967295,I=L+(V<<20&4294967295|V>>>12),V=A+(L^B&(I^L))+F[13]+2850285829&4294967295,A=I+(V<<5&4294967295|V>>>27),V=B+(I^L&(A^I))+F[2]+4243563512&4294967295,B=A+(V<<9&4294967295|V>>>23),V=L+(A^I&(B^A))+F[7]+1735328473&4294967295,L=B+(V<<14&4294967295|V>>>18),V=I+(B^A&(L^B))+F[12]+2368359562&4294967295,I=L+(V<<20&4294967295|V>>>12),V=A+(I^L^B)+F[5]+4294588738&4294967295,A=I+(V<<4&4294967295|V>>>28),V=B+(A^I^L)+F[8]+2272392833&4294967295,B=A+(V<<11&4294967295|V>>>21),V=L+(B^A^I)+F[11]+1839030562&4294967295,L=B+(V<<16&4294967295|V>>>16),V=I+(L^B^A)+F[14]+4259657740&4294967295,I=L+(V<<23&4294967295|V>>>9),V=A+(I^L^B)+F[1]+2763975236&4294967295,A=I+(V<<4&4294967295|V>>>28),V=B+(A^I^L)+F[4]+1272893353&4294967295,B=A+(V<<11&4294967295|V>>>21),V=L+(B^A^I)+F[7]+4139469664&4294967295,L=B+(V<<16&4294967295|V>>>16),V=I+(L^B^A)+F[10]+3200236656&4294967295,I=L+(V<<23&4294967295|V>>>9),V=A+(I^L^B)+F[13]+681279174&4294967295,A=I+(V<<4&4294967295|V>>>28),V=B+(A^I^L)+F[0]+3936430074&4294967295,B=A+(V<<11&4294967295|V>>>21),V=L+(B^A^I)+F[3]+3572445317&4294967295,L=B+(V<<16&4294967295|V>>>16),V=I+(L^B^A)+F[6]+76029189&4294967295,I=L+(V<<23&4294967295|V>>>9),V=A+(I^L^B)+F[9]+3654602809&4294967295,A=I+(V<<4&4294967295|V>>>28),V=B+(A^I^L)+F[12]+3873151461&4294967295,B=A+(V<<11&4294967295|V>>>21),V=L+(B^A^I)+F[15]+530742520&4294967295,L=B+(V<<16&4294967295|V>>>16),V=I+(L^B^A)+F[2]+3299628645&4294967295,I=L+(V<<23&4294967295|V>>>9),V=A+(L^(I|~B))+F[0]+4096336452&4294967295,A=I+(V<<6&4294967295|V>>>26),V=B+(I^(A|~L))+F[7]+1126891415&4294967295,B=A+(V<<10&4294967295|V>>>22),V=L+(A^(B|~I))+F[14]+2878612391&4294967295,L=B+(V<<15&4294967295|V>>>17),V=I+(B^(L|~A))+F[5]+4237533241&4294967295,I=L+(V<<21&4294967295|V>>>11),V=A+(L^(I|~B))+F[12]+1700485571&4294967295,A=I+(V<<6&4294967295|V>>>26),V=B+(I^(A|~L))+F[3]+2399980690&4294967295,B=A+(V<<10&4294967295|V>>>22),V=L+(A^(B|~I))+F[10]+4293915773&4294967295,L=B+(V<<15&4294967295|V>>>17),V=I+(B^(L|~A))+F[1]+2240044497&4294967295,I=L+(V<<21&4294967295|V>>>11),V=A+(L^(I|~B))+F[8]+1873313359&4294967295,A=I+(V<<6&4294967295|V>>>26),V=B+(I^(A|~L))+F[15]+4264355552&4294967295,B=A+(V<<10&4294967295|V>>>22),V=L+(A^(B|~I))+F[6]+2734768916&4294967295,L=B+(V<<15&4294967295|V>>>17),V=I+(B^(L|~A))+F[13]+1309151649&4294967295,I=L+(V<<21&4294967295|V>>>11),V=A+(L^(I|~B))+F[4]+4149444226&4294967295,A=I+(V<<6&4294967295|V>>>26),V=B+(I^(A|~L))+F[11]+3174756917&4294967295,B=A+(V<<10&4294967295|V>>>22),V=L+(A^(B|~I))+F[2]+718787259&4294967295,L=B+(V<<15&4294967295|V>>>17),V=I+(B^(L|~A))+F[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+B&4294967295}n.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var I=A-this.blockSize,F=this.B,L=this.h,B=0;B<A;){if(L==0)for(;B<=I;)r(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<A;)if(F[L++]=M.charCodeAt(B++),L==this.blockSize){r(this,F),L=0;break}}else for(;B<A;)if(F[L++]=M[B++],L==this.blockSize){r(this,F),L=0;break}}this.h=L,this.o+=A},n.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var I=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=I&255,I/=256;for(this.u(M),M=Array(16),A=I=0;4>A;++A)for(var F=0;32>F;F+=8)M[I++]=this.g[A]>>>F&255;return M};function s(M,A){var I=c;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=A(M)}function o(M,A){this.h=A;for(var I=[],F=!0,L=M.length-1;0<=L;L--){var B=M[L]|0;F&&B==A||(I[L]=B,F=!1)}this.g=I}var c={};function u(M){return-128<=M&&128>M?s(M,function(A){return new o([A|0],0>A?-1:0)}):new o([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return g;if(0>M)return E(d(-M));for(var A=[],I=1,F=0;M>=I;F++)A[F]=M/I|0,I*=4294967296;return new o(A,0)}function p(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return E(p(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(A,8)),F=g,L=0;L<M.length;L+=8){var B=Math.min(8,M.length-L),V=parseInt(M.substring(L,L+B),A);8>B?(B=d(Math.pow(A,B)),F=F.j(B).add(d(V))):(F=F.j(I),F=F.add(d(V)))}return F}var g=u(0),v=u(1),b=u(16777216);i=o.prototype,i.m=function(){if(S(this))return-E(this).m();for(var M=0,A=1,I=0;I<this.g.length;I++){var F=this.i(I);M+=(0<=F?F:4294967296+F)*A,A*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(T(this))return"0";if(S(this))return"-"+E(this).toString(M);for(var A=d(Math.pow(M,6)),I=this,F="";;){var L=z(I,A).g;I=R(I,L.j(A));var B=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=L,T(I))return B+F;for(;6>B.length;)B="0"+B;F=B+F}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function T(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function S(M){return M.h==-1}i.l=function(M){return M=R(this,M),S(M)?-1:T(M)?0:1};function E(M){for(var A=M.g.length,I=[],F=0;F<A;F++)I[F]=~M.g[F];return new o(I,~M.h).add(v)}i.abs=function(){return S(this)?E(this):this},i.add=function(M){for(var A=Math.max(this.g.length,M.g.length),I=[],F=0,L=0;L<=A;L++){var B=F+(this.i(L)&65535)+(M.i(L)&65535),V=(B>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);F=V>>>16,B&=65535,V&=65535,I[L]=V<<16|B}return new o(I,I[I.length-1]&-2147483648?-1:0)};function R(M,A){return M.add(E(A))}i.j=function(M){if(T(this)||T(M))return g;if(S(this))return S(M)?E(this).j(E(M)):E(E(this).j(M));if(S(M))return E(this.j(E(M)));if(0>this.l(b)&&0>M.l(b))return d(this.m()*M.m());for(var A=this.g.length+M.g.length,I=[],F=0;F<2*A;F++)I[F]=0;for(F=0;F<this.g.length;F++)for(var L=0;L<M.g.length;L++){var B=this.i(F)>>>16,V=this.i(F)&65535,me=M.i(L)>>>16,pe=M.i(L)&65535;I[2*F+2*L]+=V*pe,P(I,2*F+2*L),I[2*F+2*L+1]+=B*pe,P(I,2*F+2*L+1),I[2*F+2*L+1]+=V*me,P(I,2*F+2*L+1),I[2*F+2*L+2]+=B*me,P(I,2*F+2*L+2)}for(F=0;F<A;F++)I[F]=I[2*F+1]<<16|I[2*F];for(F=A;F<2*A;F++)I[F]=0;return new o(I,0)};function P(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function O(M,A){this.g=M,this.h=A}function z(M,A){if(T(A))throw Error("division by zero");if(T(M))return new O(g,g);if(S(M))return A=z(E(M),A),new O(E(A.g),E(A.h));if(S(A))return A=z(M,E(A)),new O(E(A.g),A.h);if(30<M.g.length){if(S(M)||S(A))throw Error("slowDivide_ only works with positive integers.");for(var I=v,F=A;0>=F.l(M);)I=U(I),F=U(F);var L=K(I,1),B=K(F,1);for(F=K(F,2),I=K(I,2);!T(F);){var V=B.add(F);0>=V.l(M)&&(L=L.add(I),B=V),F=K(F,1),I=K(I,1)}return A=R(M,L.j(A)),new O(L,A)}for(L=g;0<=M.l(A);){for(I=Math.max(1,Math.floor(M.m()/A.m())),F=Math.ceil(Math.log(I)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),B=d(I),V=B.j(A);S(V)||0<V.l(M);)I-=F,B=d(I),V=B.j(A);T(B)&&(B=v),L=L.add(B),M=R(M,V)}return new O(L,M)}i.A=function(M){return z(this,M).h},i.and=function(M){for(var A=Math.max(this.g.length,M.g.length),I=[],F=0;F<A;F++)I[F]=this.i(F)&M.i(F);return new o(I,this.h&M.h)},i.or=function(M){for(var A=Math.max(this.g.length,M.g.length),I=[],F=0;F<A;F++)I[F]=this.i(F)|M.i(F);return new o(I,this.h|M.h)},i.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),I=[],F=0;F<A;F++)I[F]=this.i(F)^M.i(F);return new o(I,this.h^M.h)};function U(M){for(var A=M.g.length+1,I=[],F=0;F<A;F++)I[F]=M.i(F)<<1|M.i(F-1)>>>31;return new o(I,M.h)}function K(M,A){var I=A>>5;A%=32;for(var F=M.g.length-I,L=[],B=0;B<F;B++)L[B]=0<A?M.i(B+I)>>>A|M.i(B+I+1)<<32-A:M.i(B+I);return new o(L,M.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,aL=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,eo=o}).apply(typeof nk<"u"?nk:typeof self<"u"?self:typeof window<"u"?window:{});var dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oL,Xd,lL,Bg,bT,cL,uL,hL;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,w,x){return m==Array.prototype||m==Object.prototype||(m[w]=x.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof dg=="object"&&dg];for(var w=0;w<m.length;++w){var x=m[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var n=t(this);function r(m,w){if(w)e:{var x=n;m=m.split(".");for(var N=0;N<m.length-1;N++){var Z=m[N];if(!(Z in x))break e;x=x[Z]}m=m[m.length-1],N=x[m],w=w(N),w!=N&&w!=null&&e(x,m,{configurable:!0,writable:!0,value:w})}}function s(m,w){m instanceof String&&(m+="");var x=0,N=!1,Z={next:function(){if(!N&&x<m.length){var se=x++;return{value:w(se,m[se]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}r("Array.prototype.values",function(m){return m||function(){return s(this,function(w,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(m){var w=typeof m;return w=w!="object"?w:m?Array.isArray(m)?"array":w:"null",w=="array"||w=="object"&&typeof m.length=="number"}function d(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function p(m,w,x){return m.call.apply(m.bind,arguments)}function g(m,w,x){if(!m)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,N),m.apply(w,Z)}}return function(){return m.apply(w,arguments)}}function v(m,w,x){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,v.apply(null,arguments)}function b(m,w){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),m.apply(this,N)}}function T(m,w){function x(){}x.prototype=w.prototype,m.aa=w.prototype,m.prototype=new x,m.prototype.constructor=m,m.Qb=function(N,Z,se){for(var ve=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ve[$e-2]=arguments[$e];return w.prototype[Z].apply(N,ve)}}function S(m){const w=m.length;if(0<w){const x=Array(w);for(let N=0;N<w;N++)x[N]=m[N];return x}return[]}function E(m,w){for(let x=1;x<arguments.length;x++){const N=arguments[x];if(u(N)){const Z=m.length||0,se=N.length||0;m.length=Z+se;for(let ve=0;ve<se;ve++)m[Z+ve]=N[ve]}else m.push(N)}}class R{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function P(m){return/^[\s\xa0]*$/.test(m)}function O(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function z(m){return z[" "](m),m}z[" "]=function(){};var U=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function K(m,w,x){for(const N in m)w.call(x,m[N],N,m)}function M(m,w){for(const x in m)w.call(void 0,m[x],x,m)}function A(m){const w={};for(const x in m)w[x]=m[x];return w}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(m,w){let x,N;for(let Z=1;Z<arguments.length;Z++){N=arguments[Z];for(x in N)m[x]=N[x];for(let se=0;se<I.length;se++)x=I[se],Object.prototype.hasOwnProperty.call(N,x)&&(m[x]=N[x])}}function L(m){var w=1;m=m.split(":");const x=[];for(;0<w&&m.length;)x.push(m.shift()),w--;return m.length&&x.push(m.join(":")),x}function B(m){c.setTimeout(()=>{throw m},0)}function V(){var m=X;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class me{constructor(){this.h=this.g=null}add(w,x){const N=pe.get();N.set(w,x),this.h?this.h.next=N:this.g=N,this.h=N}}var pe=new R(()=>new q,m=>m.reset());class q{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let G,ae=!1,X=new me,k=()=>{const m=c.Promise.resolve(void 0);G=()=>{m.then(W)}};var W=()=>{for(var m;m=V();){try{m.h.call(m.g)}catch(x){B(x)}var w=pe;w.j(m),100>w.h&&(w.h++,m.next=w.g,w.g=m)}ae=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const x=()=>{};c.addEventListener("test",x,w),c.removeEventListener("test",x,w)}catch{}return m}();function De(m,w){if(ie.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var x=this.type=m.type,N=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget){if(U){e:{try{z(w.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(w=null)}}else x=="mouseover"?w=m.fromElement:x=="mouseout"&&(w=m.toElement);this.relatedTarget=w,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Te[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&De.aa.h.call(this)}}T(De,ie);var Te={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ke(m,w,x,N,Z){this.listener=m,this.proxy=null,this.src=w,this.type=x,this.capture=!!N,this.ha=Z,this.key=++Be,this.da=this.fa=!1}function Le(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function et(m){this.src=m,this.g={},this.h=0}et.prototype.add=function(m,w,x,N,Z){var se=m.toString();m=this.g[se],m||(m=this.g[se]=[],this.h++);var ve=tn(m,w,N,Z);return-1<ve?(w=m[ve],x||(w.fa=!1)):(w=new ke(w,this.src,se,!!N,Z),w.fa=x,m.push(w)),w};function en(m,w){var x=w.type;if(x in m.g){var N=m.g[x],Z=Array.prototype.indexOf.call(N,w,void 0),se;(se=0<=Z)&&Array.prototype.splice.call(N,Z,1),se&&(Le(w),m.g[x].length==0&&(delete m.g[x],m.h--))}}function tn(m,w,x,N){for(var Z=0;Z<m.length;++Z){var se=m[Z];if(!se.da&&se.listener==w&&se.capture==!!x&&se.ha==N)return Z}return-1}var bn="closure_lm_"+(1e6*Math.random()|0),nc={};function ta(m,w,x,N,Z){if(Array.isArray(w)){for(var se=0;se<w.length;se++)ta(m,w[se],x,N,Z);return null}return x=_p(x),m&&m[Je]?m.K(w,x,d(N)?!!N.capture:!1,Z):ii(m,w,x,!1,N,Z)}function ii(m,w,x,N,Z,se){if(!w)throw Error("Invalid event type");var ve=d(Z)?!!Z.capture:!!Z,$e=rc(m);if($e||(m[bn]=$e=new et(m)),x=$e.add(w,x,N,ve,se),x.proxy)return x;if(N=$v(),x.proxy=N,N.src=m,N.listener=x,m.addEventListener)ye||(Z=ve),Z===void 0&&(Z=!1),m.addEventListener(w.toString(),N,Z);else if(m.attachEvent)m.attachEvent(To(w.toString()),N);else if(m.addListener&&m.removeListener)m.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function $v(){function m(x){return w.call(m.src,m.listener,x)}const w=Qv;return m}function yh(m,w,x,N,Z){if(Array.isArray(w))for(var se=0;se<w.length;se++)yh(m,w[se],x,N,Z);else N=d(N)?!!N.capture:!!N,x=_p(x),m&&m[Je]?(m=m.i,w=String(w).toString(),w in m.g&&(se=m.g[w],x=tn(se,x,N,Z),-1<x&&(Le(se[x]),Array.prototype.splice.call(se,x,1),se.length==0&&(delete m.g[w],m.h--)))):m&&(m=rc(m))&&(w=m.g[w.toString()],m=-1,w&&(m=tn(w,x,N,Z)),(x=-1<m?w[m]:null)&&ic(x))}function ic(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[Je])en(w.i,m);else{var x=m.type,N=m.proxy;w.removeEventListener?w.removeEventListener(x,N,m.capture):w.detachEvent?w.detachEvent(To(x),N):w.addListener&&w.removeListener&&w.removeListener(N),(x=rc(w))?(en(x,m),x.h==0&&(x.src=null,w[bn]=null)):Le(m)}}}function To(m){return m in nc?nc[m]:nc[m]="on"+m}function Qv(m,w){if(m.da)m=!0;else{w=new De(w,this);var x=m.listener,N=m.ha||m.src;m.fa&&ic(m),m=x.call(N,w)}return m}function rc(m){return m=m[bn],m instanceof et?m:null}var vh="__closure_events_fn_"+(1e9*Math.random()>>>0);function _p(m){return typeof m=="function"?m:(m[vh]||(m[vh]=function(w){return m.handleEvent(w)}),m[vh])}function Bt(){oe.call(this),this.i=new et(this),this.M=this,this.F=null}T(Bt,oe),Bt.prototype[Je]=!0,Bt.prototype.removeEventListener=function(m,w,x,N){yh(this,m,w,x,N)};function ht(m,w){var x,N=m.F;if(N)for(x=[];N;N=N.F)x.push(N);if(m=m.M,N=w.type||w,typeof w=="string")w=new ie(w,m);else if(w instanceof ie)w.target=w.target||m;else{var Z=w;w=new ie(N,m),F(w,Z)}if(Z=!0,x)for(var se=x.length-1;0<=se;se--){var ve=w.g=x[se];Z=mi(ve,N,!0,w)&&Z}if(ve=w.g=m,Z=mi(ve,N,!0,w)&&Z,Z=mi(ve,N,!1,w)&&Z,x)for(se=0;se<x.length;se++)ve=w.g=x[se],Z=mi(ve,N,!1,w)&&Z}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var m=this.i,w;for(w in m.g){for(var x=m.g[w],N=0;N<x.length;N++)Le(x[N]);delete m.g[w],m.h--}}this.F=null},Bt.prototype.K=function(m,w,x,N){return this.i.add(String(m),w,!1,x,N)},Bt.prototype.L=function(m,w,x,N){return this.i.add(String(m),w,!0,x,N)};function mi(m,w,x,N){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();for(var Z=!0,se=0;se<w.length;++se){var ve=w[se];if(ve&&!ve.da&&ve.capture==x){var $e=ve.listener,fn=ve.ha||ve.src;ve.fa&&en(m.i,ve),Z=$e.call(fn,N)!==!1&&Z}}return Z&&!N.defaultPrevented}function Fn(m,w,x){if(typeof m=="function")x&&(m=v(m,x));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(m,w||0)}function bp(m){m.g=Fn(()=>{m.g=null,m.i&&(m.i=!1,bp(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class Xv extends oe{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:bp(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function So(m){oe.call(this),this.h=m,this.g={}}T(So,oe);var Eo=[];function xo(m){K(m.g,function(w,x){this.g.hasOwnProperty(x)&&ic(w)},m),m.g={}}So.prototype.N=function(){So.aa.N.call(this),xo(this)},So.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tr=c.JSON.stringify,sc=c.JSON.parse,Do=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function _h(){}_h.prototype.h=null;function bh(m){return m.h||(m.h=m.i())}function wh(){}var as={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function os(){ie.call(this,"d")}T(os,ie);function Th(){ie.call(this,"c")}T(Th,ie);var gr={},Sh=null;function na(){return Sh=Sh||new Bt}gr.La="serverreachability";function ac(m){ie.call(this,gr.La,m)}T(ac,ie);function ia(m){const w=na();ht(w,new ac(w))}gr.STAT_EVENT="statevent";function wp(m,w){ie.call(this,gr.STAT_EVENT,m),this.stat=w}T(wp,ie);function Ct(m){const w=na();ht(w,new wp(w,m))}gr.Ma="timingevent";function dn(m,w){ie.call(this,gr.Ma,m),this.size=w}T(dn,ie);function nn(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},w)}function Mi(){this.g=!0}Mi.prototype.xa=function(){this.g=!1};function Eh(m,w,x,N,Z,se){m.info(function(){if(m.g)if(se)for(var ve="",$e=se.split("&"),fn=0;fn<$e.length;fn++){var Qe=$e[fn].split("=");if(1<Qe.length){var Tn=Qe[0];Qe=Qe[1];var pn=Tn.split("_");ve=2<=pn.length&&pn[1]=="type"?ve+(Tn+"="+Qe+"&"):ve+(Tn+"=redacted&")}}else ve=null;else ve=se;return"XMLHTTP REQ ("+N+") [attempt "+Z+"]: "+w+`
`+x+`
`+ve})}function Zv(m,w,x,N,Z,se,ve){m.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Z+"]: "+w+`
`+x+`
`+se+" "+ve})}function ra(m,w,x,N){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ao(m,x)+(N?" "+N:"")})}function Tp(m,w){m.info(function(){return"TIMEOUT: "+w})}Mi.prototype.info=function(){};function Ao(m,w){if(!m.g)return w;if(!w)return null;try{var x=JSON.parse(w);if(x){for(m=0;m<x.length;m++)if(Array.isArray(x[m])){var N=x[m];if(!(2>N.length)){var Z=N[1];if(Array.isArray(Z)&&!(1>Z.length)){var se=Z[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ve=1;ve<Z.length;ve++)Z[ve]=""}}}}return tr(x)}catch{return w}}var sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ls={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yr;function vr(){}T(vr,_h),vr.prototype.g=function(){return new XMLHttpRequest},vr.prototype.i=function(){return{}},yr=new vr;function $n(m,w,x,N){this.j=m,this.i=w,this.l=x,this.R=N||1,this.U=new So(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yt}function Yt(){this.i=null,this.g="",this.h=!1}var xh={},oc={};function nr(m,w,x){m.L=1,m.v=ko(gi(w)),m.m=x,m.P=!0,cs(m,null)}function cs(m,w){m.F=Date.now(),Io(m),m.A=gi(m.v);var x=m.A,N=m.R;Array.isArray(N)||(N=[String(N)]),Mh(x.i,"t",N),m.C=0,x=m.j.J,m.h=new Yt,m.g=Fp(m.j,x?w:null,!m.m),0<m.O&&(m.M=new Xv(v(m.Y,m,m.g),m.O)),w=m.U,x=m.g,N=m.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Eo[0]=Z.toString()),Z=Eo);for(var se=0;se<Z.length;se++){var ve=ta(x,Z[se],N||w.handleEvent,!1,w.h||w);if(!ve)break;w.g[ve.key]=ve}w=m.H?A(m.H):{},m.m?(m.u||(m.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,w)):(m.u="GET",m.g.ea(m.A,m.u,null,w)),ia(),Eh(m.i,m.u,m.A,m.l,m.R,m.m)}$n.prototype.ca=function(m){m=m.target;const w=this.M;w&&Ni(m)==3?w.j():this.Y(m)},$n.prototype.Y=function(m){try{if(m==this.g)e:{const pn=Ni(this.g);var w=this.g.Ba();const ys=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||Cp(this.g)))){this.J||pn!=4||w==7||(w==8||0>=ys?ia(3):ia(2)),aa(this);var x=this.g.Z();this.X=x;t:if(Sp(this)){var N=Cp(this.g);m="";var Z=N.length,se=Ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),_r(this);var ve="";break t}this.h.i=new c.TextDecoder}for(w=0;w<Z;w++)this.h.h=!0,m+=this.h.i.decode(N[w],{stream:!(se&&w==Z-1)});N.length=0,this.h.g+=m,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=x==200,Zv(this.i,this.u,this.A,this.l,this.R,pn,x),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,fn=this.g;if(($e=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P($e)){var Qe=$e;break t}}Qe=null}if(x=Qe)ra(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ro(this,x);else{this.o=!1,this.s=3,Ct(12),Cn(this),_r(this);break e}}if(this.P){x=!0;let Mn;for(;!this.J&&this.C<ve.length;)if(Mn=Ep(this,ve),Mn==oc){pn==4&&(this.s=4,Ct(14),x=!1),ra(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==xh){this.s=4,Ct(15),ra(this.i,this.l,ve,"[Invalid Chunk]"),x=!1;break}else ra(this.i,this.l,Mn,null),Ro(this,Mn);if(Sp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||ve.length!=0||this.h.h||(this.s=1,Ct(16),x=!1),this.o=this.o&&x,!x)ra(this.i,this.l,ve,"[Invalid Chunked Response]"),Cn(this),_r(this);else if(0<ve.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Uo(Tn),Tn.M=!0,Ct(11))}}else ra(this.i,this.l,ve,null),Ro(this,ve);pn==4&&Cn(this),this.o&&!this.J&&(pn==4?Np(this.j,this):(this.o=!1,Io(this)))}else i_(this.g),x==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Cn(this),_r(this)}}}catch{}finally{}};function Sp(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ep(m,w){var x=m.C,N=w.indexOf(`
`,x);return N==-1?oc:(x=Number(w.substring(x,N)),isNaN(x)?xh:(N+=1,N+x>w.length?oc:(w=w.slice(N,N+x),m.C=N+x,w)))}$n.prototype.cancel=function(){this.J=!0,Cn(this)};function Io(m){m.S=Date.now()+m.I,xp(m,m.I)}function xp(m,w){if(m.B!=null)throw Error("WatchDog timer not null");m.B=nn(v(m.ba,m),w)}function aa(m){m.B&&(c.clearTimeout(m.B),m.B=null)}$n.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Tp(this.i,this.A),this.L!=2&&(ia(),Ct(17)),Cn(this),this.s=2,_r(this)):xp(this,this.S-m)};function _r(m){m.j.G==0||m.J||Np(m.j,m)}function Cn(m){aa(m);var w=m.M;w&&typeof w.ma=="function"&&w.ma(),m.M=null,xo(m.U),m.g&&(w=m.g,m.g=null,w.abort(),w.ma())}function Ro(m,w){try{var x=m.j;if(x.G!=0&&(x.g==m||Dh(x.h,m))){if(!m.K&&Dh(x.h,m)&&x.G==3){try{var N=x.Da.g.parse(w)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Z=N;if(Z[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<m.F)_c(x),yc(x);else break e;Vh(x),Ct(18)}}else x.za=Z[1],0<x.za-x.T&&37500>Z[2]&&x.F&&x.v==0&&!x.C&&(x.C=nn(v(x.Za,x),6e3));if(1>=cc(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else gs(x,11)}else if((m.K||x.g==m)&&_c(x),!P(w))for(Z=x.Da.g.parse(w),w=0;w<Z.length;w++){let Qe=Z[w];if(x.T=Qe[0],Qe=Qe[1],x.G==2)if(Qe[0]=="c"){x.K=Qe[1],x.ia=Qe[2];const Tn=Qe[3];Tn!=null&&(x.la=Tn,x.j.info("VER="+x.la));const pn=Qe[4];pn!=null&&(x.Aa=pn,x.j.info("SVER="+x.Aa));const ys=Qe[5];ys!=null&&typeof ys=="number"&&0<ys&&(N=1.5*ys,x.L=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const Mn=m.g;if(Mn){const Dr=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var se=N.h;se.g||Dr.indexOf("spdy")==-1&&Dr.indexOf("quic")==-1&&Dr.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(uc(se,se.h),se.h=null))}if(N.D){const Fh=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fh&&(N.ya=Fh,_t(N.I,N.D,Fh))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-m.F,x.j.info("Handshake RTT: "+x.R+"ms")),N=x;var ve=m;if(N.qa=Lp(N,N.J?N.ia:null,N.W),ve.K){Qn(N.h,ve);var $e=ve,fn=N.L;fn&&($e.I=fn),$e.B&&(aa($e),Io($e)),N.g=ve}else Pp(N);0<x.i.length&&vc(x)}else Qe[0]!="stop"&&Qe[0]!="close"||gs(x,7);else x.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?gs(x,7):Oh(x):Qe[0]!="noop"&&x.l&&x.l.ta(Qe),x.v=0)}}ia(4)}catch{}}var Dp=class{constructor(m,w){this.g=m,this.map=w}};function us(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function cc(m){return m.h?1:m.g?m.g.size:0}function Dh(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function uc(m,w){m.g?m.g.add(w):m.h=w}function Qn(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}us.prototype.cancel=function(){if(this.i=Ah(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ah(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const x of m.g.values())w=w.concat(x.D);return w}return S(m.i)}function Jv(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(u(m)){for(var w=[],x=m.length,N=0;N<x;N++)w.push(m[N]);return w}w=[],x=0;for(N in m)w[x++]=m[N];return w}function hc(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(u(m)||typeof m=="string"){var w=[];m=m.length;for(var x=0;x<m;x++)w.push(x);return w}w=[],x=0;for(const N in m)w[x++]=N;return w}}}function Ih(m,w){if(m.forEach&&typeof m.forEach=="function")m.forEach(w,void 0);else if(u(m)||typeof m=="string")Array.prototype.forEach.call(m,w,void 0);else for(var x=hc(m),N=Jv(m),Z=N.length,se=0;se<Z;se++)w.call(void 0,N[se],x&&x[se],m)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e_(m,w){if(m){m=m.split("&");for(var x=0;x<m.length;x++){var N=m[x].indexOf("="),Z=null;if(0<=N){var se=m[x].substring(0,N);Z=m[x].substring(N+1)}else se=m[x];w(se,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function rn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof rn){this.h=m.h,Mo(this,m.j),this.o=m.o,this.g=m.g,oa(this,m.s),this.l=m.l;var w=m.i,x=new ds;x.i=w.i,w.g&&(x.g=new Map(w.g),x.h=w.h),hs(this,x),this.m=m.m}else m&&(w=String(m).match(Co))?(this.h=!1,Mo(this,w[1]||"",!0),this.o=ki(w[2]||""),this.g=ki(w[3]||"",!0),oa(this,w[4]),this.l=ki(w[5]||"",!0),hs(this,w[6]||"",!0),this.m=ki(w[7]||"")):(this.h=!1,this.i=new ds(null,this.h))}rn.prototype.toString=function(){var m=[],w=this.j;w&&m.push(Po(w,Rh,!0),":");var x=this.g;return(x||w=="file")&&(m.push("//"),(w=this.o)&&m.push(Po(w,Rh,!0),"@"),m.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&m.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&m.push("/"),m.push(Po(x,x.charAt(0)=="/"?t_:Ch,!0))),(x=this.i.toString())&&m.push("?",x),(x=this.m)&&m.push("#",Po(x,dc)),m.join("")};function gi(m){return new rn(m)}function Mo(m,w,x){m.j=x?ki(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function oa(m,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);m.s=w}else m.s=null}function hs(m,w,x){w instanceof ds?(m.i=w,Ip(m.i,m.h)):(x||(w=Po(w,n_)),m.i=new ds(w,m.h))}function _t(m,w,x){m.i.set(w,x)}function ko(m){return _t(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ki(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Po(m,w,x){return typeof m=="string"?(m=encodeURI(m).replace(w,Ap),x&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ap(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Rh=/[#\/\?@]/g,Ch=/[#\?:]/g,t_=/[#\?]/g,n_=/[#\?@]/g,dc=/#/g;function ds(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function Pi(m){m.g||(m.g=new Map,m.h=0,m.i&&e_(m.i,function(w,x){m.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}i=ds.prototype,i.add=function(m,w){Pi(this),this.i=null,m=br(this,m);var x=this.g.get(m);return x||this.g.set(m,x=[]),x.push(w),this.h+=1,this};function fs(m,w){Pi(m),w=br(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function ps(m,w){return Pi(m),w=br(m,w),m.g.has(w)}i.forEach=function(m,w){Pi(this),this.g.forEach(function(x,N){x.forEach(function(Z){m.call(w,Z,N,this)},this)},this)},i.na=function(){Pi(this);const m=Array.from(this.g.values()),w=Array.from(this.g.keys()),x=[];for(let N=0;N<w.length;N++){const Z=m[N];for(let se=0;se<Z.length;se++)x.push(w[N])}return x},i.V=function(m){Pi(this);let w=[];if(typeof m=="string")ps(this,m)&&(w=w.concat(this.g.get(br(this,m))));else{m=Array.from(this.g.values());for(let x=0;x<m.length;x++)w=w.concat(m[x])}return w},i.set=function(m,w){return Pi(this),this.i=null,m=br(this,m),ps(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},i.get=function(m,w){return m?(m=this.V(m),0<m.length?String(m[0]):w):w};function Mh(m,w,x){fs(m,w),0<x.length&&(m.i=null,m.g.set(br(m,w),S(x)),m.h+=x.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(var x=0;x<w.length;x++){var N=w[x];const se=encodeURIComponent(String(N)),ve=this.V(N);for(N=0;N<ve.length;N++){var Z=se;ve[N]!==""&&(Z+="="+encodeURIComponent(String(ve[N]))),m.push(Z)}}return this.i=m.join("&")};function br(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function Ip(m,w){w&&!m.j&&(Pi(m),m.i=null,m.g.forEach(function(x,N){var Z=N.toLowerCase();N!=Z&&(fs(this,N),Mh(this,Z,x))},m)),m.j=w}function Oo(m,w){const x=new Mi;if(c.Image){const N=new Image;N.onload=b(Oi,x,"TestLoadImage: loaded",!0,w,N),N.onerror=b(Oi,x,"TestLoadImage: error",!1,w,N),N.onabort=b(Oi,x,"TestLoadImage: abort",!1,w,N),N.ontimeout=b(Oi,x,"TestLoadImage: timeout",!1,w,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=m}else w(!1)}function ir(m,w){const x=new Mi,N=new AbortController,Z=setTimeout(()=>{N.abort(),Oi(x,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:N.signal}).then(se=>{clearTimeout(Z),se.ok?Oi(x,"TestPingServer: ok",!0,w):Oi(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Z),Oi(x,"TestPingServer: error",!1,w)})}function Oi(m,w,x,N,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),N(x)}catch{}}function No(){this.g=new Do}function wr(m,w,x){const N=x||"";try{Ih(m,function(Z,se){let ve=Z;d(Z)&&(ve=tr(Z)),w.push(N+se+"="+encodeURIComponent(ve))})}catch(Z){throw w.push(N+"type="+encodeURIComponent("_badmap")),Z}}function la(m){this.l=m.Ub||null,this.j=m.eb||!1}T(la,_h),la.prototype.g=function(){return new ms(this.l,this.j)},la.prototype.i=function(m){return function(){return m}}({});function ms(m,w){Bt.call(this),this.D=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(ms,Bt),i=ms.prototype,i.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=w,this.readyState=1,Sr(this)},i.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(w.body=m),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},i.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function kh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}i.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?Tr(this):Sr(this),this.readyState==3&&kh(this)}},i.Ra=function(m){this.g&&(this.response=this.responseText=m,Tr(this))},i.Qa=function(m){this.g&&(this.response=m,Tr(this))},i.ga=function(){this.g&&Tr(this)};function Tr(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Sr(m)}i.setRequestHeader=function(m,w){this.u.append(m,w)},i.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,m.push(x[0]+": "+x[1]),x=w.next();return m.join(`\r
`)};function Sr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ph(m){let w="";return K(m,function(x,N){w+=N,w+=":",w+=x,w+=`\r
`}),w}function wn(m,w,x){e:{for(N in x){var N=!1;break e}N=!0}N||(x=Ph(x),typeof m=="string"?x!=null&&encodeURIComponent(String(x)):_t(m,w,x))}function lt(m){Bt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(lt,Bt);var fc=/^https?$/i,Vo=["POST","PUT"];i=lt.prototype,i.Ha=function(m){this.J=m},i.ea=function(m,w,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yr.g(),this.v=this.o?bh(this.o):bh(yr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(se){Rp(this,se);return}if(m=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Z in N)x.set(Z,N[Z]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const se of N.keys())x.set(se,N.get(se));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(se=>se.toLowerCase()=="content-type"),Z=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Vo,w,void 0))||N||Z||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ve]of x)this.g.setRequestHeader(se,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lo(this),this.u=!0,this.g.send(m),this.u=!1}catch(se){Rp(this,se)}};function Rp(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.m=5,pc(m),Er(m)}function pc(m){m.A||(m.A=!0,ht(m,"complete"),ht(m,"error"))}i.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ht(this,"complete"),ht(this,"abort"),Er(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Er(this,!0)),lt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?mc(this):this.bb())},i.bb=function(){mc(this)};function mc(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Ni(m)!=4||m.Z()!=2)){if(m.u&&Ni(m)==4)Fn(m.Ea,0,m);else if(ht(m,"readystatechange"),Ni(m)==4){m.h=!1;try{const ve=m.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var x;if(!(x=w)){var N;if(N=ve===0){var Z=String(m.D).match(Co)[1]||null;!Z&&c.self&&c.self.location&&(Z=c.self.location.protocol.slice(0,-1)),N=!fc.test(Z?Z.toLowerCase():"")}x=N}if(x)ht(m,"complete"),ht(m,"success");else{m.m=6;try{var se=2<Ni(m)?m.g.statusText:""}catch{se=""}m.l=se+" ["+m.Z()+"]",pc(m)}}finally{Er(m)}}}}function Er(m,w){if(m.g){Lo(m);const x=m.g,N=m.v[0]?()=>{}:null;m.g=null,m.v=null,w||ht(m,"ready");try{x.onreadystatechange=N}catch{}}}function Lo(m){m.I&&(c.clearTimeout(m.I),m.I=null)}i.isActive=function(){return!!this.g};function Ni(m){return m.g?m.g.readyState:0}i.Z=function(){try{return 2<Ni(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),sc(w)}};function Cp(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function i_(m){const w={};m=(m.g&&2<=Ni(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<m.length;N++){if(P(m[N]))continue;var x=L(m[N]);const Z=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const se=w[Z]||[];w[Z]=se,se.push(x)}M(w,function(N){return N.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fo(m,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[m]||w}function gc(m){this.Aa=0,this.i=[],this.j=new Mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fo("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fo("baseRetryDelayMs",5e3,m),this.cb=Fo("retryDelaySeedMs",1e4,m),this.Wa=Fo("forwardChannelMaxRetries",2,m),this.wa=Fo("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new us(m&&m.concurrentRequestLimit),this.Da=new No,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=gc.prototype,i.la=8,i.G=1,i.connect=function(m,w,x,N){Ct(0),this.W=m,this.H=w||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.I=Lp(this,null,this.W),vc(this)};function Oh(m){if(Mp(m),m.G==3){var w=m.U++,x=gi(m.I);if(_t(x,"SID",m.K),_t(x,"RID",w),_t(x,"TYPE","terminate"),Bo(m,x),w=new $n(m,m.j,w),w.L=2,w.v=ko(gi(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!x&&c.Image&&(new Image().src=w.v,x=!0),x||(w.g=Fp(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Io(w)}Vp(m)}function yc(m){m.g&&(Uo(m),m.g.cancel(),m.g=null)}function Mp(m){yc(m),m.u&&(c.clearTimeout(m.u),m.u=null),_c(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function vc(m){if(!lc(m.h)&&!m.s){m.s=!0;var w=m.Ga;G||k(),ae||(G(),ae=!0),X.add(w,m),m.B=0}}function r_(m,w){return cc(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=w.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=nn(v(m.Ga,m,w),Lh(m,m.B)),m.B++,!0)}i.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Z=new $n(this,this.j,m);let se=this.o;if(this.S&&(se?(se=A(se),F(se,this.S)):se=this.S),this.m!==null||this.O||(Z.H=se,se=null),this.P)e:{for(var w=0,x=0;x<this.i.length;x++){t:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(w+=N,4096<w){w=x;break e}if(w===4096||x===this.i.length-1){w=x+1;break e}}w=1e3}else w=1e3;w=kp(this,Z,w),x=gi(this.I),_t(x,"RID",m),_t(x,"CVER",22),this.D&&_t(x,"X-HTTP-Session-Id",this.D),Bo(this,x),se&&(this.O?w="headers="+encodeURIComponent(String(Ph(se)))+"&"+w:this.m&&wn(x,this.m,se)),uc(this.h,Z),this.Ua&&_t(x,"TYPE","init"),this.P?(_t(x,"$req",w),_t(x,"SID","null"),Z.T=!0,nr(Z,x,null)):nr(Z,x,w),this.G=2}}else this.G==3&&(m?Nh(this,m):this.i.length==0||lc(this.h)||Nh(this))};function Nh(m,w){var x;w?x=w.l:x=m.U++;const N=gi(m.I);_t(N,"SID",m.K),_t(N,"RID",x),_t(N,"AID",m.T),Bo(m,N),m.m&&m.o&&wn(N,m.m,m.o),x=new $n(m,m.j,x,m.B+1),m.m===null&&(x.H=m.o),w&&(m.i=w.D.concat(m.i)),w=kp(m,x,1e3),x.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),uc(m.h,x),nr(x,N,w)}function Bo(m,w){m.H&&K(m.H,function(x,N){_t(w,N,x)}),m.l&&Ih({},function(x,N){_t(w,N,x)})}function kp(m,w,x){x=Math.min(m.i.length,x);var N=m.l?v(m.l.Na,m.l,m):null;e:{var Z=m.i;let se=-1;for(;;){const ve=["count="+x];se==-1?0<x?(se=Z[0].g,ve.push("ofs="+se)):se=0:ve.push("ofs="+se);let $e=!0;for(let fn=0;fn<x;fn++){let Qe=Z[fn].g;const Tn=Z[fn].map;if(Qe-=se,0>Qe)se=Math.max(0,Z[fn].g-100),$e=!1;else try{wr(Tn,ve,"req"+Qe+"_")}catch{N&&N(Tn)}}if($e){N=ve.join("&");break e}}}return m=m.i.splice(0,x),w.D=m,N}function Pp(m){if(!m.g&&!m.u){m.Y=1;var w=m.Fa;G||k(),ae||(G(),ae=!0),X.add(w,m),m.v=0}}function Vh(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=nn(v(m.Fa,m),Lh(m,m.v)),m.v++,!0)}i.Fa=function(){if(this.u=null,Op(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=nn(v(this.ab,this),m)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),yc(this),Op(this))};function Uo(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Op(m){m.g=new $n(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var w=gi(m.qa);_t(w,"RID","rpc"),_t(w,"SID",m.K),_t(w,"AID",m.T),_t(w,"CI",m.F?"0":"1"),!m.F&&m.ja&&_t(w,"TO",m.ja),_t(w,"TYPE","xmlhttp"),Bo(m,w),m.m&&m.o&&wn(w,m.m,m.o),m.L&&(m.g.I=m.L);var x=m.g;m=m.ia,x.L=1,x.v=ko(gi(w)),x.m=null,x.P=!0,cs(x,m)}i.Za=function(){this.C!=null&&(this.C=null,yc(this),Vh(this),Ct(19))};function _c(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Np(m,w){var x=null;if(m.g==w){_c(m),Uo(m),m.g=null;var N=2}else if(Dh(m.h,w))x=w.D,Qn(m.h,w),N=1;else return;if(m.G!=0){if(w.o)if(N==1){x=w.m?w.m.length:0,w=Date.now()-w.F;var Z=m.B;N=na(),ht(N,new dn(N,x)),vc(m)}else Pp(m);else if(Z=w.s,Z==3||Z==0&&0<w.X||!(N==1&&r_(m,w)||N==2&&Vh(m)))switch(x&&0<x.length&&(w=m.h,w.i=w.i.concat(x)),Z){case 1:gs(m,5);break;case 4:gs(m,10);break;case 3:gs(m,6);break;default:gs(m,2)}}}function Lh(m,w){let x=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(x*=2),x*w}function gs(m,w){if(m.j.info("Error code "+w),w==2){var x=v(m.fb,m),N=m.Xa;const Z=!N;N=new rn(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Mo(N,"https"),ko(N),Z?Oo(N.toString(),x):ir(N.toString(),x)}else Ct(2);m.G=0,m.l&&m.l.sa(w),Vp(m),Mp(m)}i.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Vp(m){if(m.G=0,m.ka=[],m.l){const w=Ah(m.h);(w.length!=0||m.i.length!=0)&&(E(m.ka,w),E(m.ka,m.i),m.h.i.length=0,S(m.i),m.i.length=0),m.l.ra()}}function Lp(m,w,x){var N=x instanceof rn?gi(x):new rn(x);if(N.g!="")w&&(N.g=w+"."+N.g),oa(N,N.s);else{var Z=c.location;N=Z.protocol,w=w?w+"."+Z.hostname:Z.hostname,Z=+Z.port;var se=new rn(null);N&&Mo(se,N),w&&(se.g=w),Z&&oa(se,Z),x&&(se.l=x),N=se}return x=m.D,w=m.ya,x&&w&&_t(N,x,w),_t(N,"VER",m.la),Bo(m,N),N}function Fp(m,w,x){if(w&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Ca&&!m.pa?new lt(new la({eb:x})):new lt(m.pa),w.Ha(m.J),w}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bp(){}i=Bp.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function bc(){}bc.prototype.g=function(m,w){return new Xn(m,w)};function Xn(m,w){Bt.call(this),this.g=new gc(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(m?m["X-WebChannel-Client-Profile"]=w.va:m={"X-WebChannel-Client-Profile":w.va}),this.g.S=m,(m=w&&w.Sb)&&!P(m)&&(this.g.m=m),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!P(w)&&(this.g.D=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new xr(this)}T(Xn,Bt),Xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){Oh(this.g)},Xn.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var x={};x.__data__=m,m=x}else this.u&&(x={},x.__data__=tr(m),m=x);w.i.push(new Dp(w.Ya++,m)),w.G==3&&vc(w)},Xn.prototype.N=function(){this.g.l=null,delete this.j,Oh(this.g),delete this.g,Xn.aa.N.call(this)};function Up(m){os.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){e:{for(const x in w){m=x;break e}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}T(Up,os);function jp(){Th.call(this),this.status=1}T(jp,Th);function xr(m){this.g=m}T(xr,Bp),xr.prototype.ua=function(){ht(this.g,"a")},xr.prototype.ta=function(m){ht(this.g,new Up(m))},xr.prototype.sa=function(m){ht(this.g,new jp)},xr.prototype.ra=function(){ht(this.g,"b")},bc.prototype.createWebChannel=bc.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,hL=function(){return new bc},uL=function(){return na()},cL=gr,bT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sa.NO_ERROR=0,sa.TIMEOUT=8,sa.HTTP_ERROR=6,Bg=sa,ls.COMPLETE="complete",lL=ls,wh.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,Xd=wh,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,oL=lt}).apply(typeof dg<"u"?dg:typeof self<"u"?self:typeof window<"u"?window:{});const ik="@firebase/firestore",rk="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=new gv("@firebase/firestore");function su(){return Hl.logLevel}function ge(i,...e){if(Hl.logLevel<=Ge.DEBUG){const t=e.map(bE);Hl.debug(`Firestore (${dh}): ${i}`,...t)}}function $t(i,...e){if(Hl.logLevel<=Ge.ERROR){const t=e.map(bE);Hl.error(`Firestore (${dh}): ${i}`,...t)}}function Bf(i,...e){if(Hl.logLevel<=Ge.WARN){const t=e.map(bE);Hl.warn(`Firestore (${dh}): ${i}`,...t)}}function bE(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,dL(i,n,t)}function dL(i,e,t){let n=`FIRESTORE (${dh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw $t(n),new Error(n)}function Ie(i,e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,i||dL(e,r,n)}function xe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VJ{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zn.UNAUTHENTICATED))}shutdown(){}}class FJ{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ie(this.o===void 0,42304);let n=this.i;const r=u=>this.i!==n?(n=this.i,t(u)):Promise.resolve();let s=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xr,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},c=u=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xr)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ie(typeof n.accessToken=="string",31837,{l:n}),new VJ(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new zn(e)}}class BJ{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UJ{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new BJ(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jJ{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$i(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ie(this.o===void 0,3512);const n=s=>{s.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const r=s=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ie(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new sk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zJ(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<i;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const r=zJ(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%62))}return n}}function Fe(i,e){return i<e?-1:i>e?1:0}function wT(i,e){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++){const r=i.charAt(n),s=e.charAt(n);if(r!==s)return mw(r)===mw(s)?Fe(r,s):mw(r)?1:-1}return Fe(i.length,e.length)}const HJ=55296,qJ=57343;function mw(i){const e=i.charCodeAt(0);return e>=HJ&&e<=qJ}function Fu(i,e,t){return i.length===e.length&&i.every((n,r)=>t(n,e[r]))}function fL(i){return i+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="__name__";class Lr{constructor(e,t,n){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Se(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Lr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=Lr.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return Fe(e.length,t.length)}static compareSegments(e,t){const n=Lr.isNumericId(e),r=Lr.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Lr.extractNumericId(e).compare(Lr.extractNumericId(t)):wT(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eo.fromString(e.substring(4,e.length-2))}}class ct extends Lr{construct(e,t,n){return new ct(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new _e(he.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(r=>r.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const YJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Lr{construct(e,t,n){return new Ft(e,t,n)}static isValidIdentifier(e){return YJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ak}static keyField(){return new Ft([ak])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(n.length===0)throw new _e(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new _e(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new _e(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(n+=c,r++):(s(),r++)}if(s(),o)throw new _e(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ct.fromString(e))}static fromName(e){return new be(ct.fromString(e).popFirst(5))}static empty(){return new be(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(i,e,t){if(!t)throw new _e(he.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function WJ(i,e,t,n){if(e===!0&&n===!0)throw new _e(he.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function ok(i){if(!be.isDocumentKey(i))throw new _e(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function lk(i){if(be.isDocumentKey(i))throw new _e(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function mL(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function TE(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function ns(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _e(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=TE(i);throw new _e(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(i,e){const t={typeString:i};return e&&(t.value=e),t}function dp(i,e){if(!mL(i))throw new _e(he.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const r=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in i)){t=`JSON missing required field: '${n}'`;break}const o=i[n];if(r&&typeof o!==r){t=`JSON field '${n}' must be a ${r}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${n}' field to equal '${s.value}'`;break}}if(t)throw new _e(he.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=-62135596800,uk=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*uk);return new gt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ck)throw new _e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uk}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dp(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ck;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:un("string",gt._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new gt(0,0))}static max(){return new Ce(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=-1;class Ny{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function TT(i){return i.fields.find(e=>e.kind===2)}function hl(i){return i.fields.filter(e=>e.kind!==2)}Ny.UNKNOWN_ID=-1;class Ug{constructor(e,t){this.fieldPath=e,this.kind=t}}class Uf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Uf(0,Ci.min())}}function gL(i,e){const t=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,r=Ce.fromTimestamp(n===1e9?new gt(t+1,0):new gt(t,n));return new Ci(r,be.empty(),e)}function yL(i){return new Ci(i.readTime,i.key,Bu)}class Ci{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ci(Ce.min(),be.empty(),Bu)}static max(){return new Ci(Ce.max(),be.empty(),Bu)}}function SE(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(i.documentKey,e.documentKey),t!==0?t:Fe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _L{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(i){if(i.code!==he.FAILED_PRECONDITION||i.message!==vL)throw i;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((n,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,n)=>{t(e)})}static reject(e){return new J((t,n)=>{n(e)})}static waitFor(e){return new J((t,n)=>{let r=0,s=0,o=!1;e.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&t()},u=>n(u))}),o=!0,s===r&&t()})}static or(e){let t=J.resolve(!1);for(const n of e)t=t.next(r=>r?J.resolve(r):n());return t}static forEach(e,t){const n=[];return e.forEach((r,s)=>{n.push(t.call(this,r,s))}),this.waitFor(n)}static mapArray(e,t){return new J((n,r)=>{const s=e.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const d=u;t(e[d]).next(p=>{o[d]=p,++c,c===s&&n(o)},p=>r(p))}})}static doWhile(e,t){return new J((n,r)=>{const s=()=>{e()===!0?t().next(()=>{s()},r):n()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="SimpleDb";class Tv{static open(e,t,n,r){try{return new Tv(t,e.transaction(r,n))}catch(s){throw new pf(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Xr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new pf(e,t.error)):this.S.resolve()},this.transaction.onerror=n=>{const r=EE(n.target.error);this.S.reject(new pf(e,r))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ge(xi,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new KJ(t)}}class to{static delete(e){return ge(xi,"Removing database:",e),fl(j2().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!rE())return!1;if(to.F())return!0;const e=vn(),t=to.M(e),n=0<t&&t<10,r=bL(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.N=n,this.B=null,to.M(vn())===12.2&&$t("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ge(xi,"Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{const o=s.target.result;t(o)},r.onblocked=()=>{n(new pf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{const o=s.target.error;o.name==="VersionError"?n(new _e(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?n(new _e(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):n(new pf(e,o))},r.onupgradeneeded=s=>{ge(xi,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.N.k(o,r.transaction,s.oldVersion,this.version).next(()=>{ge(xi,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const s=t==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(e);const c=Tv.open(this.db,e,s?"readonly":"readwrite",n),u=r(c).next(d=>(c.C(),d)).catch(d=>(c.abort(d),J.reject(d))).toPromise();return u.catch(()=>{}),await c.D,u}catch(c){const u=c,d=u.name!=="FirebaseError"&&o<3;if(ge(xi,"Transaction failed with error:",u.message,"Retrying:",d),this.close(),!d)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function bL(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class GJ{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return fl(this.U.delete())}}class pf extends _e{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function vo(i){return i.name==="IndexedDbTransactionError"}class KJ{constructor(e){this.store=e}put(e,t){let n;return t!==void 0?(ge(xi,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(ge(xi,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),fl(n)}add(e){return ge(xi,"ADD",this.store.name,e,e),fl(this.store.add(e))}get(e){return fl(this.store.get(e)).next(t=>(t===void 0&&(t=null),ge(xi,"GET",this.store.name,e,t),t))}delete(e){return ge(xi,"DELETE",this.store.name,e),fl(this.store.delete(e))}count(){return ge(xi,"COUNT",this.store.name),fl(this.store.count())}J(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if(typeof r.getAll=="function"){const s=r.getAll(n.range);return new J((o,c)=>{s.onerror=u=>{c(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{const s=this.cursor(n),o=[];return this.H(s,(c,u)=>{o.push(u)}).next(()=>o)}}Y(e,t){const n=this.store.getAll(e,t===null?void 0:t);return new J((r,s)=>{n.onerror=o=>{s(o.target.error)},n.onsuccess=o=>{r(o.target.result)}})}Z(e,t){ge(xi,"DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const r=this.cursor(n);return this.H(r,(s,o,c)=>c.delete())}ee(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.H(r,t)}te(e){const t=this.cursor({});return new J((n,r)=>{t.onerror=s=>{const o=EE(s.target.error);r(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(c=>{c?o.continue():n()}):n()}})}H(e,t){const n=[];return new J((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const c=o.target.result;if(!c)return void r();const u=new GJ(c),d=t(c.primaryKey,c.value,u);if(d instanceof J){const p=d.catch(g=>(u.done(),J.reject(g)));n.push(p)}u.isDone?r():u.G===null?c.continue():c.continue(u.G)}}).next(()=>J.waitFor(n))}options(e,t){let n;return e!==void 0&&(typeof e=="string"?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function fl(i){return new J((e,t)=>{i.onsuccess=n=>{const r=n.target.result;e(r)},i.onerror=n=>{const r=EE(n.target.error);t(r)}})}let hk=!1;function EE(i){const e=to.M(vn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const n=new _e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hk||(hk=!0,setTimeout(()=>{throw n},0)),n}}return i}const mf="IndexBackfiller";class $J{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ge(mf,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ne.ie();ge(mf,`Documents written: ${t}`)}catch(t){vo(t)?ge(mf,"Ignoring IndexedDB error during index backfill: ",t):await yo(t)}await this.re(6e4)})}}class QJ{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){const n=new Set;let r=t,s=!0;return J.doWhile(()=>s===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!n.has(o))return ge(mf,`Processing collection: ${o}`),this.oe(e,o,r).next(c=>{r-=c,n.add(o)});s=!1})).next(()=>t-r)}oe(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this._e(r,s)).next(c=>(ge(mf,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c))).next(()=>o.size)}))}_e(e,t){let n=e;return t.changes.forEach((r,s)=>{const o=yL(s);SE(o,n)>0&&(n=o)}),new Ci(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}di.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=-1;function Sv(i){return i==null}function jf(i){return i===0&&1/i==-1/0}function wL(i){return typeof i=="number"&&Number.isInteger(i)&&!jf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="";function Kn(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=dk(e)),e=XJ(i.get(t),e);return dk(e)}function XJ(i,e){let t=e;const n=i.length;for(let r=0;r<n;r++){const s=i.charAt(r);switch(s){case"\0":t+="";break;case Vy:t+="";break;default:t+=s}}return t}function dk(i){return i+Vy+""}function Hr(i){const e=i.length;if(Ie(e>=2,64408,{path:i}),e===2)return Ie(i.charAt(0)===Vy&&i.charAt(1)==="",56145,{path:i}),ct.emptyPath();const t=e-2,n=[];let r="";for(let s=0;s<e;){const o=i.indexOf(Vy,s);switch((o<0||o>t)&&Se(50515,{path:i}),i.charAt(o+1)){case"":const c=i.substring(s,o);let u;r.length===0?u=c:(r+=c,u=r,r=""),n.push(u);break;case"":r+=i.substring(s,o),r+="\0";break;case"":r+=i.substring(s,o+1);break;default:Se(61167,{path:i})}s=o+2}return new ct(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="remoteDocuments",fp="owner",Zc="owner",zf="mutationQueues",ZJ="userId",lr="mutations",fk="batchId",Sl="userMutationsIndex",pk=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(i,e){return[i,Kn(e)]}function TL(i,e,t){return[i,Kn(e),t]}const JJ={},Uu="documentMutations",Ly="remoteDocumentsV14",eee=["prefixPath","collectionGroup","readTime","documentId"],zg="documentKeyIndex",tee=["prefixPath","collectionGroup","documentId"],SL="collectionGroupIndex",nee=["collectionGroup","readTime","prefixPath","documentId"],Hf="remoteDocumentGlobal",ST="remoteDocumentGlobalKey",ju="targets",EL="queryTargetsIndex",iee=["canonicalId","targetId"],zu="targetDocuments",ree=["targetId","path"],xE="documentTargetsIndex",see=["path","targetId"],Fy="targetGlobalKey",Ml="targetGlobal",qf="collectionParents",aee=["collectionId","parent"],Hu="clientMetadata",oee="clientId",Ev="bundles",lee="bundleId",xv="namedQueries",cee="name",DE="indexConfiguration",uee="indexId",ET="collectionGroupIndex",hee="collectionGroup",gf="indexState",dee=["indexId","uid"],xL="sequenceNumberIndex",fee=["uid","sequenceNumber"],yf="indexEntries",pee=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],DL="documentKeyIndex",mee=["indexId","uid","orderedDocumentKey"],Dv="documentOverlays",gee=["userId","collectionPath","documentId"],xT="collectionPathOverlayIndex",yee=["userId","collectionPath","largestBatchId"],AL="collectionGroupOverlayIndex",vee=["userId","collectionGroup","largestBatchId"],AE="globals",_ee="name",IL=[zf,lr,Uu,dl,ju,fp,Ml,zu,Hu,Hf,qf,Ev,xv],bee=[...IL,Dv],RL=[zf,lr,Uu,Ly,ju,fp,Ml,zu,Hu,Hf,qf,Ev,xv,Dv],CL=RL,IE=[...CL,DE,gf,yf],wee=IE,ML=[...IE,AE],Tee=ML;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT extends _L{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function _n(i,e){const t=xe(i);return to.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function _o(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function kL(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t){this.comparator=e,this.root=t||Vn.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fg(this.root,e,this.comparator,!1)}getReverseIterator(){return new fg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fg(this.root,e,this.comparator,!0)}}class fg{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=n??Vn.RED,this.left=r??Vn.EMPTY,this.right=s??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new Vn(e??this.key,t??this.value,n??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Vn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new Vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gk(this.data.getIterator())}getIteratorFrom(e){return new gk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yt(this.comparator);return t.data=e,t}}class gk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jc(i){return i.hasNext()?i.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new fi([])}unionWith(e){let t=new yt(Ft.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new fi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fu(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new PL("Invalid base64 string: "+s):s}}(e);return new Jt(t)}static fromUint8Array(e){const t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const See=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(i){if(Ie(!!i,39018),typeof i=="string"){let e=0;const t=See.exec(i);if(Ie(!!t,46558,{timestamp:i}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:kt(i.seconds),nanos:kt(i.nanos)}}function kt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xs(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="server_timestamp",NL="__type__",VL="__previous_value__",LL="__local_write_time__";function RE(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[NL])==null?void 0:n.stringValue)===OL}function Av(i){const e=i.mapValue.fields[VL];return RE(e)?Av(e):e}function Yf(i){const e=Qs(i.mapValue.fields[LL].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eee{constructor(e,t,n,r,s,o,c,u,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=p}}const By="(default)";class ql{constructor(e,t){this.projectId=e,this.database=t||By}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===By}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="__type__",FL="__max__",Wa={mapValue:{fields:{__type__:{stringValue:FL}}}},ME="__vector__",qu="value",Hg={nullValue:"NULL_VALUE"};function co(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?RE(i)?4:BL(i)?9007199254740991:Iv(i)?10:11:Se(28295,{value:i})}function is(i,e){if(i===e)return!0;const t=co(i);if(t!==co(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Yf(i).isEqual(Yf(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Qs(r.timestampValue),c=Qs(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(r,s){return Xs(r.bytesValue).isEqual(Xs(s.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(r,s){return kt(r.geoPointValue.latitude)===kt(s.geoPointValue.latitude)&&kt(r.geoPointValue.longitude)===kt(s.geoPointValue.longitude)}(i,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return kt(r.integerValue)===kt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=kt(r.doubleValue),c=kt(s.doubleValue);return o===c?jf(o)===jf(c):isNaN(o)&&isNaN(c)}return!1}(i,e);case 9:return Fu(i.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(mk(o)!==mk(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!is(o[u],c[u])))return!1;return!0}(i,e);default:return Se(52216,{left:i})}}function Wf(i,e){return(i.values||[]).find(t=>is(t,e))!==void 0}function uo(i,e){if(i===e)return 0;const t=co(i),n=co(e);if(t!==n)return Fe(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(i.booleanValue,e.booleanValue);case 2:return function(s,o){const c=kt(s.integerValue||s.doubleValue),u=kt(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(i,e);case 3:return yk(i.timestampValue,e.timestampValue);case 4:return yk(Yf(i),Yf(e));case 5:return wT(i.stringValue,e.stringValue);case 6:return function(s,o){const c=Xs(s),u=Xs(o);return c.compareTo(u)}(i.bytesValue,e.bytesValue);case 7:return function(s,o){const c=s.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){const p=Fe(c[d],u[d]);if(p!==0)return p}return Fe(c.length,u.length)}(i.referenceValue,e.referenceValue);case 8:return function(s,o){const c=Fe(kt(s.latitude),kt(o.latitude));return c!==0?c:Fe(kt(s.longitude),kt(o.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return vk(i.arrayValue,e.arrayValue);case 10:return function(s,o){var v,b,T,S;const c=s.fields||{},u=o.fields||{},d=(v=c[qu])==null?void 0:v.arrayValue,p=(b=u[qu])==null?void 0:b.arrayValue,g=Fe(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((S=p==null?void 0:p.values)==null?void 0:S.length)||0);return g!==0?g:vk(d,p)}(i.mapValue,e.mapValue);case 11:return function(s,o){if(s===Wa.mapValue&&o===Wa.mapValue)return 0;if(s===Wa.mapValue)return 1;if(o===Wa.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const v=wT(u[g],p[g]);if(v!==0)return v;const b=uo(c[u[g]],d[p[g]]);if(b!==0)return b}return Fe(u.length,p.length)}(i.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function yk(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Fe(i,e);const t=Qs(i),n=Qs(e),r=Fe(t.seconds,n.seconds);return r!==0?r:Fe(t.nanos,n.nanos)}function vk(i,e){const t=i.values||[],n=e.values||[];for(let r=0;r<t.length&&r<n.length;++r){const s=uo(t[r],n[r]);if(s)return s}return Fe(t.length,n.length)}function Yu(i){return AT(i)}function AT(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const n=Qs(t);return`time(${n.seconds},${n.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Xs(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return be.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let n="[",r=!0;for(const s of t.values||[])r?r=!1:n+=",",n+=AT(s);return n+"]"}(i.arrayValue):"mapValue"in i?function(t){const n=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const o of n)s?s=!1:r+=",",r+=`${o}:${AT(t.fields[o])}`;return r+"}"}(i.mapValue):Se(61005,{value:i})}function qg(i){switch(co(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Av(i);return e?16+qg(e):16;case 5:return 2*i.stringValue.length;case 6:return Xs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((r,s)=>r+qg(s),0)}(i.arrayValue);case 10:case 11:return function(n){let r=0;return _o(n.fields,(s,o)=>{r+=s.length+qg(o)}),r}(i.mapValue);default:throw Se(13486,{value:i})}}function kE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function IT(i){return!!i&&"integerValue"in i}function Gf(i){return!!i&&"arrayValue"in i}function _k(i){return!!i&&"nullValue"in i}function bk(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Yg(i){return!!i&&"mapValue"in i}function Iv(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[CE])==null?void 0:n.stringValue)===ME}function vf(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return _o(i.mapValue.fields,(t,n)=>e.mapValue.fields[t]=vf(n)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vf(i.arrayValue.values[t]);return e}return{...i}}function BL(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===FL}const UL={mapValue:{fields:{[CE]:{stringValue:ME},[qu]:{arrayValue:{}}}}};function xee(i){return"nullValue"in i?Hg:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?kE(ql.empty(),be.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?Iv(i)?UL:{mapValue:{}}:Se(35942,{value:i})}function Dee(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?kE(ql.empty(),be.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?UL:"mapValue"in i?Iv(i)?{mapValue:{}}:Wa:Se(61959,{value:i})}function wk(i,e){const t=uo(i.value,e.value);return t!==0?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Tk(i,e){const t=uo(i.value,e.value);return t!==0?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Yg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vf(t)}setAll(e){let t=Ft.emptyPath(),n={},r=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){const u=this.getFieldsMap(t);this.applyChanges(u,n,r),n={},r=[],t=c.popLast()}o?n[c.lastSegment()]=vf(o):r.push(c.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());Yg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Yg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){_o(t,(r,s)=>e[r]=s);for(const r of n)delete e[r]}clone(){return new Yn(vf(this.value))}}function jL(i){const e=[];return _o(i.fields,(t,n)=>{const r=new Ft([t]);if(Yg(n)){const s=jL(n.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new fi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,n,r,s,o,c){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Ht(e,0,Ce.min(),Ce.min(),Ce.min(),Yn.empty(),0)}static newFoundDocument(e,t,n,r){return new Ht(e,1,t,Ce.min(),n,r,0)}static newNoDocument(e,t){return new Ht(e,2,t,Ce.min(),Ce.min(),Yn.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,Ce.min(),Ce.min(),Yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,t){this.position=e,this.inclusive=t}}function Sk(i,e,t){let n=0;for(let r=0;r<i.position.length;r++){const s=e[r],o=i.position[r];if(s.field.isKeyField()?n=be.comparator(be.fromName(o.referenceValue),t.key):n=uo(o,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function Ek(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!is(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t="asc"){this.field=e,this.dir=t}}function Aee(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{}class Ke extends zL{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new Iee(e,t,n):t==="array-contains"?new Mee(e,n):t==="in"?new KL(e,n):t==="not-in"?new kee(e,n):t==="array-contains-any"?new Pee(e,n):new Ke(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new Ree(e,n):new Cee(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(uo(t,this.value)):t!==null&&co(this.value)===co(t)&&this.matchesComparison(uo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class St extends zL{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new St(e,t)}matches(e){return Gu(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gu(i){return i.op==="and"}function RT(i){return i.op==="or"}function PE(i){return HL(i)&&Gu(i)}function HL(i){for(const e of i.filters)if(e instanceof St)return!1;return!0}function CT(i){if(i instanceof Ke)return i.field.canonicalString()+i.op.toString()+Yu(i.value);if(PE(i))return i.filters.map(e=>CT(e)).join(",");{const e=i.filters.map(t=>CT(t)).join(",");return`${i.op}(${e})`}}function qL(i,e){return i instanceof Ke?function(n,r){return r instanceof Ke&&n.op===r.op&&n.field.isEqual(r.field)&&is(n.value,r.value)}(i,e):i instanceof St?function(n,r){return r instanceof St&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,o,c)=>s&&qL(o,r.filters[c]),!0):!1}(i,e):void Se(19439)}function YL(i,e){const t=i.filters.concat(e);return St.create(t,i.op)}function WL(i){return i instanceof Ke?function(t){return`${t.field.canonicalString()} ${t.op} ${Yu(t.value)}`}(i):i instanceof St?function(t){return t.op.toString()+" {"+t.getFilters().map(WL).join(" ,")+"}"}(i):"Filter"}class Iee extends Ke{constructor(e,t,n){super(e,t,n),this.key=be.fromName(n.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ree extends Ke{constructor(e,t){super(e,"in",t),this.keys=GL("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cee extends Ke{constructor(e,t){super(e,"not-in",t),this.keys=GL("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function GL(i,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(n=>be.fromName(n.referenceValue))}class Mee extends Ke{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gf(t)&&Wf(t.arrayValue,this.value)}}class KL extends Ke{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wf(this.value.arrayValue,t)}}class kee extends Ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wf(this.value.arrayValue,t)}}class Pee extends Ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Wf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oee{constructor(e,t=null,n=[],r=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.Te=null}}function MT(i,e=null,t=[],n=[],r=null,s=null,o=null){return new Oee(i,e,t,n,r,s,o)}function Yl(i){const e=xe(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>CT(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Sv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Yu(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Yu(n)).join(",")),e.Te=t}return e.Te}function pp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Aee(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!qL(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ek(i.startAt,e.startAt)&&Ek(i.endAt,e.endAt)}function jy(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function zy(i,e){return i.filters.filter(t=>t instanceof Ke&&t.field.isEqual(e))}function xk(i,e,t){let n=Hg,r=!0;for(const s of zy(i,e)){let o=Hg,c=!0;switch(s.op){case"<":case"<=":o=xee(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,c=!1;break;case"!=":case"not-in":o=Hg}wk({value:n,inclusive:r},{value:o,inclusive:c})<0&&(n=o,r=c)}if(t!==null){for(let s=0;s<i.orderBy.length;++s)if(i.orderBy[s].field.isEqual(e)){const o=t.position[s];wk({value:n,inclusive:r},{value:o,inclusive:t.inclusive})<0&&(n=o,r=t.inclusive);break}}return{value:n,inclusive:r}}function Dk(i,e,t){let n=Wa,r=!0;for(const s of zy(i,e)){let o=Wa,c=!0;switch(s.op){case">=":case">":o=Dee(s.value),c=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,c=!1;break;case"!=":case"not-in":o=Wa}Tk({value:n,inclusive:r},{value:o,inclusive:c})>0&&(n=o,r=c)}if(t!==null){for(let s=0;s<i.orderBy.length;++s)if(i.orderBy[s].field.isEqual(e)){const o=t.position[s];Tk({value:n,inclusive:r},{value:o,inclusive:t.inclusive})>0&&(n=o,r=t.inclusive);break}}return{value:n,inclusive:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,t=null,n=[],r=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $L(i,e,t,n,r,s,o,c){return new Rv(i,e,t,n,r,s,o,c)}function Cv(i){return new Rv(i)}function Ak(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Nee(i){return i.collectionGroup!==null}function _f(i){const e=xe(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new yt(Ft.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Uy(s,n))}),t.has(Ft.keyField().canonicalString())||e.Ie.push(new Uy(Ft.keyField(),n))}return e.Ie}function Ri(i){const e=xe(i);return e.Ee||(e.Ee=Vee(e,_f(i))),e.Ee}function Vee(i,e){if(i.limitType==="F")return MT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Uy(r.field,s)});const t=i.endAt?new Wu(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new Wu(i.startAt.position,i.startAt.inclusive):null;return MT(i.path,i.collectionGroup,e,i.filters,i.limit,t,n)}}function kT(i,e,t){return new Rv(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Mv(i,e){return pp(Ri(i),Ri(e))&&i.limitType===e.limitType}function QL(i){return`${Yl(Ri(i))}|lt:${i.limitType}`}function au(i){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>WL(r)).join(", ")}]`),Sv(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Yu(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Yu(r)).join(",")),`Target(${n})`}(Ri(i))}; limitType=${i.limitType})`}function mp(i,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):be.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(i,e)&&function(n,r){for(const s of _f(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(i,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(i,e)&&function(n,r){return!(n.startAt&&!function(o,c,u){const d=Sk(o,c,u);return o.inclusive?d<=0:d<0}(n.startAt,_f(n),r)||n.endAt&&!function(o,c,u){const d=Sk(o,c,u);return o.inclusive?d>=0:d>0}(n.endAt,_f(n),r))}(i,e)}function XL(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ZL(i){return(e,t)=>{let n=!1;for(const r of _f(i)){const s=Lee(r,e,t);if(s!==0)return s;n=n||r.field.isKeyField()}return 0}}function Lee(i,e,t){const n=i.field.isKeyField()?be.comparator(e.key,t.key):function(s,o,c){const u=o.data.field(s),d=c.data.field(s);return u!==null&&d!==null?uo(u,d):Se(42886)}(i.field,e,t);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return Se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[r,s]of n)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return kL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fee=new At(be.comparator);function Di(){return Fee}const JL=new At(be.comparator);function Zd(...i){let e=JL;for(const t of i)e=e.insert(t.key,t);return e}function eF(i){let e=JL;return i.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function qr(){return bf()}function tF(){return bf()}function bf(){return new Js(i=>i.toString(),(i,e)=>i.isEqual(e))}const Bee=new At(be.comparator),Uee=new yt(be.comparator);function He(...i){let e=Uee;for(const t of i)e=e.add(t);return e}const jee=new yt(Fe);function OE(){return jee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(e)?"-0":e}}function nF(i){return{integerValue:""+i}}function zee(i,e){return wL(e)?nF(e):NE(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this._=void 0}}function Hee(i,e,t){return i instanceof Kf?function(r,s){const o={fields:{[NL]:{stringValue:OL},[LL]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&RE(s)&&(s=Av(s)),s&&(o.fields[VL]=s),{mapValue:o}}(t,e):i instanceof Ku?rF(i,e):i instanceof $u?sF(i,e):function(r,s){const o=iF(r,s),c=Ik(o)+Ik(r.Ae);return IT(o)&&IT(r.Ae)?nF(c):NE(r.serializer,c)}(i,e)}function qee(i,e,t){return i instanceof Ku?rF(i,e):i instanceof $u?sF(i,e):t}function iF(i,e){return i instanceof $f?function(n){return IT(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Kf extends kv{}class Ku extends kv{constructor(e){super(),this.elements=e}}function rF(i,e){const t=aF(e);for(const n of i.elements)t.some(r=>is(r,n))||t.push(n);return{arrayValue:{values:t}}}class $u extends kv{constructor(e){super(),this.elements=e}}function sF(i,e){let t=aF(e);for(const n of i.elements)t=t.filter(r=>!is(r,n));return{arrayValue:{values:t}}}class $f extends kv{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ik(i){return kt(i.integerValue||i.doubleValue)}function aF(i){return Gf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(e,t){this.field=e,this.transform=t}}function Wee(i,e){return i.field.isEqual(e.field)&&function(n,r){return n instanceof Ku&&r instanceof Ku||n instanceof $u&&r instanceof $u?Fu(n.elements,r.elements,is):n instanceof $f&&r instanceof $f?is(n.Ae,r.Ae):n instanceof Kf&&r instanceof Kf}(i.transform,e.transform)}class Gee{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wg(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Pv{}function oF(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ov(i.key,Gn.none()):new fh(i.key,i.data,Gn.none());{const t=i.data,n=Yn.empty();let r=new yt(Ft.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?n.delete(s):n.set(s,o),r=r.add(s)}return new ea(i.key,n,new fi(r.toArray()),Gn.none())}}function Kee(i,e,t){i instanceof fh?function(r,s,o){const c=r.value.clone(),u=Ck(r.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(i,e,t):i instanceof ea?function(r,s,o){if(!Wg(r.precondition,s))return void s.convertToUnknownDocument(o.version);const c=Ck(r.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(lF(r)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(i,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function wf(i,e,t,n){return i instanceof fh?function(s,o,c,u){if(!Wg(s.precondition,o))return c;const d=s.value.clone(),p=Mk(s.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(i,e,t,n):i instanceof ea?function(s,o,c,u){if(!Wg(s.precondition,o))return c;const d=Mk(s.fieldTransforms,u,o),p=o.data;return p.setAll(lF(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(i,e,t,n):function(s,o,c){return Wg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(i,e,t)}function $ee(i,e){let t=null;for(const n of i.fieldTransforms){const r=e.data.field(n.field),s=iF(n.transform,r||null);s!=null&&(t===null&&(t=Yn.empty()),t.set(n.field,s))}return t||null}function Rk(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Fu(n,r,(s,o)=>Wee(s,o))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class fh extends Pv{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ea extends Pv{constructor(e,t,n,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lF(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=i.data.field(t);e.set(t,n)}}),e}function Ck(i,e,t){const n=new Map;Ie(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let r=0;r<t.length;r++){const s=i[r],o=s.transform,c=e.data.field(s.field);n.set(s.field,qee(o,c,t[r]))}return n}function Mk(i,e,t){const n=new Map;for(const r of i){const s=r.transform,o=t.data.field(r.field);n.set(r.field,Hee(s,o,e))}return n}class Ov extends Pv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cF extends Pv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&Kee(s,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=wf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=wf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=tF();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=t.has(r.key)?null:c;const u=oF(o,c);u!==null&&n.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(Ce.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&Fu(this.mutations,e.mutations,(t,n)=>Rk(t,n))&&Fu(this.baseMutations,e.baseMutations,(t,n)=>Rk(t,n))}}class LE{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ie(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=function(){return Bee}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,n[o].version);return new LE(e,t,n,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,Ze;function Xee(i){switch(i){case he.OK:return Se(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function uF(i){if(i===void 0)return $t("GRPC error has no .code"),he.UNKNOWN;switch(i){case on.OK:return he.OK;case on.CANCELLED:return he.CANCELLED;case on.UNKNOWN:return he.UNKNOWN;case on.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case on.INTERNAL:return he.INTERNAL;case on.UNAVAILABLE:return he.UNAVAILABLE;case on.UNAUTHENTICATED:return he.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case on.NOT_FOUND:return he.NOT_FOUND;case on.ALREADY_EXISTS:return he.ALREADY_EXISTS;case on.PERMISSION_DENIED:return he.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case on.ABORTED:return he.ABORTED;case on.OUT_OF_RANGE:return he.OUT_OF_RANGE;case on.UNIMPLEMENTED:return he.UNIMPLEMENTED;case on.DATA_LOSS:return he.DATA_LOSS;default:return Se(39323,{code:i})}}(Ze=on||(on={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zee(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jee=new eo([4294967295,4294967295],0);function kk(i){const e=Zee().encode(i),t=new aL;return t.update(e),new Uint8Array(t.digest())}function Pk(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new eo([t,n],0),new eo([r,s],0)]}class BE{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Jd(`Invalid padding: ${t}`);if(n<0)throw new Jd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Jd(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Jd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=eo.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(eo.fromNumber(n)));return r.compare(Jee)===1&&(r=new eo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=kk(e),[n,r]=Pk(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,r,s);if(!this.we(o))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new BE(s,r,t);return n.forEach(c=>o.insert(c)),o}insert(e){if(this.ge===0)return;const t=kk(e),[n,r]=Pk(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,r,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Jd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,yp.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new gp(Ce.min(),r,new At(Fe),Di(),He())}}class yp{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new yp(n,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class hF{constructor(e,t){this.targetId=e,this.Ce=t}}class dF{constructor(e,t,n=Jt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ok{constructor(){this.ve=0,this.Fe=Nk(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),t=He(),n=He();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Se(38017,{changeType:s})}}),new yp(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Nk()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ete{constructor(e){this.Ge=e,this.ze=new Map,this.je=Di(),this.Je=pg(),this.He=pg(),this.Ye=new At(Fe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((n,r)=>{this.rt(r)&&t(r)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(jy(s))if(n===0){const o=new be(s.path);this.et(t,o,Ht.newNoDocument(o,Ce.min()))}else Ie(n===1,20013,{expectedCount:n});else{const o=this._t(t);if(o!==n){const c=this.ut(e),u=c?this.ct(c,e,o):1;if(u!==0){this.it(t);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let o,c;try{o=Xs(n).toUint8Array()}catch(u){if(u instanceof PL)return Bf("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new BE(o,r,s)}catch(u){return Bf(u instanceof Jd?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(s=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(t,s,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((s,o)=>{const c=this.ot(o);if(c){if(s.current&&jy(c.target)){const u=new be(c.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Ht.newNoDocument(u,e))}s.Be&&(t.set(o,s.ke()),s.qe())}});let n=He();this.He.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const r=new gp(e,t,this.Ye,this.je,n);return this.je=Di(),this.Je=pg(),this.He=pg(),this.Ye=new At(Fe),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ok,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new yt(Fe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new yt(Fe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ok),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function pg(){return new At(be.comparator)}function Nk(){return new At(be.comparator)}const tte={asc:"ASCENDING",desc:"DESCENDING"},nte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ite={and:"AND",or:"OR"};class rte{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function PT(i,e){return i.useProto3Json||Sv(e)?e:{value:e}}function Qu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fF(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ste(i,e){return Qu(i,e.toTimestamp())}function ni(i){return Ie(!!i,49232),Ce.fromTimestamp(function(t){const n=Qs(t);return new gt(n.seconds,n.nanos)}(i))}function UE(i,e){return OT(i,e).canonicalString()}function OT(i,e){const t=function(r){return new ct(["projects",r.projectId,"databases",r.database])}(i).child("documents");return e===void 0?t:t.child(e)}function pF(i){const e=ct.fromString(i);return Ie(SF(e),10190,{key:e.toString()}),e}function Hy(i,e){return UE(i.databaseId,e.path)}function kl(i,e){const t=pF(e);if(t.get(1)!==i.databaseId.projectId)throw new _e(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new _e(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new be(yF(t))}function mF(i,e){return UE(i.databaseId,e)}function gF(i){const e=pF(i);return e.length===4?ct.emptyPath():yF(e)}function NT(i){return new ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function yF(i){return Ie(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Vk(i,e,t){return{name:Hy(i,e),fields:t.value.mapValue.fields}}function ate(i,e,t){const n=kl(i,e.name),r=ni(e.updateTime),s=e.createTime?ni(e.createTime):Ce.min(),o=new Yn({mapValue:{fields:e.fields}}),c=Ht.newFoundDocument(n,r,s,o);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function ote(i,e){let t;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Se(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Ie(p===void 0||typeof p=="string",58123),Jt.fromBase64String(p||"")):(Ie(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Jt.fromUint8Array(p||new Uint8Array))}(i,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(d){const p=d.code===void 0?he.UNKNOWN:uF(d.code);return new _e(p,d.message||"")}(o);t=new dF(n,r,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=kl(i,n.document.name),s=ni(n.document.updateTime),o=n.document.createTime?ni(n.document.createTime):Ce.min(),c=new Yn({mapValue:{fields:n.document.fields}}),u=Ht.newFoundDocument(r,s,o,c),d=n.targetIds||[],p=n.removedTargetIds||[];t=new Gg(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=kl(i,n.document),s=n.readTime?ni(n.readTime):Ce.min(),o=Ht.newNoDocument(r,s),c=n.removedTargetIds||[];t=new Gg([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=kl(i,n.document),s=n.removedTargetIds||[];t=new Gg([],s,r,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:r=0,unchangedNames:s}=n,o=new Qee(r,s),c=n.targetId;t=new hF(c,o)}}return t}function qy(i,e){let t;if(e instanceof fh)t={update:Vk(i,e.key,e.value)};else if(e instanceof Ov)t={delete:Hy(i,e.key)};else if(e instanceof ea)t={update:Vk(i,e.key,e.data),updateMask:fte(e.fieldMask)};else{if(!(e instanceof cF))return Se(16599,{Vt:e.type});t={verify:Hy(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const c=o.transform;if(c instanceof Kf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ku)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof $u)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof $f)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw Se(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:ste(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se(27497)}(i,e.precondition)),t}function VT(i,e){const t=e.currentDocument?function(s){return s.updateTime!==void 0?Gn.updateTime(ni(s.updateTime)):s.exists!==void 0?Gn.exists(s.exists):Gn.none()}(e.currentDocument):Gn.none(),n=e.updateTransforms?e.updateTransforms.map(r=>function(o,c){let u=null;if("setToServerValue"in c)Ie(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),u=new Kf;else if("appendMissingElements"in c){const p=c.appendMissingElements.values||[];u=new Ku(p)}else if("removeAllFromArray"in c){const p=c.removeAllFromArray.values||[];u=new $u(p)}else"increment"in c?u=new $f(o,c.increment):Se(16584,{proto:c});const d=Ft.fromServerFormat(c.fieldPath);return new Yee(d,u)}(i,r)):[];if(e.update){e.update.name;const r=kl(i,e.update.name),s=new Yn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(u){const d=u.fieldPaths||[];return new fi(d.map(p=>Ft.fromServerFormat(p)))}(e.updateMask);return new ea(r,s,o,t,n)}return new fh(r,s,t,n)}if(e.delete){const r=kl(i,e.delete);return new Ov(r,t)}if(e.verify){const r=kl(i,e.verify);return new cF(r,t)}return Se(1463,{proto:e})}function lte(i,e){return i&&i.length>0?(Ie(e!==void 0,14353),i.map(t=>function(r,s){let o=r.updateTime?ni(r.updateTime):ni(s);return o.isEqual(Ce.min())&&(o=ni(s)),new Gee(o,r.transformResults||[])}(t,e))):[]}function vF(i,e){return{documents:[mF(i,e.path)]}}function _F(i,e){const t={structuredQuery:{}},n=e.path;let r;e.collectionGroup!==null?(r=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=mF(i,r);const s=function(d){if(d.length!==0)return TF(St.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(p=>function(v){return{field:ou(v.field),direction:ute(v.dir)}}(p))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=PT(i,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:t,parent:r}}function bF(i){let e=gF(i.parent);const t=i.structuredQuery,n=t.from?t.from.length:0;let r=null;if(n>0){Ie(n===1,65062);const p=t.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(g){const v=wF(g);return v instanceof St&&PE(v)?v.getFilters():[v]}(t.where));let o=[];t.orderBy&&(o=function(g){return g.map(v=>function(T){return new Uy(lu(T.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(v))}(t.orderBy));let c=null;t.limit&&(c=function(g){let v;return v=typeof g=="object"?g.value:g,Sv(v)?null:v}(t.limit));let u=null;t.startAt&&(u=function(g){const v=!!g.before,b=g.values||[];return new Wu(b,v)}(t.startAt));let d=null;return t.endAt&&(d=function(g){const v=!g.before,b=g.values||[];return new Wu(b,v)}(t.endAt)),$L(e,r,o,s,c,"F",u,d)}function cte(i,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wF(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=lu(t.unaryFilter.field);return Ke.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=lu(t.unaryFilter.field);return Ke.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=lu(t.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lu(t.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(i):i.fieldFilter!==void 0?function(t){return Ke.create(lu(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return St.create(t.compositeFilter.filters.map(n=>wF(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(i):Se(30097,{filter:i})}function ute(i){return tte[i]}function hte(i){return nte[i]}function dte(i){return ite[i]}function ou(i){return{fieldPath:i.canonicalString()}}function lu(i){return Ft.fromServerFormat(i.fieldPath)}function TF(i){return i instanceof Ke?function(t){if(t.op==="=="){if(bk(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NAN"}};if(_k(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bk(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NOT_NAN"}};if(_k(t.value))return{unaryFilter:{field:ou(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ou(t.field),op:hte(t.op),value:t.value}}}(i):i instanceof St?function(t){const n=t.getFilters().map(r=>TF(r));return n.length===1?n[0]:{compositeFilter:{op:dte(t.op),filters:n}}}(i):Se(54877,{filter:i})}function fte(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function SF(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,t,n,r,s=Ce.min(),o=Ce.min(),c=Jt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e){this.yt=e}}function pte(i,e){let t;if(e.document)t=ate(i.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=be.fromSegments(e.noDocument.path),r=Gl(e.noDocument.readTime);t=Ht.newNoDocument(n,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Se(56709);{const n=be.fromSegments(e.unknownDocument.path),r=Gl(e.unknownDocument.version);t=Ht.newUnknownDocument(n,r)}}return e.readTime&&t.setReadTime(function(r){const s=new gt(r[0],r[1]);return Ce.fromTimestamp(s)}(e.readTime)),t}function Lk(i,e){const t=e.key,n={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Yy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(s,o){return{name:Hy(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Qu(s,o.version.toTimestamp()),createTime:Qu(s,o.createTime.toTimestamp())}}(i.yt,e);else if(e.isNoDocument())n.noDocument={path:t.path.toArray(),readTime:Wl(e.version)};else{if(!e.isUnknownDocument())return Se(57904,{document:e});n.unknownDocument={path:t.path.toArray(),version:Wl(e.version)}}return n}function Yy(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Wl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gl(i){const e=new gt(i.seconds,i.nanoseconds);return Ce.fromTimestamp(e)}function pl(i,e){const t=(e.baseMutations||[]).map(s=>VT(i.yt,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const c=e.mutations[s+1];o.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map(s=>VT(i.yt,s)),r=gt.fromMillis(e.localWriteTimeMs);return new VE(e.batchId,r,t,n)}function ef(i){const e=Gl(i.readTime),t=i.lastLimboFreeSnapshotVersion!==void 0?Gl(i.lastLimboFreeSnapshotVersion):Ce.min();let n;return n=function(s){return s.documents!==void 0}(i.query)?function(s){const o=s.documents.length;return Ie(o===1,1966,{count:o}),Ri(Cv(gF(s.documents[0])))}(i.query):function(s){return Ri(bF(s))}(i.query),new Fs(n,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,Jt.fromBase64String(i.resumeToken))}function xF(i,e){const t=Wl(e.snapshotVersion),n=Wl(e.lastLimboFreeSnapshotVersion);let r;r=jy(e.target)?vF(i.yt,e.target):_F(i.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Yl(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:r}}function DF(i){const e=bF({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?kT(e,e.limit,"L"):e}function gw(i,e){return new FE(e.largestBatchId,VT(i.yt,e.overlayMutation))}function Fk(i,e){const t=e.path.lastSegment();return[i,Kn(e.path.popLast()),t]}function Bk(i,e,t,n){return{indexId:i,uid:e,sequenceNumber:t,readTime:Wl(n.readTime),documentKey:Kn(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte{getBundleMetadata(e,t){return Uk(e).get(t).next(n=>{if(n)return function(s){return{id:s.bundleId,createTime:Gl(s.createTime),version:s.version}}(n)})}saveBundleMetadata(e,t){return Uk(e).put(function(r){return{bundleId:r.id,createTime:Wl(ni(r.createTime)),version:r.version}}(t))}getNamedQuery(e,t){return jk(e).get(t).next(n=>{if(n)return function(s){return{name:s.name,query:DF(s.bundledQuery),readTime:Gl(s.readTime)}}(n)})}saveNamedQuery(e,t){return jk(e).put(function(r){return{name:r.name,readTime:Wl(ni(r.readTime)),bundledQuery:r.bundledQuery}}(t))}}function Uk(i){return _n(i,Ev)}function jk(i){return _n(i,xv)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const n=t.uid||"";return new Nv(e,n)}getOverlay(e,t){return Ld(e).get(Fk(this.userId,t)).next(n=>n?gw(this.serializer,n):null)}getOverlays(e,t){const n=qr();return J.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&n.set(r,s)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((s,o)=>{const c=new FE(t,o);r.push(this.St(e,c))}),J.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(o=>r.add(Kn(o.getCollectionPath())));const s=[];return r.forEach(o=>{const c=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,n+1],!1,!0);s.push(Ld(e).Z(xT,c))}),J.waitFor(s)}getOverlaysForCollection(e,t,n){const r=qr(),s=Kn(t),o=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ld(e).J(xT,o).next(c=>{for(const u of c){const d=gw(this.serializer,u);r.set(d.getKey(),d)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const s=qr();let o;const c=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ld(e).ee({index:AL,range:c},(u,d,p)=>{const g=gw(this.serializer,d);s.size()<r||g.largestBatchId===o?(s.set(g.getKey(),g),o=g.largestBatchId):p.done()}).next(()=>s)}St(e,t){return Ld(e).put(function(r,s,o){const[c,u,d]=Fk(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:d,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:qy(r.yt,o.mutation)}}(this.serializer,this.userId,t))}}function Ld(i){return _n(i,Dv)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gte{bt(e){return _n(e,AE)}getSessionToken(e){return this.bt(e).get("sessionToken").next(t=>{const n=t==null?void 0:t.value;return n?Jt.fromUint8Array(n):Jt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(kt(e.integerValue));else if("doubleValue"in e){const n=kt(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),jf(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),typeof n=="string"&&(n=Qs(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Xs(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?BL(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Iv(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Se(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var o,c;const n=e.fields||{};this.Ft(t,53);const r=qu,s=((c=(o=n[r].arrayValue)==null?void 0:o.values)==null?void 0:c.length)||0;this.Ft(t,15),t.Mt(kt(s)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),be.fromName(e).path.forEach(n=>{this.Ft(t,60),this.Ut(n,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}ml.Kt=new ml;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=255;function yte(i){if(i===0)return 8;let e=0;return i>>4||(e+=4,i<<=4),i>>6||(e+=2,i<<=2),i>>7||(e+=1),e}function zk(i){const e=64-function(n){let r=0;for(let s=0;s<8;++s){const o=yte(255&n[s]);if(r+=o,o!==8)break}return r}(i);return Math.ceil(e/8)}class vte{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Gt(n.value),n=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Ht()}Yt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Gt(n);else if(n<2048)this.Gt(960|n>>>6),this.Gt(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|n>>>12),this.Gt(128|63&n>>>6),this.Gt(128|63&n);else{const r=t.codePointAt(0);this.Gt(240|r>>>18),this.Gt(128|63&r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r)}}this.zt()}Zt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Jt(n);else if(n<2048)this.Jt(960|n>>>6),this.Jt(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|n>>>12),this.Jt(128|63&n>>>6),this.Jt(128|63&n);else{const r=t.codePointAt(0);this.Jt(240|r>>>18),this.Jt(128|63&r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r)}}this.Ht()}Xt(e){const t=this.en(e),n=zk(t);this.tn(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}nn(e){const t=this.en(e),n=zk(t);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}rn(){this.sn(eu),this.sn(255)}_n(){this.an(eu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===eu?(this.sn(eu),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===eu?(this.an(eu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class _te{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class bte{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Fd{constructor(){this.cn=new vte,this.ln=new _te(this.cn),this.hn=new bte(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t,n,r){this.Tn=e,this.In=t,this.En=n,this.dn=r}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,n=new Uint8Array(t);return n.set(this.dn,0),t!==e?n.set([0],this.dn.length):++n[n.length-1],new gl(this.Tn,this.In,this.En,n)}Rn(e,t,n){return{indexId:this.Tn,uid:e,arrayValue:Kg(this.En),directionalValue:Kg(this.dn),orderedDocumentKey:Kg(t),documentKey:n.path.toArray()}}Vn(e,t,n){const r=this.Rn(e,t,n);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}}function ka(i,e){let t=i.Tn-e.Tn;return t!==0?t:(t=Hk(i.En,e.En),t!==0?t:(t=Hk(i.dn,e.dn),t!==0?t:be.comparator(i.In,e.In)))}function Hk(i,e){for(let t=0;t<i.length&&t<e.length;++t){const n=i[t]-e[t];if(n!==0)return n}return i.length-e.length}function Kg(i){return K2()?function(t){let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return n}(i):i}function qk(i){return typeof i!="string"?i:function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(i)}class Yk{constructor(e){this.mn=new yt((t,n)=>Ft.comparator(t.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const n=t;n.isInequality()?this.mn=this.mn.add(n):this.gn.push(n)}}get pn(){return this.mn.size>1}yn(e){if(Ie(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=TT(e);if(t!==void 0&&!this.wn(t))return!1;const n=hl(e);let r=new Set,s=0,o=0;for(;s<n.length&&this.wn(n[s]);++s)r=r.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!r.has(c.field.canonicalString())){const u=n[s];if(!this.Sn(c,u)||!this.bn(this.fn[o++],u))return!1}++s}for(;s<n.length;++s){const c=n[s];if(o>=this.fn.length||!this.bn(this.fn[o++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new yt(Ft.comparator);const t=[];for(const n of this.gn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")t.push(new Ug(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Ug(n.field,0))}for(const n of this.fn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Ug(n.field,n.dir==="asc"?0:1)));return new Ny(Ny.UNKNOWN_ID,this.collectionId,t,Uf.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===n}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(i){var t,n;if(Ie(i instanceof Ke||i instanceof St,20012),i instanceof Ke){if(i instanceof KL){const r=((n=(t=i.value.arrayValue)==null?void 0:t.values)==null?void 0:n.map(s=>Ke.create(i.field,"==",s)))||[];return St.create(r,"or")}return i}const e=i.filters.map(r=>AF(r));return St.create(e,i.op)}function wte(i){if(i.getFilters().length===0)return[];const e=BT(AF(i));return Ie(IF(e),7391),LT(e)||FT(e)?[e]:e.getFilters()}function LT(i){return i instanceof Ke}function FT(i){return i instanceof St&&PE(i)}function IF(i){return LT(i)||FT(i)||function(t){if(t instanceof St&&RT(t)){for(const n of t.getFilters())if(!LT(n)&&!FT(n))return!1;return!0}return!1}(i)}function BT(i){if(Ie(i instanceof Ke||i instanceof St,34018),i instanceof Ke)return i;if(i.filters.length===1)return BT(i.filters[0]);const e=i.filters.map(n=>BT(n));let t=St.create(e,i.op);return t=Wy(t),IF(t)?t:(Ie(t instanceof St,64498),Ie(Gu(t),40251),Ie(t.filters.length>1,57927),t.filters.reduce((n,r)=>jE(n,r)))}function jE(i,e){let t;return Ie(i instanceof Ke||i instanceof St,38388),Ie(e instanceof Ke||e instanceof St,25473),t=i instanceof Ke?e instanceof Ke?function(r,s){return St.create([r,s],"and")}(i,e):Wk(i,e):e instanceof Ke?Wk(e,i):function(r,s){if(Ie(r.filters.length>0&&s.filters.length>0,48005),Gu(r)&&Gu(s))return YL(r,s.getFilters());const o=RT(r)?r:s,c=RT(r)?s:r,u=o.filters.map(d=>jE(d,c));return St.create(u,"or")}(i,e),Wy(t)}function Wk(i,e){if(Gu(e))return YL(e,i.getFilters());{const t=e.filters.map(n=>jE(i,n));return St.create(t,"or")}}function Wy(i){if(Ie(i instanceof Ke||i instanceof St,11850),i instanceof Ke)return i;const e=i.getFilters();if(e.length===1)return Wy(e[0]);if(HL(i))return i;const t=e.map(r=>Wy(r)),n=[];return t.forEach(r=>{r instanceof Ke?n.push(r):r instanceof St&&(r.op===i.op?n.push(...r.filters):n.push(r))}),n.length===1?n[0]:St.create(n,i.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tte{constructor(){this.Cn=new zE}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Ci.min())}updateCollectionGroup(e,t,n){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class zE{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new yt(ct.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new yt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="IndexedDbIndexManager",mg=new Uint8Array(0);class Ste{constructor(e,t){this.databaseId=t,this.vn=new zE,this.Fn=new Js(n=>Yl(n),(n,r)=>pp(n,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.vn.add(t)});const s={collectionId:n,parent:Kn(r)};return Kk(e).put(s)}return J.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[fL(t),""],!1,!0);return Kk(e).J(r).next(s=>{for(const o of s){if(o.collectionId!==t)break;n.push(Hr(o.parent))}return n})}addFieldIndex(e,t){const n=Bd(e),r=function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(t);delete r.indexId;const s=n.add(r);if(t.indexState){const o=nu(e);return s.next(c=>{o.put(Bk(c,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const n=Bd(e),r=nu(e),s=tu(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Bd(e),n=tu(e),r=nu(e);return t.Z().next(()=>n.Z()).next(()=>r.Z())}createTargetIndexes(e,t){return J.forEach(this.Mn(t),n=>this.getIndexType(e,n).next(r=>{if(r===0||r===1){const s=new Yk(n).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const n=tu(e);let r=!0;const s=new Map;return J.forEach(this.Mn(t),o=>this.xn(e,o).next(c=>{r&&(r=!!c),s.set(o,c)})).next(()=>{if(r){let o=He();const c=[];return J.forEach(s,(u,d)=>{ge(Gk,`Using index ${function(O){return`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map(z=>`${z.fieldPath}:${z.kind}`).join(",")}`}(u)} to execute ${Yl(t)}`);const p=function(O,z){const U=TT(z);if(U===void 0)return null;for(const K of zy(O,U.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null}(d,u),g=function(O,z){const U=new Map;for(const K of hl(z))for(const M of zy(O,K.fieldPath))switch(M.op){case"==":case"in":U.set(K.fieldPath.canonicalString(),M.value);break;case"not-in":case"!=":return U.set(K.fieldPath.canonicalString(),M.value),Array.from(U.values())}return null}(d,u),v=function(O,z){const U=[];let K=!0;for(const M of hl(z)){const A=M.kind===0?xk(O,M.fieldPath,O.startAt):Dk(O,M.fieldPath,O.startAt);U.push(A.value),K&&(K=A.inclusive)}return new Wu(U,K)}(d,u),b=function(O,z){const U=[];let K=!0;for(const M of hl(z)){const A=M.kind===0?Dk(O,M.fieldPath,O.endAt):xk(O,M.fieldPath,O.endAt);U.push(A.value),K&&(K=A.inclusive)}return new Wu(U,K)}(d,u),T=this.On(u,d,v),S=this.On(u,d,b),E=this.Nn(u,d,g),R=this.Bn(u.indexId,p,T,v.inclusive,S,b.inclusive,E);return J.forEach(R,P=>n.Y(P,t.limit).next(O=>{O.forEach(z=>{const U=be.fromSegments(z.documentKey);o.has(U)||(o=o.add(U),c.push(U))})}))}).next(()=>c)}return J.resolve(null)})}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=wte(St.create(e.filters,"and")).map(n=>MT(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,t),t)}Bn(e,t,n,r,s,o,c){const u=(t!=null?t.length:1)*Math.max(n.length,s.length),d=u/(t!=null?t.length:1),p=[];for(let g=0;g<u;++g){const v=t?this.Ln(t[g/d]):mg,b=this.kn(e,v,n[g%d],r),T=this.qn(e,v,s[g%d],o),S=c.map(E=>this.kn(e,v,E,!0));p.push(...this.createRange(b,T,S))}return p}kn(e,t,n,r){const s=new gl(e,be.empty(),t,n);return r?s:s.An()}qn(e,t,n,r){const s=new gl(e,be.empty(),t,n);return r?s.An():s}xn(e,t){const n=new Yk(t),r=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let o=null;for(const c of s)n.yn(c)&&(!o||c.fields.length>o.fields.length)&&(o=c);return o})}getIndexType(e,t){let n=2;const r=this.Mn(t);return J.forEach(r,s=>this.xn(e,s).next(o=>{o?n!==0&&o.fields.length<function(u){let d=new yt(Ft.comparator),p=!1;for(const g of u.filters)for(const v of g.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?p=!0:d=d.add(v.field));for(const g of u.orderBy)g.field.isKeyField()||(d=d.add(g.field));return d.size+(p?1:0)}(s)&&(n=1):n=0})).next(()=>function(o){return o.limit!==null}(t)&&r.length>1&&n===2?1:n)}Qn(e,t){const n=new Fd;for(const r of hl(e)){const s=t.data.field(r.fieldPath);if(s==null)return null;const o=n.Pn(r.kind);ml.Kt.Dt(s,o)}return n.un()}Ln(e){const t=new Fd;return ml.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const n=new Fd;return ml.Kt.Dt(kE(this.databaseId,t),n.Pn(function(s){const o=hl(s);return o.length===0?0:o[o.length-1].kind}(e))),n.un()}Nn(e,t,n){if(n===null)return[];let r=[];r.push(new Fd);let s=0;for(const o of hl(e)){const c=n[s++];for(const u of r)if(this.Un(t,o.fieldPath)&&Gf(c))r=this.Kn(r,o,c);else{const d=u.Pn(o.kind);ml.Kt.Dt(c,d)}}return this.Wn(r)}On(e,t,n){return this.Nn(e,t,n.position)}Wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].un();return t}Kn(e,t,n){const r=[...e],s=[];for(const o of n.arrayValue.values||[])for(const c of r){const u=new Fd;u.seed(c.un()),ml.Kt.Dt(o,u.Pn(t.kind)),s.push(u)}return s}Un(e,t){return!!e.filters.find(n=>n instanceof Ke&&n.field.isEqual(t)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,t){const n=Bd(e),r=nu(e);return(t?n.J(ET,IDBKeyRange.bound(t,t)):n.J()).next(s=>{const o=[];return J.forEach(s,c=>r.get([c.indexId,this.uid]).next(u=>{o.push(function(p,g){const v=g?new Uf(g.sequenceNumber,new Ci(Gl(g.readTime),new be(Hr(g.documentKey)),g.largestBatchId)):Uf.empty(),b=p.fields.map(([T,S])=>new Ug(Ft.fromServerFormat(T),S));return new Ny(p.indexId,p.collectionGroup,b,v)}(c,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((n,r)=>{const s=n.indexState.sequenceNumber-r.indexState.sequenceNumber;return s!==0?s:Fe(n.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=Bd(e),s=nu(e);return this.Gn(e).next(o=>r.J(ET,IDBKeyRange.bound(t,t)).next(c=>J.forEach(c,u=>s.put(Bk(u.indexId,this.uid,o,n)))))}updateIndexEntries(e,t){const n=new Map;return J.forEach(t,(r,s)=>{const o=n.get(r.collectionGroup);return(o?J.resolve(o):this.getFieldIndexes(e,r.collectionGroup)).next(c=>(n.set(r.collectionGroup,c),J.forEach(c,u=>this.zn(e,r,u).next(d=>{const p=this.jn(s,u);return d.isEqual(p)?J.resolve():this.Jn(e,s,u,d,p)}))))})}Hn(e,t,n,r){return tu(e).put(r.Rn(this.uid,this.$n(n,t.key),t.key))}Yn(e,t,n,r){return tu(e).delete(r.Vn(this.uid,this.$n(n,t.key),t.key))}zn(e,t,n){const r=tu(e);let s=new yt(ka);return r.ee({index:DL,range:IDBKeyRange.only([n.indexId,this.uid,Kg(this.$n(n,t))])},(o,c)=>{s=s.add(new gl(n.indexId,t,qk(c.arrayValue),qk(c.directionalValue)))}).next(()=>s)}jn(e,t){let n=new yt(ka);const r=this.Qn(t,e);if(r==null)return n;const s=TT(t);if(s!=null){const o=e.data.field(s.fieldPath);if(Gf(o))for(const c of o.arrayValue.values||[])n=n.add(new gl(t.indexId,e.key,this.Ln(c),r))}else n=n.add(new gl(t.indexId,e.key,mg,r));return n}Jn(e,t,n,r,s){ge(Gk,"Updating index entries for document '%s'",t.key);const o=[];return function(u,d,p,g,v){const b=u.getIterator(),T=d.getIterator();let S=Jc(b),E=Jc(T);for(;S||E;){let R=!1,P=!1;if(S&&E){const O=p(S,E);O<0?P=!0:O>0&&(R=!0)}else S!=null?P=!0:R=!0;R?(g(E),E=Jc(T)):P?(v(S),S=Jc(b)):(S=Jc(b),E=Jc(T))}}(r,s,ka,c=>{o.push(this.Hn(e,t,n,c))},c=>{o.push(this.Yn(e,t,n,c))}),J.waitFor(o)}Gn(e){let t=1;return nu(e).ee({index:xL,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((o,c)=>ka(o,c)).filter((o,c,u)=>!c||ka(o,u[c-1])!==0);const r=[];r.push(e);for(const o of n){const c=ka(o,e),u=ka(o,t);if(c===0)r[0]=e.An();else if(c>0&&u<0)r.push(o),r.push(o.An());else if(u>0)break}r.push(t);const s=[];for(let o=0;o<r.length;o+=2){if(this.Zn(r[o],r[o+1]))return[];const c=r[o].Vn(this.uid,mg,be.empty()),u=r[o+1].Vn(this.uid,mg,be.empty());s.push(IDBKeyRange.bound(c,u))}return s}Zn(e,t){return ka(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($k)}getMinOffset(e,t){return J.mapArray(this.Mn(t),n=>this.xn(e,n).next(r=>r||Se(44426))).next($k)}}function Kk(i){return _n(i,qf)}function tu(i){return _n(i,yf)}function Bd(i){return _n(i,DE)}function nu(i){return _n(i,gf)}function $k(i){Ie(i.length!==0,28825);let e=i[0].indexState.offset,t=e.largestBatchId;for(let n=1;n<i.length;n++){const r=i[n].indexState.offset;SE(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Ci(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RF=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(i,e,t){const n=i.store(lr),r=i.store(Uu),s=[],o=IDBKeyRange.only(t.batchId);let c=0;const u=n.ee({range:o},(p,g,v)=>(c++,v.delete()));s.push(u.next(()=>{Ie(c===1,47070,{batchId:t.batchId})}));const d=[];for(const p of t.mutations){const g=TL(e,p.key.path,t.batchId);s.push(r.delete(g)),d.push(p.key)}return J.waitFor(s).next(()=>d)}function Gy(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Se(14731);e=i.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(RF,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);class Vv{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Xn={}}static wt(e,t,n,r){Ie(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new Vv(s,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).ee({index:Sl,range:n},(r,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const s=cu(e),o=Pa(e);return o.add({}).next(c=>{Ie(typeof c=="number",49019);const u=new VE(c,t,n,r),d=function(b,T,S){const E=S.baseMutations.map(P=>qy(b.yt,P)),R=S.mutations.map(P=>qy(b.yt,P));return{userId:T,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:E,mutations:R}}(this.serializer,this.userId,u),p=[];let g=new yt((v,b)=>Fe(v.canonicalString(),b.canonicalString()));for(const v of r){const b=TL(this.userId,v.key.path,c);g=g.add(v.key.path.popLast()),p.push(o.put(d)),p.push(s.put(b,JJ))}return g.forEach(v=>{p.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.Xn[c]=u.keys()}),J.waitFor(p).next(()=>u)})}lookupMutationBatch(e,t){return Pa(e).get(t).next(n=>n?(Ie(n.userId===this.userId,48,"Unexpected user for mutation batch",{userId:n.userId,batchId:t}),pl(this.serializer,n)):null)}er(e,t){return this.Xn[t]?J.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next(n=>{if(n){const r=n.keys();return this.Xn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return Pa(e).ee({index:Sl,range:r},(o,c,u)=>{c.userId===this.userId&&(Ie(c.batchId>=n,47524,{tr:n}),s=pl(this.serializer,c)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=Cl;return Pa(e).ee({index:Sl,range:t,reverse:!0},(r,s,o)=>{n=s.batchId,o.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Cl],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).J(Sl,t).next(n=>n.map(r=>pl(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=jg(this.userId,t.path),r=IDBKeyRange.lowerBound(n),s=[];return cu(e).ee({range:r},(o,c,u)=>{const[d,p,g]=o,v=Hr(p);if(d===this.userId&&t.path.isEqual(v))return Pa(e).get(g).next(b=>{if(!b)throw Se(61480,{nr:o,batchId:g});Ie(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:g}),s.push(pl(this.serializer,b))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new yt(Fe);const r=[];return t.forEach(s=>{const o=jg(this.userId,s.path),c=IDBKeyRange.lowerBound(o),u=cu(e).ee({range:c},(d,p,g)=>{const[v,b,T]=d,S=Hr(b);v===this.userId&&s.path.isEqual(S)?n=n.add(T):g.done()});r.push(u)}),J.waitFor(r).next(()=>this.rr(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,s=jg(this.userId,n),o=IDBKeyRange.lowerBound(s);let c=new yt(Fe);return cu(e).ee({range:o},(u,d,p)=>{const[g,v,b]=u,T=Hr(v);g===this.userId&&n.isPrefixOf(T)?T.length===r&&(c=c.add(b)):p.done()}).next(()=>this.rr(e,c))}rr(e,t){const n=[],r=[];return t.forEach(s=>{r.push(Pa(e).get(s).next(o=>{if(o===null)throw Se(35274,{batchId:s});Ie(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:s}),n.push(pl(this.serializer,o))}))}),J.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return CF(e.le,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.ir(t.batchId)}),J.forEach(n,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return J.resolve();const n=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),r=[];return cu(e).ee({range:n},(s,o,c)=>{if(s[0]===this.userId){const u=Hr(s[1]);r.push(u)}else c.done()}).next(()=>{Ie(r.length===0,56720,{sr:r.map(s=>s.canonicalString())})})})}containsKey(e,t){return MF(e,this.userId,t)}_r(e){return kF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Cl,lastStreamToken:""})}}function MF(i,e,t){const n=jg(e,t.path),r=n[1],s=IDBKeyRange.lowerBound(n);let o=!1;return cu(i).ee({range:s,X:!0},(c,u,d)=>{const[p,g,v]=c;p===e&&g===r&&(o=!0),d.done()}).next(()=>o)}function Pa(i){return _n(i,lr)}function cu(i){return _n(i,Uu)}function kF(i){return _n(i,zf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Kl(0)}static cr(){return new Kl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ete{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next(t=>{const n=new Kl(t.highestTargetId);return t.highestTargetId=n.next(),this.hr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(t=>Ce.fromTimestamp(new gt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.lr(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.hr(e,r)))}addTargetData(e,t){return this.Pr(e,t).next(()=>this.lr(e).next(n=>(n.targetCount+=1,this.Tr(t,n),this.hr(e,n))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>iu(e).delete(t.targetId)).next(()=>this.lr(e)).next(n=>(Ie(n.targetCount>0,8065),n.targetCount-=1,this.hr(e,n)))}removeTargets(e,t,n){let r=0;const s=[];return iu(e).ee((o,c)=>{const u=ef(c);u.sequenceNumber<=t&&n.get(u.targetId)===null&&(r++,s.push(this.removeTargetData(e,u)))}).next(()=>J.waitFor(s)).next(()=>r)}forEachTarget(e,t){return iu(e).ee((n,r)=>{const s=ef(r);t(s)})}lr(e){return Xk(e).get(Fy).next(t=>(Ie(t!==null,2888),t))}hr(e,t){return Xk(e).put(Fy,t)}Pr(e,t){return iu(e).put(xF(this.serializer,t))}Tr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.lr(e).next(t=>t.targetCount)}getTargetData(e,t){const n=Yl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return iu(e).ee({range:r,index:EL},(o,c,u)=>{const d=ef(c);pp(t,d.target)&&(s=d,u.done())}).next(()=>s)}addMatchingKeys(e,t,n){const r=[],s=ja(e);return t.forEach(o=>{const c=Kn(o.path);r.push(s.put({targetId:n,path:c})),r.push(this.referenceDelegate.addReference(e,n,o))}),J.waitFor(r)}removeMatchingKeys(e,t,n){const r=ja(e);return J.forEach(t,s=>{const o=Kn(s.path);return J.waitFor([r.delete([n,o]),this.referenceDelegate.removeReference(e,n,s)])})}removeMatchingKeysForTargetId(e,t){const n=ja(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ja(e);let s=He();return r.ee({range:n,X:!0},(o,c,u)=>{const d=Hr(o[1]),p=new be(d);s=s.add(p)}).next(()=>s)}containsKey(e,t){const n=Kn(t.path),r=IDBKeyRange.bound([n],[fL(n)],!1,!0);let s=0;return ja(e).ee({index:xE,X:!0,range:r},([o,c],u,d)=>{o!==0&&(s++,d.done())}).next(()=>s>0)}At(e,t){return iu(e).get(t).next(n=>n?ef(n):null)}}function iu(i){return _n(i,ju)}function Xk(i){return _n(i,Ml)}function ja(i){return _n(i,zu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="LruGarbageCollector",PF=1048576;function Jk([i,e],[t,n]){const r=Fe(i,t);return r===0?Fe(e,n):r}class xte{constructor(e){this.Ir=e,this.buffer=new yt(Jk),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();Jk(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OF{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(Zk,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vo(t)?ge(Zk,"Ignoring IndexedDB error during garbage collection: ",t):await yo(t)}await this.Vr(3e5)})}}class Dte{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return J.resolve(di.ce);const n=new xte(t);return this.mr.forEachTarget(e,r=>n.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>n.Ar(r))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Qk)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qk):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,s,o,c,u,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,o=Date.now(),this.nthSequenceNumber(e,r))).next(g=>(n=g,c=Date.now(),this.removeTargets(e,n,t))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(e,n))).next(g=>(d=Date.now(),su()<=Ge.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${r} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(d-u)+`ms
Total Duration: ${d-p}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function NF(i,e){return new Dte(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{constructor(e,t){this.db=e,this.garbageCollector=NF(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(n=>t.next(r=>n+r))}wr(e){let t=0;return this.pr(e,n=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,(n,r)=>t(r))}addReference(e,t,n){return gg(e,n)}removeReference(e,t,n){return gg(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return gg(e,t)}br(e,t){return function(r,s){let o=!1;return kF(r).te(c=>MF(r,c,s).next(u=>(u&&(o=!0),J.resolve(!u)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Sr(e,(o,c)=>{if(c<=t){const u=this.br(e,o).next(d=>{if(!d)return s++,n.getEntry(e,o).next(()=>(n.removeEntry(o,Ce.min()),ja(e).delete(function(g){return[0,Kn(g.path)]}(o))))});r.push(u)}}).next(()=>J.waitFor(r)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return gg(e,t)}Sr(e,t){const n=ja(e);let r,s=di.ce;return n.ee({index:xE},([o,c],{path:u,sequenceNumber:d})=>{o===0?(s!==di.ce&&t(new be(Hr(r)),s),s=d,r=u):s=di.ce}).next(()=>{s!==di.ce&&t(new be(Hr(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gg(i,e){return ja(i).put(function(n,r){return{targetId:0,path:Kn(n.path),sequenceNumber:r}}(e,i.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.changes=new Js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?J.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return al(e).put(n)}removeEntry(e,t,n){return al(e).delete(function(s,o){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Yy(o),c[c.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Dr(e,n)))}getEntry(e,t){let n=Ht.newInvalidDocument(t);return al(e).ee({index:zg,range:IDBKeyRange.only(Ud(t))},(r,s)=>{n=this.Cr(t,s)}).next(()=>n)}vr(e,t){let n={size:0,document:Ht.newInvalidDocument(t)};return al(e).ee({index:zg,range:IDBKeyRange.only(Ud(t))},(r,s)=>{n={document:this.Cr(t,s),size:Gy(s)}}).next(()=>n)}getEntries(e,t){let n=Di();return this.Fr(e,t,(r,s)=>{const o=this.Cr(r,s);n=n.insert(r,o)}).next(()=>n)}Mr(e,t){let n=Di(),r=new At(be.comparator);return this.Fr(e,t,(s,o)=>{const c=this.Cr(s,o);n=n.insert(s,c),r=r.insert(s,Gy(o))}).next(()=>({documents:n,Or:r}))}Fr(e,t,n){if(t.isEmpty())return J.resolve();let r=new yt(nP);t.forEach(u=>r=r.add(u));const s=IDBKeyRange.bound(Ud(r.first()),Ud(r.last())),o=r.getIterator();let c=o.getNext();return al(e).ee({index:zg,range:s},(u,d,p)=>{const g=be.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;c&&nP(c,g)<0;)n(c,null),c=o.getNext();c&&c.isEqual(g)&&(n(c,d),c=o.hasNext()?o.getNext():null),c?p.j(Ud(c)):p.done()}).next(()=>{for(;c;)n(c,null),c=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,n,r,s){const o=t.path,c=[o.popLast().toArray(),o.lastSegment(),Yy(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return al(e).J(IDBKeyRange.bound(c,u,!0)).next(d=>{s==null||s.incrementDocumentReadCount(d.length);let p=Di();for(const g of d){const v=this.Cr(be.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(mp(t,v)||r.has(v.key))&&(p=p.insert(v.key,v))}return p})}getAllFromCollectionGroup(e,t,n,r){let s=Di();const o=tP(t,n),c=tP(t,Ci.max());return al(e).ee({index:SL,range:IDBKeyRange.bound(o,c,!0)},(u,d,p)=>{const g=this.Cr(be.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(g.key,g),s.size===r&&p.done()}).next(()=>s)}newChangeBuffer(e){return new Rte(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return eP(e).get(ST).next(t=>(Ie(!!t,20021),t))}Dr(e,t){return eP(e).put(ST,t)}Cr(e,t){if(t){const n=pte(this.serializer,t);if(!(n.isNoDocument()&&n.version.isEqual(Ce.min())))return n}return Ht.newInvalidDocument(e)}}function LF(i){return new Ite(i)}class Rte extends VF{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Js(n=>n.toString(),(n,r)=>n.isEqual(r))}applyChanges(e){const t=[];let n=0,r=new yt((s,o)=>Fe(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const c=this.Br.get(s);if(t.push(this.Nr.removeEntry(e,s,c.readTime)),o.isValidDocument()){const u=Lk(this.Nr.serializer,o);r=r.add(s.path.popLast());const d=Gy(u);n+=d-c.size,t.push(this.Nr.addEntry(e,s,u))}else if(n-=c.size,this.trackRemovals){const u=Lk(this.Nr.serializer,o.convertToNoDocument(Ce.min()));t.push(this.Nr.addEntry(e,s,u))}}),r.forEach(s=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Nr.updateMetadata(e,n)),J.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next(n=>(this.Br.set(t,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next(({documents:n,Or:r})=>(r.forEach((s,o)=>{this.Br.set(s,{size:o,readTime:n.get(s).readTime})}),n))}}function eP(i){return _n(i,Hf)}function al(i){return _n(i,Ly)}function Ud(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function tP(i,e){const t=e.documentKey.path.toArray();return[i,Yy(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function nP(i,e){const t=i.path.toArray(),n=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<n.length-2;++s)if(r=Fe(t[s],n[s]),r)return r;return r=Fe(t.length,n.length),r||(r=Fe(t[t.length-2],n[n.length-2]),r||Fe(t[t.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(n!==null&&wf(n.mutation,r,fi.empty(),gt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,He()).next(()=>n))}getLocalViewOfDocuments(e,t,n=He()){const r=qr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(s=>{let o=Zd();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const n=qr();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,He()))}populateOverlays(e,t,n){const r=[];return n.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,n,r){let s=Di();const o=bf(),c=function(){return bf()}();return t.forEach((u,d)=>{const p=n.get(d.key);r.has(d.key)&&(p===void 0||p.mutation instanceof ea)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),wf(p.mutation,d,p.mutation.getFieldMask(),gt.now())):o.set(d.key,fi.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>o.set(d,p)),t.forEach((d,p)=>c.set(d,new Cte(p,o.get(d)??null))),c))}recalculateAndSaveOverlays(e,t){const n=bf();let r=new At((o,c)=>o-c),s=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const c of o)c.keys().forEach(u=>{const d=t.get(u);if(d===null)return;let p=n.get(u)||fi.empty();p=c.applyToLocalView(d,p),n.set(u,p);const g=(r.get(c.batchId)||He()).add(u);r=r.insert(c.batchId,g)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,p=u.value,g=tF();p.forEach(v=>{if(!s.has(v)){const b=oF(t.get(v),n.get(v));b!==null&&g.set(v,b),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return J.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,r){return function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Nee(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):J.resolve(qr());let c=Bu,u=s;return o.next(d=>J.forEach(d,(p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(p)?J.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{u=u.insert(p,v)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,He())).next(p=>({batchId:c,changes:eF(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(n=>{let r=Zd();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let o=Zd();return this.indexManager.getCollectionParents(e,s).next(c=>J.forEach(c,u=>{const d=function(g,v){return new Rv(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,n,r).next(p=>{p.forEach((g,v)=>{o=o.insert(g,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r))).next(o=>{s.forEach((u,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,Ht.newInvalidDocument(p)))});let c=Zd();return o.forEach((u,d)=>{const p=s.get(u);p!==void 0&&wf(p.mutation,d,fi.empty(),gt.now()),mp(t,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:ni(r.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(r){return{name:r.name,query:DF(r.bundledQuery),readTime:ni(r.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kte{constructor(){this.overlays=new At(be.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const n=qr();return J.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&n.set(r,s)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((r,s)=>{this.St(e,t,s)}),J.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),J.resolve()}getOverlaysForCollection(e,t,n){const r=qr(),s=t.length+1,o=new be(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>n&&r.set(u.getKey(),u)}return J.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new At((d,p)=>d-p);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>n){let p=s.get(d.largestBatchId);p===null&&(p=qr(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=qr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=r)););return J.resolve(c)}St(e,t,n){const r=this.overlays.get(n.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new FE(t,n));let s=this.qr.get(t);s===void 0&&(s=He(),this.qr.set(t,s)),this.qr.set(t,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.Qr=new yt(Dn.$r),this.Ur=new yt(Dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Dn(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Gr(new Dn(e,t))}zr(e,t){e.forEach(n=>this.removeReference(n,t))}jr(e){const t=new be(new ct([])),n=new Dn(t,e),r=new Dn(t,e+1),s=[];return this.Ur.forEachInRange([n,r],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new be(new ct([])),n=new Dn(t,e),r=new Dn(t,e+1);let s=He();return this.Ur.forEachInRange([n,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Dn(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Dn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return be.comparator(e.key,t.key)||Fe(e.Yr,t.Yr)}static Kr(e,t){return Fe(e.Yr,t.Yr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new yt(Dn.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VE(s,t,n,r);this.mutationQueue.push(o);for(const c of r)this.Zr=this.Zr.add(new Dn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),s=r<0?0:r;return J.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Cl:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Dn(t,0),r=new Dn(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,r],o=>{const c=this.Xr(o.Yr);s.push(c)}),J.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new yt(Fe);return t.forEach(r=>{const s=new Dn(r,0),o=new Dn(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],c=>{n=n.add(c.Yr)})}),J.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;be.isDocumentKey(s)||(s=s.child(""));const o=new Dn(new be(s),0);let c=new yt(Fe);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!n.isPrefixOf(d)&&(d.length===r&&(c=c.add(u.Yr)),!0)},o),J.resolve(this.ti(c))}ti(e){const t=[];return e.forEach(n=>{const r=this.Xr(n);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Ie(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return J.forEach(t.mutations,r=>{const s=new Dn(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Dn(t,0),r=this.Zr.firstAfterOrEqual(n);return J.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nte{constructor(e){this.ri=e,this.docs=function(){return new At(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return J.resolve(n?n.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let n=Di();return t.forEach(r=>{const s=this.docs.get(r);n=n.insert(r,s?s.document.mutableCopy():Ht.newInvalidDocument(r))}),J.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Di();const o=t.path,c=new be(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||SE(yL(p),n)<=0||(r.has(p.key)||mp(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return J.resolve(s)}getAllFromCollectionGroup(e,t,n,r){Se(9500)}ii(e,t){return J.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new Vte(this)}getSize(e){return J.resolve(this.size)}}class Vte extends VF{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(e){this.persistence=e,this.si=new Js(t=>Yl(t),pp),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new HE,this.targetCount=0,this.ai=Kl.ur()}forEachTarget(e,t){return this.si.forEach((n,r)=>t(r)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Kl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.si.forEach((o,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),J.waitFor(s).next(()=>r)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return J.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),J.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),J.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return J.resolve(n)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t){this.ui={},this.overlays={},this.ci=new di(0),this.li=!1,this.li=!0,this.hi=new Pte,this.referenceDelegate=e(this),this.Pi=new Lte(this),this.indexManager=new Tte,this.remoteDocumentCache=function(r){return new Nte(r)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new EF(t),this.Ii=new Mte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kte,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Ote(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ge("MemoryPersistence","Starting transaction:",e);const r=new Fte(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ai(e,t){return J.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Fte extends _L{constructor(e){super(),this.currentSequenceNumber=e}}class Lv{constructor(e){this.persistence=e,this.Ri=new HE,this.Vi=null}static mi(e){return new Lv(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),J.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(r=>this.fi.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,n=>{const r=be.fromPath(n);return this.gi(e,r).next(s=>{s||t.removeEntry(r,Ce.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ky{constructor(e,t){this.persistence=e,this.pi=new Js(n=>Kn(n.path),(n,r)=>n.isEqual(r)),this.garbageCollector=NF(this,t)}static mi(e,t){return new Ky(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(r=>n+r))}wr(e){let t=0;return this.pr(e,n=>{t++}).next(()=>t)}pr(e,t){return J.forEach(this.pi,(n,r)=>this.br(e,n,r).next(s=>s?J.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,o=>this.br(e,o,t).next(c=>{c||(n++,s.removeEntry(o,Ce.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qg(e.data.value)),t}br(e,t,n){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return J.resolve(r!==void 0&&r>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(e){this.serializer=e}k(e,t,n,r){const s=new Tv("createOrUpgrade",t);n<1&&r>=1&&(function(u){u.createObjectStore(fp)}(e),function(u){u.createObjectStore(zf,{keyPath:ZJ}),u.createObjectStore(lr,{keyPath:fk,autoIncrement:!0}).createIndex(Sl,pk,{unique:!0}),u.createObjectStore(Uu)}(e),iP(e),function(u){u.createObjectStore(dl)}(e));let o=J.resolve();return n<3&&r>=3&&(n!==0&&(function(u){u.deleteObjectStore(zu),u.deleteObjectStore(ju),u.deleteObjectStore(Ml)}(e),iP(e)),o=o.next(()=>function(u){const d=u.store(Ml),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return d.put(Fy,p)}(s))),n<4&&r>=4&&(n!==0&&(o=o.next(()=>function(u,d){return d.store(lr).J().next(g=>{u.deleteObjectStore(lr),u.createObjectStore(lr,{keyPath:fk,autoIncrement:!0}).createIndex(Sl,pk,{unique:!0});const v=d.store(lr),b=g.map(T=>v.put(T));return J.waitFor(b)})}(e,s))),o=o.next(()=>{(function(u){u.createObjectStore(Hu,{keyPath:oee})})(e)})),n<5&&r>=5&&(o=o.next(()=>this.yi(s))),n<6&&r>=6&&(o=o.next(()=>(function(u){u.createObjectStore(Hf)}(e),this.wi(s)))),n<7&&r>=7&&(o=o.next(()=>this.Si(s))),n<8&&r>=8&&(o=o.next(()=>this.bi(e,s))),n<9&&r>=9&&(o=o.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&r>=10&&(o=o.next(()=>this.Di(s))),n<11&&r>=11&&(o=o.next(()=>{(function(u){u.createObjectStore(Ev,{keyPath:lee})})(e),function(u){u.createObjectStore(xv,{keyPath:cee})}(e)})),n<12&&r>=12&&(o=o.next(()=>{(function(u){const d=u.createObjectStore(Dv,{keyPath:gee});d.createIndex(xT,yee,{unique:!1}),d.createIndex(AL,vee,{unique:!1})})(e)})),n<13&&r>=13&&(o=o.next(()=>function(u){const d=u.createObjectStore(Ly,{keyPath:eee});d.createIndex(zg,tee),d.createIndex(SL,nee)}(e)).next(()=>this.Ci(e,s)).next(()=>e.deleteObjectStore(dl))),n<14&&r>=14&&(o=o.next(()=>this.Fi(e,s))),n<15&&r>=15&&(o=o.next(()=>function(u){u.createObjectStore(DE,{keyPath:uee,autoIncrement:!0}).createIndex(ET,hee,{unique:!1}),u.createObjectStore(gf,{keyPath:dee}).createIndex(xL,fee,{unique:!1}),u.createObjectStore(yf,{keyPath:pee}).createIndex(DL,mee,{unique:!1})}(e))),n<16&&r>=16&&(o=o.next(()=>{t.objectStore(gf).clear()}).next(()=>{t.objectStore(yf).clear()})),n<17&&r>=17&&(o=o.next(()=>{(function(u){u.createObjectStore(AE,{keyPath:_ee})})(e)})),n<18&&r>=18&&K2()&&(o=o.next(()=>{t.objectStore(gf).clear()}).next(()=>{t.objectStore(yf).clear()})),o}wi(e){let t=0;return e.store(dl).ee((n,r)=>{t+=Gy(r)}).next(()=>{const n={byteSize:t};return e.store(Hf).put(ST,n)})}yi(e){const t=e.store(zf),n=e.store(lr);return t.J().next(r=>J.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,Cl],[s.userId,s.lastAcknowledgedBatchId]);return n.J(Sl,o).next(c=>J.forEach(c,u=>{Ie(u.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:u.batchId});const d=pl(this.serializer,u);return CF(e,s.userId,d).next(()=>{})}))}))}Si(e){const t=e.store(zu),n=e.store(dl);return e.store(Ml).get(Fy).next(r=>{const s=[];return n.ee((o,c)=>{const u=new ct(o),d=function(g){return[0,Kn(g)]}(u);s.push(t.get(d).next(p=>p?J.resolve():(g=>t.put({targetId:0,path:Kn(g),sequenceNumber:r.highestListenSequenceNumber}))(u)))}).next(()=>J.waitFor(s))})}bi(e,t){e.createObjectStore(qf,{keyPath:aee});const n=t.store(qf),r=new zE,s=o=>{if(r.add(o)){const c=o.lastSegment(),u=o.popLast();return n.put({collectionId:c,parent:Kn(u)})}};return t.store(dl).ee({X:!0},(o,c)=>{const u=new ct(o);return s(u.popLast())}).next(()=>t.store(Uu).ee({X:!0},([o,c,u],d)=>{const p=Hr(c);return s(p.popLast())}))}Di(e){const t=e.store(ju);return t.ee((n,r)=>{const s=ef(r),o=xF(this.serializer,s);return t.put(o)})}Ci(e,t){const n=t.store(dl),r=[];return n.ee((s,o)=>{const c=t.store(Ly),u=function(g){return g.document?new be(ct.fromString(g.document.name).popFirst(5)):g.noDocument?be.fromSegments(g.noDocument.path):g.unknownDocument?be.fromSegments(g.unknownDocument.path):Se(36783)}(o).path.toArray(),d={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};r.push(c.put(d))}).next(()=>J.waitFor(r))}Fi(e,t){const n=t.store(lr),r=LF(this.serializer),s=new qE(Lv.mi,this.serializer.yt);return n.J().next(o=>{const c=new Map;return o.forEach(u=>{let d=c.get(u.userId)??He();pl(this.serializer,u).keys().forEach(p=>d=d.add(p)),c.set(u.userId,d)}),J.forEach(c,(u,d)=>{const p=new zn(d),g=Nv.wt(this.serializer,p),v=s.getIndexManager(p),b=Vv.wt(p,this.serializer,v,s.referenceDelegate);return new FF(r,b,g,v).recalculateAndSaveOverlaysForDocumentKeys(new DT(t,di.ce),u).next()})})}}function iP(i){i.createObjectStore(zu,{keyPath:ree}).createIndex(xE,see,{unique:!0}),i.createObjectStore(ju,{keyPath:"targetId"}).createIndex(EL,iee,{unique:!0}),i.createObjectStore(Ml)}const Oa="IndexedDbPersistence",yw=18e5,vw=5e3,_w="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ute="main";class YE{constructor(e,t,n,r,s,o,c,u,d,p,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Mi=s,this.window=o,this.document=c,this.xi=d,this.Oi=p,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!YE.v())throw new _e(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ate(this,r),this.$i=t+Ute,this.serializer=new EF(u),this.Ui=new to(this.$i,this.Ni,new Bte(this.serializer)),this.hi=new gte,this.Pi=new Ete(this.referenceDelegate,this.serializer),this.remoteDocumentCache=LF(this.serializer),this.Ii=new mte,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&$t(Oa,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _e(he.FAILED_PRECONDITION,_w);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new di(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(t=>this.isPrimary&&!t?this.Zi(e).next(()=>!1):!!t&&this.Xi(e).next(()=>!0))).catch(e=>{if(vo(e))return ge(Oa,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ge(Oa,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return jd(e).get(Zc).next(t=>J.resolve(this.es(t)))}ts(e){return yg(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,yw)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=_n(t,Hu);return n.J().next(r=>{const s=this.ss(r,yw),o=r.filter(c=>s.indexOf(c)===-1);return J.forEach(o,c=>n.delete(c.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?J.resolve(!0):jd(e).get(Zc).next(t=>{if(t!==null&&this.rs(t.leaseTimestampMs,vw)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new _e(he.FAILED_PRECONDITION,_w);return!1}}return!(!this.networkEnabled||!this.inForeground)||yg(e).J().next(n=>this.ss(n,vw).find(r=>{if(this.clientId!==r.clientId){const s=!this.networkEnabled&&r.networkEnabled,o=!this.inForeground&&r.inForeground,c=this.networkEnabled===r.networkEnabled;if(s||o&&c)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ge(Oa,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[fp,Hu],e=>{const t=new DT(e,di.ce);return this.Zi(t).next(()=>this.ts(t))}),this.Ui.close(),this.Ps()}ss(e,t){return e.filter(n=>this.rs(n.updateTimeMs,t)&&!this.us(n.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>yg(e).J().next(t=>this.ss(t,yw).map(n=>n.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Vv.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ste(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Nv.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,n){ge(Oa,"Starting transaction:",e);const r=t==="readonly"?"readonly":"readwrite",s=function(u){return u===18?Tee:u===17?ML:u===16?wee:u===15?IE:u===14?CL:u===13?RL:u===12?bee:u===11?IL:void Se(60245)}(this.Ni);let o;return this.Ui.runTransaction(e,r,s,c=>(o=new DT(c,this.ci?this.ci.next():di.ce),t==="readwrite-primary"?this.Hi(o).next(u=>!!u||this.Yi(o)).next(u=>{if(!u)throw $t(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new _e(he.FAILED_PRECONDITION,vL);return n(o)}).next(u=>this.Xi(o).next(()=>u)):this.Is(o).next(()=>n(o)))).then(c=>(o.raiseOnCommittedEvent(),c))}Is(e){return jd(e).get(Zc).next(t=>{if(t!==null&&this.rs(t.leaseTimestampMs,vw)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new _e(he.FAILED_PRECONDITION,_w)})}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jd(e).put(Zc,t)}static v(){return to.v()}Zi(e){const t=jd(e);return t.get(Zc).next(n=>this.es(n)?(ge(Oa,"Releasing primary lease."),t.delete(Zc)):J.resolve())}rs(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||($t(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;G2()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var t;try{const n=((t=this.Ki)==null?void 0:t.getItem(this._s(e)))!==null;return ge(Oa,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return $t(Oa,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){$t("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jd(i){return _n(i,fp)}function yg(i){return _n(i,Hu)}function BF(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=He(),r=He();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new WE(e,t.fromCache,n,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return G2()?8:bL(vn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ys(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,t,r,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new jte;return this.Ss(e,t,o).next(c=>{if(s.result=c,this.Vs)return this.bs(e,t,o,c.size)})}).next(()=>s.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(su()<=Ge.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",au(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(su()<=Ge.DEBUG&&ge("QueryEngine","Query:",au(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(su()<=Ge.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",au(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(t))):J.resolve())}ys(e,t){if(Ak(t))return J.resolve(null);let n=Ri(t);return this.indexManager.getIndexType(e,n).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=kT(t,null,"F"),n=Ri(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=He(...s);return this.ps.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,n).next(u=>{const d=this.Ds(t,c);return this.Cs(t,d,o,u.readTime)?this.ys(e,kT(t,null,"F")):this.vs(e,d,t,u)}))})))}ws(e,t,n,r){return Ak(t)||r.isEqual(Ce.min())?J.resolve(null):this.ps.getDocuments(e,n).next(s=>{const o=this.Ds(t,s);return this.Cs(t,o,n,r)?J.resolve(null):(su()<=Ge.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),au(t)),this.vs(e,o,t,gL(r,Bu)).next(c=>c))})}Ds(e,t){let n=new yt(ZL(e));return t.forEach((r,s)=>{mp(e,s)&&(n=n.add(s))}),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,n){return su()<=Ge.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",au(t)),this.ps.getDocumentsMatchingQuery(e,t,Ci.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="LocalStore",zte=3e8;class Hte{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new At(Fe),this.xs=new Js(s=>Yl(s),pp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function jF(i,e,t,n){return new Hte(i,e,t,n)}async function zF(i,e){const t=xe(i);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let r;return t.mutationQueue.getAllMutationBatches(n).next(s=>(r=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],c=[];let u=He();for(const d of r){o.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of s){c.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(n,u).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:c}))})})}function qte(i,e){const t=xe(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const r=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return function(c,u,d,p){const g=d.batch,v=g.keys();let b=J.resolve();return v.forEach(T=>{b=b.next(()=>p.getEntry(u,T)).next(S=>{const E=d.docVersions.get(T);Ie(E!==null,48541),S.version.compareTo(E)<0&&(g.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),p.addEntry(S)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(t,n,e,s).next(()=>s.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let u=He();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(n,r))})}function HF(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function Yte(i,e){const t=xe(i),n=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const c=[];e.targetChanges.forEach((p,g)=>{const v=r.get(g);if(!v)return;c.push(t.Pi.removeMatchingKeys(s,p.removedDocuments,g).next(()=>t.Pi.addMatchingKeys(s,p.addedDocuments,g)));let b=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(Jt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,n)),r=r.insert(g,b),function(S,E,R){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=zte?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(v,b,p)&&c.push(t.Pi.updateTargetData(s,b))});let u=Di(),d=He();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(Wte(s,o,e.documentUpdates).next(p=>{u=p.ks,d=p.qs})),!n.isEqual(Ce.min())){const p=t.Pi.getLastRemoteSnapshotVersion(s).next(g=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));c.push(p)}return J.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(t.Ms=r,s))}function Wte(i,e,t){let n=He(),r=He();return t.forEach(s=>n=n.add(s)),e.getEntries(i,n).next(s=>{let o=Di();return t.forEach((c,u)=>{const d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(Ce.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):ge(GE,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{ks:o,qs:r}})}function Gte(i,e){const t=xe(i);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Cl),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function $y(i,e){const t=xe(i);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return t.Pi.getTargetData(n,e).next(s=>s?(r=s,J.resolve(r)):t.Pi.allocateTargetId(n).next(o=>(r=new Fs(e,o,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=t.Ms.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n})}async function Xu(i,e,t){const n=xe(i),r=n.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!vo(o))throw o;ge(GE,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(r.target)}function UT(i,e,t){const n=xe(i);let r=Ce.min(),s=He();return n.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){const g=xe(u),v=g.xs.get(p);return v!==void 0?J.resolve(g.Ms.get(v)):g.Pi.getTargetData(d,p)}(n,o,Ri(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,t?r:Ce.min(),t?s:He())).next(c=>(WF(n,XL(e),c),{documents:c,Qs:s})))}function qF(i,e){const t=xe(i),n=xe(t.Pi),r=t.Ms.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>n.At(s,e).next(o=>o?o.target:null))}function YF(i,e){const t=xe(i),n=t.Os.get(e)||Ce.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ns.getAllFromCollectionGroup(r,e,gL(n,Bu),Number.MAX_SAFE_INTEGER)).then(r=>(WF(t,e,r),r))}function WF(i,e,t){let n=i.Os.get(e)||Ce.min();t.forEach((r,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),i.Os.set(e,n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF="firestore_clients";function rP(i,e){return`${GF}_${i}_${e}`}const KF="firestore_mutations";function sP(i,e,t){let n=`${KF}_${i}_${t}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}const $F="firestore_targets";function bw(i,e){return`${$F}_${i}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="SharedClientState";class Qy{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ws(e,t,n){const r=JSON.parse(n);let s,o=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new _e(r.error.code,r.error.message))),o?new Qy(e,t,r.state,s):($t(Br,`Failed to parse mutation state for ID '${t}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tf{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ws(e,t){const n=JSON.parse(t);let r,s=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return s&&n.error&&(s=typeof n.error.message=="string"&&typeof n.error.code=="string",s&&(r=new _e(n.error.code,n.error.message))),s?new Tf(e,n.state,r):($t(Br,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const n=JSON.parse(t);let r=typeof n=="object"&&n.activeTargetIds instanceof Array,s=OE();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=wL(n.activeTargetIds[o]),s=s.add(n.activeTargetIds[o]);return r?new Xy(e,s):($t(Br,`Failed to parse client data for instance '${e}': ${t}`),null)}}class KE{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new KE(t.clientId,t.onlineState):($t(Br,`Failed to parse online state: ${e}`),null)}}class jT{constructor(){this.activeTargetIds=OE()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ww{constructor(e,t,n,r,s){this.window=e,this.Mi=t,this.persistenceKey=n,this.Js=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new At(Fe),this.started=!1,this.Xs=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=rP(this.persistenceKey,this.Js),this.no=function(u){return`firestore_sequence_number_${u}`}(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new jT),this.ro=new RegExp(`^${GF}_${o}_([^_]*)$`),this.io=new RegExp(`^${KF}_${o}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${$F}_${o}_(\\d+)$`),this.oo=function(u){return`firestore_online_state_${u}`}(this.persistenceKey),this._o=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const n of e){if(n===this.Js)continue;const r=this.getItem(rP(this.persistenceKey,n));if(r){const s=Xy.Ws(n,r);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const n=this.uo(t);n&&this.co(n)}for(const n of this.Xs)this.Ys(n);this.Xs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,n){this.ho(e,t,n),this.Po(e)}addLocalQueryTarget(e,t=!0){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(bw(this.persistenceKey,e));if(r){const s=Tf.Ws(e,r);s&&(n=s.state)}}return t&&this.To.zs(e),this.ao(),n}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(bw(this.persistenceKey,e))}updateQueryState(e,t,n){this.Io(e,t,n)}handleUserChange(e,t,n){t.forEach(r=>{this.Po(r)}),this.currentUser=e,n.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ge(Br,"READ",e,t),t}setItem(e,t){ge(Br,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ge(Br,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(ge(Br,"EVENT",t.key,t.newValue),t.key===this.eo)return void $t("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const n=this.Ro(t.key);return this.Vo(n,null)}{const n=this.mo(t.key,t.newValue);if(n)return this.Vo(n.clientId,n)}}else if(this.io.test(t.key)){if(t.newValue!==null){const n=this.fo(t.key,t.newValue);if(n)return this.po(n)}}else if(this.so.test(t.key)){if(t.newValue!==null){const n=this.yo(t.key,t.newValue);if(n)return this.wo(n)}}else if(t.key===this.oo){if(t.newValue!==null){const n=this.uo(t.newValue);if(n)return this.co(n)}}else if(t.key===this.no){const n=function(s){let o=di.ce;if(s!=null)try{const c=JSON.parse(s);Ie(typeof c=="number",30636,{So:s}),o=c}catch(c){$t(Br,"Failed to read sequence number from WebStorage",c)}return o}(t.newValue);n!==di.ce&&this.sequenceNumberHandler(n)}else if(t.key===this._o){const n=this.bo(t.newValue);await Promise.all(n.map(r=>this.syncEngine.Do(r)))}}}else this.Xs.push(t)})}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,n){const r=new Qy(this.currentUser,e,t,n),s=sP(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Gs())}Po(e){const t=sP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,n){const r=bw(this.persistenceKey,e),s=new Tf(e,t,n);this.setItem(r,s.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const n=this.Ro(e);return Xy.Ws(n,t)}fo(e,t){const n=this.io.exec(e),r=Number(n[1]),s=n[2]!==void 0?n[2]:null;return Qy.Ws(new zn(s),r,t)}yo(e,t){const n=this.so.exec(e),r=Number(n[1]);return Tf.Ws(r,t)}uo(e){return KE.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ge(Br,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const n=t?this.Zs.insert(e,t):this.Zs.remove(e),r=this.lo(this.Zs),s=this.lo(n),o=[],c=[];return s.forEach(u=>{r.has(u)||o.push(u)}),r.forEach(u=>{s.has(u)||c.push(u)}),this.syncEngine.Fo(o,c).then(()=>{this.Zs=n})}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=OE();return e.forEach((n,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class QF{constructor(){this.Mo=new jT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="ConnectivityMonitor";class oP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(aP,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(aP,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg=null;function zT(){return vg===null?vg=function(){return 268435456+Math.round(2147483648*Math.random())}():vg++,"0x"+vg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="RestConnection",$te={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qte{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===By?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,s){const o=zT(),c=this.zo(e,t.toUriEncodedString());ge(Tw,`Sending RPC '${e}' ${o}:`,c,n);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,s);const{host:d}=new URL(c),p=ch(d);return this.Jo(e,c,u,n,p).then(g=>(ge(Tw,`Received RPC '${e}' ${o}: `,g),g),g=>{throw Bf(Tw,`RPC '${e}' ${o} failed with error: `,g,"url: ",c,"request:",n),g})}Ho(e,t,n,r,s,o){return this.Go(e,t,n,r,s)}jo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),n&&n.headers.forEach((r,s)=>e[s]=r)}zo(e,t){const n=$te[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class Zte extends Qte{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,s){const o=zT();return new Promise((c,u)=>{const d=new oL;d.setWithCredentials(!0),d.listenOnce(lL.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Bg.NO_ERROR:const g=d.getResponseJson();ge(jn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case Bg.TIMEOUT:ge(jn,`RPC '${e}' ${o} timed out`),u(new _e(he.DEADLINE_EXCEEDED,"Request time out"));break;case Bg.HTTP_ERROR:const v=d.getStatus();if(ge(jn,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const T=b==null?void 0:b.error;if(T&&T.status&&T.message){const S=function(R){const P=R.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(P)>=0?P:he.UNKNOWN}(T.status);u(new _e(S,T.message))}else u(new _e(he.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new _e(he.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ge(jn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(r);ge(jn,`RPC '${e}' ${o} sending request:`,r),d.send(t,"POST",p,n,15)})}T_(e,t,n){const r=zT(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hL(),c=uL(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;const p=s.join("");ge(jn,`Creating RPC '${e}' stream ${r}: ${p}`,u);const g=o.createWebChannel(p,u);this.I_(g);let v=!1,b=!1;const T=new Xte({Yo:E=>{b?ge(jn,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(v||(ge(jn,`Opening RPC '${e}' stream ${r} transport.`),g.open(),v=!0),ge(jn,`RPC '${e}' stream ${r} sending:`,E),g.send(E))},Zo:()=>g.close()}),S=(E,R,P)=>{E.listen(R,O=>{try{P(O)}catch(z){setTimeout(()=>{throw z},0)}})};return S(g,Xd.EventType.OPEN,()=>{b||(ge(jn,`RPC '${e}' stream ${r} transport opened.`),T.o_())}),S(g,Xd.EventType.CLOSE,()=>{b||(b=!0,ge(jn,`RPC '${e}' stream ${r} transport closed`),T.a_(),this.E_(g))}),S(g,Xd.EventType.ERROR,E=>{b||(b=!0,Bf(jn,`RPC '${e}' stream ${r} transport errored. Name:`,E.name,"Message:",E.message),T.a_(new _e(he.UNAVAILABLE,"The operation could not be completed")))}),S(g,Xd.EventType.MESSAGE,E=>{var R;if(!b){const P=E.data[0];Ie(!!P,16349);const O=P,z=(O==null?void 0:O.error)||((R=O[0])==null?void 0:R.error);if(z){ge(jn,`RPC '${e}' stream ${r} received error:`,z);const U=z.status;let K=function(I){const F=on[I];if(F!==void 0)return uF(F)}(U),M=z.message;K===void 0&&(K=he.INTERNAL,M="Unknown error status: "+U+" with message "+z.message),b=!0,T.a_(new _e(K,M)),g.close()}else ge(jn,`RPC '${e}' stream ${r} received:`,P),T.u_(P)}}),S(c,cL.STAT_EVENT,E=>{E.stat===bT.PROXY?ge(jn,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===bT.NOPROXY&&ge(jn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(){return typeof window<"u"?window:null}function $g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(i){return new rte(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,t,n=1e3,r=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&ge("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="PersistentStream";class JF{constructor(e,t,n,r,s,o,c,u){this.Mi=e,this.S_=n,this.b_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZF(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?($t(t.toString()),$t("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.D_===t&&this.G_(n,r)},n=>{e(()=>{const r=new _e(he.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(r)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{n(()=>this.z_(r))}),this.stream.onMessage(r=>{n(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ge(lP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ge(lP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jte extends JF{constructor(e,t,n,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ote(this.serializer,e),n=function(s){if(!("targetChange"in s))return Ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ce.min():o.readTime?ni(o.readTime):Ce.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=NT(this.serializer),t.addTarget=function(s,o){let c;const u=o.target;if(c=jy(u)?{documents:vF(s,u)}:{query:_F(s,u).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=fF(s,o.resumeToken);const d=PT(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ce.min())>0){c.readTime=Qu(s,o.snapshotVersion.toTimestamp());const d=PT(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const n=cte(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=NT(this.serializer),t.removeTarget=e,this.q_(t)}}class ene extends JF{constructor(e,t,n,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=lte(e.writeResults,e.commitTime),n=ni(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=NT(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>qy(this.serializer,n))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{}class nne extends tne{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new _e(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,OT(t,n),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(he.UNKNOWN,s.toString())})}Ho(e,t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Ho(e,OT(t,n),r,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(he.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class ine{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($t(t),this.aa=!1):ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="RemoteStore";class rne{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{ec(this)&&(ge($l,"Restarting streams for network reachability change."),await async function(u){const d=xe(u);d.Ea.add(4),await vp(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Bv(d)}(this))})}),this.Ra=new ine(n,r)}}async function Bv(i){if(ec(i))for(const e of i.da)await e(!0)}async function vp(i){for(const e of i.da)await e(!1)}function Uv(i,e){const t=xe(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),XE(t)?QE(t):mh(t).O_()&&$E(t,e))}function Zu(i,e){const t=xe(i),n=mh(t);t.Ia.delete(e),n.O_()&&e4(t,e),t.Ia.size===0&&(n.O_()?n.L_():ec(t)&&t.Ra.set("Unknown"))}function $E(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}mh(i).Y_(e)}function e4(i,e){i.Va.Ue(e),mh(i).Z_(e)}function QE(i){i.Va=new ete({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),mh(i).start(),i.Ra.ua()}function XE(i){return ec(i)&&!mh(i).x_()&&i.Ia.size>0}function ec(i){return xe(i).Ea.size===0}function t4(i){i.Va=void 0}async function sne(i){i.Ra.set("Online")}async function ane(i){i.Ia.forEach((e,t)=>{$E(i,e)})}async function one(i,e){t4(i),XE(i)?(i.Ra.ha(e),QE(i)):i.Ra.set("Unknown")}async function lne(i,e,t){if(i.Ra.set("Online"),e instanceof dF&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const c of s.targetIds)r.Ia.has(c)&&(await r.remoteSyncer.rejectListen(c,o),r.Ia.delete(c),r.Va.removeTarget(c))}(i,e)}catch(n){ge($l,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Zy(i,n)}else if(e instanceof Gg?i.Va.Ze(e):e instanceof hF?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ce.min()))try{const n=await HF(i.localStore);t.compareTo(n)>=0&&await function(s,o){const c=s.Va.Tt(o);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.Ia.get(d);p&&s.Ia.set(d,p.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,d)=>{const p=s.Ia.get(u);if(!p)return;s.Ia.set(u,p.withResumeToken(Jt.EMPTY_BYTE_STRING,p.snapshotVersion)),e4(s,u);const g=new Fs(p.target,u,d,p.sequenceNumber);$E(s,g)}),s.remoteSyncer.applyRemoteEvent(c)}(i,t)}catch(n){ge($l,"Failed to raise snapshot:",n),await Zy(i,n)}}async function Zy(i,e,t){if(!vo(e))throw e;i.Ea.add(1),await vp(i),i.Ra.set("Offline"),t||(t=()=>HF(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ge($l,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Bv(i)})}function n4(i,e){return e().catch(t=>Zy(i,t,e))}async function ph(i){const e=xe(i),t=ho(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cl;for(;cne(e);)try{const r=await Gte(e.localStore,n);if(r===null){e.Ta.length===0&&t.L_();break}n=r.batchId,une(e,r)}catch(r){await Zy(e,r)}i4(e)&&r4(e)}function cne(i){return ec(i)&&i.Ta.length<10}function une(i,e){i.Ta.push(e);const t=ho(i);t.O_()&&t.X_&&t.ea(e.mutations)}function i4(i){return ec(i)&&!ho(i).x_()&&i.Ta.length>0}function r4(i){ho(i).start()}async function hne(i){ho(i).ra()}async function dne(i){const e=ho(i);for(const t of i.Ta)e.ea(t.mutations)}async function fne(i,e,t){const n=i.Ta.shift(),r=LE.from(n,e,t);await n4(i,()=>i.remoteSyncer.applySuccessfulWrite(r)),await ph(i)}async function pne(i,e){e&&ho(i).X_&&await async function(n,r){if(function(o){return Xee(o)&&o!==he.ABORTED}(r.code)){const s=n.Ta.shift();ho(n).B_(),await n4(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await ph(n)}}(i,e),i4(i)&&r4(i)}async function cP(i,e){const t=xe(i);t.asyncQueue.verifyOperationInProgress(),ge($l,"RemoteStore received new credentials");const n=ec(t);t.Ea.add(3),await vp(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Bv(t)}async function HT(i,e){const t=xe(i);e?(t.Ea.delete(2),await Bv(t)):e||(t.Ea.add(2),await vp(t),t.Ra.set("Unknown"))}function mh(i){return i.ma||(i.ma=function(t,n,r){const s=xe(t);return s.sa(),new Jte(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(i.datastore,i.asyncQueue,{Xo:sne.bind(null,i),t_:ane.bind(null,i),r_:one.bind(null,i),H_:lne.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),XE(i)?QE(i):i.Ra.set("Unknown")):(await i.ma.stop(),t4(i))})),i.ma}function ho(i){return i.fa||(i.fa=function(t,n,r){const s=xe(t);return s.sa(),new ene(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:hne.bind(null,i),r_:pne.bind(null,i),ta:dne.bind(null,i),na:fne.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await ph(i)):(await i.fa.stop(),i.Ta.length>0&&(ge($l,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const o=Date.now()+n,c=new ZE(e,t,o,r,s);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function JE(i,e){if($t("AsyncQueue",`${e}: ${i}`),vo(i))return new _e(he.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{static emptySet(e){return new Du(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||be.comparator(t.key,n.key):(t,n)=>be.comparator(t.key,n.key),this.keyedMap=Zd(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Du)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Du;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.ga=new At(be.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ju{constructor(e,t,n,r,s,o,c,u,d){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,n,r,s){const o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new Ju(e,t,Du.emptySet(t),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mne{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class gne{constructor(){this.queries=hP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const r=xe(t),s=r.queries;r.queries=hP(),s.forEach((o,c)=>{for(const u of c.Sa)u.onError(n)})})(this,new _e(he.ABORTED,"Firestore shutting down"))}}function hP(){return new Js(i=>QL(i),Mv)}async function s4(i,e){const t=xe(i);let n=3;const r=e.query;let s=t.queries.get(r);s?!s.ba()&&e.Da()&&(n=2):(s=new mne,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await t.onListen(r,!0);break;case 1:s.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(o){const c=JE(o,`Initialization of query '${au(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&ex(t)}async function a4(i,e){const t=xe(i),n=e.query;let r=3;const s=t.queries.get(n);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?r=e.Da()?0:1:!s.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function yne(i,e){const t=xe(i);let n=!1;for(const r of e){const s=r.query,o=t.queries.get(s);if(o){for(const c of o.Sa)c.Fa(r)&&(n=!0);o.wa=r}}n&&ex(t)}function vne(i,e,t){const n=xe(i),r=n.queries.get(e);if(r)for(const s of r.Sa)s.onError(t);n.queries.delete(e)}function ex(i){i.Ca.forEach(e=>{e.next()})}var qT,dP;(dP=qT||(qT={})).Ma="default",dP.Cache="cache";class o4{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const r of e.docChanges)r.type!==3&&n.push(r);e=new Ju(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ju.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.key=e}}class c4{constructor(e){this.key=e}}class _ne{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=ZL(e),this.tu=new Du(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new uP,r=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,c=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((p,g)=>{const v=r.get(p),b=mp(this.query,g)?g:null,T=!!v&&this.mutatedKeys.has(v.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;v&&b?v.data.isEqual(b.data)?T!==S&&(n.track({type:3,doc:b}),E=!0):this.su(v,b)||(n.track({type:2,doc:b}),E=!0,(u&&this.eu(b,u)>0||d&&this.eu(b,d)<0)&&(c=!0)):!v&&b?(n.track({type:0,doc:b}),E=!0):v&&!b&&(n.track({type:1,doc:v}),E=!0,(u||d)&&(c=!0)),E&&(b?(o=o.add(b),s=S?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),n.track({type:1,doc:p})}return{tu:o,iu:n,Cs:c,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((p,g)=>function(b,T){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:E})}};return S(b)-S(T)}(p.type,g.type)||this.eu(p.doc,g.doc)),this.ou(n),r=r??!1;const c=t&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new Ju(this.query,e.tu,s,o,e.mutatedKeys,u===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const t=[];return e.forEach(n=>{this.Xa.has(n)||t.push(new c4(n))}),this.Xa.forEach(n=>{e.has(n)||t.push(new l4(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=He();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ju.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gh="SyncEngine";class bne{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class wne{constructor(e){this.key=e,this.hu=!1}}class Tne{constructor(e,t,n,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Js(c=>QL(c),Mv),this.Iu=new Map,this.Eu=new Set,this.du=new At(be.comparator),this.Au=new Map,this.Ru=new HE,this.Vu={},this.mu=new Map,this.fu=Kl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Sne(i,e,t=!0){const n=jv(i);let r;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await u4(n,e,t,!0),r}async function Ene(i,e){const t=jv(i);await u4(t,e,!0,!1)}async function u4(i,e,t,n){const r=await $y(i.localStore,Ri(e)),s=r.targetId,o=i.sharedClientState.addLocalQueryTarget(s,t);let c;return n&&(c=await tx(i,e,s,o==="current",r.resumeToken)),i.isPrimaryClient&&t&&Uv(i.remoteStore,r),c}async function tx(i,e,t,n,r){i.pu=(g,v,b)=>async function(S,E,R,P){let O=E.view.ru(R);O.Cs&&(O=await UT(S.localStore,E.query,!1).then(({documents:M})=>E.view.ru(M,O)));const z=P&&P.targetChanges.get(E.targetId),U=P&&P.targetMismatches.get(E.targetId)!=null,K=E.view.applyChanges(O,S.isPrimaryClient,z,U);return YT(S,E.targetId,K.au),K.snapshot}(i,g,v,b);const s=await UT(i.localStore,e,!0),o=new _ne(e,s.Qs),c=o.ru(s.documents),u=yp.createSynthesizedTargetChangeForCurrentChange(t,n&&i.onlineState!=="Offline",r),d=o.applyChanges(c,i.isPrimaryClient,u);YT(i,t,d.au);const p=new bne(e,t,o);return i.Tu.set(e,p),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),d.snapshot}async function xne(i,e,t){const n=xe(i),r=n.Tu.get(e),s=n.Iu.get(r.targetId);if(s.length>1)return n.Iu.set(r.targetId,s.filter(o=>!Mv(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Xu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),t&&Zu(n.remoteStore,r.targetId),eh(n,r.targetId)}).catch(yo)):(eh(n,r.targetId),await Xu(n.localStore,r.targetId,!0))}async function Dne(i,e){const t=xe(i),n=t.Tu.get(e),r=t.Iu.get(n.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Zu(t.remoteStore,n.targetId))}async function Ane(i,e,t){const n=sx(i);try{const r=await function(o,c){const u=xe(o),d=gt.now(),p=c.reduce((b,T)=>b.add(T.key),He());let g,v;return u.persistence.runTransaction("Locally write mutations","readwrite",b=>{let T=Di(),S=He();return u.Ns.getEntries(b,p).next(E=>{T=E,T.forEach((R,P)=>{P.isValidDocument()||(S=S.add(R))})}).next(()=>u.localDocuments.getOverlayedDocuments(b,T)).next(E=>{g=E;const R=[];for(const P of c){const O=$ee(P,g.get(P.key).overlayedDocument);O!=null&&R.push(new ea(P.key,O,jL(O.value.mapValue),Gn.exists(!0)))}return u.mutationQueue.addMutationBatch(b,d,R,c)}).next(E=>{v=E;const R=E.applyToLocalDocumentSet(g,S);return u.documentOverlayCache.saveOverlays(b,E.batchId,R)})}).then(()=>({batchId:v.batchId,changes:eF(g)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(r.batchId),function(o,c,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new At(Fe)),d=d.insert(c,u),o.Vu[o.currentUser.toKey()]=d}(n,r.batchId,t),await bo(n,r.changes),await ph(n.remoteStore)}catch(r){const s=JE(r,"Failed to persist write");t.reject(s)}}async function h4(i,e){const t=xe(i);try{const n=await Yte(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t.Au.get(s);o&&(Ie(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?Ie(o.hu,14607):r.removedDocuments.size>0&&(Ie(o.hu,42227),o.hu=!1))}),await bo(t,n,e)}catch(n){await yo(n)}}function fP(i,e,t){const n=xe(i);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const r=[];n.Tu.forEach((s,o)=>{const c=o.view.va(e);c.snapshot&&r.push(c.snapshot)}),function(o,c){const u=xe(o);u.onlineState=c;let d=!1;u.queries.forEach((p,g)=>{for(const v of g.Sa)v.va(c)&&(d=!0)}),d&&ex(u)}(n.eventManager,e),r.length&&n.Pu.H_(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Ine(i,e,t){const n=xe(i);n.sharedClientState.updateQueryState(e,"rejected",t);const r=n.Au.get(e),s=r&&r.key;if(s){let o=new At(be.comparator);o=o.insert(s,Ht.newNoDocument(s,Ce.min()));const c=He().add(s),u=new gp(Ce.min(),new Map,new At(Fe),o,c);await h4(n,u),n.du=n.du.remove(s),n.Au.delete(e),rx(n)}else await Xu(n.localStore,e,!1).then(()=>eh(n,e,t)).catch(yo)}async function Rne(i,e){const t=xe(i),n=e.batch.batchId;try{const r=await qte(t.localStore,e);ix(t,n,null),nx(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await bo(t,r)}catch(r){await yo(r)}}async function Cne(i,e,t){const n=xe(i);try{const r=await function(o,c){const u=xe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,c).next(g=>(Ie(g!==null,37113),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(n.localStore,e);ix(n,e,t),nx(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await bo(n,r)}catch(r){await yo(r)}}function nx(i,e){(i.mu.get(e)||[]).forEach(t=>{t.resolve()}),i.mu.delete(e)}function ix(i,e,t){const n=xe(i);let r=n.Vu[n.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),n.Vu[n.currentUser.toKey()]=r}}function eh(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const n of i.Iu.get(e))i.Tu.delete(n),t&&i.Pu.yu(n,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(n=>{i.Ru.containsKey(n)||d4(i,n)})}function d4(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Zu(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),rx(i))}function YT(i,e,t){for(const n of t)n instanceof l4?(i.Ru.addReference(n.key,e),Mne(i,n)):n instanceof c4?(ge(gh,"Document no longer in limbo: "+n.key),i.Ru.removeReference(n.key,e),i.Ru.containsKey(n.key)||d4(i,n.key)):Se(19791,{wu:n})}function Mne(i,e){const t=e.key,n=t.path.canonicalString();i.du.get(t)||i.Eu.has(n)||(ge(gh,"New document in limbo: "+t),i.Eu.add(n),rx(i))}function rx(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new be(ct.fromString(e)),n=i.fu.next();i.Au.set(n,new wne(t)),i.du=i.du.insert(t,n),Uv(i.remoteStore,new Fs(Ri(Cv(t.path)),n,"TargetPurposeLimboResolution",di.ce))}}async function bo(i,e,t){const n=xe(i),r=[],s=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((c,u)=>{o.push(n.pu(u,e,t).then(d=>{var p;if((d||t)&&n.isPrimaryClient){const g=d?!d.fromCache:(p=t==null?void 0:t.targetChanges.get(u.targetId))==null?void 0:p.current;n.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){r.push(d);const g=WE.As(u.targetId,d);s.push(g)}}))}),await Promise.all(o),n.Pu.H_(r),await async function(u,d){const p=xe(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>J.forEach(d,v=>J.forEach(v.Es,b=>p.persistence.referenceDelegate.addReference(g,v.targetId,b)).next(()=>J.forEach(v.ds,b=>p.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))}catch(g){if(!vo(g))throw g;ge(GE,"Failed to update sequence numbers: "+g)}for(const g of d){const v=g.targetId;if(!g.fromCache){const b=p.Ms.get(v),T=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(T);p.Ms=p.Ms.insert(v,S)}}}(n.localStore,s))}async function kne(i,e){const t=xe(i);if(!t.currentUser.isEqual(e)){ge(gh,"User change. New user:",e.toKey());const n=await zF(t.localStore,e);t.currentUser=e,function(s,o){s.mu.forEach(c=>{c.forEach(u=>{u.reject(new _e(he.CANCELLED,o))})}),s.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await bo(t,n.Ls)}}function Pne(i,e){const t=xe(i),n=t.Au.get(e);if(n&&n.hu)return He().add(n.key);{let r=He();const s=t.Iu.get(e);if(!s)return r;for(const o of s){const c=t.Tu.get(o);r=r.unionWith(c.view.nu)}return r}}async function One(i,e){const t=xe(i),n=await UT(t.localStore,e.query,!0),r=e.view.cu(n);return t.isPrimaryClient&&YT(t,e.targetId,r.au),r}async function Nne(i,e){const t=xe(i);return YF(t.localStore,e).then(n=>bo(t,n))}async function Vne(i,e,t,n){const r=xe(i),s=await function(c,u){const d=xe(c),p=xe(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",g=>p.er(g,u).next(v=>v?d.localDocuments.getDocuments(g,v):J.resolve(null)))}(r.localStore,e);s!==null?(t==="pending"?await ph(r.remoteStore):t==="acknowledged"||t==="rejected"?(ix(r,e,n||null),nx(r,e),function(c,u){xe(xe(c).mutationQueue).ir(u)}(r.localStore,e)):Se(6720,"Unknown batchState",{Su:t}),await bo(r,s)):ge(gh,"Cannot apply mutation batch with id: "+e)}async function Lne(i,e){const t=xe(i);if(jv(t),sx(t),e===!0&&t.gu!==!0){const n=t.sharedClientState.getAllActiveQueryTargets(),r=await pP(t,n.toArray());t.gu=!0,await HT(t.remoteStore,!0);for(const s of r)Uv(t.remoteStore,s)}else if(e===!1&&t.gu!==!1){const n=[];let r=Promise.resolve();t.Iu.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?n.push(o):r=r.then(()=>(eh(t,o),Xu(t.localStore,o,!0))),Zu(t.remoteStore,o)}),await r,await pP(t,n),function(o){const c=xe(o);c.Au.forEach((u,d)=>{Zu(c.remoteStore,d)}),c.Ru.Jr(),c.Au=new Map,c.du=new At(be.comparator)}(t),t.gu=!1,await HT(t.remoteStore,!1)}}async function pP(i,e,t){const n=xe(i),r=[],s=[];for(const o of e){let c;const u=n.Iu.get(o);if(u&&u.length!==0){c=await $y(n.localStore,Ri(u[0]));for(const d of u){const p=n.Tu.get(d),g=await One(n,p);g.snapshot&&s.push(g.snapshot)}}else{const d=await qF(n.localStore,o);c=await $y(n.localStore,d),await tx(n,f4(d),o,!1,c.resumeToken)}r.push(c)}return n.Pu.H_(s),r}function f4(i){return $L(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Fne(i){return function(t){return xe(xe(t).persistence).Ts()}(xe(i).localStore)}async function Bne(i,e,t,n){const r=xe(i);if(r.gu)return void ge(gh,"Ignoring unexpected query state notification.");const s=r.Iu.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=await YF(r.localStore,XL(s[0])),c=gp.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Jt.EMPTY_BYTE_STRING);await bo(r,o,c);break}case"rejected":await Xu(r.localStore,e,!0),eh(r,e,n);break;default:Se(64155,t)}}async function Une(i,e,t){const n=jv(i);if(n.gu){for(const r of e){if(n.Iu.has(r)&&n.sharedClientState.isActiveQueryTarget(r)){ge(gh,"Adding an already active target "+r);continue}const s=await qF(n.localStore,r),o=await $y(n.localStore,s);await tx(n,f4(s),o.targetId,!1,o.resumeToken),Uv(n.remoteStore,o)}for(const r of t)n.Iu.has(r)&&await Xu(n.localStore,r,!1).then(()=>{Zu(n.remoteStore,r),eh(n,r)}).catch(yo)}}function jv(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=h4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ine.bind(null,e),e.Pu.H_=yne.bind(null,e.eventManager),e.Pu.yu=vne.bind(null,e.eventManager),e}function sx(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cne.bind(null,e),e}class Qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return jF(this.persistence,new UF,e.initialUser,this.serializer)}Cu(e){return new qE(Lv.mi,this.serializer)}Du(e){return new QF}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qf.provider={build:()=>new Qf};class jne extends Qf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ie(this.persistence.referenceDelegate instanceof Ky,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new OF(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new qE(n=>Ky.mi(n,t),this.serializer)}}class p4 extends Qf{constructor(e,t,n){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await sx(this.xu.syncEngine),await ph(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return jF(this.persistence,new UF,e.initialUser,this.serializer)}Fu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new OF(n,e.asyncQueue,t)}Mu(e,t){const n=new QJ(t,this.persistence);return new $J(e.asyncQueue,n)}Cu(e){const t=BF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new YE(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,XF(),$g(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new QF}}class zne extends p4{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof ww&&(this.sharedClientState.syncEngine={Co:Vne.bind(null,t),vo:Bne.bind(null,t),Fo:Une.bind(null,t),Ts:Fne.bind(null,t),Do:Nne.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji(async n=>{await Lne(this.xu.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())})}Du(e){const t=XF();if(!ww.v(t))throw new _e(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=BF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ww(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Xf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>fP(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=kne.bind(null,this.syncEngine),await HT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gne}()}createDatastore(e){const t=Fv(e.databaseInfo.databaseId),n=function(s){return new Zte(s)}(e.databaseInfo);return function(s,o,c,u){return new nne(s,o,c,u)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,r,s,o,c){return new rne(n,r,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,t=>fP(this.syncEngine,t,0),function(){return oP.v()?new oP:new Kte}())}createSyncEngine(e,t){return function(r,s,o,c,u,d,p){const g=new Tne(r,s,o,c,u,d);return p&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const s=xe(r);ge($l,"RemoteStore shutting down."),s.Ea.add(5),await vp(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Xf.provider={build:()=>new Xf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$t("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="FirestoreClient";class Hne{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=zn.UNAUTHENTICATED,this.clientId=wE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{ge(fo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ge(fo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=JE(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Sw(i,e){i.asyncQueue.verifyOperationInProgress(),ge(fo,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let n=t.initialUser;i.setCredentialChangeListener(async r=>{n.isEqual(r)||(await zF(e.localStore,r),n=r)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function mP(i,e){i.asyncQueue.verifyOperationInProgress();const t=await qne(i);ge(fo,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(n=>cP(e.remoteStore,n)),i.setAppCheckTokenChangeListener((n,r)=>cP(e.remoteStore,r)),i._onlineComponents=e}async function qne(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ge(fo,"Using user provided OfflineComponentProvider");try{await Sw(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===he.FAILED_PRECONDITION||r.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Bf("Error using user provided cache. Falling back to memory cache: "+t),await Sw(i,new Qf)}}else ge(fo,"Using default OfflineComponentProvider"),await Sw(i,new jne(void 0));return i._offlineComponents}async function g4(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ge(fo,"Using user provided OnlineComponentProvider"),await mP(i,i._uninitializedComponentsProvider._online)):(ge(fo,"Using default OnlineComponentProvider"),await mP(i,new Xf))),i._onlineComponents}function Yne(i){return g4(i).then(e=>e.syncEngine)}async function y4(i){const e=await g4(i),t=e.eventManager;return t.onListen=Sne.bind(null,e.syncEngine),t.onUnlisten=xne.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Ene.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Dne.bind(null,e.syncEngine),t}function Wne(i,e,t={}){const n=new Xr;return i.asyncQueue.enqueueAndForget(async()=>function(s,o,c,u,d){const p=new m4({next:v=>{p.Nu(),o.enqueueAndForget(()=>a4(s,g));const b=v.docs.has(c);!b&&v.fromCache?d.reject(new _e(he.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&u&&u.source==="server"?d.reject(new _e(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),g=new o4(Cv(c.path),p,{includeMetadataChanges:!0,qa:!0});return s4(s,g)}(await y4(i),i.asyncQueue,e,t,n)),n.promise}function Gne(i,e,t={}){const n=new Xr;return i.asyncQueue.enqueueAndForget(async()=>function(s,o,c,u,d){const p=new m4({next:v=>{p.Nu(),o.enqueueAndForget(()=>a4(s,g)),v.fromCache&&u.source==="server"?d.reject(new _e(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),g=new o4(c,p,{includeMetadataChanges:!0,qa:!0});return s4(s,g)}(await y4(i),i.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kne="firestore.googleapis.com",yP=!0;class vP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kne,this.ssl=yP}else this.host=e.host,this.ssl=e.ssl??yP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PF)throw new _e(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v4(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ax{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new LJ;switch(n.type){case"firstParty":return new UJ(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new _e(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=gP.get(t);n&&(ge("ComponentProvider","Removing Datastore"),gP.delete(t),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new zv(this.firestore,e,this._query)}}class hn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(dp(t,hn._jsonSchema))return new hn(e,n||null,new be(ct.fromString(t.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:un("string",hn._jsonSchemaVersion),referencePath:un("string")};class no extends zv{constructor(e,t,n){super(e,t,Cv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new be(e))}withConverter(e){return new no(this.firestore,e,this._path)}}function ox(i,e,...t){if(i=In(i),pL("collection","path",e),i instanceof ax){const n=ct.fromString(e,...t);return lk(n),new no(i,null,n)}{if(!(i instanceof hn||i instanceof no))throw new _e(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(ct.fromString(e,...t));return lk(n),new no(i.firestore,null,n)}}function wo(i,e,...t){if(i=In(i),arguments.length===1&&(e=wE.newId()),pL("doc","path",e),i instanceof ax){const n=ct.fromString(e,...t);return ok(n),new hn(i,null,new be(n))}{if(!(i instanceof hn||i instanceof no))throw new _e(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(ct.fromString(e,...t));return ok(n),new hn(i.firestore,i instanceof no?i.converter:null,new be(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="AsyncQueue";class bP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZF(this,"async_queue_retry"),this._c=()=>{const n=$g();n&&ge(_P,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=$g();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=$g();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Xr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vo(e))throw e;ge(_P,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,$t("INTERNAL UNHANDLED ERROR: ",wP(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=ZE.createAndSchedule(this,e,t,n,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&Se(47125,{Pc:wP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function wP(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class tc extends ax{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new bP,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bP(e),this._firestoreClient=void 0,await e}}}function $ne(i,e,t){t||(t=By);const n=Zl(i,"firestore");if(n.isInitialized(t)){const r=n.getImmediate({identifier:t}),s=n.getOptions(t);if(lo(s,e))return r;throw new _e(he.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new _e(he.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PF)throw new _e(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&ch(e.host)&&q2(e.host),n.initialize({options:e,instanceIdentifier:t})}function lx(i){if(i._terminated)throw new _e(he.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Qne(i),i._firestoreClient}function Qne(i){var n,r,s;const e=i._freezeSettings(),t=function(c,u,d,p){return new Eee(c,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,v4(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(i._databaseId,((n=i._app)==null?void 0:n.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Hne(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qi(Jt.fromBase64String(e))}catch(t){throw new _e(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qi(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dp(e,Qi._jsonSchema))return Qi.fromBase64String(e.bytes)}}Qi._jsonSchemaVersion="firestore/bytes/1.0",Qi._jsonSchema={type:un("string",Qi._jsonSchemaVersion),bytes:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zr._jsonSchemaVersion}}static fromJSON(e){if(dp(e,Zr._jsonSchema))return new Zr(e.latitude,e.longitude)}}Zr._jsonSchemaVersion="firestore/geoPoint/1.0",Zr._jsonSchema={type:un("string",Zr._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dp(e,Jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Jr(e.vectorValues);throw new _e(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jr._jsonSchemaVersion="firestore/vectorValue/1.0",Jr._jsonSchema={type:un("string",Jr._jsonSchemaVersion),vectorValues:un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne=/^__.*__$/;class Zne{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,t,this.fieldTransforms):new fh(e,this.data,t,this.fieldTransforms)}}class _4{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ea(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function b4(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class ux{constructor(e,t,n,r,s,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ux({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(b4(this.Ac)&&Xne.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Jne{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Fv(e)}Cc(e,t,n,r=!1){return new ux({Ac:e,methodName:t,Dc:n,path:Ft.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hx(i){const e=i._freezeSettings(),t=Fv(i._databaseId);return new Jne(i._databaseId,!!e.ignoreUndefinedProperties,t)}function w4(i,e,t,n,r,s={}){const o=i.Cc(s.merge||s.mergeFields?2:0,e,t,r);dx("Data must be an object, but it was:",o,n);const c=T4(n,o);let u,d;if(s.merge)u=new fi(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const v=WT(e,g,t);if(!o.contains(v))throw new _e(he.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);E4(p,v)||p.push(v)}u=new fi(p),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new Zne(new Yn(c),u,d)}class qv extends cx{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qv}}function eie(i,e,t,n){const r=i.Cc(1,e,t);dx("Data must be an object, but it was:",r,n);const s=[],o=Yn.empty();_o(n,(u,d)=>{const p=fx(e,u,t);d=In(d);const g=r.yc(p);if(d instanceof qv)s.push(p);else{const v=Yv(d,g);v!=null&&(s.push(p),o.set(p,v))}});const c=new fi(s);return new _4(o,c,r.fieldTransforms)}function tie(i,e,t,n,r,s){const o=i.Cc(1,e,t),c=[WT(e,n,t)],u=[r];if(s.length%2!=0)throw new _e(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(WT(e,s[v])),u.push(s[v+1]);const d=[],p=Yn.empty();for(let v=c.length-1;v>=0;--v)if(!E4(d,c[v])){const b=c[v];let T=u[v];T=In(T);const S=o.yc(b);if(T instanceof qv)d.push(b);else{const E=Yv(T,S);E!=null&&(d.push(b),p.set(b,E))}}const g=new fi(d);return new _4(p,g,o.fieldTransforms)}function Yv(i,e){if(S4(i=In(i)))return dx("Unsupported field value:",e,i),T4(i,e);if(i instanceof cx)return function(n,r){if(!b4(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,r){const s=[];let o=0;for(const c of n){let u=Yv(c,r.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(i,e)}return function(n,r){if((n=In(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return zee(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=gt.fromDate(n);return{timestampValue:Qu(r.serializer,s)}}if(n instanceof gt){const s=new gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Qu(r.serializer,s)}}if(n instanceof Zr)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Qi)return{bytesValue:fF(r.serializer,n._byteString)};if(n instanceof hn){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:UE(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof Jr)return function(o,c){return{mapValue:{fields:{[CE]:{stringValue:ME},[qu]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return NE(c.serializer,d)})}}}}}}(n,r);throw r.Sc(`Unsupported field value: ${TE(n)}`)}(i,e)}function T4(i,e){const t={};return kL(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(i,(n,r)=>{const s=Yv(r,e.mc(n));s!=null&&(t[n]=s)}),{mapValue:{fields:t}}}function S4(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof gt||i instanceof Zr||i instanceof Qi||i instanceof hn||i instanceof cx||i instanceof Jr)}function dx(i,e,t){if(!S4(t)||!mL(t)){const n=TE(t);throw n==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+n)}}function WT(i,e,t){if((e=In(e))instanceof Hv)return e._internalPath;if(typeof e=="string")return fx(i,e);throw Jy("Field path arguments must be of type string or ",i,!1,void 0,t)}const nie=new RegExp("[~\\*/\\[\\]]");function fx(i,e,t){if(e.search(nie)>=0)throw Jy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Hv(...e.split("."))._internalPath}catch{throw Jy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Jy(i,e,t,n,r){const s=n&&!n.isEmpty(),o=r!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${n}`),o&&(u+=` in document ${r}`),u+=")"),new _e(he.INVALID_ARGUMENT,c+i+u)}function E4(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(D4("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iie extends x4{data(){return super.data()}}function D4(i,e){return typeof e=="string"?fx(i,e):e instanceof Hv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rie(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new _e(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sie{convertValue(e,t="none"){switch(co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return _o(e,(r,s)=>{n[r]=this.convertValue(s,t)}),n}convertVectorValue(e){var n,r,s;const t=(s=(r=(n=e.fields)==null?void 0:n[qu].arrayValue)==null?void 0:r.values)==null?void 0:s.map(o=>kt(o.doubleValue));return new Jr(t)}convertGeoPoint(e){return new Zr(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Av(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yf(e));default:return null}}convertTimestamp(e){const t=Qs(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ct.fromString(e);Ie(SF(n),9688,{name:e});const r=new ql(n.get(1),n.get(3)),s=new be(n.popFirst(5));return r.isEqual(t)||$t(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(i,e,t){let n;return n=i?i.toFirestore(e):e,n}class tf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pl extends x4{constructor(e,t,n,r,s,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(D4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Pl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Pl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pl._jsonSchema={type:un("string",Pl._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class Qg extends Pl{data(e={}){return super.data(e)}}class Au{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new tf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Qg(this._firestore,this._userDataWriter,n.key,n,new tf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>{const u=new Qg(r._firestore,r._userDataWriter,c.doc.key,c.doc,new tf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const u=new Qg(r._firestore,r._userDataWriter,c.doc.key,c.doc,new tf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,p=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),p=o.indexOf(c.doc.key)),{type:aie(c.type),doc:u,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Au._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aie(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(i){i=ns(i,hn);const e=ns(i.firestore,tc);return Wne(lx(e),i._key).then(t=>cie(e,i,t))}Au._jsonSchemaVersion="firestore/querySnapshot/1.0",Au._jsonSchema={type:un("string",Au._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};class I4 extends sie{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}}function R4(i){i=ns(i,zv);const e=ns(i.firestore,tc),t=lx(e),n=new I4(e);return rie(i._query),Gne(t,i._query).then(r=>new Au(e,n,i,r))}function oie(i,e,t){i=ns(i,hn);const n=ns(i.firestore,tc),r=A4(i.converter,e);return Gv(n,[w4(hx(n),"setDoc",i._key,r,i.converter!==null,t).toMutation(i._key,Gn.none())])}function Wv(i,e,t,...n){i=ns(i,hn);const r=ns(i.firestore,tc),s=hx(r);let o;return o=typeof(e=In(e))=="string"||e instanceof Hv?tie(s,"updateDoc",i._key,e,t,n):eie(s,"updateDoc",i._key,e),Gv(r,[o.toMutation(i._key,Gn.exists(!0))])}function C4(i){return Gv(ns(i.firestore,tc),[new Ov(i._key,Gn.none())])}function lie(i,e){const t=ns(i.firestore,tc),n=wo(i),r=A4(i.converter,e);return Gv(t,[w4(hx(i.firestore),"addDoc",n._key,r,i.converter!==null,{}).toMutation(n._key,Gn.exists(!1))]).then(()=>n)}function Gv(i,e){return function(n,r){const s=new Xr;return n.asyncQueue.enqueueAndForget(async()=>Ane(await Yne(n),r,s)),s.promise}(lx(i),e)}function cie(i,e,t){const n=t.docs.get(e._key),r=new I4(i);return new Pl(i,r,e._key,n,new tf(t.hasPendingWrites,t.fromCache),e.converter)}class uie{constructor(e){let t;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=pie(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function hie(i){return new uie(i)}class die{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Xf.provider,this._offlineComponentProvider={build:t=>new p4(t,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class fie{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Xf.provider,this._offlineComponentProvider={build:t=>new zne(t,e==null?void 0:e.cacheSizeBytes)}}}function pie(i){return new die(i==null?void 0:i.forceOwnership)}function mie(){return new fie}(function(e,t=!0){(function(r){dh=r})(uh),ts(new fr("firestore",(n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),c=new tc(new FJ(n.getProvider("auth-internal")),new jJ(o,n.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new _e(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(d.options.projectId,p)}(o,r),o);return s={useFetchStreams:t,...s},c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Zi(ik,rk,e),Zi(ik,rk,"esm2020")})();const gie={apiKey:"AIzaSyBc4CZnGGOTDvfPvEwaA0dXFOwbocdwCa8",authDomain:"knowurfood-d2b78.firebaseapp.com",projectId:"knowurfood-d2b78",storageBucket:"knowurfood-d2b78.firebasestorage.app",messagingSenderId:"643565214463",appId:"1:643565214463:web:8681aadcc4f49c6afdcaca",measurementId:"G-HB4L7NXGNE"},mx=Z2(gie);vX(mx);const Kv=OJ(mx),rs=$ne(mx,{localCache:hie({tabManager:mie()})}),yie=i=>Math.floor(i/100)+1,vie=async(i,e)=>{await lie(ox(rs,"users",e,"meals"),i);const t=wo(rs,"users",e),n=await px(t);if(n.exists()){const o=(n.data().xp||0)+10,c=yie(o);await Wv(t,{xp:o,level:c})}},Ew=async i=>(await R4(ox(rs,"users",i,"meals"))).docs.map(t=>({id:t.id,...t.data()})),_ie=async(i,e)=>{const t=wo(rs,"users",e,"meals",i.id),{id:n,...r}=i;await Wv(t,r)},bie=async(i,e)=>{const t=wo(rs,"users",e,"meals",i);await C4(t)},wie=async i=>{const e=ox(rs,"users",i,"meals"),n=(await R4(e)).docs.map(r=>C4(r.ref));await Promise.all(n)},Tie=async(i,e)=>{const t=wo(rs,"users",i);await Wv(t,e)},Sie=async({email:i,password:e,...t})=>{const r=(await _Z(Kv,i,e)).user;return await oie(wo(rs,"users",r.uid),{...t,xp:0,level:1,streak:1,lastLogin:new Date().toISOString().split("T")[0],badges:[]}),{...r,...t}},Eie=async({email:i,password:e})=>{const n=(await bZ(Kv,i,e)).user,r=wo(rs,"users",n.uid),s=await px(r),o=s.exists()?s.data():{};return{...n,...o}},xie=async()=>{await SZ(Kv)},TP=async()=>new Promise(i=>{const e=Kv.onAuthStateChanged(async t=>{if(e(),!t)return i(null);const n=wo(rs,"users",t.uid),r=await px(n);if(!r.exists())return i(t);const s=r.data(),o=new Date().toISOString().split("T")[0],c=s.lastLogin||o,u=Die(c,o);let d={};u===1?d.streak=(s.streak||0)+1:u>1?d.streak=1:d.streak=s.streak||1,d.lastLogin=o,(d.streak!==s.streak||d.lastLogin!==c||d.badges)&&(await Wv(n,d),Object.assign(s,d));const p=[5,15,30,60,100],g=s.badges||[];if(p.includes(d.streak)){const v=`${d.streak}-Day Streak`;g.includes(v)||(g.push(v),d.badges=g)}i({...t,...s})})}),Die=(i,e)=>{const t=new Date(i),r=new Date(e).getTime()-t.getTime();return Math.floor(r/(1e3*60*60*24))},M4="/knowurfood/assets/Logo-L9hp3FVR.png";function Aie({onLoginSuccess:i}){const[e,t]=Q.useState("login"),[n,r]=Q.useState(""),[s,o]=Q.useState(""),[c,u]=Q.useState(""),[d,p]=Q.useState(""),[g,v]=Q.useState(""),[b,T]=Q.useState(2e3),[S,E]=Q.useState("Breakfast,Lunch,Dinner"),[R,P]=Q.useState("g"),[O,z]=Q.useState(!1),[U,K]=Q.useState(""),[M,A]=Q.useState(!1),I=()=>{r(""),o(""),u(""),p(""),v(""),T(2e3),E("Breakfast,Lunch,Dinner"),P("g"),z(!1),K("")},F=()=>{t(B=>B==="login"?"register":"login"),I()},L=async B=>{if(B.preventDefault(),K(""),e==="register"&&s!==c){K("Passwords do not match");return}try{let V;e==="register"?V=await Sie({email:n,password:s,firstName:d,lastName:g,calorieGoal:Number(b),mealOrder:S.split(","),unit:R,darkMode:O}):V=await Eie({email:n,password:s}),i(V)}catch(V){K(V.message)}};return j.jsxs("div",{className:"auth-container fade-slide-in",children:[j.jsx("div",{className:"text-center",children:j.jsx("img",{src:M4,alt:"KnowUrFood Logo",style:{width:"200px"}})}),j.jsxs("div",{className:"auth-box shadow rounded",children:[j.jsx("h2",{className:"auth-title",children:e==="login"?"LOGIN":"REGISTER"}),j.jsxs("form",{onSubmit:L,className:"auth-form",children:[j.jsxs("div",{className:"dflex mb-2",style:{display:"flex",alignItems:"center"},children:[j.jsx("label",{className:"text-white",style:{marginRight:"18%",height:"fit-content"},children:"Email"}),j.jsx("input",{type:"email",className:"form-control",placeholder:"Email",value:n,onChange:B=>r(B.target.value),required:!0})]}),j.jsxs("div",{className:"dflex mb-2",style:{display:"flex",alignItems:"center"},children:[j.jsx("label",{className:"text-white",style:{marginRight:"5%",height:"fit-content"},children:"Password"}),j.jsxs("div",{className:"position-relative mb-2",children:[j.jsx("input",{type:M?"text":"password",className:"form-control pe-5",placeholder:"Password",value:s,onChange:B=>o(B.target.value),required:!0}),j.jsx("i",{className:`bi ${M?"bi-eye-slash":"bi-eye"} toggle-password-icon`,onClick:()=>A(B=>!B),title:"Toggle password"})]})]}),e==="register"&&j.jsxs(j.Fragment,{children:[j.jsx("label",{className:"text-white",children:"Confirm Password"}),j.jsx("input",{type:M?"text":"password",className:"form-control mb-2",placeholder:"Confirm Password",value:c,onChange:B=>u(B.target.value),required:!0}),j.jsx("label",{className:"text-white",children:"First Name"}),j.jsx("input",{type:"text",className:"form-control mb-2",placeholder:"First Name",value:d,onChange:B=>p(B.target.value),required:!0}),j.jsx("label",{className:"text-white",children:"Last Name"}),j.jsx("input",{type:"text",className:"form-control mb-2",placeholder:"Last Name",value:g,onChange:B=>v(B.target.value),required:!0}),j.jsx("label",{className:"text-white",children:"Daily Calorie Goal"}),j.jsx("input",{type:"number",className:"form-control mb-2",placeholder:"Daily Calorie Goal",value:b,onChange:B=>T(B.target.value),required:!0}),j.jsx("label",{className:"text-white",children:"Meal Order"}),j.jsxs("select",{className:"form-control mb-2",value:S,onChange:B=>E(B.target.value),children:[j.jsx("option",{value:"Breakfast,Lunch,Dinner",children:"Breakfast  Lunch  Dinner"}),j.jsx("option",{value:"Dinner,Lunch,Breakfast",children:"Dinner  Lunch  Breakfast"})]}),j.jsx("label",{className:"text-white",children:"Preferred Unit"}),j.jsxs("select",{className:"form-control mb-2",value:R,onChange:B=>P(B.target.value),children:[j.jsx("option",{value:"g",children:"Grams (g)"}),j.jsx("option",{value:"mg",children:"Milligrams (mg)"}),j.jsx("option",{value:"kcal",children:"Calories (kcal)"})]}),j.jsxs("div",{className:"form-check form-switch mb-2",children:[j.jsx("input",{type:"checkbox",className:"form-check-input",checked:O,onChange:()=>z(!O),id:"darkModeToggle"}),j.jsx("label",{className:"form-check-label text-white",htmlFor:"darkModeToggle",children:"Enable Dark Mode"})]})]}),j.jsx("button",{type:"submit",className:"btn btn-primary w-100 mb-2",children:e==="login"?"Login":"Register"})]}),j.jsxs("p",{className:"text-white text-center",children:[e==="login"?"Don't have an account?":"Already have an account?"," ",j.jsx("span",{className:"text-link",onClick:F,children:e==="login"?"Register":"Login"})]}),U&&j.jsx("p",{className:"text-danger text-center",children:U})]})]})}function Iie({user:i,meals:e,onLogout:t,clearAllMeals:n}){const[r,s]=Q.useState("Breakfast-Lunch-Dinner"),[o,c]=Q.useState(!1),[u,d]=Q.useState("g"),[p,g]=Q.useState(!1),v=i.level||1,T=(i.xp||0)%100,S=100,E=T/S*100,R=i.badges||[];Q.useEffect(()=>{var I;i&&(s(((I=i.mealOrder)==null?void 0:I.join("-"))||"Breakfast-Lunch-Dinner"),c(i.darkMode??!1),d(i.unit||"g"))},[i]);const P=async()=>{const I={mealOrder:r.split("-"),darkMode:o,unit:u};await Tie(i.uid,I),alert(" Preferences updated in your profile!")},O=(e==null?void 0:e.length)||0,z=[...new Set(e==null?void 0:e.map(I=>I.date))],U=z.length>0?(O/z.length).toFixed(1):0,K=()=>{const I=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),F=document.createElement("a");F.href=URL.createObjectURL(I),F.download="meals.json",F.click()},M=()=>{if(!e||e.length===0){alert("No meals to export.");return}const I=[["Date","Meal Type","Food Name","Fat (g)","Carbs (g)","Protein (g)","Quantity","Unit"]];e.forEach(V=>{V.foodItems.forEach(me=>{I.push([V.date,V.mealType,me.name,me.nutrients.fat,me.nutrients.carbs,me.nutrients.protein,me.quantity,i.unit||"g"])})});const F=I.map(V=>V.join(",")).join(`
`),L=new Blob([F],{type:"text/csv"}),B=document.createElement("a");B.href=URL.createObjectURL(L),B.download="meals.csv",B.click()},A=async()=>{window.confirm(" Are you sure you want to clear all meal data? This cannot be undone.")&&(g(!0),await n(),g(!1),alert(" All meals have been deleted from your account."))};return j.jsxs("div",{className:"home-container",children:[j.jsxs("div",{className:"text-center mb-4",children:[j.jsx("i",{className:"bi bi-person-circle TitleName",style:{fontSize:"3rem"}}),j.jsx("h4",{className:"mt-2 fw-bold TitleName",children:i.firstName}),j.jsx("small",{className:"text-white",children:"Profile"})]}),j.jsxs("div",{className:"card bg-dark border-0 p-3 mb-3 shadow-sm text-white",children:[j.jsx("h6",{className:"fw-bold",children:"Usage Summary"}),j.jsxs("p",{style:{fontSize:"14px"},children:[" Days Tracked: ",z.length]}),j.jsxs("p",{style:{fontSize:"14px"},children:[" Meals Logged: ",O]}),j.jsxs("p",{style:{fontSize:"14px"},children:[" Avg Meals/Day: ",U]})]}),j.jsxs("div",{className:"card bg-dark border-0 p-3 mb-3 shadow-sm text-white",children:[j.jsx("h6",{className:"fw-bold mb-2",children:"Your Rewards"}),j.jsxs("p",{className:"mb-1",children:[" Level ",v]}),j.jsx("div",{className:"progress mb-2",style:{height:"6px",background:"#444"},title:`${T}/${S} XP`,children:j.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${E}%`,backgroundColor:"#28a745"},"aria-valuenow":T,"aria-valuemin":0,"aria-valuemax":S})}),j.jsx("p",{className:"mb-1",children:" Badges Unlocked:"}),R.length===0?j.jsx("p",{className:"text-muted small",children:"No badges yet  keep logging meals!"}):j.jsx("div",{className:"d-flex flex-wrap gap-2",children:R.map((I,F)=>j.jsx("span",{className:"badge rounded-pill bg-success text-white",children:I},F))})]}),j.jsxs("div",{className:"card bg-dark border-0 p-3 mb-3 shadow-sm text-white",children:[j.jsx("h6",{className:"fw-bold",children:"Preferences"}),j.jsxs("div",{className:"mb-2",children:[j.jsx("label",{className:"form-label small",children:"Meal Order"}),j.jsxs("select",{className:"form-select form-select-sm",value:r,onChange:I=>s(I.target.value),children:[j.jsx("option",{children:"Breakfast-Lunch-Dinner"}),j.jsx("option",{children:"Lunch-Dinner-Breakfast"}),j.jsx("option",{children:"Dinner-Breakfast-Lunch"})]})]}),j.jsxs("div",{className:"form-check form-switch mb-2",children:[j.jsx("input",{className:"form-check-input",type:"checkbox",id:"darkMode",checked:o,onChange:()=>c(!o)}),j.jsx("label",{className:"form-check-label small",htmlFor:"darkMode",children:"Enable Dark Mode (future)"})]}),j.jsxs("div",{className:"mb-2",children:[j.jsx("label",{className:"form-label small",children:"Units"}),j.jsxs("select",{className:"form-select form-select-sm",value:u,onChange:I=>d(I.target.value),children:[j.jsx("option",{children:"g"}),j.jsx("option",{children:"mg"}),j.jsx("option",{children:"kcal"})]})]}),j.jsxs("button",{className:"btn btn-sm btn-primary mt-2",onClick:P,children:[j.jsx("i",{className:"bi bi-save me-1"})," Save Preferences"]})]}),j.jsxs("div",{className:"card bg-dark border-0 p-3 mb-3 shadow-sm text-white",children:[j.jsx("h6",{className:"fw-bold mb-3",children:"Data Management"}),j.jsxs("button",{className:"btn btn-outline-light btn-sm w-100 mb-2",onClick:K,children:[j.jsx("i",{className:"bi bi-download me-1"})," Export Data (.json)"]}),j.jsxs("button",{className:"btn btn-outline-light btn-sm w-100 mb-2",onClick:M,children:[j.jsx("i",{className:"bi bi-file-earmark-spreadsheet me-1"})," Export Data (.csv)"]}),j.jsx("button",{className:"btn btn-outline-danger btn-sm w-100",onClick:A,disabled:p,children:p?"Clearing...":j.jsxs(j.Fragment,{children:[j.jsx("i",{className:"bi bi-trash me-1"})," Clear All Meals"]})})]}),j.jsxs("div",{className:"card bg-dark border-0 p-3 shadow-sm text-white",children:[j.jsx("h6",{className:"fw-bold",children:"Account"}),j.jsxs("button",{className:"btn btn-danger w-100 mt-2",onClick:t,children:[j.jsx("i",{className:"bi bi-box-arrow-right me-2"})," Logout"]})]})]})}function Rie({meals:i}){const[e,t]=Q.useState({}),[n,r]=Q.useState({}),s=new Date;s.setDate(s.getDate()-6);const o={Protein:50*7,Carbohydrate:260*7,Fat:70*7,"Carbs as Sugar":30*7,Fibre:30*7,Salt:6*7},c=(p=0)=>{const g=new Date,v=new Date(g.setDate(g.getDate()-p)),b=new Date(v);b.setDate(v.getDate()-6);const T=[];for(let S=0;S<7;S++){const E=new Date(b);E.setDate(b.getDate()+S),T.push(E.toISOString().split("T")[0])}return T},u=p=>{const g={};let v=0;p.forEach(T=>{const S=i.filter(E=>E.date===T);S.length>0&&(v++,S.forEach(E=>{E.foodItems.forEach(R=>{R.nutrients.forEach(P=>{const O=parseFloat(P.total)||0;g[P.type]=(g[P.type]||0)+O})})}))});const b={};return Object.keys(g).forEach(T=>{b[T]=g[T]/v}),b};Q.useEffect(()=>{const p=c(0),g=c(7);t(u(p)),r(u(g))},[i]);const d=[];return Object.keys(o).forEach(p=>{const g=e[p]||0,v=(e[p]||0)-(n[p]||0);g<.6*o[p]?d.push(` Your ${p} intake is quite low this week. Consider improving it.`):g>1.2*o[p]?d.push(` You're exceeding recommended ${p} levels.`):v>5?d.push(` ${p} increased significantly this week.`):v<-5&&d.push(` ${p} dropped since last week.`)}),j.jsxs("div",{className:"home-container",children:[j.jsx("p",{className:"TitleName",children:"Suggestions"}),j.jsxs("div",{className:"CalBarCharSection bg-dark mb-2",children:[j.jsx("p",{className:"SubTitleName mb-2",children:"Weekly Calorie Trend"}),j.jsx(gO,{meals:i,startOfWeek:s})]}),j.jsxs("div",{className:"NutritionProgressSection mb-2 bg-dark list-group",style:{padding:"5%"},children:[j.jsx("p",{className:"SubTitleName",children:"This Week's Nutrient Averages"}),Object.keys(o).map(p=>{const g=e[p]||0,v=o[p],b=(e[p]||0)-(n[p]||0),T=Math.min(g/v*100,150),S=g>v,E=b>1?"":b<-1?"":"",R=b?`${E} ${Math.abs(b).toFixed(1)}g from last week`:"";return j.jsxs("div",{className:"mb-3",children:[j.jsxs("div",{className:"d-flex justify-content-between small",children:[j.jsx("span",{className:"text-white",children:p}),j.jsxs("span",{className:"text-white",children:[g.toFixed(1)," / ",v,"g"]})]}),j.jsx("div",{className:"progress",style:{height:"8px"},children:j.jsx("div",{className:`progress-bar ${S?"bg-danger":"bg-success"} progress-bar-striped progress-bar-animated`,style:{width:`${T}%`}})}),j.jsx("div",{className:"small text-white",children:R})]},p)})]}),j.jsx("div",{className:"SuggestionsBox",children:d.length>0?j.jsxs("ul",{className:"list-group bg-dark",style:{padding:"5%"},children:[j.jsx("p",{className:"SubTitleName",children:"Suggestions"}),d.map((p,g)=>j.jsx("li",{className:"list-group-item small bg-dark text-white border-0 ps-0",children:p},g))]}):j.jsx("p",{className:"text-success",children:" You're on track this week!"})})]})}function Cie(){const[i,e]=Q.useState(null),[t,n]=Q.useState([]),[r,s]=Q.useState("dashboard"),[o,c]=Q.useState(!1),[u,d]=Q.useState(null),[p,g]=Q.useState(!1),[v,b]=Q.useState(null),[T,S]=Q.useState(""),[E,R]=Q.useState(!1),[P,O]=Q.useState(!0);Q.useEffect(()=>{setTimeout(()=>O(!1),1500),(async()=>{const I=await TP();if(I){e(I);const F=await Ew(I.uid);n(F)}})()},[]);const z=async A=>{e(A);const I=await Ew(A.uid);n(I)},U=async A=>{if(!i)return;const I={...A,userId:i.uid};if(u){await _ie({...I,id:u.id},i.uid);const F=t.map(L=>L.id===u.id?{...I,id:u.id}:L);n(F),d(null)}else{await vie(I,i.uid),S("+10 XP! "),R(!0),setTimeout(()=>R(!1),3e3);const F=await Ew(i.uid),L=await TP();n(F),e(L)}c(!1)},K=async A=>{await bie(A,i.uid);const I=t.filter(F=>F.id!==A);n(I)},M=async()=>{await xie(),e(null),n([])};return i?P?j.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-black",children:j.jsx("img",{src:M4,alt:"Logo",style:{width:"150px",height:"150px"}})}):j.jsxs(j.Fragment,{children:[r==="dashboard"&&j.jsx($q,{user:i,meals:t,onEditMeal:A=>{d(A),c(!0)},onDeleteMeal:A=>{b(A),g(!0)}}),r==="history"&&j.jsx(Qq,{meals:t,onEditMeal:A=>{d(A),c(!0)},onDeleteMeal:A=>{b(A),g(!0)}}),r==="suggestions"&&j.jsx(Rie,{meals:t,user:i}),r==="profile"&&j.jsx(Iie,{user:i,meals:t,onLogout:M,clearAllMeals:async()=>{await wie(i.uid),n([])}}),j.jsx(p3,{onAddClick:()=>c(!0),onLogout:M,onTabChange:A=>s(A),currentTab:r}),j.jsx(oK,{isOpen:o,onClose:()=>{c(!1),d(null)},onSave:U,editMeal:u}),p&&j.jsx("div",{className:"modal-backdrop",children:j.jsxs("div",{className:"modal-container p-4 text-center",children:[j.jsx("p",{className:"text-white fw-bold",children:"Are you sure you want to delete this meal?"}),j.jsxs("div",{className:"d-flex justify-content-center gap-3 mt-3",children:[j.jsx("button",{className:"btn btn-secondary",onClick:()=>g(!1),children:"Cancel"}),j.jsx("button",{className:"btn btn-danger",onClick:async()=>{v!==null&&(await K(v),g(!1),b(null))},children:"Delete"})]})]})}),E&&j.jsx("div",{className:"toast-container position-fixed bottom-0 end-0 p-3",style:{zIndex:9999},children:j.jsx("div",{className:"toast show bg-success text-white",children:j.jsx("div",{className:"toast-body fw-bold",children:T})})})]}):j.jsx(Aie,{onLoginSuccess:z})}f3.createRoot(document.getElementById("root")).render(j.jsx(Q.StrictMode,{children:j.jsx(Cie,{})}));serviceWorkerRegistration.register();
