var bH=Object.defineProperty;var EH=(n,e,t)=>e in n?bH(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var de=(n,e,t)=>EH(n,typeof e!="symbol"?e+"":e,t);function AH(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function MS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vb={exports:{}},Qp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n3;function SH(){if(n3)return Qp;n3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Qp.Fragment=e,Qp.jsx=t,Qp.jsxs=t,Qp}var r3;function TH(){return r3||(r3=1,Vb.exports=SH()),Vb.exports}var D=TH(),Bb={exports:{}},Zp={},Fb={exports:{}},Ub={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i3;function CH(){return i3||(i3=1,function(n){function e(Y,X){var oe=Y.length;Y.push(X);e:for(;0<oe;){var Q=oe-1>>>1,U=Y[Q];if(0<i(U,X))Y[Q]=X,Y[oe]=U,oe=Q;else break e}}function t(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var X=Y[0],oe=Y.pop();if(oe!==X){Y[0]=oe;e:for(var Q=0,U=Y.length,q=U>>>1;Q<q;){var ce=2*(Q+1)-1,ne=Y[ce],we=ce+1,xe=Y[we];if(0>i(ne,oe))we<U&&0>i(xe,ne)?(Y[Q]=xe,Y[we]=oe,Q=we):(Y[Q]=ne,Y[ce]=oe,Q=ce);else if(we<U&&0>i(xe,oe))Y[Q]=xe,Y[we]=oe,Q=we;else break e}}return X}function i(Y,X){var oe=Y.sortIndex-X.sortIndex;return oe!==0?oe:Y.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,p=null,g=3,v=!1,w=!1,x=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function P(Y){for(var X=t(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=Y)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(u)}}function O(Y){if(x=!1,P(Y),!w)if(t(l)!==null)w=!0,V||(V=!0,H());else{var X=t(u);X!==null&&fe(O,X.startTime-Y)}}var V=!1,R=-1,C=5,N=-1;function L(){return E?!0:!(n.unstable_now()-N<C)}function F(){if(E=!1,V){var Y=n.unstable_now();N=Y;var X=!0;try{e:{w=!1,x&&(x=!1,T(R),R=-1),v=!0;var oe=g;try{t:{for(P(Y),p=t(l);p!==null&&!(p.expirationTime>Y&&L());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,g=p.priorityLevel;var U=Q(p.expirationTime<=Y);if(Y=n.unstable_now(),typeof U=="function"){p.callback=U,P(Y),X=!0;break t}p===t(l)&&r(l),P(Y)}else r(l);p=t(l)}if(p!==null)X=!0;else{var q=t(u);q!==null&&fe(O,q.startTime-Y),X=!1}}break e}finally{p=null,g=oe,v=!1}X=void 0}}finally{X?H():V=!1}}}var H;if(typeof I=="function")H=function(){I(F)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,he=B.port2;B.port1.onmessage=F,H=function(){he.postMessage(null)}}else H=function(){A(F,0)};function fe(Y,X){R=A(function(){Y(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var oe=g;g=X;try{return Y()}finally{g=oe}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(Y,X){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var oe=g;g=Y;try{return X()}finally{g=oe}},n.unstable_scheduleCallback=function(Y,X,oe){var Q=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Q+oe:Q):oe=Q,Y){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=oe+U,Y={id:h++,callback:X,priorityLevel:Y,startTime:oe,expirationTime:U,sortIndex:-1},oe>Q?(Y.sortIndex=oe,e(u,Y),t(l)===null&&Y===t(u)&&(x?(T(R),R=-1):x=!0,fe(O,oe-Q))):(Y.sortIndex=U,e(l,Y),w||v||(w=!0,V||(V=!0,H()))),Y},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(Y){var X=g;return function(){var oe=g;g=X;try{return Y.apply(this,arguments)}finally{g=oe}}}}(Ub)),Ub}var s3;function IH(){return s3||(s3=1,Fb.exports=CH()),Fb.exports}var jb={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3;function DH(){if(a3)return st;a3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(U){return U===null||typeof U!="object"?null:(U=p&&U[p]||U["@@iterator"],typeof U=="function"?U:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function E(U,q,ce){this.props=U,this.context=q,this.refs=x,this.updater=ce||v}E.prototype.isReactComponent={},E.prototype.setState=function(U,q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,q,"setState")},E.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function A(){}A.prototype=E.prototype;function T(U,q,ce){this.props=U,this.context=q,this.refs=x,this.updater=ce||v}var I=T.prototype=new A;I.constructor=T,w(I,E.prototype),I.isPureReactComponent=!0;var P=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function R(U,q,ce,ne,we,xe){return ce=xe.ref,{$$typeof:n,type:U,key:q,ref:ce!==void 0?ce:null,props:xe}}function C(U,q){return R(U.type,q,void 0,void 0,void 0,U.props)}function N(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function L(U){var q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ce){return q[ce]})}var F=/\/+/g;function H(U,q){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):q.toString(36)}function B(){}function he(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(B,B):(U.status="pending",U.then(function(q){U.status==="pending"&&(U.status="fulfilled",U.value=q)},function(q){U.status==="pending"&&(U.status="rejected",U.reason=q)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function fe(U,q,ce,ne,we){var xe=typeof U;(xe==="undefined"||xe==="boolean")&&(U=null);var Ae=!1;if(U===null)Ae=!0;else switch(xe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(U.$$typeof){case n:case e:Ae=!0;break;case h:return Ae=U._init,fe(Ae(U._payload),q,ce,ne,we)}}if(Ae)return we=we(U),Ae=ne===""?"."+H(U,0):ne,P(we)?(ce="",Ae!=null&&(ce=Ae.replace(F,"$&/")+"/"),fe(we,q,ce,"",function(Pe){return Pe})):we!=null&&(N(we)&&(we=C(we,ce+(we.key==null||U&&U.key===we.key?"":(""+we.key).replace(F,"$&/")+"/")+Ae)),q.push(we)),1;Ae=0;var et=ne===""?".":ne+":";if(P(U))for(var Ve=0;Ve<U.length;Ve++)ne=U[Ve],xe=et+H(ne,Ve),Ae+=fe(ne,q,ce,xe,we);else if(Ve=g(U),typeof Ve=="function")for(U=Ve.call(U),Ve=0;!(ne=U.next()).done;)ne=ne.value,xe=et+H(ne,Ve++),Ae+=fe(ne,q,ce,xe,we);else if(xe==="object"){if(typeof U.then=="function")return fe(he(U),q,ce,ne,we);throw q=String(U),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Y(U,q,ce){if(U==null)return U;var ne=[],we=0;return fe(U,ne,"","",function(xe){return q.call(ce,xe,we++)}),ne}function X(U){if(U._status===-1){var q=U._result;q=q(),q.then(function(ce){(U._status===0||U._status===-1)&&(U._status=1,U._result=ce)},function(ce){(U._status===0||U._status===-1)&&(U._status=2,U._result=ce)}),U._status===-1&&(U._status=0,U._result=q)}if(U._status===1)return U._result.default;throw U._result}var oe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Q(){}return st.Children={map:Y,forEach:function(U,q,ce){Y(U,function(){q.apply(this,arguments)},ce)},count:function(U){var q=0;return Y(U,function(){q++}),q},toArray:function(U){return Y(U,function(q){return q})||[]},only:function(U){if(!N(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},st.Component=E,st.Fragment=t,st.Profiler=i,st.PureComponent=T,st.StrictMode=r,st.Suspense=l,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,st.__COMPILER_RUNTIME={__proto__:null,c:function(U){return O.H.useMemoCache(U)}},st.cache=function(U){return function(){return U.apply(null,arguments)}},st.cloneElement=function(U,q,ce){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ne=w({},U.props),we=U.key,xe=void 0;if(q!=null)for(Ae in q.ref!==void 0&&(xe=void 0),q.key!==void 0&&(we=""+q.key),q)!V.call(q,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&q.ref===void 0||(ne[Ae]=q[Ae]);var Ae=arguments.length-2;if(Ae===1)ne.children=ce;else if(1<Ae){for(var et=Array(Ae),Ve=0;Ve<Ae;Ve++)et[Ve]=arguments[Ve+2];ne.children=et}return R(U.type,we,void 0,void 0,xe,ne)},st.createContext=function(U){return U={$$typeof:a,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:s,_context:U},U},st.createElement=function(U,q,ce){var ne,we={},xe=null;if(q!=null)for(ne in q.key!==void 0&&(xe=""+q.key),q)V.call(q,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(we[ne]=q[ne]);var Ae=arguments.length-2;if(Ae===1)we.children=ce;else if(1<Ae){for(var et=Array(Ae),Ve=0;Ve<Ae;Ve++)et[Ve]=arguments[Ve+2];we.children=et}if(U&&U.defaultProps)for(ne in Ae=U.defaultProps,Ae)we[ne]===void 0&&(we[ne]=Ae[ne]);return R(U,xe,void 0,void 0,null,we)},st.createRef=function(){return{current:null}},st.forwardRef=function(U){return{$$typeof:o,render:U}},st.isValidElement=N,st.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:X}},st.memo=function(U,q){return{$$typeof:u,type:U,compare:q===void 0?null:q}},st.startTransition=function(U){var q=O.T,ce={};O.T=ce;try{var ne=U(),we=O.S;we!==null&&we(ce,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Q,oe)}catch(xe){oe(xe)}finally{O.T=q}},st.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},st.use=function(U){return O.H.use(U)},st.useActionState=function(U,q,ce){return O.H.useActionState(U,q,ce)},st.useCallback=function(U,q){return O.H.useCallback(U,q)},st.useContext=function(U){return O.H.useContext(U)},st.useDebugValue=function(){},st.useDeferredValue=function(U,q){return O.H.useDeferredValue(U,q)},st.useEffect=function(U,q,ce){var ne=O.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(U,q)},st.useId=function(){return O.H.useId()},st.useImperativeHandle=function(U,q,ce){return O.H.useImperativeHandle(U,q,ce)},st.useInsertionEffect=function(U,q){return O.H.useInsertionEffect(U,q)},st.useLayoutEffect=function(U,q){return O.H.useLayoutEffect(U,q)},st.useMemo=function(U,q){return O.H.useMemo(U,q)},st.useOptimistic=function(U,q){return O.H.useOptimistic(U,q)},st.useReducer=function(U,q,ce){return O.H.useReducer(U,q,ce)},st.useRef=function(U){return O.H.useRef(U)},st.useState=function(U){return O.H.useState(U)},st.useSyncExternalStore=function(U,q,ce){return O.H.useSyncExternalStore(U,q,ce)},st.useTransition=function(){return O.H.useTransition()},st.version="19.1.0",st}var o3;function PS(){return o3||(o3=1,jb.exports=DH()),jb.exports}var Hb={exports:{}},Br={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l3;function RH(){if(l3)return Br;l3=1;var n=PS();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,u,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:l,containerInfo:u,implementation:h}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Br.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Br.createPortal=function(l,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,h)},Br.flushSync=function(l){var u=a.T,h=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=u,r.p=h,r.d.f()}},Br.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},Br.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Br.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var h=u.as,p=o(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):h==="script"&&r.d.X(l,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Br.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=o(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},Br.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,p=o(h,u.crossOrigin);r.d.L(l,h,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Br.preloadModule=function(l,u){if(typeof l=="string")if(u){var h=o(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},Br.requestFormReset=function(l){r.d.r(l)},Br.unstable_batchedUpdates=function(l,u){return l(u)},Br.useFormState=function(l,u,h){return a.H.useFormState(l,u,h)},Br.useFormStatus=function(){return a.H.useHostTransitionStatus()},Br.version="19.1.0",Br}var c3;function A8(){if(c3)return Hb.exports;c3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hb.exports=RH(),Hb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u3;function OH(){if(u3)return Zp;u3=1;var n=IH(),e=PS(),t=A8();function r(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var f=c,d=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(d=f.return),c=f.return;while(c)}return f.tag===3?d:null}function a(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function o(c){if(s(c)!==c)throw Error(r(188))}function l(c){var f=c.alternate;if(!f){if(f=s(c),f===null)throw Error(r(188));return f!==c?null:c}for(var d=c,m=f;;){var _=d.return;if(_===null)break;var b=_.alternate;if(b===null){if(m=_.return,m!==null){d=m;continue}break}if(_.child===b.child){for(b=_.child;b;){if(b===d)return o(_),c;if(b===m)return o(_),f;b=b.sibling}throw Error(r(188))}if(d.return!==m.return)d=_,m=b;else{for(var k=!1,j=_.child;j;){if(j===d){k=!0,d=_,m=b;break}if(j===m){k=!0,m=_,d=b;break}j=j.sibling}if(!k){for(j=b.child;j;){if(j===d){k=!0,d=b,m=_;break}if(j===m){k=!0,m=b,d=_;break}j=j.sibling}if(!k)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?c:f}function u(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=u(c),f!==null)return f;c=c.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),I=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function H(c){return c===null||typeof c!="object"?null:(c=F&&c[F]||c["@@iterator"],typeof c=="function"?c:null)}var B=Symbol.for("react.client.reference");function he(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===B?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case w:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case O:return"Suspense";case V:return"SuspenseList";case N:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case v:return"Portal";case I:return(c.displayName||"Context")+".Provider";case T:return(c._context.displayName||"Context")+".Consumer";case P:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case R:return f=c.displayName||null,f!==null?f:he(c.type)||"Memo";case C:f=c._payload,c=c._init;try{return he(c(f))}catch{}}return null}var fe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Q=[],U=-1;function q(c){return{current:c}}function ce(c){0>U||(c.current=Q[U],Q[U]=null,U--)}function ne(c,f){U++,Q[U]=c.current,c.current=f}var we=q(null),xe=q(null),Ae=q(null),et=q(null);function Ve(c,f){switch(ne(Ae,f),ne(xe,c),ne(we,null),f.nodeType){case 9:case 11:c=(c=f.documentElement)&&(c=c.namespaceURI)?RO(c):0;break;default:if(c=f.tagName,f=f.namespaceURI)f=RO(f),c=OO(f,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}ce(we),ne(we,c)}function Pe(){ce(we),ce(xe),ce(Ae)}function We(c){c.memoizedState!==null&&ne(et,c);var f=we.current,d=OO(f,c.type);f!==d&&(ne(xe,c),ne(we,d))}function rt(c){xe.current===c&&(ce(we),ce(xe)),et.current===c&&(ce(et),$p._currentValue=oe)}var kt=Object.prototype.hasOwnProperty,Lt=n.unstable_scheduleCallback,on=n.unstable_cancelCallback,kr=n.unstable_shouldYield,Ne=n.unstable_requestPaint,ke=n.unstable_now,ye=n.unstable_getCurrentPriorityLevel,Ue=n.unstable_ImmediatePriority,Ke=n.unstable_UserBlockingPriority,it=n.unstable_NormalPriority,nt=n.unstable_LowPriority,Vt=n.unstable_IdlePriority,De=n.log,_t=n.unstable_setDisableYieldValue,pt=null,at=null;function cr(c){if(typeof De=="function"&&_t(c),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(pt,c)}catch{}}var jn=Math.clz32?Math.clz32:Er,Lr=Math.log,br=Math.LN2;function Er(c){return c>>>=0,c===0?32:31-(Lr(c)/br|0)|0}var ui=256,fi=4194304;function hi(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Wa(c,f,d){var m=c.pendingLanes;if(m===0)return 0;var _=0,b=c.suspendedLanes,k=c.pingedLanes;c=c.warmLanes;var j=m&134217727;return j!==0?(m=j&~b,m!==0?_=hi(m):(k&=j,k!==0?_=hi(k):d||(d=j&~c,d!==0&&(_=hi(d))))):(j=m&~b,j!==0?_=hi(j):k!==0?_=hi(k):d||(d=m&~c,d!==0&&(_=hi(d)))),_===0?0:f!==0&&f!==_&&(f&b)===0&&(b=_&-_,d=f&-f,b>=d||b===32&&(d&4194048)!==0)?f:_}function Gs(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function $d(c,f){switch(c){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gd(){var c=ui;return ui<<=1,(ui&4194048)===0&&(ui=256),c}function qd(){var c=fi;return fi<<=1,(fi&62914560)===0&&(fi=4194304),c}function Ya(c){for(var f=[],d=0;31>d;d++)f.push(c);return f}function $a(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Kd(c,f,d,m,_,b){var k=c.pendingLanes;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=d,c.entangledLanes&=d,c.errorRecoveryDisabledLanes&=d,c.shellSuspendCounter=0;var j=c.entanglements,$=c.expirationTimes,re=c.hiddenUpdates;for(d=k&~d;0<d;){var ge=31-jn(d),_e=1<<ge;j[ge]=0,$[ge]=-1;var se=re[ge];if(se!==null)for(re[ge]=null,ge=0;ge<se.length;ge++){var le=se[ge];le!==null&&(le.lane&=-536870913)}d&=~_e}m!==0&&qs(c,m,0),b!==0&&_===0&&c.tag!==0&&(c.suspendedLanes|=b&~(k&~f))}function qs(c,f,d){c.pendingLanes|=f,c.suspendedLanes&=~f;var m=31-jn(f);c.entangledLanes|=f,c.entanglements[m]=c.entanglements[m]|1073741824|d&4194090}function Xd(c,f){var d=c.entangledLanes|=f;for(c=c.entanglements;d;){var m=31-jn(d),_=1<<m;_&f|c[m]&f&&(c[m]|=f),d&=~_}}function Yo(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function pf(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function $o(){var c=X.p;return c!==0?c:(c=window.event,c===void 0?32:XO(c.type))}function D0(c,f){var d=X.p;try{return X.p=c,f()}finally{X.p=d}}var pn=Math.random().toString(36).slice(2),Kn="__reactFiber$"+pn,Hn="__reactProps$"+pn,Gi="__reactContainer$"+pn,Qd="__reactEvents$"+pn,Uw="__reactListeners$"+pn,Go="__reactHandles$"+pn,R0="__reactResources$"+pn,xc="__reactMarker$"+pn;function qo(c){delete c[Kn],delete c[Hn],delete c[Qd],delete c[Uw],delete c[Go]}function Ga(c){var f=c[Kn];if(f)return f;for(var d=c.parentNode;d;){if(f=d[Gi]||d[Kn]){if(d=f.alternate,f.child!==null||d!==null&&d.child!==null)for(c=kO(c);c!==null;){if(d=c[Kn])return d;c=kO(c)}return f}c=d,d=c.parentNode}return null}function Ks(c){if(c=c[Kn]||c[Gi]){var f=c.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return c}return null}function Xs(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(r(33))}function Qr(c){var f=c[R0];return f||(f=c[R0]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function On(c){c[xc]=!0}var Zd=new Set,gf={};function Cs(c,f){qa(c,f),qa(c+"Capture",f)}function qa(c,f){for(gf[c]=f,c=0;c<f.length;c++)Zd.add(f[c])}var O0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),N0={},bc={};function M0(c){return kt.call(bc,c)?!0:kt.call(N0,c)?!1:O0.test(c)?bc[c]=!0:(N0[c]=!0,!1)}function Ko(c,f,d){if(M0(f))if(d===null)c.removeAttribute(f);else{switch(typeof d){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var m=f.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+d)}}function Qs(c,f,d){if(d===null)c.removeAttribute(f);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+d)}}function Ar(c,f,d,m){if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttributeNS(f,d,""+m)}}var Ec,P0;function Ka(c){if(Ec===void 0)try{throw Error()}catch(d){var f=d.stack.trim().match(/\n( *(at )?)/);Ec=f&&f[1]||"",P0=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ec+c+P0}var mf=!1;function vf(c,f){if(!c||mf)return"";mf=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(f){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(le){var se=le}Reflect.construct(c,[],_e)}else{try{_e.call()}catch(le){se=le}c.call(_e.prototype)}}else{try{throw Error()}catch(le){se=le}(_e=c())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(le){if(le&&se&&typeof le.stack=="string")return[le.stack,se.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),k=b[0],j=b[1];if(k&&j){var $=k.split(`
`),re=j.split(`
`);for(_=m=0;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;for(;_<re.length&&!re[_].includes("DetermineComponentFrameRoot");)_++;if(m===$.length||_===re.length)for(m=$.length-1,_=re.length-1;1<=m&&0<=_&&$[m]!==re[_];)_--;for(;1<=m&&0<=_;m--,_--)if($[m]!==re[_]){if(m!==1||_!==1)do if(m--,_--,0>_||$[m]!==re[_]){var ge=`
`+$[m].replace(" at new "," at ");return c.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",c.displayName)),ge}while(1<=m&&0<=_);break}}}finally{mf=!1,Error.prepareStackTrace=d}return(d=c?c.displayName||c.name:"")?Ka(d):""}function Jd(c){switch(c.tag){case 26:case 27:case 5:return Ka(c.type);case 16:return Ka("Lazy");case 13:return Ka("Suspense");case 19:return Ka("SuspenseList");case 0:case 15:return vf(c.type,!1);case 11:return vf(c.type.render,!1);case 1:return vf(c.type,!0);case 31:return Ka("Activity");default:return""}}function yf(c){try{var f="";do f+=Jd(c),c=c.return;while(c);return f}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Zr(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ep(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function jw(c){var f=ep(c)?"checked":"value",d=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),m=""+c[f];if(!c.hasOwnProperty(f)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,b=d.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return _.call(this)},set:function(k){m=""+k,b.call(this,k)}}),Object.defineProperty(c,f,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(k){m=""+k},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function _f(c){c._valueTracker||(c._valueTracker=jw(c))}function tp(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var d=f.getValue(),m="";return c&&(m=ep(c)?c.checked?"true":"false":c.value),c=m,c!==d?(f.setValue(c),!0):!1}function Ac(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var Hw=/[\n"\\]/g;function zn(c){return c.replace(Hw,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Ci(c,f,d,m,_,b,k,j){c.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?c.type=k:c.removeAttribute("type"),f!=null?k==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+Zr(f)):c.value!==""+Zr(f)&&(c.value=""+Zr(f)):k!=="submit"&&k!=="reset"||c.removeAttribute("value"),f!=null?Xo(c,k,Zr(f)):d!=null?Xo(c,k,Zr(d)):m!=null&&c.removeAttribute("value"),_==null&&b!=null&&(c.defaultChecked=!!b),_!=null&&(c.checked=_&&typeof _!="function"&&typeof _!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?c.name=""+Zr(j):c.removeAttribute("name")}function Sc(c,f,d,m,_,b,k,j){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(c.type=b),f!=null||d!=null){if(!(b!=="submit"&&b!=="reset"||f!=null))return;d=d!=null?""+Zr(d):"",f=f!=null?""+Zr(f):d,j||f===c.value||(c.value=f),c.defaultValue=f}m=m??_,m=typeof m!="function"&&typeof m!="symbol"&&!!m,c.checked=j?c.checked:!!m,c.defaultChecked=!!m,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(c.name=k)}function Xo(c,f,d){f==="number"&&Ac(c.ownerDocument)===c||c.defaultValue===""+d||(c.defaultValue=""+d)}function Xa(c,f,d,m){if(c=c.options,f){f={};for(var _=0;_<d.length;_++)f["$"+d[_]]=!0;for(d=0;d<c.length;d++)_=f.hasOwnProperty("$"+c[d].value),c[d].selected!==_&&(c[d].selected=_),_&&m&&(c[d].defaultSelected=!0)}else{for(d=""+Zr(d),f=null,_=0;_<c.length;_++){if(c[_].value===d){c[_].selected=!0,m&&(c[_].defaultSelected=!0);return}f!==null||c[_].disabled||(f=c[_])}f!==null&&(f.selected=!0)}}function Zt(c,f,d){if(f!=null&&(f=""+Zr(f),f!==c.value&&(c.value=f),d==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=d!=null?""+Zr(d):""}function Tc(c,f,d,m){if(f==null){if(m!=null){if(d!=null)throw Error(r(92));if(fe(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),f=d}d=Zr(f),c.defaultValue=d,m=c.textContent,m===d&&m!==""&&m!==null&&(c.value=m)}function qi(c,f){if(f){var d=c.firstChild;if(d&&d===c.lastChild&&d.nodeType===3){d.nodeValue=f;return}}c.textContent=f}var Cc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function k0(c,f,d){var m=f.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":m?c.setProperty(f,d):typeof d!="number"||d===0||Cc.has(f)?f==="float"?c.cssFloat=d:c[f]=(""+d).trim():c[f]=d+"px"}function np(c,f,d){if(f!=null&&typeof f!="object")throw Error(r(62));if(c=c.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||f!=null&&f.hasOwnProperty(m)||(m.indexOf("--")===0?c.setProperty(m,""):m==="float"?c.cssFloat="":c[m]="");for(var _ in f)m=f[_],f.hasOwnProperty(_)&&d[_]!==m&&k0(c,_,m)}else for(var b in f)f.hasOwnProperty(b)&&k0(c,b,f[b])}function rp(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ww=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wf(c){return Ww.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var Qa=null;function Ki(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Za=null,Ja=null;function ip(c){var f=Ks(c);if(f&&(c=f.stateNode)){var d=c[Hn]||null;e:switch(c=f.stateNode,f.type){case"input":if(Ci(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),f=d.name,d.type==="radio"&&f!=null){for(d=c;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+zn(""+f)+'"][type="radio"]'),f=0;f<d.length;f++){var m=d[f];if(m!==c&&m.form===c.form){var _=m[Hn]||null;if(!_)throw Error(r(90));Ci(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(f=0;f<d.length;f++)m=d[f],m.form===c.form&&tp(m)}break e;case"textarea":Zt(c,d.value,d.defaultValue);break e;case"select":f=d.value,f!=null&&Xa(c,!!d.multiple,f,!1)}}}var Zs=!1;function L0(c,f,d){if(Zs)return c(f,d);Zs=!0;try{var m=c(f);return m}finally{if(Zs=!1,(Za!==null||Ja!==null)&&(D1(),Za&&(f=Za,c=Ja,Ja=Za=null,ip(f),c)))for(f=0;f<c.length;f++)ip(c[f])}}function Ic(c,f){var d=c.stateNode;if(d===null)return null;var m=d[Hn]||null;if(m===null)return null;d=m[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(c=c.type,m=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!m;break e;default:c=!1}if(c)return null;if(d&&typeof d!="function")throw Error(r(231,f,typeof d));return d}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xi=!1;if(Is)try{var Dc={};Object.defineProperty(Dc,"passive",{get:function(){Xi=!0}}),window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch{Xi=!1}var Js=null,Qo=null,eo=null;function sp(){if(eo)return eo;var c,f=Qo,d=f.length,m,_="value"in Js?Js.value:Js.textContent,b=_.length;for(c=0;c<d&&f[c]===_[c];c++);var k=d-c;for(m=1;m<=k&&f[d-m]===_[b-m];m++);return eo=_.slice(c,1<m?1-m:void 0)}function ea(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function ta(){return!0}function ap(){return!1}function ur(c){function f(d,m,_,b,k){this._reactName=d,this._targetInst=_,this.type=m,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var j in c)c.hasOwnProperty(j)&&(d=c[j],this[j]=d?d(b):b[j]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ta:ap,this.isPropagationStopped=ap,this}return h(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),f}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xf=ur(Bt),Rc=h({},Bt,{view:0,detail:0}),V0=ur(Rc),bf,Ef,na,Oc=h({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pc,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==na&&(na&&c.type==="mousemove"?(bf=c.screenX-na.screenX,Ef=c.screenY-na.screenY):Ef=bf=0,na=c),bf)},movementY:function(c){return"movementY"in c?c.movementY:Ef}}),Qi=ur(Oc),B0=h({},Oc,{dataTransfer:0}),Yw=ur(B0),Nc=h({},Rc,{relatedTarget:0}),Af=ur(Nc),op=h({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Sf=ur(op),F0=h({},Bt,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Tf=ur(F0),$w=h({},Bt,{data:0}),lp=ur($w),Mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cp(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=j0[c])?!!f[c]:!1}function Pc(){return cp}var H0=h({},Rc,{key:function(c){if(c.key){var f=Mc[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=ea(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?U0[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pc,charCode:function(c){return c.type==="keypress"?ea(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?ea(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Cf=ur(H0),z0=h({},Oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),up=ur(z0),to=h({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pc}),W0=ur(to),Y0=h({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),$0=ur(Y0),G0=h({},Oc,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),If=ur(G0),Jr=h({},Bt,{newState:0,oldState:0}),q0=ur(Jr),K0=[9,13,27,32],ra=Is&&"CompositionEvent"in window,y=null;Is&&"documentMode"in document&&(y=document.documentMode);var S=Is&&"TextEvent"in window&&!y,M=Is&&(!ra||y&&8<y&&11>=y),z=" ",J=!1;function ue(c,f){switch(c){case"keyup":return K0.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Se(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var xt=!1;function Xn(c,f){switch(c){case"compositionend":return Se(f);case"keypress":return f.which!==32?null:(J=!0,z);case"textInput":return c=f.data,c===z&&J?null:c;default:return null}}function bt(c,f){if(xt)return c==="compositionend"||!ra&&ue(c,f)?(c=sp(),eo=Qo=Js=null,xt=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return M&&f.locale!=="ko"?null:f.data;default:return null}}var fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!fr[c.type]:f==="textarea"}function no(c,f,d,m){Za?Ja?Ja.push(m):Ja=[m]:Za=m,f=k1(f,"onChange"),0<f.length&&(d=new xf("onChange","change",null,d,m),c.push({event:d,listeners:f}))}var Sr=null,ia=null;function fp(c){SO(c,0)}function X0(c){var f=Xs(c);if(tp(f))return c}function $I(c,f){if(c==="change")return f}var GI=!1;if(Is){var Gw;if(Is){var qw="oninput"in document;if(!qw){var qI=document.createElement("div");qI.setAttribute("oninput","return;"),qw=typeof qI.oninput=="function"}Gw=qw}else Gw=!1;GI=Gw&&(!document.documentMode||9<document.documentMode)}function KI(){Sr&&(Sr.detachEvent("onpropertychange",XI),ia=Sr=null)}function XI(c){if(c.propertyName==="value"&&X0(ia)){var f=[];no(f,ia,c,Ki(c)),L0(fp,f)}}function ZU(c,f,d){c==="focusin"?(KI(),Sr=f,ia=d,Sr.attachEvent("onpropertychange",XI)):c==="focusout"&&KI()}function JU(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return X0(ia)}function ej(c,f){if(c==="click")return X0(f)}function tj(c,f){if(c==="input"||c==="change")return X0(f)}function nj(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Ii=typeof Object.is=="function"?Object.is:nj;function hp(c,f){if(Ii(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var d=Object.keys(c),m=Object.keys(f);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var _=d[m];if(!kt.call(f,_)||!Ii(c[_],f[_]))return!1}return!0}function QI(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function ZI(c,f){var d=QI(c);c=0;for(var m;d;){if(d.nodeType===3){if(m=c+d.textContent.length,c<=f&&m>=f)return{node:d,offset:f-c};c=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=QI(d)}}function JI(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?JI(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function eD(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=Ac(c.document);f instanceof c.HTMLIFrameElement;){try{var d=typeof f.contentWindow.location.href=="string"}catch{d=!1}if(d)c=f.contentWindow;else break;f=Ac(c.document)}return f}function Kw(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}var rj=Is&&"documentMode"in document&&11>=document.documentMode,Df=null,Xw=null,dp=null,Qw=!1;function tD(c,f,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Qw||Df==null||Df!==Ac(m)||(m=Df,"selectionStart"in m&&Kw(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),dp&&hp(dp,m)||(dp=m,m=k1(Xw,"onSelect"),0<m.length&&(f=new xf("onSelect","select",null,f,d),c.push({event:f,listeners:m}),f.target=Df)))}function kc(c,f){var d={};return d[c.toLowerCase()]=f.toLowerCase(),d["Webkit"+c]="webkit"+f,d["Moz"+c]="moz"+f,d}var Rf={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionrun:kc("Transition","TransitionRun"),transitionstart:kc("Transition","TransitionStart"),transitioncancel:kc("Transition","TransitionCancel"),transitionend:kc("Transition","TransitionEnd")},Zw={},nD={};Is&&(nD=document.createElement("div").style,"AnimationEvent"in window||(delete Rf.animationend.animation,delete Rf.animationiteration.animation,delete Rf.animationstart.animation),"TransitionEvent"in window||delete Rf.transitionend.transition);function Lc(c){if(Zw[c])return Zw[c];if(!Rf[c])return c;var f=Rf[c],d;for(d in f)if(f.hasOwnProperty(d)&&d in nD)return Zw[c]=f[d];return c}var rD=Lc("animationend"),iD=Lc("animationiteration"),sD=Lc("animationstart"),ij=Lc("transitionrun"),sj=Lc("transitionstart"),aj=Lc("transitioncancel"),aD=Lc("transitionend"),oD=new Map,Jw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jw.push("scrollEnd");function Ds(c,f){oD.set(c,f),Cs(f,[c])}var lD=new WeakMap;function Zi(c,f){if(typeof c=="object"&&c!==null){var d=lD.get(c);return d!==void 0?d:(f={value:c,source:f,stack:yf(f)},lD.set(c,f),f)}return{value:c,source:f,stack:yf(f)}}var Ji=[],Of=0,ex=0;function Q0(){for(var c=Of,f=ex=Of=0;f<c;){var d=Ji[f];Ji[f++]=null;var m=Ji[f];Ji[f++]=null;var _=Ji[f];Ji[f++]=null;var b=Ji[f];if(Ji[f++]=null,m!==null&&_!==null){var k=m.pending;k===null?_.next=_:(_.next=k.next,k.next=_),m.pending=_}b!==0&&cD(d,_,b)}}function Z0(c,f,d,m){Ji[Of++]=c,Ji[Of++]=f,Ji[Of++]=d,Ji[Of++]=m,ex|=m,c.lanes|=m,c=c.alternate,c!==null&&(c.lanes|=m)}function tx(c,f,d,m){return Z0(c,f,d,m),J0(c)}function Nf(c,f){return Z0(c,null,null,f),J0(c)}function cD(c,f,d){c.lanes|=d;var m=c.alternate;m!==null&&(m.lanes|=d);for(var _=!1,b=c.return;b!==null;)b.childLanes|=d,m=b.alternate,m!==null&&(m.childLanes|=d),b.tag===22&&(c=b.stateNode,c===null||c._visibility&1||(_=!0)),c=b,b=b.return;return c.tag===3?(b=c.stateNode,_&&f!==null&&(_=31-jn(d),c=b.hiddenUpdates,m=c[_],m===null?c[_]=[f]:m.push(f),f.lane=d|536870912),b):null}function J0(c){if(50<Bp)throw Bp=0,ob=null,Error(r(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var Mf={};function oj(c,f,d,m){this.tag=c,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(c,f,d,m){return new oj(c,f,d,m)}function nx(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ro(c,f){var d=c.alternate;return d===null?(d=Di(c.tag,f,c.key,c.mode),d.elementType=c.elementType,d.type=c.type,d.stateNode=c.stateNode,d.alternate=c,c.alternate=d):(d.pendingProps=f,d.type=c.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=c.flags&65011712,d.childLanes=c.childLanes,d.lanes=c.lanes,d.child=c.child,d.memoizedProps=c.memoizedProps,d.memoizedState=c.memoizedState,d.updateQueue=c.updateQueue,f=c.dependencies,d.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},d.sibling=c.sibling,d.index=c.index,d.ref=c.ref,d.refCleanup=c.refCleanup,d}function uD(c,f){c.flags&=65011714;var d=c.alternate;return d===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,f=d.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function e1(c,f,d,m,_,b){var k=0;if(m=c,typeof c=="function")nx(c)&&(k=1);else if(typeof c=="string")k=cH(c,d,we.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case N:return c=Di(31,d,f,_),c.elementType=N,c.lanes=b,c;case w:return Vc(d.children,_,b,f);case x:k=8,_|=24;break;case E:return c=Di(12,d,f,_|2),c.elementType=E,c.lanes=b,c;case O:return c=Di(13,d,f,_),c.elementType=O,c.lanes=b,c;case V:return c=Di(19,d,f,_),c.elementType=V,c.lanes=b,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case A:case I:k=10;break e;case T:k=9;break e;case P:k=11;break e;case R:k=14;break e;case C:k=16,m=null;break e}k=29,d=Error(r(130,c===null?"null":typeof c,"")),m=null}return f=Di(k,d,f,_),f.elementType=c,f.type=m,f.lanes=b,f}function Vc(c,f,d,m){return c=Di(7,c,m,f),c.lanes=d,c}function rx(c,f,d){return c=Di(6,c,null,f),c.lanes=d,c}function ix(c,f,d){return f=Di(4,c.children!==null?c.children:[],c.key,f),f.lanes=d,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}var Pf=[],kf=0,t1=null,n1=0,es=[],ts=0,Bc=null,io=1,so="";function Fc(c,f){Pf[kf++]=n1,Pf[kf++]=t1,t1=c,n1=f}function fD(c,f,d){es[ts++]=io,es[ts++]=so,es[ts++]=Bc,Bc=c;var m=io;c=so;var _=32-jn(m)-1;m&=~(1<<_),d+=1;var b=32-jn(f)+_;if(30<b){var k=_-_%5;b=(m&(1<<k)-1).toString(32),m>>=k,_-=k,io=1<<32-jn(f)+_|d<<_|m,so=b+c}else io=1<<b|d<<_|m,so=c}function sx(c){c.return!==null&&(Fc(c,1),fD(c,1,0))}function ax(c){for(;c===t1;)t1=Pf[--kf],Pf[kf]=null,n1=Pf[--kf],Pf[kf]=null;for(;c===Bc;)Bc=es[--ts],es[ts]=null,so=es[--ts],es[ts]=null,io=es[--ts],es[ts]=null}var ei=null,Sn=null,Ot=!1,Uc=null,sa=!1,ox=Error(r(519));function jc(c){var f=Error(r(418,""));throw mp(Zi(f,c)),ox}function hD(c){var f=c.stateNode,d=c.type,m=c.memoizedProps;switch(f[Kn]=c,f[Hn]=m,d){case"dialog":mt("cancel",f),mt("close",f);break;case"iframe":case"object":case"embed":mt("load",f);break;case"video":case"audio":for(d=0;d<Up.length;d++)mt(Up[d],f);break;case"source":mt("error",f);break;case"img":case"image":case"link":mt("error",f),mt("load",f);break;case"details":mt("toggle",f);break;case"input":mt("invalid",f),Sc(f,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),_f(f);break;case"select":mt("invalid",f);break;case"textarea":mt("invalid",f),Tc(f,m.value,m.defaultValue,m.children),_f(f)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||f.textContent===""+d||m.suppressHydrationWarning===!0||DO(f.textContent,d)?(m.popover!=null&&(mt("beforetoggle",f),mt("toggle",f)),m.onScroll!=null&&mt("scroll",f),m.onScrollEnd!=null&&mt("scrollend",f),m.onClick!=null&&(f.onclick=L1),f=!0):f=!1,f||jc(c)}function dD(c){for(ei=c.return;ei;)switch(ei.tag){case 5:case 13:sa=!1;return;case 27:case 3:sa=!0;return;default:ei=ei.return}}function pp(c){if(c!==ei)return!1;if(!Ot)return dD(c),Ot=!0,!1;var f=c.tag,d;if((d=f!==3&&f!==27)&&((d=f===5)&&(d=c.type,d=!(d!=="form"&&d!=="button")||Eb(c.type,c.memoizedProps)),d=!d),d&&Sn&&jc(c),dD(c),f===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8)if(d=c.data,d==="/$"){if(f===0){Sn=Os(c.nextSibling);break e}f--}else d!=="$"&&d!=="$!"&&d!=="$?"||f++;c=c.nextSibling}Sn=null}}else f===27?(f=Sn,dl(c.type)?(c=Cb,Cb=null,Sn=c):Sn=f):Sn=ei?Os(c.stateNode.nextSibling):null;return!0}function gp(){Sn=ei=null,Ot=!1}function pD(){var c=Uc;return c!==null&&(gi===null?gi=c:gi.push.apply(gi,c),Uc=null),c}function mp(c){Uc===null?Uc=[c]:Uc.push(c)}var lx=q(null),Hc=null,ao=null;function Zo(c,f,d){ne(lx,f._currentValue),f._currentValue=d}function oo(c){c._currentValue=lx.current,ce(lx)}function cx(c,f,d){for(;c!==null;){var m=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,m!==null&&(m.childLanes|=f)):m!==null&&(m.childLanes&f)!==f&&(m.childLanes|=f),c===d)break;c=c.return}}function ux(c,f,d,m){var _=c.child;for(_!==null&&(_.return=c);_!==null;){var b=_.dependencies;if(b!==null){var k=_.child;b=b.firstContext;e:for(;b!==null;){var j=b;b=_;for(var $=0;$<f.length;$++)if(j.context===f[$]){b.lanes|=d,j=b.alternate,j!==null&&(j.lanes|=d),cx(b.return,d,c),m||(k=null);break e}b=j.next}}else if(_.tag===18){if(k=_.return,k===null)throw Error(r(341));k.lanes|=d,b=k.alternate,b!==null&&(b.lanes|=d),cx(k,d,c),k=null}else k=_.child;if(k!==null)k.return=_;else for(k=_;k!==null;){if(k===c){k=null;break}if(_=k.sibling,_!==null){_.return=k.return,k=_;break}k=k.return}_=k}}function vp(c,f,d,m){c=null;for(var _=f,b=!1;_!==null;){if(!b){if((_.flags&524288)!==0)b=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var k=_.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var j=_.type;Ii(_.pendingProps.value,k.value)||(c!==null?c.push(j):c=[j])}}else if(_===et.current){if(k=_.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(c!==null?c.push($p):c=[$p])}_=_.return}c!==null&&ux(f,c,d,m),f.flags|=262144}function r1(c){for(c=c.firstContext;c!==null;){if(!Ii(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function zc(c){Hc=c,ao=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Vr(c){return gD(Hc,c)}function i1(c,f){return Hc===null&&zc(c),gD(c,f)}function gD(c,f){var d=f._currentValue;if(f={context:f,memoizedValue:d,next:null},ao===null){if(c===null)throw Error(r(308));ao=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else ao=ao.next=f;return d}var lj=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(d,m){c.push(m)}};this.abort=function(){f.aborted=!0,c.forEach(function(d){return d()})}},cj=n.unstable_scheduleCallback,uj=n.unstable_NormalPriority,Zn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fx(){return{controller:new lj,data:new Map,refCount:0}}function yp(c){c.refCount--,c.refCount===0&&cj(uj,function(){c.controller.abort()})}var _p=null,hx=0,Lf=0,Vf=null;function fj(c,f){if(_p===null){var d=_p=[];hx=0,Lf=pb(),Vf={status:"pending",value:void 0,then:function(m){d.push(m)}}}return hx++,f.then(mD,mD),f}function mD(){if(--hx===0&&_p!==null){Vf!==null&&(Vf.status="fulfilled");var c=_p;_p=null,Lf=0,Vf=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function hj(c,f){var d=[],m={status:"pending",value:null,reason:null,then:function(_){d.push(_)}};return c.then(function(){m.status="fulfilled",m.value=f;for(var _=0;_<d.length;_++)(0,d[_])(f)},function(_){for(m.status="rejected",m.reason=_,_=0;_<d.length;_++)(0,d[_])(void 0)}),m}var vD=Y.S;Y.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&fj(c,f),vD!==null&&vD(c,f)};var Wc=q(null);function dx(){var c=Wc.current;return c!==null?c:ln.pooledCache}function s1(c,f){f===null?ne(Wc,Wc.current):ne(Wc,f.pool)}function yD(){var c=dx();return c===null?null:{parent:Zn._currentValue,pool:c}}var wp=Error(r(460)),_D=Error(r(474)),a1=Error(r(542)),px={then:function(){}};function wD(c){return c=c.status,c==="fulfilled"||c==="rejected"}function o1(){}function xD(c,f,d){switch(d=c[d],d===void 0?c.push(f):d!==f&&(f.then(o1,o1),f=d),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,ED(c),c;default:if(typeof f.status=="string")f.then(o1,o1);else{if(c=ln,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=f,c.status="pending",c.then(function(m){if(f.status==="pending"){var _=f;_.status="fulfilled",_.value=m}},function(m){if(f.status==="pending"){var _=f;_.status="rejected",_.reason=m}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,ED(c),c}throw xp=f,wp}}var xp=null;function bD(){if(xp===null)throw Error(r(459));var c=xp;return xp=null,c}function ED(c){if(c===wp||c===a1)throw Error(r(483))}var Jo=!1;function gx(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mx(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function el(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function tl(c,f,d){var m=c.updateQueue;if(m===null)return null;if(m=m.shared,(zt&2)!==0){var _=m.pending;return _===null?f.next=f:(f.next=_.next,_.next=f),m.pending=f,f=J0(c),cD(c,null,d),f}return Z0(c,m,f,d),J0(c)}function bp(c,f,d){if(f=f.updateQueue,f!==null&&(f=f.shared,(d&4194048)!==0)){var m=f.lanes;m&=c.pendingLanes,d|=m,f.lanes=d,Xd(c,d)}}function vx(c,f){var d=c.updateQueue,m=c.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var _=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};b===null?_=b=k:b=b.next=k,d=d.next}while(d!==null);b===null?_=b=f:b=b.next=f}else _=b=f;d={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},c.updateQueue=d;return}c=d.lastBaseUpdate,c===null?d.firstBaseUpdate=f:c.next=f,d.lastBaseUpdate=f}var yx=!1;function Ep(){if(yx){var c=Vf;if(c!==null)throw c}}function Ap(c,f,d,m){yx=!1;var _=c.updateQueue;Jo=!1;var b=_.firstBaseUpdate,k=_.lastBaseUpdate,j=_.shared.pending;if(j!==null){_.shared.pending=null;var $=j,re=$.next;$.next=null,k===null?b=re:k.next=re,k=$;var ge=c.alternate;ge!==null&&(ge=ge.updateQueue,j=ge.lastBaseUpdate,j!==k&&(j===null?ge.firstBaseUpdate=re:j.next=re,ge.lastBaseUpdate=$))}if(b!==null){var _e=_.baseState;k=0,ge=re=$=null,j=b;do{var se=j.lane&-536870913,le=se!==j.lane;if(le?(Et&se)===se:(m&se)===se){se!==0&&se===Lf&&(yx=!0),ge!==null&&(ge=ge.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ze=c,qe=j;se=f;var tn=d;switch(qe.tag){case 1:if(Ze=qe.payload,typeof Ze=="function"){_e=Ze.call(tn,_e,se);break e}_e=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=qe.payload,se=typeof Ze=="function"?Ze.call(tn,_e,se):Ze,se==null)break e;_e=h({},_e,se);break e;case 2:Jo=!0}}se=j.callback,se!==null&&(c.flags|=64,le&&(c.flags|=8192),le=_.callbacks,le===null?_.callbacks=[se]:le.push(se))}else le={lane:se,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ge===null?(re=ge=le,$=_e):ge=ge.next=le,k|=se;if(j=j.next,j===null){if(j=_.shared.pending,j===null)break;le=j,j=le.next,le.next=null,_.lastBaseUpdate=le,_.shared.pending=null}}while(!0);ge===null&&($=_e),_.baseState=$,_.firstBaseUpdate=re,_.lastBaseUpdate=ge,b===null&&(_.shared.lanes=0),cl|=k,c.lanes=k,c.memoizedState=_e}}function AD(c,f){if(typeof c!="function")throw Error(r(191,c));c.call(f)}function SD(c,f){var d=c.callbacks;if(d!==null)for(c.callbacks=null,c=0;c<d.length;c++)AD(d[c],f)}var Bf=q(null),l1=q(0);function TD(c,f){c=go,ne(l1,c),ne(Bf,f),go=c|f.baseLanes}function _x(){ne(l1,go),ne(Bf,Bf.current)}function wx(){go=l1.current,ce(Bf),ce(l1)}var nl=0,ot=null,Jt=null,Wn=null,c1=!1,Ff=!1,Yc=!1,u1=0,Sp=0,Uf=null,dj=0;function Nn(){throw Error(r(321))}function xx(c,f){if(f===null)return!1;for(var d=0;d<f.length&&d<c.length;d++)if(!Ii(c[d],f[d]))return!1;return!0}function bx(c,f,d,m,_,b){return nl=b,ot=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Y.H=c===null||c.memoizedState===null?cR:uR,Yc=!1,b=d(m,_),Yc=!1,Ff&&(b=ID(f,d,m,_)),CD(c),b}function CD(c){Y.H=m1;var f=Jt!==null&&Jt.next!==null;if(nl=0,Wn=Jt=ot=null,c1=!1,Sp=0,Uf=null,f)throw Error(r(300));c===null||hr||(c=c.dependencies,c!==null&&r1(c)&&(hr=!0))}function ID(c,f,d,m){ot=c;var _=0;do{if(Ff&&(Uf=null),Sp=0,Ff=!1,25<=_)throw Error(r(301));if(_+=1,Wn=Jt=null,c.updateQueue!=null){var b=c.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Y.H=wj,b=f(d,m)}while(Ff);return b}function pj(){var c=Y.H,f=c.useState()[0];return f=typeof f.then=="function"?Tp(f):f,c=c.useState()[0],(Jt!==null?Jt.memoizedState:null)!==c&&(ot.flags|=1024),f}function Ex(){var c=u1!==0;return u1=0,c}function Ax(c,f,d){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~d}function Sx(c){if(c1){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}c1=!1}nl=0,Wn=Jt=ot=null,Ff=!1,Sp=u1=0,Uf=null}function di(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?ot.memoizedState=Wn=c:Wn=Wn.next=c,Wn}function Yn(){if(Jt===null){var c=ot.alternate;c=c!==null?c.memoizedState:null}else c=Jt.next;var f=Wn===null?ot.memoizedState:Wn.next;if(f!==null)Wn=f,Jt=c;else{if(c===null)throw ot.alternate===null?Error(r(467)):Error(r(310));Jt=c,c={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Wn===null?ot.memoizedState=Wn=c:Wn=Wn.next=c}return Wn}function Tx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tp(c){var f=Sp;return Sp+=1,Uf===null&&(Uf=[]),c=xD(Uf,c,f),f=ot,(Wn===null?f.memoizedState:Wn.next)===null&&(f=f.alternate,Y.H=f===null||f.memoizedState===null?cR:uR),c}function f1(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Tp(c);if(c.$$typeof===I)return Vr(c)}throw Error(r(438,String(c)))}function Cx(c){var f=null,d=ot.updateQueue;if(d!==null&&(f=d.memoCache),f==null){var m=ot.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(f={data:m.data.map(function(_){return _.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),d===null&&(d=Tx(),ot.updateQueue=d),d.memoCache=f,d=f.data[f.index],d===void 0)for(d=f.data[f.index]=Array(c),m=0;m<c;m++)d[m]=L;return f.index++,d}function lo(c,f){return typeof f=="function"?f(c):f}function h1(c){var f=Yn();return Ix(f,Jt,c)}function Ix(c,f,d){var m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var _=c.baseQueue,b=m.pending;if(b!==null){if(_!==null){var k=_.next;_.next=b.next,b.next=k}f.baseQueue=_=b,m.pending=null}if(b=c.baseState,_===null)c.memoizedState=b;else{f=_.next;var j=k=null,$=null,re=f,ge=!1;do{var _e=re.lane&-536870913;if(_e!==re.lane?(Et&_e)===_e:(nl&_e)===_e){var se=re.revertLane;if(se===0)$!==null&&($=$.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),_e===Lf&&(ge=!0);else if((nl&se)===se){re=re.next,se===Lf&&(ge=!0);continue}else _e={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},$===null?(j=$=_e,k=b):$=$.next=_e,ot.lanes|=se,cl|=se;_e=re.action,Yc&&d(b,_e),b=re.hasEagerState?re.eagerState:d(b,_e)}else se={lane:_e,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},$===null?(j=$=se,k=b):$=$.next=se,ot.lanes|=_e,cl|=_e;re=re.next}while(re!==null&&re!==f);if($===null?k=b:$.next=j,!Ii(b,c.memoizedState)&&(hr=!0,ge&&(d=Vf,d!==null)))throw d;c.memoizedState=b,c.baseState=k,c.baseQueue=$,m.lastRenderedState=b}return _===null&&(m.lanes=0),[c.memoizedState,m.dispatch]}function Dx(c){var f=Yn(),d=f.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var m=d.dispatch,_=d.pending,b=f.memoizedState;if(_!==null){d.pending=null;var k=_=_.next;do b=c(b,k.action),k=k.next;while(k!==_);Ii(b,f.memoizedState)||(hr=!0),f.memoizedState=b,f.baseQueue===null&&(f.baseState=b),d.lastRenderedState=b}return[b,m]}function DD(c,f,d){var m=ot,_=Yn(),b=Ot;if(b){if(d===void 0)throw Error(r(407));d=d()}else d=f();var k=!Ii((Jt||_).memoizedState,d);k&&(_.memoizedState=d,hr=!0),_=_.queue;var j=ND.bind(null,m,_,c);if(Cp(2048,8,j,[c]),_.getSnapshot!==f||k||Wn!==null&&Wn.memoizedState.tag&1){if(m.flags|=2048,jf(9,d1(),OD.bind(null,m,_,d,f),null),ln===null)throw Error(r(349));b||(nl&124)!==0||RD(m,f,d)}return d}function RD(c,f,d){c.flags|=16384,c={getSnapshot:f,value:d},f=ot.updateQueue,f===null?(f=Tx(),ot.updateQueue=f,f.stores=[c]):(d=f.stores,d===null?f.stores=[c]:d.push(c))}function OD(c,f,d,m){f.value=d,f.getSnapshot=m,MD(f)&&PD(c)}function ND(c,f,d){return d(function(){MD(f)&&PD(c)})}function MD(c){var f=c.getSnapshot;c=c.value;try{var d=f();return!Ii(c,d)}catch{return!0}}function PD(c){var f=Nf(c,2);f!==null&&Pi(f,c,2)}function Rx(c){var f=di();if(typeof c=="function"){var d=c;if(c=d(),Yc){cr(!0);try{d()}finally{cr(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:c},f}function kD(c,f,d,m){return c.baseState=d,Ix(c,Jt,typeof m=="function"?m:lo)}function gj(c,f,d,m,_){if(g1(c))throw Error(r(485));if(c=f.action,c!==null){var b={payload:_,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};Y.T!==null?d(!0):b.isTransition=!1,m(b),d=f.pending,d===null?(b.next=f.pending=b,LD(f,b)):(b.next=d.next,f.pending=d.next=b)}}function LD(c,f){var d=f.action,m=f.payload,_=c.state;if(f.isTransition){var b=Y.T,k={};Y.T=k;try{var j=d(_,m),$=Y.S;$!==null&&$(k,j),VD(c,f,j)}catch(re){Ox(c,f,re)}finally{Y.T=b}}else try{b=d(_,m),VD(c,f,b)}catch(re){Ox(c,f,re)}}function VD(c,f,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){BD(c,f,m)},function(m){return Ox(c,f,m)}):BD(c,f,d)}function BD(c,f,d){f.status="fulfilled",f.value=d,FD(f),c.state=d,f=c.pending,f!==null&&(d=f.next,d===f?c.pending=null:(d=d.next,f.next=d,LD(c,d)))}function Ox(c,f,d){var m=c.pending;if(c.pending=null,m!==null){m=m.next;do f.status="rejected",f.reason=d,FD(f),f=f.next;while(f!==m)}c.action=null}function FD(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function UD(c,f){return f}function jD(c,f){if(Ot){var d=ln.formState;if(d!==null){e:{var m=ot;if(Ot){if(Sn){t:{for(var _=Sn,b=sa;_.nodeType!==8;){if(!b){_=null;break t}if(_=Os(_.nextSibling),_===null){_=null;break t}}b=_.data,_=b==="F!"||b==="F"?_:null}if(_){Sn=Os(_.nextSibling),m=_.data==="F!";break e}}jc(m)}m=!1}m&&(f=d[0])}}return d=di(),d.memoizedState=d.baseState=f,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:UD,lastRenderedState:f},d.queue=m,d=aR.bind(null,ot,m),m.dispatch=d,m=Rx(!1),b=Lx.bind(null,ot,!1,m.queue),m=di(),_={state:f,dispatch:null,action:c,pending:null},m.queue=_,d=gj.bind(null,ot,_,b,d),_.dispatch=d,m.memoizedState=c,[f,d,!1]}function HD(c){var f=Yn();return zD(f,Jt,c)}function zD(c,f,d){if(f=Ix(c,f,UD)[0],c=h1(lo)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var m=Tp(f)}catch(k){throw k===wp?a1:k}else m=f;f=Yn();var _=f.queue,b=_.dispatch;return d!==f.memoizedState&&(ot.flags|=2048,jf(9,d1(),mj.bind(null,_,d),null)),[m,b,c]}function mj(c,f){c.action=f}function WD(c){var f=Yn(),d=Jt;if(d!==null)return zD(f,d,c);Yn(),f=f.memoizedState,d=Yn();var m=d.queue.dispatch;return d.memoizedState=c,[f,m,!1]}function jf(c,f,d,m){return c={tag:c,create:d,deps:m,inst:f,next:null},f=ot.updateQueue,f===null&&(f=Tx(),ot.updateQueue=f),d=f.lastEffect,d===null?f.lastEffect=c.next=c:(m=d.next,d.next=c,c.next=m,f.lastEffect=c),c}function d1(){return{destroy:void 0,resource:void 0}}function YD(){return Yn().memoizedState}function p1(c,f,d,m){var _=di();m=m===void 0?null:m,ot.flags|=c,_.memoizedState=jf(1|f,d1(),d,m)}function Cp(c,f,d,m){var _=Yn();m=m===void 0?null:m;var b=_.memoizedState.inst;Jt!==null&&m!==null&&xx(m,Jt.memoizedState.deps)?_.memoizedState=jf(f,b,d,m):(ot.flags|=c,_.memoizedState=jf(1|f,b,d,m))}function $D(c,f){p1(8390656,8,c,f)}function GD(c,f){Cp(2048,8,c,f)}function qD(c,f){return Cp(4,2,c,f)}function KD(c,f){return Cp(4,4,c,f)}function XD(c,f){if(typeof f=="function"){c=c();var d=f(c);return function(){typeof d=="function"?d():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function QD(c,f,d){d=d!=null?d.concat([c]):null,Cp(4,4,XD.bind(null,f,c),d)}function Nx(){}function ZD(c,f){var d=Yn();f=f===void 0?null:f;var m=d.memoizedState;return f!==null&&xx(f,m[1])?m[0]:(d.memoizedState=[c,f],c)}function JD(c,f){var d=Yn();f=f===void 0?null:f;var m=d.memoizedState;if(f!==null&&xx(f,m[1]))return m[0];if(m=c(),Yc){cr(!0);try{c()}finally{cr(!1)}}return d.memoizedState=[m,f],m}function Mx(c,f,d){return d===void 0||(nl&1073741824)!==0?c.memoizedState=f:(c.memoizedState=d,c=nO(),ot.lanes|=c,cl|=c,d)}function eR(c,f,d,m){return Ii(d,f)?d:Bf.current!==null?(c=Mx(c,d,m),Ii(c,f)||(hr=!0),c):(nl&42)===0?(hr=!0,c.memoizedState=d):(c=nO(),ot.lanes|=c,cl|=c,f)}function tR(c,f,d,m,_){var b=X.p;X.p=b!==0&&8>b?b:8;var k=Y.T,j={};Y.T=j,Lx(c,!1,f,d);try{var $=_(),re=Y.S;if(re!==null&&re(j,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ge=hj($,m);Ip(c,f,ge,Mi(c))}else Ip(c,f,m,Mi(c))}catch(_e){Ip(c,f,{then:function(){},status:"rejected",reason:_e},Mi())}finally{X.p=b,Y.T=k}}function vj(){}function Px(c,f,d,m){if(c.tag!==5)throw Error(r(476));var _=nR(c).queue;tR(c,_,f,oe,d===null?vj:function(){return rR(c),d(m)})}function nR(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:oe},next:null};var d={};return f.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:d},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function rR(c){var f=nR(c).next.queue;Ip(c,f,{},Mi())}function kx(){return Vr($p)}function iR(){return Yn().memoizedState}function sR(){return Yn().memoizedState}function yj(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var d=Mi();c=el(d);var m=tl(f,c,d);m!==null&&(Pi(m,f,d),bp(m,f,d)),f={cache:fx()},c.payload=f;return}f=f.return}}function _j(c,f,d){var m=Mi();d={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},g1(c)?oR(f,d):(d=tx(c,f,d,m),d!==null&&(Pi(d,c,m),lR(d,f,m)))}function aR(c,f,d){var m=Mi();Ip(c,f,d,m)}function Ip(c,f,d,m){var _={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(g1(c))oR(f,_);else{var b=c.alternate;if(c.lanes===0&&(b===null||b.lanes===0)&&(b=f.lastRenderedReducer,b!==null))try{var k=f.lastRenderedState,j=b(k,d);if(_.hasEagerState=!0,_.eagerState=j,Ii(j,k))return Z0(c,f,_,0),ln===null&&Q0(),!1}catch{}finally{}if(d=tx(c,f,_,m),d!==null)return Pi(d,c,m),lR(d,f,m),!0}return!1}function Lx(c,f,d,m){if(m={lane:2,revertLane:pb(),action:m,hasEagerState:!1,eagerState:null,next:null},g1(c)){if(f)throw Error(r(479))}else f=tx(c,d,m,2),f!==null&&Pi(f,c,2)}function g1(c){var f=c.alternate;return c===ot||f!==null&&f===ot}function oR(c,f){Ff=c1=!0;var d=c.pending;d===null?f.next=f:(f.next=d.next,d.next=f),c.pending=f}function lR(c,f,d){if((d&4194048)!==0){var m=f.lanes;m&=c.pendingLanes,d|=m,f.lanes=d,Xd(c,d)}}var m1={readContext:Vr,use:f1,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useInsertionEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useSyncExternalStore:Nn,useId:Nn,useHostTransitionStatus:Nn,useFormState:Nn,useActionState:Nn,useOptimistic:Nn,useMemoCache:Nn,useCacheRefresh:Nn},cR={readContext:Vr,use:f1,useCallback:function(c,f){return di().memoizedState=[c,f===void 0?null:f],c},useContext:Vr,useEffect:$D,useImperativeHandle:function(c,f,d){d=d!=null?d.concat([c]):null,p1(4194308,4,XD.bind(null,f,c),d)},useLayoutEffect:function(c,f){return p1(4194308,4,c,f)},useInsertionEffect:function(c,f){p1(4,2,c,f)},useMemo:function(c,f){var d=di();f=f===void 0?null:f;var m=c();if(Yc){cr(!0);try{c()}finally{cr(!1)}}return d.memoizedState=[m,f],m},useReducer:function(c,f,d){var m=di();if(d!==void 0){var _=d(f);if(Yc){cr(!0);try{d(f)}finally{cr(!1)}}}else _=f;return m.memoizedState=m.baseState=_,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:_},m.queue=c,c=c.dispatch=_j.bind(null,ot,c),[m.memoizedState,c]},useRef:function(c){var f=di();return c={current:c},f.memoizedState=c},useState:function(c){c=Rx(c);var f=c.queue,d=aR.bind(null,ot,f);return f.dispatch=d,[c.memoizedState,d]},useDebugValue:Nx,useDeferredValue:function(c,f){var d=di();return Mx(d,c,f)},useTransition:function(){var c=Rx(!1);return c=tR.bind(null,ot,c.queue,!0,!1),di().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,d){var m=ot,_=di();if(Ot){if(d===void 0)throw Error(r(407));d=d()}else{if(d=f(),ln===null)throw Error(r(349));(Et&124)!==0||RD(m,f,d)}_.memoizedState=d;var b={value:d,getSnapshot:f};return _.queue=b,$D(ND.bind(null,m,b,c),[c]),m.flags|=2048,jf(9,d1(),OD.bind(null,m,b,d,f),null),d},useId:function(){var c=di(),f=ln.identifierPrefix;if(Ot){var d=so,m=io;d=(m&~(1<<32-jn(m)-1)).toString(32)+d,f=""+f+"R"+d,d=u1++,0<d&&(f+="H"+d.toString(32)),f+=""}else d=dj++,f=""+f+"r"+d.toString(32)+"";return c.memoizedState=f},useHostTransitionStatus:kx,useFormState:jD,useActionState:jD,useOptimistic:function(c){var f=di();f.memoizedState=f.baseState=c;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=d,f=Lx.bind(null,ot,!0,d),d.dispatch=f,[c,f]},useMemoCache:Cx,useCacheRefresh:function(){return di().memoizedState=yj.bind(null,ot)}},uR={readContext:Vr,use:f1,useCallback:ZD,useContext:Vr,useEffect:GD,useImperativeHandle:QD,useInsertionEffect:qD,useLayoutEffect:KD,useMemo:JD,useReducer:h1,useRef:YD,useState:function(){return h1(lo)},useDebugValue:Nx,useDeferredValue:function(c,f){var d=Yn();return eR(d,Jt.memoizedState,c,f)},useTransition:function(){var c=h1(lo)[0],f=Yn().memoizedState;return[typeof c=="boolean"?c:Tp(c),f]},useSyncExternalStore:DD,useId:iR,useHostTransitionStatus:kx,useFormState:HD,useActionState:HD,useOptimistic:function(c,f){var d=Yn();return kD(d,Jt,c,f)},useMemoCache:Cx,useCacheRefresh:sR},wj={readContext:Vr,use:f1,useCallback:ZD,useContext:Vr,useEffect:GD,useImperativeHandle:QD,useInsertionEffect:qD,useLayoutEffect:KD,useMemo:JD,useReducer:Dx,useRef:YD,useState:function(){return Dx(lo)},useDebugValue:Nx,useDeferredValue:function(c,f){var d=Yn();return Jt===null?Mx(d,c,f):eR(d,Jt.memoizedState,c,f)},useTransition:function(){var c=Dx(lo)[0],f=Yn().memoizedState;return[typeof c=="boolean"?c:Tp(c),f]},useSyncExternalStore:DD,useId:iR,useHostTransitionStatus:kx,useFormState:WD,useActionState:WD,useOptimistic:function(c,f){var d=Yn();return Jt!==null?kD(d,Jt,c,f):(d.baseState=c,[c,d.queue.dispatch])},useMemoCache:Cx,useCacheRefresh:sR},Hf=null,Dp=0;function v1(c){var f=Dp;return Dp+=1,Hf===null&&(Hf=[]),xD(Hf,c,f)}function Rp(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function y1(c,f){throw f.$$typeof===p?Error(r(525)):(c=Object.prototype.toString.call(f),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function fR(c){var f=c._init;return f(c._payload)}function hR(c){function f(Z,K){if(c){var te=Z.deletions;te===null?(Z.deletions=[K],Z.flags|=16):te.push(K)}}function d(Z,K){if(!c)return null;for(;K!==null;)f(Z,K),K=K.sibling;return null}function m(Z){for(var K=new Map;Z!==null;)Z.key!==null?K.set(Z.key,Z):K.set(Z.index,Z),Z=Z.sibling;return K}function _(Z,K){return Z=ro(Z,K),Z.index=0,Z.sibling=null,Z}function b(Z,K,te){return Z.index=te,c?(te=Z.alternate,te!==null?(te=te.index,te<K?(Z.flags|=67108866,K):te):(Z.flags|=67108866,K)):(Z.flags|=1048576,K)}function k(Z){return c&&Z.alternate===null&&(Z.flags|=67108866),Z}function j(Z,K,te,me){return K===null||K.tag!==6?(K=rx(te,Z.mode,me),K.return=Z,K):(K=_(K,te),K.return=Z,K)}function $(Z,K,te,me){var Le=te.type;return Le===w?ge(Z,K,te.props.children,me,te.key):K!==null&&(K.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===C&&fR(Le)===K.type)?(K=_(K,te.props),Rp(K,te),K.return=Z,K):(K=e1(te.type,te.key,te.props,null,Z.mode,me),Rp(K,te),K.return=Z,K)}function re(Z,K,te,me){return K===null||K.tag!==4||K.stateNode.containerInfo!==te.containerInfo||K.stateNode.implementation!==te.implementation?(K=ix(te,Z.mode,me),K.return=Z,K):(K=_(K,te.children||[]),K.return=Z,K)}function ge(Z,K,te,me,Le){return K===null||K.tag!==7?(K=Vc(te,Z.mode,me,Le),K.return=Z,K):(K=_(K,te),K.return=Z,K)}function _e(Z,K,te){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=rx(""+K,Z.mode,te),K.return=Z,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case g:return te=e1(K.type,K.key,K.props,null,Z.mode,te),Rp(te,K),te.return=Z,te;case v:return K=ix(K,Z.mode,te),K.return=Z,K;case C:var me=K._init;return K=me(K._payload),_e(Z,K,te)}if(fe(K)||H(K))return K=Vc(K,Z.mode,te,null),K.return=Z,K;if(typeof K.then=="function")return _e(Z,v1(K),te);if(K.$$typeof===I)return _e(Z,i1(Z,K),te);y1(Z,K)}return null}function se(Z,K,te,me){var Le=K!==null?K.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Le!==null?null:j(Z,K,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case g:return te.key===Le?$(Z,K,te,me):null;case v:return te.key===Le?re(Z,K,te,me):null;case C:return Le=te._init,te=Le(te._payload),se(Z,K,te,me)}if(fe(te)||H(te))return Le!==null?null:ge(Z,K,te,me,null);if(typeof te.then=="function")return se(Z,K,v1(te),me);if(te.$$typeof===I)return se(Z,K,i1(Z,te),me);y1(Z,te)}return null}function le(Z,K,te,me,Le){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Z=Z.get(te)||null,j(K,Z,""+me,Le);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case g:return Z=Z.get(me.key===null?te:me.key)||null,$(K,Z,me,Le);case v:return Z=Z.get(me.key===null?te:me.key)||null,re(K,Z,me,Le);case C:var ht=me._init;return me=ht(me._payload),le(Z,K,te,me,Le)}if(fe(me)||H(me))return Z=Z.get(te)||null,ge(K,Z,me,Le,null);if(typeof me.then=="function")return le(Z,K,te,v1(me),Le);if(me.$$typeof===I)return le(Z,K,te,i1(K,me),Le);y1(K,me)}return null}function Ze(Z,K,te,me){for(var Le=null,ht=null,He=K,Xe=K=0,pr=null;He!==null&&Xe<te.length;Xe++){He.index>Xe?(pr=He,He=null):pr=He.sibling;var Dt=se(Z,He,te[Xe],me);if(Dt===null){He===null&&(He=pr);break}c&&He&&Dt.alternate===null&&f(Z,He),K=b(Dt,K,Xe),ht===null?Le=Dt:ht.sibling=Dt,ht=Dt,He=pr}if(Xe===te.length)return d(Z,He),Ot&&Fc(Z,Xe),Le;if(He===null){for(;Xe<te.length;Xe++)He=_e(Z,te[Xe],me),He!==null&&(K=b(He,K,Xe),ht===null?Le=He:ht.sibling=He,ht=He);return Ot&&Fc(Z,Xe),Le}for(He=m(He);Xe<te.length;Xe++)pr=le(He,Z,Xe,te[Xe],me),pr!==null&&(c&&pr.alternate!==null&&He.delete(pr.key===null?Xe:pr.key),K=b(pr,K,Xe),ht===null?Le=pr:ht.sibling=pr,ht=pr);return c&&He.forEach(function(yl){return f(Z,yl)}),Ot&&Fc(Z,Xe),Le}function qe(Z,K,te,me){if(te==null)throw Error(r(151));for(var Le=null,ht=null,He=K,Xe=K=0,pr=null,Dt=te.next();He!==null&&!Dt.done;Xe++,Dt=te.next()){He.index>Xe?(pr=He,He=null):pr=He.sibling;var yl=se(Z,He,Dt.value,me);if(yl===null){He===null&&(He=pr);break}c&&He&&yl.alternate===null&&f(Z,He),K=b(yl,K,Xe),ht===null?Le=yl:ht.sibling=yl,ht=yl,He=pr}if(Dt.done)return d(Z,He),Ot&&Fc(Z,Xe),Le;if(He===null){for(;!Dt.done;Xe++,Dt=te.next())Dt=_e(Z,Dt.value,me),Dt!==null&&(K=b(Dt,K,Xe),ht===null?Le=Dt:ht.sibling=Dt,ht=Dt);return Ot&&Fc(Z,Xe),Le}for(He=m(He);!Dt.done;Xe++,Dt=te.next())Dt=le(He,Z,Xe,Dt.value,me),Dt!==null&&(c&&Dt.alternate!==null&&He.delete(Dt.key===null?Xe:Dt.key),K=b(Dt,K,Xe),ht===null?Le=Dt:ht.sibling=Dt,ht=Dt);return c&&He.forEach(function(xH){return f(Z,xH)}),Ot&&Fc(Z,Xe),Le}function tn(Z,K,te,me){if(typeof te=="object"&&te!==null&&te.type===w&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case g:e:{for(var Le=te.key;K!==null;){if(K.key===Le){if(Le=te.type,Le===w){if(K.tag===7){d(Z,K.sibling),me=_(K,te.props.children),me.return=Z,Z=me;break e}}else if(K.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===C&&fR(Le)===K.type){d(Z,K.sibling),me=_(K,te.props),Rp(me,te),me.return=Z,Z=me;break e}d(Z,K);break}else f(Z,K);K=K.sibling}te.type===w?(me=Vc(te.props.children,Z.mode,me,te.key),me.return=Z,Z=me):(me=e1(te.type,te.key,te.props,null,Z.mode,me),Rp(me,te),me.return=Z,Z=me)}return k(Z);case v:e:{for(Le=te.key;K!==null;){if(K.key===Le)if(K.tag===4&&K.stateNode.containerInfo===te.containerInfo&&K.stateNode.implementation===te.implementation){d(Z,K.sibling),me=_(K,te.children||[]),me.return=Z,Z=me;break e}else{d(Z,K);break}else f(Z,K);K=K.sibling}me=ix(te,Z.mode,me),me.return=Z,Z=me}return k(Z);case C:return Le=te._init,te=Le(te._payload),tn(Z,K,te,me)}if(fe(te))return Ze(Z,K,te,me);if(H(te)){if(Le=H(te),typeof Le!="function")throw Error(r(150));return te=Le.call(te),qe(Z,K,te,me)}if(typeof te.then=="function")return tn(Z,K,v1(te),me);if(te.$$typeof===I)return tn(Z,K,i1(Z,te),me);y1(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,K!==null&&K.tag===6?(d(Z,K.sibling),me=_(K,te),me.return=Z,Z=me):(d(Z,K),me=rx(te,Z.mode,me),me.return=Z,Z=me),k(Z)):d(Z,K)}return function(Z,K,te,me){try{Dp=0;var Le=tn(Z,K,te,me);return Hf=null,Le}catch(He){if(He===wp||He===a1)throw He;var ht=Di(29,He,null,Z.mode);return ht.lanes=me,ht.return=Z,ht}finally{}}}var zf=hR(!0),dR=hR(!1),ns=q(null),aa=null;function rl(c){var f=c.alternate;ne(Jn,Jn.current&1),ne(ns,c),aa===null&&(f===null||Bf.current!==null||f.memoizedState!==null)&&(aa=c)}function pR(c){if(c.tag===22){if(ne(Jn,Jn.current),ne(ns,c),aa===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(aa=c)}}else il()}function il(){ne(Jn,Jn.current),ne(ns,ns.current)}function co(c){ce(ns),aa===c&&(aa=null),ce(Jn)}var Jn=q(0);function _1(c){for(var f=c;f!==null;){if(f.tag===13){var d=f.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||Tb(d)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Vx(c,f,d,m){f=c.memoizedState,d=d(m,f),d=d==null?f:h({},f,d),c.memoizedState=d,c.lanes===0&&(c.updateQueue.baseState=d)}var Bx={enqueueSetState:function(c,f,d){c=c._reactInternals;var m=Mi(),_=el(m);_.payload=f,d!=null&&(_.callback=d),f=tl(c,_,m),f!==null&&(Pi(f,c,m),bp(f,c,m))},enqueueReplaceState:function(c,f,d){c=c._reactInternals;var m=Mi(),_=el(m);_.tag=1,_.payload=f,d!=null&&(_.callback=d),f=tl(c,_,m),f!==null&&(Pi(f,c,m),bp(f,c,m))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var d=Mi(),m=el(d);m.tag=2,f!=null&&(m.callback=f),f=tl(c,m,d),f!==null&&(Pi(f,c,d),bp(f,c,d))}};function gR(c,f,d,m,_,b,k){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(m,b,k):f.prototype&&f.prototype.isPureReactComponent?!hp(d,m)||!hp(_,b):!0}function mR(c,f,d,m){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(d,m),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(d,m),f.state!==c&&Bx.enqueueReplaceState(f,f.state,null)}function $c(c,f){var d=f;if("ref"in f){d={};for(var m in f)m!=="ref"&&(d[m]=f[m])}if(c=c.defaultProps){d===f&&(d=h({},d));for(var _ in c)d[_]===void 0&&(d[_]=c[_])}return d}var w1=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function vR(c){w1(c)}function yR(c){console.error(c)}function _R(c){w1(c)}function x1(c,f){try{var d=c.onUncaughtError;d(f.value,{componentStack:f.stack})}catch(m){setTimeout(function(){throw m})}}function wR(c,f,d){try{var m=c.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Fx(c,f,d){return d=el(d),d.tag=3,d.payload={element:null},d.callback=function(){x1(c,f)},d}function xR(c){return c=el(c),c.tag=3,c}function bR(c,f,d,m){var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var b=m.value;c.payload=function(){return _(b)},c.callback=function(){wR(f,d,m)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(c.callback=function(){wR(f,d,m),typeof _!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var j=m.stack;this.componentDidCatch(m.value,{componentStack:j!==null?j:""})})}function xj(c,f,d,m,_){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(f=d.alternate,f!==null&&vp(f,d,_,!0),d=ns.current,d!==null){switch(d.tag){case 13:return aa===null?cb():d.alternate===null&&Tn===0&&(Tn=3),d.flags&=-257,d.flags|=65536,d.lanes=_,m===px?d.flags|=16384:(f=d.updateQueue,f===null?d.updateQueue=new Set([m]):f.add(m),fb(c,m,_)),!1;case 22:return d.flags|=65536,m===px?d.flags|=16384:(f=d.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=f):(d=f.retryQueue,d===null?f.retryQueue=new Set([m]):d.add(m)),fb(c,m,_)),!1}throw Error(r(435,d.tag))}return fb(c,m,_),cb(),!1}if(Ot)return f=ns.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=_,m!==ox&&(c=Error(r(422),{cause:m}),mp(Zi(c,d)))):(m!==ox&&(f=Error(r(423),{cause:m}),mp(Zi(f,d))),c=c.current.alternate,c.flags|=65536,_&=-_,c.lanes|=_,m=Zi(m,d),_=Fx(c.stateNode,m,_),vx(c,_),Tn!==4&&(Tn=2)),!1;var b=Error(r(520),{cause:m});if(b=Zi(b,d),Vp===null?Vp=[b]:Vp.push(b),Tn!==4&&(Tn=2),f===null)return!0;m=Zi(m,d),d=f;do{switch(d.tag){case 3:return d.flags|=65536,c=_&-_,d.lanes|=c,c=Fx(d.stateNode,m,c),vx(d,c),!1;case 1:if(f=d.type,b=d.stateNode,(d.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ul===null||!ul.has(b))))return d.flags|=65536,_&=-_,d.lanes|=_,_=xR(_),bR(_,c,d,m),vx(d,_),!1}d=d.return}while(d!==null);return!1}var ER=Error(r(461)),hr=!1;function Tr(c,f,d,m){f.child=c===null?dR(f,null,d,m):zf(f,c.child,d,m)}function AR(c,f,d,m,_){d=d.render;var b=f.ref;if("ref"in m){var k={};for(var j in m)j!=="ref"&&(k[j]=m[j])}else k=m;return zc(f),m=bx(c,f,d,k,b,_),j=Ex(),c!==null&&!hr?(Ax(c,f,_),uo(c,f,_)):(Ot&&j&&sx(f),f.flags|=1,Tr(c,f,m,_),f.child)}function SR(c,f,d,m,_){if(c===null){var b=d.type;return typeof b=="function"&&!nx(b)&&b.defaultProps===void 0&&d.compare===null?(f.tag=15,f.type=b,TR(c,f,b,m,_)):(c=e1(d.type,null,m,f,f.mode,_),c.ref=f.ref,c.return=f,f.child=c)}if(b=c.child,!Gx(c,_)){var k=b.memoizedProps;if(d=d.compare,d=d!==null?d:hp,d(k,m)&&c.ref===f.ref)return uo(c,f,_)}return f.flags|=1,c=ro(b,m),c.ref=f.ref,c.return=f,f.child=c}function TR(c,f,d,m,_){if(c!==null){var b=c.memoizedProps;if(hp(b,m)&&c.ref===f.ref)if(hr=!1,f.pendingProps=m=b,Gx(c,_))(c.flags&131072)!==0&&(hr=!0);else return f.lanes=c.lanes,uo(c,f,_)}return Ux(c,f,d,m,_)}function CR(c,f,d){var m=f.pendingProps,_=m.children,b=c!==null?c.memoizedState:null;if(m.mode==="hidden"){if((f.flags&128)!==0){if(m=b!==null?b.baseLanes|d:d,c!==null){for(_=f.child=c.child,b=0;_!==null;)b=b|_.lanes|_.childLanes,_=_.sibling;f.childLanes=b&~m}else f.childLanes=0,f.child=null;return IR(c,f,m,d)}if((d&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&s1(f,b!==null?b.cachePool:null),b!==null?TD(f,b):_x(),pR(f);else return f.lanes=f.childLanes=536870912,IR(c,f,b!==null?b.baseLanes|d:d,d)}else b!==null?(s1(f,b.cachePool),TD(f,b),il(),f.memoizedState=null):(c!==null&&s1(f,null),_x(),il());return Tr(c,f,_,d),f.child}function IR(c,f,d,m){var _=dx();return _=_===null?null:{parent:Zn._currentValue,pool:_},f.memoizedState={baseLanes:d,cachePool:_},c!==null&&s1(f,null),_x(),pR(f),c!==null&&vp(c,f,m,!0),null}function b1(c,f){var d=f.ref;if(d===null)c!==null&&c.ref!==null&&(f.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(c===null||c.ref!==d)&&(f.flags|=4194816)}}function Ux(c,f,d,m,_){return zc(f),d=bx(c,f,d,m,void 0,_),m=Ex(),c!==null&&!hr?(Ax(c,f,_),uo(c,f,_)):(Ot&&m&&sx(f),f.flags|=1,Tr(c,f,d,_),f.child)}function DR(c,f,d,m,_,b){return zc(f),f.updateQueue=null,d=ID(f,m,d,_),CD(c),m=Ex(),c!==null&&!hr?(Ax(c,f,b),uo(c,f,b)):(Ot&&m&&sx(f),f.flags|=1,Tr(c,f,d,b),f.child)}function RR(c,f,d,m,_){if(zc(f),f.stateNode===null){var b=Mf,k=d.contextType;typeof k=="object"&&k!==null&&(b=Vr(k)),b=new d(m,b),f.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Bx,f.stateNode=b,b._reactInternals=f,b=f.stateNode,b.props=m,b.state=f.memoizedState,b.refs={},gx(f),k=d.contextType,b.context=typeof k=="object"&&k!==null?Vr(k):Mf,b.state=f.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(Vx(f,d,k,m),b.state=f.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&Bx.enqueueReplaceState(b,b.state,null),Ap(f,m,b,_),Ep(),b.state=f.memoizedState),typeof b.componentDidMount=="function"&&(f.flags|=4194308),m=!0}else if(c===null){b=f.stateNode;var j=f.memoizedProps,$=$c(d,j);b.props=$;var re=b.context,ge=d.contextType;k=Mf,typeof ge=="object"&&ge!==null&&(k=Vr(ge));var _e=d.getDerivedStateFromProps;ge=typeof _e=="function"||typeof b.getSnapshotBeforeUpdate=="function",j=f.pendingProps!==j,ge||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j||re!==k)&&mR(f,b,m,k),Jo=!1;var se=f.memoizedState;b.state=se,Ap(f,m,b,_),Ep(),re=f.memoizedState,j||se!==re||Jo?(typeof _e=="function"&&(Vx(f,d,_e,m),re=f.memoizedState),($=Jo||gR(f,d,$,m,se,re,k))?(ge||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(f.flags|=4194308)):(typeof b.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=m,f.memoizedState=re),b.props=m,b.state=re,b.context=k,m=$):(typeof b.componentDidMount=="function"&&(f.flags|=4194308),m=!1)}else{b=f.stateNode,mx(c,f),k=f.memoizedProps,ge=$c(d,k),b.props=ge,_e=f.pendingProps,se=b.context,re=d.contextType,$=Mf,typeof re=="object"&&re!==null&&($=Vr(re)),j=d.getDerivedStateFromProps,(re=typeof j=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==_e||se!==$)&&mR(f,b,m,$),Jo=!1,se=f.memoizedState,b.state=se,Ap(f,m,b,_),Ep();var le=f.memoizedState;k!==_e||se!==le||Jo||c!==null&&c.dependencies!==null&&r1(c.dependencies)?(typeof j=="function"&&(Vx(f,d,j,m),le=f.memoizedState),(ge=Jo||gR(f,d,ge,m,se,le,$)||c!==null&&c.dependencies!==null&&r1(c.dependencies))?(re||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,le,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,le,$)),typeof b.componentDidUpdate=="function"&&(f.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===c.memoizedProps&&se===c.memoizedState||(f.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===c.memoizedProps&&se===c.memoizedState||(f.flags|=1024),f.memoizedProps=m,f.memoizedState=le),b.props=m,b.state=le,b.context=$,m=ge):(typeof b.componentDidUpdate!="function"||k===c.memoizedProps&&se===c.memoizedState||(f.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===c.memoizedProps&&se===c.memoizedState||(f.flags|=1024),m=!1)}return b=m,b1(c,f),m=(f.flags&128)!==0,b||m?(b=f.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:b.render(),f.flags|=1,c!==null&&m?(f.child=zf(f,c.child,null,_),f.child=zf(f,null,d,_)):Tr(c,f,d,_),f.memoizedState=b.state,c=f.child):c=uo(c,f,_),c}function OR(c,f,d,m){return gp(),f.flags|=256,Tr(c,f,d,m),f.child}var jx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hx(c){return{baseLanes:c,cachePool:yD()}}function zx(c,f,d){return c=c!==null?c.childLanes&~d:0,f&&(c|=rs),c}function NR(c,f,d){var m=f.pendingProps,_=!1,b=(f.flags&128)!==0,k;if((k=b)||(k=c!==null&&c.memoizedState===null?!1:(Jn.current&2)!==0),k&&(_=!0,f.flags&=-129),k=(f.flags&32)!==0,f.flags&=-33,c===null){if(Ot){if(_?rl(f):il(),Ot){var j=Sn,$;if($=j){e:{for($=j,j=sa;$.nodeType!==8;){if(!j){j=null;break e}if($=Os($.nextSibling),$===null){j=null;break e}}j=$}j!==null?(f.memoizedState={dehydrated:j,treeContext:Bc!==null?{id:io,overflow:so}:null,retryLane:536870912,hydrationErrors:null},$=Di(18,null,null,0),$.stateNode=j,$.return=f,f.child=$,ei=f,Sn=null,$=!0):$=!1}$||jc(f)}if(j=f.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Tb(j)?f.lanes=32:f.lanes=536870912,null;co(f)}return j=m.children,m=m.fallback,_?(il(),_=f.mode,j=E1({mode:"hidden",children:j},_),m=Vc(m,_,d,null),j.return=f,m.return=f,j.sibling=m,f.child=j,_=f.child,_.memoizedState=Hx(d),_.childLanes=zx(c,k,d),f.memoizedState=jx,m):(rl(f),Wx(f,j))}if($=c.memoizedState,$!==null&&(j=$.dehydrated,j!==null)){if(b)f.flags&256?(rl(f),f.flags&=-257,f=Yx(c,f,d)):f.memoizedState!==null?(il(),f.child=c.child,f.flags|=128,f=null):(il(),_=m.fallback,j=f.mode,m=E1({mode:"visible",children:m.children},j),_=Vc(_,j,d,null),_.flags|=2,m.return=f,_.return=f,m.sibling=_,f.child=m,zf(f,c.child,null,d),m=f.child,m.memoizedState=Hx(d),m.childLanes=zx(c,k,d),f.memoizedState=jx,f=_);else if(rl(f),Tb(j)){if(k=j.nextSibling&&j.nextSibling.dataset,k)var re=k.dgst;k=re,m=Error(r(419)),m.stack="",m.digest=k,mp({value:m,source:null,stack:null}),f=Yx(c,f,d)}else if(hr||vp(c,f,d,!1),k=(d&c.childLanes)!==0,hr||k){if(k=ln,k!==null&&(m=d&-d,m=(m&42)!==0?1:Yo(m),m=(m&(k.suspendedLanes|d))!==0?0:m,m!==0&&m!==$.retryLane))throw $.retryLane=m,Nf(c,m),Pi(k,c,m),ER;j.data==="$?"||cb(),f=Yx(c,f,d)}else j.data==="$?"?(f.flags|=192,f.child=c.child,f=null):(c=$.treeContext,Sn=Os(j.nextSibling),ei=f,Ot=!0,Uc=null,sa=!1,c!==null&&(es[ts++]=io,es[ts++]=so,es[ts++]=Bc,io=c.id,so=c.overflow,Bc=f),f=Wx(f,m.children),f.flags|=4096);return f}return _?(il(),_=m.fallback,j=f.mode,$=c.child,re=$.sibling,m=ro($,{mode:"hidden",children:m.children}),m.subtreeFlags=$.subtreeFlags&65011712,re!==null?_=ro(re,_):(_=Vc(_,j,d,null),_.flags|=2),_.return=f,m.return=f,m.sibling=_,f.child=m,m=_,_=f.child,j=c.child.memoizedState,j===null?j=Hx(d):($=j.cachePool,$!==null?(re=Zn._currentValue,$=$.parent!==re?{parent:re,pool:re}:$):$=yD(),j={baseLanes:j.baseLanes|d,cachePool:$}),_.memoizedState=j,_.childLanes=zx(c,k,d),f.memoizedState=jx,m):(rl(f),d=c.child,c=d.sibling,d=ro(d,{mode:"visible",children:m.children}),d.return=f,d.sibling=null,c!==null&&(k=f.deletions,k===null?(f.deletions=[c],f.flags|=16):k.push(c)),f.child=d,f.memoizedState=null,d)}function Wx(c,f){return f=E1({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function E1(c,f){return c=Di(22,c,null,f),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function Yx(c,f,d){return zf(f,c.child,null,d),c=Wx(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function MR(c,f,d){c.lanes|=f;var m=c.alternate;m!==null&&(m.lanes|=f),cx(c.return,f,d)}function $x(c,f,d,m,_){var b=c.memoizedState;b===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:_}:(b.isBackwards=f,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=d,b.tailMode=_)}function PR(c,f,d){var m=f.pendingProps,_=m.revealOrder,b=m.tail;if(Tr(c,f,m.children,d),m=Jn.current,(m&2)!==0)m=m&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&MR(c,d,f);else if(c.tag===19)MR(c,d,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}m&=1}switch(ne(Jn,m),_){case"forwards":for(d=f.child,_=null;d!==null;)c=d.alternate,c!==null&&_1(c)===null&&(_=d),d=d.sibling;d=_,d===null?(_=f.child,f.child=null):(_=d.sibling,d.sibling=null),$x(f,!1,_,d,b);break;case"backwards":for(d=null,_=f.child,f.child=null;_!==null;){if(c=_.alternate,c!==null&&_1(c)===null){f.child=_;break}c=_.sibling,_.sibling=d,d=_,_=c}$x(f,!0,d,null,b);break;case"together":$x(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function uo(c,f,d){if(c!==null&&(f.dependencies=c.dependencies),cl|=f.lanes,(d&f.childLanes)===0)if(c!==null){if(vp(c,f,d,!1),(d&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(r(153));if(f.child!==null){for(c=f.child,d=ro(c,c.pendingProps),f.child=d,d.return=f;c.sibling!==null;)c=c.sibling,d=d.sibling=ro(c,c.pendingProps),d.return=f;d.sibling=null}return f.child}function Gx(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&r1(c)))}function bj(c,f,d){switch(f.tag){case 3:Ve(f,f.stateNode.containerInfo),Zo(f,Zn,c.memoizedState.cache),gp();break;case 27:case 5:We(f);break;case 4:Ve(f,f.stateNode.containerInfo);break;case 10:Zo(f,f.type,f.memoizedProps.value);break;case 13:var m=f.memoizedState;if(m!==null)return m.dehydrated!==null?(rl(f),f.flags|=128,null):(d&f.child.childLanes)!==0?NR(c,f,d):(rl(f),c=uo(c,f,d),c!==null?c.sibling:null);rl(f);break;case 19:var _=(c.flags&128)!==0;if(m=(d&f.childLanes)!==0,m||(vp(c,f,d,!1),m=(d&f.childLanes)!==0),_){if(m)return PR(c,f,d);f.flags|=128}if(_=f.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ne(Jn,Jn.current),m)break;return null;case 22:case 23:return f.lanes=0,CR(c,f,d);case 24:Zo(f,Zn,c.memoizedState.cache)}return uo(c,f,d)}function kR(c,f,d){if(c!==null)if(c.memoizedProps!==f.pendingProps)hr=!0;else{if(!Gx(c,d)&&(f.flags&128)===0)return hr=!1,bj(c,f,d);hr=(c.flags&131072)!==0}else hr=!1,Ot&&(f.flags&1048576)!==0&&fD(f,n1,f.index);switch(f.lanes=0,f.tag){case 16:e:{c=f.pendingProps;var m=f.elementType,_=m._init;if(m=_(m._payload),f.type=m,typeof m=="function")nx(m)?(c=$c(m,c),f.tag=1,f=RR(null,f,m,c,d)):(f.tag=0,f=Ux(null,f,m,c,d));else{if(m!=null){if(_=m.$$typeof,_===P){f.tag=11,f=AR(null,f,m,c,d);break e}else if(_===R){f.tag=14,f=SR(null,f,m,c,d);break e}}throw f=he(m)||m,Error(r(306,f,""))}}return f;case 0:return Ux(c,f,f.type,f.pendingProps,d);case 1:return m=f.type,_=$c(m,f.pendingProps),RR(c,f,m,_,d);case 3:e:{if(Ve(f,f.stateNode.containerInfo),c===null)throw Error(r(387));m=f.pendingProps;var b=f.memoizedState;_=b.element,mx(c,f),Ap(f,m,null,d);var k=f.memoizedState;if(m=k.cache,Zo(f,Zn,m),m!==b.cache&&ux(f,[Zn],d,!0),Ep(),m=k.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:k.cache},f.updateQueue.baseState=b,f.memoizedState=b,f.flags&256){f=OR(c,f,m,d);break e}else if(m!==_){_=Zi(Error(r(424)),f),mp(_),f=OR(c,f,m,d);break e}else{switch(c=f.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Sn=Os(c.firstChild),ei=f,Ot=!0,Uc=null,sa=!0,d=dR(f,null,m,d),f.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(gp(),m===_){f=uo(c,f,d);break e}Tr(c,f,m,d)}f=f.child}return f;case 26:return b1(c,f),c===null?(d=FO(f.type,null,f.pendingProps,null))?f.memoizedState=d:Ot||(d=f.type,c=f.pendingProps,m=V1(Ae.current).createElement(d),m[Kn]=f,m[Hn]=c,Ir(m,d,c),On(m),f.stateNode=m):f.memoizedState=FO(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return We(f),c===null&&Ot&&(m=f.stateNode=LO(f.type,f.pendingProps,Ae.current),ei=f,sa=!0,_=Sn,dl(f.type)?(Cb=_,Sn=Os(m.firstChild)):Sn=_),Tr(c,f,f.pendingProps.children,d),b1(c,f),c===null&&(f.flags|=4194304),f.child;case 5:return c===null&&Ot&&((_=m=Sn)&&(m=Xj(m,f.type,f.pendingProps,sa),m!==null?(f.stateNode=m,ei=f,Sn=Os(m.firstChild),sa=!1,_=!0):_=!1),_||jc(f)),We(f),_=f.type,b=f.pendingProps,k=c!==null?c.memoizedProps:null,m=b.children,Eb(_,b)?m=null:k!==null&&Eb(_,k)&&(f.flags|=32),f.memoizedState!==null&&(_=bx(c,f,pj,null,null,d),$p._currentValue=_),b1(c,f),Tr(c,f,m,d),f.child;case 6:return c===null&&Ot&&((c=d=Sn)&&(d=Qj(d,f.pendingProps,sa),d!==null?(f.stateNode=d,ei=f,Sn=null,c=!0):c=!1),c||jc(f)),null;case 13:return NR(c,f,d);case 4:return Ve(f,f.stateNode.containerInfo),m=f.pendingProps,c===null?f.child=zf(f,null,m,d):Tr(c,f,m,d),f.child;case 11:return AR(c,f,f.type,f.pendingProps,d);case 7:return Tr(c,f,f.pendingProps,d),f.child;case 8:return Tr(c,f,f.pendingProps.children,d),f.child;case 12:return Tr(c,f,f.pendingProps.children,d),f.child;case 10:return m=f.pendingProps,Zo(f,f.type,m.value),Tr(c,f,m.children,d),f.child;case 9:return _=f.type._context,m=f.pendingProps.children,zc(f),_=Vr(_),m=m(_),f.flags|=1,Tr(c,f,m,d),f.child;case 14:return SR(c,f,f.type,f.pendingProps,d);case 15:return TR(c,f,f.type,f.pendingProps,d);case 19:return PR(c,f,d);case 31:return m=f.pendingProps,d=f.mode,m={mode:m.mode,children:m.children},c===null?(d=E1(m,d),d.ref=f.ref,f.child=d,d.return=f,f=d):(d=ro(c.child,m),d.ref=f.ref,f.child=d,d.return=f,f=d),f;case 22:return CR(c,f,d);case 24:return zc(f),m=Vr(Zn),c===null?(_=dx(),_===null&&(_=ln,b=fx(),_.pooledCache=b,b.refCount++,b!==null&&(_.pooledCacheLanes|=d),_=b),f.memoizedState={parent:m,cache:_},gx(f),Zo(f,Zn,_)):((c.lanes&d)!==0&&(mx(c,f),Ap(f,null,null,d),Ep()),_=c.memoizedState,b=f.memoizedState,_.parent!==m?(_={parent:m,cache:m},f.memoizedState=_,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=_),Zo(f,Zn,m)):(m=b.cache,Zo(f,Zn,m),m!==_.cache&&ux(f,[Zn],d,!0))),Tr(c,f,f.pendingProps.children,d),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function fo(c){c.flags|=4}function LR(c,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!WO(f)){if(f=ns.current,f!==null&&((Et&4194048)===Et?aa!==null:(Et&62914560)!==Et&&(Et&536870912)===0||f!==aa))throw xp=px,_D;c.flags|=8192}}function A1(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?qd():536870912,c.lanes|=f,Gf|=f)}function Op(c,f){if(!Ot)switch(c.tailMode){case"hidden":f=c.tail;for(var d=null;f!==null;)f.alternate!==null&&(d=f),f=f.sibling;d===null?c.tail=null:d.sibling=null;break;case"collapsed":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:m.sibling=null}}function wn(c){var f=c.alternate!==null&&c.alternate.child===c.child,d=0,m=0;if(f)for(var _=c.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags&65011712,m|=_.flags&65011712,_.return=c,_=_.sibling;else for(_=c.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=c,_=_.sibling;return c.subtreeFlags|=m,c.childLanes=d,f}function Ej(c,f,d){var m=f.pendingProps;switch(ax(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(f),null;case 1:return wn(f),null;case 3:return d=f.stateNode,m=null,c!==null&&(m=c.memoizedState.cache),f.memoizedState.cache!==m&&(f.flags|=2048),oo(Zn),Pe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(c===null||c.child===null)&&(pp(f)?fo(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,pD())),wn(f),null;case 26:return d=f.memoizedState,c===null?(fo(f),d!==null?(wn(f),LR(f,d)):(wn(f),f.flags&=-16777217)):d?d!==c.memoizedState?(fo(f),wn(f),LR(f,d)):(wn(f),f.flags&=-16777217):(c.memoizedProps!==m&&fo(f),wn(f),f.flags&=-16777217),null;case 27:rt(f),d=Ae.current;var _=f.type;if(c!==null&&f.stateNode!=null)c.memoizedProps!==m&&fo(f);else{if(!m){if(f.stateNode===null)throw Error(r(166));return wn(f),null}c=we.current,pp(f)?hD(f):(c=LO(_,m,d),f.stateNode=c,fo(f))}return wn(f),null;case 5:if(rt(f),d=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==m&&fo(f);else{if(!m){if(f.stateNode===null)throw Error(r(166));return wn(f),null}if(c=we.current,pp(f))hD(f);else{switch(_=V1(Ae.current),c){case 1:c=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:c=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":c=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":c=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":c=_.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof m.is=="string"?_.createElement("select",{is:m.is}):_.createElement("select"),m.multiple?c.multiple=!0:m.size&&(c.size=m.size);break;default:c=typeof m.is=="string"?_.createElement(d,{is:m.is}):_.createElement(d)}}c[Kn]=f,c[Hn]=m;e:for(_=f.child;_!==null;){if(_.tag===5||_.tag===6)c.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===f)break e;for(;_.sibling===null;){if(_.return===null||_.return===f)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}f.stateNode=c;e:switch(Ir(c,d,m),d){case"button":case"input":case"select":case"textarea":c=!!m.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&fo(f)}}return wn(f),f.flags&=-16777217,null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==m&&fo(f);else{if(typeof m!="string"&&f.stateNode===null)throw Error(r(166));if(c=Ae.current,pp(f)){if(c=f.stateNode,d=f.memoizedProps,m=null,_=ei,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}c[Kn]=f,c=!!(c.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||DO(c.nodeValue,d)),c||jc(f)}else c=V1(c).createTextNode(m),c[Kn]=f,f.stateNode=c}return wn(f),null;case 13:if(m=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(_=pp(f),m!==null&&m.dehydrated!==null){if(c===null){if(!_)throw Error(r(318));if(_=f.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Kn]=f}else gp(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;wn(f),_=!1}else _=pD(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=_),_=!0;if(!_)return f.flags&256?(co(f),f):(co(f),null)}if(co(f),(f.flags&128)!==0)return f.lanes=d,f;if(d=m!==null,c=c!==null&&c.memoizedState!==null,d){m=f.child,_=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(_=m.alternate.memoizedState.cachePool.pool);var b=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==_&&(m.flags|=2048)}return d!==c&&d&&(f.child.flags|=8192),A1(f,f.updateQueue),wn(f),null;case 4:return Pe(),c===null&&yb(f.stateNode.containerInfo),wn(f),null;case 10:return oo(f.type),wn(f),null;case 19:if(ce(Jn),_=f.memoizedState,_===null)return wn(f),null;if(m=(f.flags&128)!==0,b=_.rendering,b===null)if(m)Op(_,!1);else{if(Tn!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(b=_1(c),b!==null){for(f.flags|=128,Op(_,!1),c=b.updateQueue,f.updateQueue=c,A1(f,c),f.subtreeFlags=0,c=d,d=f.child;d!==null;)uD(d,c),d=d.sibling;return ne(Jn,Jn.current&1|2),f.child}c=c.sibling}_.tail!==null&&ke()>C1&&(f.flags|=128,m=!0,Op(_,!1),f.lanes=4194304)}else{if(!m)if(c=_1(b),c!==null){if(f.flags|=128,m=!0,c=c.updateQueue,f.updateQueue=c,A1(f,c),Op(_,!0),_.tail===null&&_.tailMode==="hidden"&&!b.alternate&&!Ot)return wn(f),null}else 2*ke()-_.renderingStartTime>C1&&d!==536870912&&(f.flags|=128,m=!0,Op(_,!1),f.lanes=4194304);_.isBackwards?(b.sibling=f.child,f.child=b):(c=_.last,c!==null?c.sibling=b:f.child=b,_.last=b)}return _.tail!==null?(f=_.tail,_.rendering=f,_.tail=f.sibling,_.renderingStartTime=ke(),f.sibling=null,c=Jn.current,ne(Jn,m?c&1|2:c&1),f):(wn(f),null);case 22:case 23:return co(f),wx(),m=f.memoizedState!==null,c!==null?c.memoizedState!==null!==m&&(f.flags|=8192):m&&(f.flags|=8192),m?(d&536870912)!==0&&(f.flags&128)===0&&(wn(f),f.subtreeFlags&6&&(f.flags|=8192)):wn(f),d=f.updateQueue,d!==null&&A1(f,d.retryQueue),d=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(d=c.memoizedState.cachePool.pool),m=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(m=f.memoizedState.cachePool.pool),m!==d&&(f.flags|=2048),c!==null&&ce(Wc),null;case 24:return d=null,c!==null&&(d=c.memoizedState.cache),f.memoizedState.cache!==d&&(f.flags|=2048),oo(Zn),wn(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function Aj(c,f){switch(ax(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return oo(Zn),Pe(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return rt(f),null;case 13:if(co(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(r(340));gp()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return ce(Jn),null;case 4:return Pe(),null;case 10:return oo(f.type),null;case 22:case 23:return co(f),wx(),c!==null&&ce(Wc),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return oo(Zn),null;case 25:return null;default:return null}}function VR(c,f){switch(ax(f),f.tag){case 3:oo(Zn),Pe();break;case 26:case 27:case 5:rt(f);break;case 4:Pe();break;case 13:co(f);break;case 19:ce(Jn);break;case 10:oo(f.type);break;case 22:case 23:co(f),wx(),c!==null&&ce(Wc);break;case 24:oo(Zn)}}function Np(c,f){try{var d=f.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var _=m.next;d=_;do{if((d.tag&c)===c){m=void 0;var b=d.create,k=d.inst;m=b(),k.destroy=m}d=d.next}while(d!==_)}}catch(j){sn(f,f.return,j)}}function sl(c,f,d){try{var m=f.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var b=_.next;m=b;do{if((m.tag&c)===c){var k=m.inst,j=k.destroy;if(j!==void 0){k.destroy=void 0,_=f;var $=d,re=j;try{re()}catch(ge){sn(_,$,ge)}}}m=m.next}while(m!==b)}}catch(ge){sn(f,f.return,ge)}}function BR(c){var f=c.updateQueue;if(f!==null){var d=c.stateNode;try{SD(f,d)}catch(m){sn(c,c.return,m)}}}function FR(c,f,d){d.props=$c(c.type,c.memoizedProps),d.state=c.memoizedState;try{d.componentWillUnmount()}catch(m){sn(c,f,m)}}function Mp(c,f){try{var d=c.ref;if(d!==null){switch(c.tag){case 26:case 27:case 5:var m=c.stateNode;break;case 30:m=c.stateNode;break;default:m=c.stateNode}typeof d=="function"?c.refCleanup=d(m):d.current=m}}catch(_){sn(c,f,_)}}function oa(c,f){var d=c.ref,m=c.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(_){sn(c,f,_)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(_){sn(c,f,_)}else d.current=null}function UR(c){var f=c.type,d=c.memoizedProps,m=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(_){sn(c,c.return,_)}}function qx(c,f,d){try{var m=c.stateNode;Yj(m,c.type,d,f),m[Hn]=f}catch(_){sn(c,c.return,_)}}function jR(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&dl(c.type)||c.tag===4}function Kx(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||jR(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&dl(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Xx(c,f,d){var m=c.tag;if(m===5||m===6)c=c.stateNode,f?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(c,f):(f=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,f.appendChild(c),d=d._reactRootContainer,d!=null||f.onclick!==null||(f.onclick=L1));else if(m!==4&&(m===27&&dl(c.type)&&(d=c.stateNode,f=null),c=c.child,c!==null))for(Xx(c,f,d),c=c.sibling;c!==null;)Xx(c,f,d),c=c.sibling}function S1(c,f,d){var m=c.tag;if(m===5||m===6)c=c.stateNode,f?d.insertBefore(c,f):d.appendChild(c);else if(m!==4&&(m===27&&dl(c.type)&&(d=c.stateNode),c=c.child,c!==null))for(S1(c,f,d),c=c.sibling;c!==null;)S1(c,f,d),c=c.sibling}function HR(c){var f=c.stateNode,d=c.memoizedProps;try{for(var m=c.type,_=f.attributes;_.length;)f.removeAttributeNode(_[0]);Ir(f,m,d),f[Kn]=c,f[Hn]=d}catch(b){sn(c,c.return,b)}}var ho=!1,Mn=!1,Qx=!1,zR=typeof WeakSet=="function"?WeakSet:Set,dr=null;function Sj(c,f){if(c=c.containerInfo,xb=z1,c=eD(c),Kw(c)){if("selectionStart"in c)var d={start:c.selectionStart,end:c.selectionEnd};else e:{d=(d=c.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var _=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var k=0,j=-1,$=-1,re=0,ge=0,_e=c,se=null;t:for(;;){for(var le;_e!==d||_!==0&&_e.nodeType!==3||(j=k+_),_e!==b||m!==0&&_e.nodeType!==3||($=k+m),_e.nodeType===3&&(k+=_e.nodeValue.length),(le=_e.firstChild)!==null;)se=_e,_e=le;for(;;){if(_e===c)break t;if(se===d&&++re===_&&(j=k),se===b&&++ge===m&&($=k),(le=_e.nextSibling)!==null)break;_e=se,se=_e.parentNode}_e=le}d=j===-1||$===-1?null:{start:j,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(bb={focusedElem:c,selectionRange:d},z1=!1,dr=f;dr!==null;)if(f=dr,c=f.child,(f.subtreeFlags&1024)!==0&&c!==null)c.return=f,dr=c;else for(;dr!==null;){switch(f=dr,b=f.alternate,c=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&b!==null){c=void 0,d=f,_=b.memoizedProps,b=b.memoizedState,m=d.stateNode;try{var Ze=$c(d.type,_,d.elementType===d.type);c=m.getSnapshotBeforeUpdate(Ze,b),m.__reactInternalSnapshotBeforeUpdate=c}catch(qe){sn(d,d.return,qe)}}break;case 3:if((c&1024)!==0){if(c=f.stateNode.containerInfo,d=c.nodeType,d===9)Sb(c);else if(d===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":Sb(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=f.sibling,c!==null){c.return=f.return,dr=c;break}dr=f.return}}function WR(c,f,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:al(c,d),m&4&&Np(5,d);break;case 1:if(al(c,d),m&4)if(c=d.stateNode,f===null)try{c.componentDidMount()}catch(k){sn(d,d.return,k)}else{var _=$c(d.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(_,f,c.__reactInternalSnapshotBeforeUpdate)}catch(k){sn(d,d.return,k)}}m&64&&BR(d),m&512&&Mp(d,d.return);break;case 3:if(al(c,d),m&64&&(c=d.updateQueue,c!==null)){if(f=null,d.child!==null)switch(d.child.tag){case 27:case 5:f=d.child.stateNode;break;case 1:f=d.child.stateNode}try{SD(c,f)}catch(k){sn(d,d.return,k)}}break;case 27:f===null&&m&4&&HR(d);case 26:case 5:al(c,d),f===null&&m&4&&UR(d),m&512&&Mp(d,d.return);break;case 12:al(c,d);break;case 13:al(c,d),m&4&&GR(c,d),m&64&&(c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(d=Pj.bind(null,d),Zj(c,d))));break;case 22:if(m=d.memoizedState!==null||ho,!m){f=f!==null&&f.memoizedState!==null||Mn,_=ho;var b=Mn;ho=m,(Mn=f)&&!b?ol(c,d,(d.subtreeFlags&8772)!==0):al(c,d),ho=_,Mn=b}break;case 30:break;default:al(c,d)}}function YR(c){var f=c.alternate;f!==null&&(c.alternate=null,YR(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&qo(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var gn=null,pi=!1;function po(c,f,d){for(d=d.child;d!==null;)$R(c,f,d),d=d.sibling}function $R(c,f,d){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(pt,d)}catch{}switch(d.tag){case 26:Mn||oa(d,f),po(c,f,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Mn||oa(d,f);var m=gn,_=pi;dl(d.type)&&(gn=d.stateNode,pi=!1),po(c,f,d),Hp(d.stateNode),gn=m,pi=_;break;case 5:Mn||oa(d,f);case 6:if(m=gn,_=pi,gn=null,po(c,f,d),gn=m,pi=_,gn!==null)if(pi)try{(gn.nodeType===9?gn.body:gn.nodeName==="HTML"?gn.ownerDocument.body:gn).removeChild(d.stateNode)}catch(b){sn(d,f,b)}else try{gn.removeChild(d.stateNode)}catch(b){sn(d,f,b)}break;case 18:gn!==null&&(pi?(c=gn,PO(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,d.stateNode),Xp(c)):PO(gn,d.stateNode));break;case 4:m=gn,_=pi,gn=d.stateNode.containerInfo,pi=!0,po(c,f,d),gn=m,pi=_;break;case 0:case 11:case 14:case 15:Mn||sl(2,d,f),Mn||sl(4,d,f),po(c,f,d);break;case 1:Mn||(oa(d,f),m=d.stateNode,typeof m.componentWillUnmount=="function"&&FR(d,f,m)),po(c,f,d);break;case 21:po(c,f,d);break;case 22:Mn=(m=Mn)||d.memoizedState!==null,po(c,f,d),Mn=m;break;default:po(c,f,d)}}function GR(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Xp(c)}catch(d){sn(f,f.return,d)}}function Tj(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new zR),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new zR),f;default:throw Error(r(435,c.tag))}}function Zx(c,f){var d=Tj(c);f.forEach(function(m){var _=kj.bind(null,c,m);d.has(m)||(d.add(m),m.then(_,_))})}function Ri(c,f){var d=f.deletions;if(d!==null)for(var m=0;m<d.length;m++){var _=d[m],b=c,k=f,j=k;e:for(;j!==null;){switch(j.tag){case 27:if(dl(j.type)){gn=j.stateNode,pi=!1;break e}break;case 5:gn=j.stateNode,pi=!1;break e;case 3:case 4:gn=j.stateNode.containerInfo,pi=!0;break e}j=j.return}if(gn===null)throw Error(r(160));$R(b,k,_),gn=null,pi=!1,b=_.alternate,b!==null&&(b.return=null),_.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)qR(f,c),f=f.sibling}var Rs=null;function qR(c,f){var d=c.alternate,m=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ri(f,c),Oi(c),m&4&&(sl(3,c,c.return),Np(3,c),sl(5,c,c.return));break;case 1:Ri(f,c),Oi(c),m&512&&(Mn||d===null||oa(d,d.return)),m&64&&ho&&(c=c.updateQueue,c!==null&&(m=c.callbacks,m!==null&&(d=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var _=Rs;if(Ri(f,c),Oi(c),m&512&&(Mn||d===null||oa(d,d.return)),m&4){var b=d!==null?d.memoizedState:null;if(m=c.memoizedState,d===null)if(m===null)if(c.stateNode===null){e:{m=c.type,d=c.memoizedProps,_=_.ownerDocument||_;t:switch(m){case"title":b=_.getElementsByTagName("title")[0],(!b||b[xc]||b[Kn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=_.createElement(m),_.head.insertBefore(b,_.querySelector("head > title"))),Ir(b,m,d),b[Kn]=c,On(b),m=b;break e;case"link":var k=HO("link","href",_).get(m+(d.href||""));if(k){for(var j=0;j<k.length;j++)if(b=k[j],b.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&b.getAttribute("rel")===(d.rel==null?null:d.rel)&&b.getAttribute("title")===(d.title==null?null:d.title)&&b.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice(j,1);break t}}b=_.createElement(m),Ir(b,m,d),_.head.appendChild(b);break;case"meta":if(k=HO("meta","content",_).get(m+(d.content||""))){for(j=0;j<k.length;j++)if(b=k[j],b.getAttribute("content")===(d.content==null?null:""+d.content)&&b.getAttribute("name")===(d.name==null?null:d.name)&&b.getAttribute("property")===(d.property==null?null:d.property)&&b.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&b.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice(j,1);break t}}b=_.createElement(m),Ir(b,m,d),_.head.appendChild(b);break;default:throw Error(r(468,m))}b[Kn]=c,On(b),m=b}c.stateNode=m}else zO(_,c.type,c.stateNode);else c.stateNode=jO(_,m,c.memoizedProps);else b!==m?(b===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):b.count--,m===null?zO(_,c.type,c.stateNode):jO(_,m,c.memoizedProps)):m===null&&c.stateNode!==null&&qx(c,c.memoizedProps,d.memoizedProps)}break;case 27:Ri(f,c),Oi(c),m&512&&(Mn||d===null||oa(d,d.return)),d!==null&&m&4&&qx(c,c.memoizedProps,d.memoizedProps);break;case 5:if(Ri(f,c),Oi(c),m&512&&(Mn||d===null||oa(d,d.return)),c.flags&32){_=c.stateNode;try{qi(_,"")}catch(le){sn(c,c.return,le)}}m&4&&c.stateNode!=null&&(_=c.memoizedProps,qx(c,_,d!==null?d.memoizedProps:_)),m&1024&&(Qx=!0);break;case 6:if(Ri(f,c),Oi(c),m&4){if(c.stateNode===null)throw Error(r(162));m=c.memoizedProps,d=c.stateNode;try{d.nodeValue=m}catch(le){sn(c,c.return,le)}}break;case 3:if(U1=null,_=Rs,Rs=B1(f.containerInfo),Ri(f,c),Rs=_,Oi(c),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Xp(f.containerInfo)}catch(le){sn(c,c.return,le)}Qx&&(Qx=!1,KR(c));break;case 4:m=Rs,Rs=B1(c.stateNode.containerInfo),Ri(f,c),Oi(c),Rs=m;break;case 12:Ri(f,c),Oi(c);break;case 13:Ri(f,c),Oi(c),c.child.flags&8192&&c.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(ib=ke()),m&4&&(m=c.updateQueue,m!==null&&(c.updateQueue=null,Zx(c,m)));break;case 22:_=c.memoizedState!==null;var $=d!==null&&d.memoizedState!==null,re=ho,ge=Mn;if(ho=re||_,Mn=ge||$,Ri(f,c),Mn=ge,ho=re,Oi(c),m&8192)e:for(f=c.stateNode,f._visibility=_?f._visibility&-2:f._visibility|1,_&&(d===null||$||ho||Mn||Gc(c)),d=null,f=c;;){if(f.tag===5||f.tag===26){if(d===null){$=d=f;try{if(b=$.stateNode,_)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{j=$.stateNode;var _e=$.memoizedProps.style,se=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;j.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(le){sn($,$.return,le)}}}else if(f.tag===6){if(d===null){$=f;try{$.stateNode.nodeValue=_?"":$.memoizedProps}catch(le){sn($,$.return,le)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}m&4&&(m=c.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Zx(c,d))));break;case 19:Ri(f,c),Oi(c),m&4&&(m=c.updateQueue,m!==null&&(c.updateQueue=null,Zx(c,m)));break;case 30:break;case 21:break;default:Ri(f,c),Oi(c)}}function Oi(c){var f=c.flags;if(f&2){try{for(var d,m=c.return;m!==null;){if(jR(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var _=d.stateNode,b=Kx(c);S1(c,b,_);break;case 5:var k=d.stateNode;d.flags&32&&(qi(k,""),d.flags&=-33);var j=Kx(c);S1(c,j,k);break;case 3:case 4:var $=d.stateNode.containerInfo,re=Kx(c);Xx(c,re,$);break;default:throw Error(r(161))}}catch(ge){sn(c,c.return,ge)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function KR(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;KR(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function al(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)WR(c,f.alternate,f),f=f.sibling}function Gc(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:sl(4,f,f.return),Gc(f);break;case 1:oa(f,f.return);var d=f.stateNode;typeof d.componentWillUnmount=="function"&&FR(f,f.return,d),Gc(f);break;case 27:Hp(f.stateNode);case 26:case 5:oa(f,f.return),Gc(f);break;case 22:f.memoizedState===null&&Gc(f);break;case 30:Gc(f);break;default:Gc(f)}c=c.sibling}}function ol(c,f,d){for(d=d&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var m=f.alternate,_=c,b=f,k=b.flags;switch(b.tag){case 0:case 11:case 15:ol(_,b,d),Np(4,b);break;case 1:if(ol(_,b,d),m=b,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(re){sn(m,m.return,re)}if(m=b,_=m.updateQueue,_!==null){var j=m.stateNode;try{var $=_.shared.hiddenCallbacks;if($!==null)for(_.shared.hiddenCallbacks=null,_=0;_<$.length;_++)AD($[_],j)}catch(re){sn(m,m.return,re)}}d&&k&64&&BR(b),Mp(b,b.return);break;case 27:HR(b);case 26:case 5:ol(_,b,d),d&&m===null&&k&4&&UR(b),Mp(b,b.return);break;case 12:ol(_,b,d);break;case 13:ol(_,b,d),d&&k&4&&GR(_,b);break;case 22:b.memoizedState===null&&ol(_,b,d),Mp(b,b.return);break;case 30:break;default:ol(_,b,d)}f=f.sibling}}function Jx(c,f){var d=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(d=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==d&&(c!=null&&c.refCount++,d!=null&&yp(d))}function eb(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&yp(c))}function la(c,f,d,m){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)XR(c,f,d,m),f=f.sibling}function XR(c,f,d,m){var _=f.flags;switch(f.tag){case 0:case 11:case 15:la(c,f,d,m),_&2048&&Np(9,f);break;case 1:la(c,f,d,m);break;case 3:la(c,f,d,m),_&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&yp(c)));break;case 12:if(_&2048){la(c,f,d,m),c=f.stateNode;try{var b=f.memoizedProps,k=b.id,j=b.onPostCommit;typeof j=="function"&&j(k,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch($){sn(f,f.return,$)}}else la(c,f,d,m);break;case 13:la(c,f,d,m);break;case 23:break;case 22:b=f.stateNode,k=f.alternate,f.memoizedState!==null?b._visibility&2?la(c,f,d,m):Pp(c,f):b._visibility&2?la(c,f,d,m):(b._visibility|=2,Wf(c,f,d,m,(f.subtreeFlags&10256)!==0)),_&2048&&Jx(k,f);break;case 24:la(c,f,d,m),_&2048&&eb(f.alternate,f);break;default:la(c,f,d,m)}}function Wf(c,f,d,m,_){for(_=_&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var b=c,k=f,j=d,$=m,re=k.flags;switch(k.tag){case 0:case 11:case 15:Wf(b,k,j,$,_),Np(8,k);break;case 23:break;case 22:var ge=k.stateNode;k.memoizedState!==null?ge._visibility&2?Wf(b,k,j,$,_):Pp(b,k):(ge._visibility|=2,Wf(b,k,j,$,_)),_&&re&2048&&Jx(k.alternate,k);break;case 24:Wf(b,k,j,$,_),_&&re&2048&&eb(k.alternate,k);break;default:Wf(b,k,j,$,_)}f=f.sibling}}function Pp(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var d=c,m=f,_=m.flags;switch(m.tag){case 22:Pp(d,m),_&2048&&Jx(m.alternate,m);break;case 24:Pp(d,m),_&2048&&eb(m.alternate,m);break;default:Pp(d,m)}f=f.sibling}}var kp=8192;function Yf(c){if(c.subtreeFlags&kp)for(c=c.child;c!==null;)QR(c),c=c.sibling}function QR(c){switch(c.tag){case 26:Yf(c),c.flags&kp&&c.memoizedState!==null&&fH(Rs,c.memoizedState,c.memoizedProps);break;case 5:Yf(c);break;case 3:case 4:var f=Rs;Rs=B1(c.stateNode.containerInfo),Yf(c),Rs=f;break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=kp,kp=16777216,Yf(c),kp=f):Yf(c));break;default:Yf(c)}}function ZR(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function Lp(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var d=0;d<f.length;d++){var m=f[d];dr=m,eO(m,c)}ZR(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)JR(c),c=c.sibling}function JR(c){switch(c.tag){case 0:case 11:case 15:Lp(c),c.flags&2048&&sl(9,c,c.return);break;case 3:Lp(c);break;case 12:Lp(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&2&&(c.return===null||c.return.tag!==13)?(f._visibility&=-3,T1(c)):Lp(c);break;default:Lp(c)}}function T1(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var d=0;d<f.length;d++){var m=f[d];dr=m,eO(m,c)}ZR(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:sl(8,f,f.return),T1(f);break;case 22:d=f.stateNode,d._visibility&2&&(d._visibility&=-3,T1(f));break;default:T1(f)}c=c.sibling}}function eO(c,f){for(;dr!==null;){var d=dr;switch(d.tag){case 0:case 11:case 15:sl(8,d,f);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:yp(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,dr=m;else e:for(d=c;dr!==null;){m=dr;var _=m.sibling,b=m.return;if(YR(m),m===d){dr=null;break e}if(_!==null){_.return=b,dr=_;break e}dr=b}}}var Cj={getCacheForType:function(c){var f=Vr(Zn),d=f.data.get(c);return d===void 0&&(d=c(),f.data.set(c,d)),d}},Ij=typeof WeakMap=="function"?WeakMap:Map,zt=0,ln=null,gt=null,Et=0,Wt=0,Ni=null,ll=!1,$f=!1,tb=!1,go=0,Tn=0,cl=0,qc=0,nb=0,rs=0,Gf=0,Vp=null,gi=null,rb=!1,ib=0,C1=1/0,I1=null,ul=null,Cr=0,fl=null,qf=null,Kf=0,sb=0,ab=null,tO=null,Bp=0,ob=null;function Mi(){if((zt&2)!==0&&Et!==0)return Et&-Et;if(Y.T!==null){var c=Lf;return c!==0?c:pb()}return $o()}function nO(){rs===0&&(rs=(Et&536870912)===0||Ot?Gd():536870912);var c=ns.current;return c!==null&&(c.flags|=32),rs}function Pi(c,f,d){(c===ln&&(Wt===2||Wt===9)||c.cancelPendingCommit!==null)&&(Xf(c,0),hl(c,Et,rs,!1)),$a(c,d),((zt&2)===0||c!==ln)&&(c===ln&&((zt&2)===0&&(qc|=d),Tn===4&&hl(c,Et,rs,!1)),ca(c))}function rO(c,f,d){if((zt&6)!==0)throw Error(r(327));var m=!d&&(f&124)===0&&(f&c.expiredLanes)===0||Gs(c,f),_=m?Oj(c,f):ub(c,f,!0),b=m;do{if(_===0){$f&&!m&&hl(c,f,0,!1);break}else{if(d=c.current.alternate,b&&!Dj(d)){_=ub(c,f,!1),b=!1;continue}if(_===2){if(b=f,c.errorRecoveryDisabledLanes&b)var k=0;else k=c.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){f=k;e:{var j=c;_=Vp;var $=j.current.memoizedState.isDehydrated;if($&&(Xf(j,k).flags|=256),k=ub(j,k,!1),k!==2){if(tb&&!$){j.errorRecoveryDisabledLanes|=b,qc|=b,_=4;break e}b=gi,gi=_,b!==null&&(gi===null?gi=b:gi.push.apply(gi,b))}_=k}if(b=!1,_!==2)continue}}if(_===1){Xf(c,0),hl(c,f,0,!0);break}e:{switch(m=c,b=_,b){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:hl(m,f,rs,!ll);break e;case 2:gi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(_=ib+300-ke(),10<_)){if(hl(m,f,rs,!ll),Wa(m,0,!0)!==0)break e;m.timeoutHandle=NO(iO.bind(null,m,d,gi,I1,rb,f,rs,qc,Gf,ll,b,2,-0,0),_);break e}iO(m,d,gi,I1,rb,f,rs,qc,Gf,ll,b,0,-0,0)}}break}while(!0);ca(c)}function iO(c,f,d,m,_,b,k,j,$,re,ge,_e,se,le){if(c.timeoutHandle=-1,_e=f.subtreeFlags,(_e&8192||(_e&16785408)===16785408)&&(Yp={stylesheets:null,count:0,unsuspend:uH},QR(f),_e=hH(),_e!==null)){c.cancelPendingCommit=_e(fO.bind(null,c,f,b,d,m,_,k,j,$,ge,1,se,le)),hl(c,b,k,!re);return}fO(c,f,b,d,m,_,k,j,$)}function Dj(c){for(var f=c;;){var d=f.tag;if((d===0||d===11||d===15)&&f.flags&16384&&(d=f.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var _=d[m],b=_.getSnapshot;_=_.value;try{if(!Ii(b(),_))return!1}catch{return!1}}if(d=f.child,f.subtreeFlags&16384&&d!==null)d.return=f,f=d;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function hl(c,f,d,m){f&=~nb,f&=~qc,c.suspendedLanes|=f,c.pingedLanes&=~f,m&&(c.warmLanes|=f),m=c.expirationTimes;for(var _=f;0<_;){var b=31-jn(_),k=1<<b;m[b]=-1,_&=~k}d!==0&&qs(c,d,f)}function D1(){return(zt&6)===0?(Fp(0),!1):!0}function lb(){if(gt!==null){if(Wt===0)var c=gt.return;else c=gt,ao=Hc=null,Sx(c),Hf=null,Dp=0,c=gt;for(;c!==null;)VR(c.alternate,c),c=c.return;gt=null}}function Xf(c,f){var d=c.timeoutHandle;d!==-1&&(c.timeoutHandle=-1,Gj(d)),d=c.cancelPendingCommit,d!==null&&(c.cancelPendingCommit=null,d()),lb(),ln=c,gt=d=ro(c.current,null),Et=f,Wt=0,Ni=null,ll=!1,$f=Gs(c,f),tb=!1,Gf=rs=nb=qc=cl=Tn=0,gi=Vp=null,rb=!1,(f&8)!==0&&(f|=f&32);var m=c.entangledLanes;if(m!==0)for(c=c.entanglements,m&=f;0<m;){var _=31-jn(m),b=1<<_;f|=c[_],m&=~b}return go=f,Q0(),d}function sO(c,f){ot=null,Y.H=m1,f===wp||f===a1?(f=bD(),Wt=3):f===_D?(f=bD(),Wt=4):Wt=f===ER?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Ni=f,gt===null&&(Tn=1,x1(c,Zi(f,c.current)))}function aO(){var c=Y.H;return Y.H=m1,c===null?m1:c}function oO(){var c=Y.A;return Y.A=Cj,c}function cb(){Tn=4,ll||(Et&4194048)!==Et&&ns.current!==null||($f=!0),(cl&134217727)===0&&(qc&134217727)===0||ln===null||hl(ln,Et,rs,!1)}function ub(c,f,d){var m=zt;zt|=2;var _=aO(),b=oO();(ln!==c||Et!==f)&&(I1=null,Xf(c,f)),f=!1;var k=Tn;e:do try{if(Wt!==0&&gt!==null){var j=gt,$=Ni;switch(Wt){case 8:lb(),k=6;break e;case 3:case 2:case 9:case 6:ns.current===null&&(f=!0);var re=Wt;if(Wt=0,Ni=null,Qf(c,j,$,re),d&&$f){k=0;break e}break;default:re=Wt,Wt=0,Ni=null,Qf(c,j,$,re)}}Rj(),k=Tn;break}catch(ge){sO(c,ge)}while(!0);return f&&c.shellSuspendCounter++,ao=Hc=null,zt=m,Y.H=_,Y.A=b,gt===null&&(ln=null,Et=0,Q0()),k}function Rj(){for(;gt!==null;)lO(gt)}function Oj(c,f){var d=zt;zt|=2;var m=aO(),_=oO();ln!==c||Et!==f?(I1=null,C1=ke()+500,Xf(c,f)):$f=Gs(c,f);e:do try{if(Wt!==0&&gt!==null){f=gt;var b=Ni;t:switch(Wt){case 1:Wt=0,Ni=null,Qf(c,f,b,1);break;case 2:case 9:if(wD(b)){Wt=0,Ni=null,cO(f);break}f=function(){Wt!==2&&Wt!==9||ln!==c||(Wt=7),ca(c)},b.then(f,f);break e;case 3:Wt=7;break e;case 4:Wt=5;break e;case 7:wD(b)?(Wt=0,Ni=null,cO(f)):(Wt=0,Ni=null,Qf(c,f,b,7));break;case 5:var k=null;switch(gt.tag){case 26:k=gt.memoizedState;case 5:case 27:var j=gt;if(!k||WO(k)){Wt=0,Ni=null;var $=j.sibling;if($!==null)gt=$;else{var re=j.return;re!==null?(gt=re,R1(re)):gt=null}break t}}Wt=0,Ni=null,Qf(c,f,b,5);break;case 6:Wt=0,Ni=null,Qf(c,f,b,6);break;case 8:lb(),Tn=6;break e;default:throw Error(r(462))}}Nj();break}catch(ge){sO(c,ge)}while(!0);return ao=Hc=null,Y.H=m,Y.A=_,zt=d,gt!==null?0:(ln=null,Et=0,Q0(),Tn)}function Nj(){for(;gt!==null&&!kr();)lO(gt)}function lO(c){var f=kR(c.alternate,c,go);c.memoizedProps=c.pendingProps,f===null?R1(c):gt=f}function cO(c){var f=c,d=f.alternate;switch(f.tag){case 15:case 0:f=DR(d,f,f.pendingProps,f.type,void 0,Et);break;case 11:f=DR(d,f,f.pendingProps,f.type.render,f.ref,Et);break;case 5:Sx(f);default:VR(d,f),f=gt=uD(f,go),f=kR(d,f,go)}c.memoizedProps=c.pendingProps,f===null?R1(c):gt=f}function Qf(c,f,d,m){ao=Hc=null,Sx(f),Hf=null,Dp=0;var _=f.return;try{if(xj(c,_,f,d,Et)){Tn=1,x1(c,Zi(d,c.current)),gt=null;return}}catch(b){if(_!==null)throw gt=_,b;Tn=1,x1(c,Zi(d,c.current)),gt=null;return}f.flags&32768?(Ot||m===1?c=!0:$f||(Et&536870912)!==0?c=!1:(ll=c=!0,(m===2||m===9||m===3||m===6)&&(m=ns.current,m!==null&&m.tag===13&&(m.flags|=16384))),uO(f,c)):R1(f)}function R1(c){var f=c;do{if((f.flags&32768)!==0){uO(f,ll);return}c=f.return;var d=Ej(f.alternate,f,go);if(d!==null){gt=d;return}if(f=f.sibling,f!==null){gt=f;return}gt=f=c}while(f!==null);Tn===0&&(Tn=5)}function uO(c,f){do{var d=Aj(c.alternate,c);if(d!==null){d.flags&=32767,gt=d;return}if(d=c.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!f&&(c=c.sibling,c!==null)){gt=c;return}gt=c=d}while(c!==null);Tn=6,gt=null}function fO(c,f,d,m,_,b,k,j,$){c.cancelPendingCommit=null;do O1();while(Cr!==0);if((zt&6)!==0)throw Error(r(327));if(f!==null){if(f===c.current)throw Error(r(177));if(b=f.lanes|f.childLanes,b|=ex,Kd(c,d,b,k,j,$),c===ln&&(gt=ln=null,Et=0),qf=f,fl=c,Kf=d,sb=b,ab=_,tO=m,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,Lj(it,function(){return mO(),null})):(c.callbackNode=null,c.callbackPriority=0),m=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null,_=X.p,X.p=2,k=zt,zt|=4;try{Sj(c,f,d)}finally{zt=k,X.p=_,Y.T=m}}Cr=1,hO(),dO(),pO()}}function hO(){if(Cr===1){Cr=0;var c=fl,f=qf,d=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||d){d=Y.T,Y.T=null;var m=X.p;X.p=2;var _=zt;zt|=4;try{qR(f,c);var b=bb,k=eD(c.containerInfo),j=b.focusedElem,$=b.selectionRange;if(k!==j&&j&&j.ownerDocument&&JI(j.ownerDocument.documentElement,j)){if($!==null&&Kw(j)){var re=$.start,ge=$.end;if(ge===void 0&&(ge=re),"selectionStart"in j)j.selectionStart=re,j.selectionEnd=Math.min(ge,j.value.length);else{var _e=j.ownerDocument||document,se=_e&&_e.defaultView||window;if(se.getSelection){var le=se.getSelection(),Ze=j.textContent.length,qe=Math.min($.start,Ze),tn=$.end===void 0?qe:Math.min($.end,Ze);!le.extend&&qe>tn&&(k=tn,tn=qe,qe=k);var Z=ZI(j,qe),K=ZI(j,tn);if(Z&&K&&(le.rangeCount!==1||le.anchorNode!==Z.node||le.anchorOffset!==Z.offset||le.focusNode!==K.node||le.focusOffset!==K.offset)){var te=_e.createRange();te.setStart(Z.node,Z.offset),le.removeAllRanges(),qe>tn?(le.addRange(te),le.extend(K.node,K.offset)):(te.setEnd(K.node,K.offset),le.addRange(te))}}}}for(_e=[],le=j;le=le.parentNode;)le.nodeType===1&&_e.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<_e.length;j++){var me=_e[j];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}z1=!!xb,bb=xb=null}finally{zt=_,X.p=m,Y.T=d}}c.current=f,Cr=2}}function dO(){if(Cr===2){Cr=0;var c=fl,f=qf,d=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||d){d=Y.T,Y.T=null;var m=X.p;X.p=2;var _=zt;zt|=4;try{WR(c,f.alternate,f)}finally{zt=_,X.p=m,Y.T=d}}Cr=3}}function pO(){if(Cr===4||Cr===3){Cr=0,Ne();var c=fl,f=qf,d=Kf,m=tO;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Cr=5:(Cr=0,qf=fl=null,gO(c,c.pendingLanes));var _=c.pendingLanes;if(_===0&&(ul=null),pf(d),f=f.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(pt,f,void 0,(f.current.flags&128)===128)}catch{}if(m!==null){f=Y.T,_=X.p,X.p=2,Y.T=null;try{for(var b=c.onRecoverableError,k=0;k<m.length;k++){var j=m[k];b(j.value,{componentStack:j.stack})}}finally{Y.T=f,X.p=_}}(Kf&3)!==0&&O1(),ca(c),_=c.pendingLanes,(d&4194090)!==0&&(_&42)!==0?c===ob?Bp++:(Bp=0,ob=c):Bp=0,Fp(0)}}function gO(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,yp(f)))}function O1(c){return hO(),dO(),pO(),mO()}function mO(){if(Cr!==5)return!1;var c=fl,f=sb;sb=0;var d=pf(Kf),m=Y.T,_=X.p;try{X.p=32>d?32:d,Y.T=null,d=ab,ab=null;var b=fl,k=Kf;if(Cr=0,qf=fl=null,Kf=0,(zt&6)!==0)throw Error(r(331));var j=zt;if(zt|=4,JR(b.current),XR(b,b.current,k,d),zt=j,Fp(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(pt,b)}catch{}return!0}finally{X.p=_,Y.T=m,gO(c,f)}}function vO(c,f,d){f=Zi(d,f),f=Fx(c.stateNode,f,2),c=tl(c,f,2),c!==null&&($a(c,2),ca(c))}function sn(c,f,d){if(c.tag===3)vO(c,c,d);else for(;f!==null;){if(f.tag===3){vO(f,c,d);break}else if(f.tag===1){var m=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ul===null||!ul.has(m))){c=Zi(d,c),d=xR(2),m=tl(f,d,2),m!==null&&(bR(d,m,f,c),$a(m,2),ca(m));break}}f=f.return}}function fb(c,f,d){var m=c.pingCache;if(m===null){m=c.pingCache=new Ij;var _=new Set;m.set(f,_)}else _=m.get(f),_===void 0&&(_=new Set,m.set(f,_));_.has(d)||(tb=!0,_.add(d),c=Mj.bind(null,c,f,d),f.then(c,c))}function Mj(c,f,d){var m=c.pingCache;m!==null&&m.delete(f),c.pingedLanes|=c.suspendedLanes&d,c.warmLanes&=~d,ln===c&&(Et&d)===d&&(Tn===4||Tn===3&&(Et&62914560)===Et&&300>ke()-ib?(zt&2)===0&&Xf(c,0):nb|=d,Gf===Et&&(Gf=0)),ca(c)}function yO(c,f){f===0&&(f=qd()),c=Nf(c,f),c!==null&&($a(c,f),ca(c))}function Pj(c){var f=c.memoizedState,d=0;f!==null&&(d=f.retryLane),yO(c,d)}function kj(c,f){var d=0;switch(c.tag){case 13:var m=c.stateNode,_=c.memoizedState;_!==null&&(d=_.retryLane);break;case 19:m=c.stateNode;break;case 22:m=c.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(f),yO(c,d)}function Lj(c,f){return Lt(c,f)}var N1=null,Zf=null,hb=!1,M1=!1,db=!1,Kc=0;function ca(c){c!==Zf&&c.next===null&&(Zf===null?N1=Zf=c:Zf=Zf.next=c),M1=!0,hb||(hb=!0,Bj())}function Fp(c,f){if(!db&&M1){db=!0;do for(var d=!1,m=N1;m!==null;){if(c!==0){var _=m.pendingLanes;if(_===0)var b=0;else{var k=m.suspendedLanes,j=m.pingedLanes;b=(1<<31-jn(42|c)+1)-1,b&=_&~(k&~j),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(d=!0,bO(m,b))}else b=Et,b=Wa(m,m===ln?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||Gs(m,b)||(d=!0,bO(m,b));m=m.next}while(d);db=!1}}function Vj(){_O()}function _O(){M1=hb=!1;var c=0;Kc!==0&&($j()&&(c=Kc),Kc=0);for(var f=ke(),d=null,m=N1;m!==null;){var _=m.next,b=wO(m,f);b===0?(m.next=null,d===null?N1=_:d.next=_,_===null&&(Zf=d)):(d=m,(c!==0||(b&3)!==0)&&(M1=!0)),m=_}Fp(c)}function wO(c,f){for(var d=c.suspendedLanes,m=c.pingedLanes,_=c.expirationTimes,b=c.pendingLanes&-62914561;0<b;){var k=31-jn(b),j=1<<k,$=_[k];$===-1?((j&d)===0||(j&m)!==0)&&(_[k]=$d(j,f)):$<=f&&(c.expiredLanes|=j),b&=~j}if(f=ln,d=Et,d=Wa(c,c===f?d:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),m=c.callbackNode,d===0||c===f&&(Wt===2||Wt===9)||c.cancelPendingCommit!==null)return m!==null&&m!==null&&on(m),c.callbackNode=null,c.callbackPriority=0;if((d&3)===0||Gs(c,d)){if(f=d&-d,f===c.callbackPriority)return f;switch(m!==null&&on(m),pf(d)){case 2:case 8:d=Ke;break;case 32:d=it;break;case 268435456:d=Vt;break;default:d=it}return m=xO.bind(null,c),d=Lt(d,m),c.callbackPriority=f,c.callbackNode=d,f}return m!==null&&m!==null&&on(m),c.callbackPriority=2,c.callbackNode=null,2}function xO(c,f){if(Cr!==0&&Cr!==5)return c.callbackNode=null,c.callbackPriority=0,null;var d=c.callbackNode;if(O1()&&c.callbackNode!==d)return null;var m=Et;return m=Wa(c,c===ln?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),m===0?null:(rO(c,m,f),wO(c,ke()),c.callbackNode!=null&&c.callbackNode===d?xO.bind(null,c):null)}function bO(c,f){if(O1())return null;rO(c,f,!0)}function Bj(){qj(function(){(zt&6)!==0?Lt(Ue,Vj):_O()})}function pb(){return Kc===0&&(Kc=Gd()),Kc}function EO(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:wf(""+c)}function AO(c,f){var d=f.ownerDocument.createElement("input");return d.name=f.name,d.value=f.value,c.id&&d.setAttribute("form",c.id),f.parentNode.insertBefore(d,f),c=new FormData(c),d.parentNode.removeChild(d),c}function Fj(c,f,d,m,_){if(f==="submit"&&d&&d.stateNode===_){var b=EO((_[Hn]||null).action),k=m.submitter;k&&(f=(f=k[Hn]||null)?EO(f.formAction):k.getAttribute("formAction"),f!==null&&(b=f,k=null));var j=new xf("action","action",null,m,_);c.push({event:j,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Kc!==0){var $=k?AO(_,k):new FormData(_);Px(d,{pending:!0,data:$,method:_.method,action:b},null,$)}}else typeof b=="function"&&(j.preventDefault(),$=k?AO(_,k):new FormData(_),Px(d,{pending:!0,data:$,method:_.method,action:b},b,$))},currentTarget:_}]})}}for(var gb=0;gb<Jw.length;gb++){var mb=Jw[gb],Uj=mb.toLowerCase(),jj=mb[0].toUpperCase()+mb.slice(1);Ds(Uj,"on"+jj)}Ds(rD,"onAnimationEnd"),Ds(iD,"onAnimationIteration"),Ds(sD,"onAnimationStart"),Ds("dblclick","onDoubleClick"),Ds("focusin","onFocus"),Ds("focusout","onBlur"),Ds(ij,"onTransitionRun"),Ds(sj,"onTransitionStart"),Ds(aj,"onTransitionCancel"),Ds(aD,"onTransitionEnd"),qa("onMouseEnter",["mouseout","mouseover"]),qa("onMouseLeave",["mouseout","mouseover"]),qa("onPointerEnter",["pointerout","pointerover"]),qa("onPointerLeave",["pointerout","pointerover"]),Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Up="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Up));function SO(c,f){f=(f&4)!==0;for(var d=0;d<c.length;d++){var m=c[d],_=m.event;m=m.listeners;e:{var b=void 0;if(f)for(var k=m.length-1;0<=k;k--){var j=m[k],$=j.instance,re=j.currentTarget;if(j=j.listener,$!==b&&_.isPropagationStopped())break e;b=j,_.currentTarget=re;try{b(_)}catch(ge){w1(ge)}_.currentTarget=null,b=$}else for(k=0;k<m.length;k++){if(j=m[k],$=j.instance,re=j.currentTarget,j=j.listener,$!==b&&_.isPropagationStopped())break e;b=j,_.currentTarget=re;try{b(_)}catch(ge){w1(ge)}_.currentTarget=null,b=$}}}}function mt(c,f){var d=f[Qd];d===void 0&&(d=f[Qd]=new Set);var m=c+"__bubble";d.has(m)||(TO(f,c,2,!1),d.add(m))}function vb(c,f,d){var m=0;f&&(m|=4),TO(d,c,m,f)}var P1="_reactListening"+Math.random().toString(36).slice(2);function yb(c){if(!c[P1]){c[P1]=!0,Zd.forEach(function(d){d!=="selectionchange"&&(Hj.has(d)||vb(d,!1,c),vb(d,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[P1]||(f[P1]=!0,vb("selectionchange",!1,f))}}function TO(c,f,d,m){switch(XO(f)){case 2:var _=gH;break;case 8:_=mH;break;default:_=Nb}d=_.bind(null,f,d,c),_=void 0,!Xi||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(_=!0),m?_!==void 0?c.addEventListener(f,d,{capture:!0,passive:_}):c.addEventListener(f,d,!0):_!==void 0?c.addEventListener(f,d,{passive:_}):c.addEventListener(f,d,!1)}function _b(c,f,d,m,_){var b=m;if((f&1)===0&&(f&2)===0&&m!==null)e:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var j=m.stateNode.containerInfo;if(j===_)break;if(k===4)for(k=m.return;k!==null;){var $=k.tag;if(($===3||$===4)&&k.stateNode.containerInfo===_)return;k=k.return}for(;j!==null;){if(k=Ga(j),k===null)return;if($=k.tag,$===5||$===6||$===26||$===27){m=b=k;continue e}j=j.parentNode}}m=m.return}L0(function(){var re=b,ge=Ki(d),_e=[];e:{var se=oD.get(c);if(se!==void 0){var le=xf,Ze=c;switch(c){case"keypress":if(ea(d)===0)break e;case"keydown":case"keyup":le=Cf;break;case"focusin":Ze="focus",le=Af;break;case"focusout":Ze="blur",le=Af;break;case"beforeblur":case"afterblur":le=Af;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=W0;break;case rD:case iD:case sD:le=Sf;break;case aD:le=$0;break;case"scroll":case"scrollend":le=V0;break;case"wheel":le=If;break;case"copy":case"cut":case"paste":le=Tf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=up;break;case"toggle":case"beforetoggle":le=q0}var qe=(f&4)!==0,tn=!qe&&(c==="scroll"||c==="scrollend"),Z=qe?se!==null?se+"Capture":null:se;qe=[];for(var K=re,te;K!==null;){var me=K;if(te=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||te===null||Z===null||(me=Ic(K,Z),me!=null&&qe.push(jp(K,me,te))),tn)break;K=K.return}0<qe.length&&(se=new le(se,Ze,null,d,ge),_e.push({event:se,listeners:qe}))}}if((f&7)===0){e:{if(se=c==="mouseover"||c==="pointerover",le=c==="mouseout"||c==="pointerout",se&&d!==Qa&&(Ze=d.relatedTarget||d.fromElement)&&(Ga(Ze)||Ze[Gi]))break e;if((le||se)&&(se=ge.window===ge?ge:(se=ge.ownerDocument)?se.defaultView||se.parentWindow:window,le?(Ze=d.relatedTarget||d.toElement,le=re,Ze=Ze?Ga(Ze):null,Ze!==null&&(tn=s(Ze),qe=Ze.tag,Ze!==tn||qe!==5&&qe!==27&&qe!==6)&&(Ze=null)):(le=null,Ze=re),le!==Ze)){if(qe=Qi,me="onMouseLeave",Z="onMouseEnter",K="mouse",(c==="pointerout"||c==="pointerover")&&(qe=up,me="onPointerLeave",Z="onPointerEnter",K="pointer"),tn=le==null?se:Xs(le),te=Ze==null?se:Xs(Ze),se=new qe(me,K+"leave",le,d,ge),se.target=tn,se.relatedTarget=te,me=null,Ga(ge)===re&&(qe=new qe(Z,K+"enter",Ze,d,ge),qe.target=te,qe.relatedTarget=tn,me=qe),tn=me,le&&Ze)t:{for(qe=le,Z=Ze,K=0,te=qe;te;te=Jf(te))K++;for(te=0,me=Z;me;me=Jf(me))te++;for(;0<K-te;)qe=Jf(qe),K--;for(;0<te-K;)Z=Jf(Z),te--;for(;K--;){if(qe===Z||Z!==null&&qe===Z.alternate)break t;qe=Jf(qe),Z=Jf(Z)}qe=null}else qe=null;le!==null&&CO(_e,se,le,qe,!1),Ze!==null&&tn!==null&&CO(_e,tn,Ze,qe,!0)}}e:{if(se=re?Xs(re):window,le=se.nodeName&&se.nodeName.toLowerCase(),le==="select"||le==="input"&&se.type==="file")var Le=$I;else if(Qn(se))if(GI)Le=tj;else{Le=JU;var ht=ZU}else le=se.nodeName,!le||le.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?re&&rp(re.elementType)&&(Le=$I):Le=ej;if(Le&&(Le=Le(c,re))){no(_e,Le,d,ge);break e}ht&&ht(c,se,re),c==="focusout"&&re&&se.type==="number"&&re.memoizedProps.value!=null&&Xo(se,"number",se.value)}switch(ht=re?Xs(re):window,c){case"focusin":(Qn(ht)||ht.contentEditable==="true")&&(Df=ht,Xw=re,dp=null);break;case"focusout":dp=Xw=Df=null;break;case"mousedown":Qw=!0;break;case"contextmenu":case"mouseup":case"dragend":Qw=!1,tD(_e,d,ge);break;case"selectionchange":if(rj)break;case"keydown":case"keyup":tD(_e,d,ge)}var He;if(ra)e:{switch(c){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else xt?ue(c,d)&&(Xe="onCompositionEnd"):c==="keydown"&&d.keyCode===229&&(Xe="onCompositionStart");Xe&&(M&&d.locale!=="ko"&&(xt||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&xt&&(He=sp()):(Js=ge,Qo="value"in Js?Js.value:Js.textContent,xt=!0)),ht=k1(re,Xe),0<ht.length&&(Xe=new lp(Xe,c,null,d,ge),_e.push({event:Xe,listeners:ht}),He?Xe.data=He:(He=Se(d),He!==null&&(Xe.data=He)))),(He=S?Xn(c,d):bt(c,d))&&(Xe=k1(re,"onBeforeInput"),0<Xe.length&&(ht=new lp("onBeforeInput","beforeinput",null,d,ge),_e.push({event:ht,listeners:Xe}),ht.data=He)),Fj(_e,c,re,d,ge)}SO(_e,f)})}function jp(c,f,d){return{instance:c,listener:f,currentTarget:d}}function k1(c,f){for(var d=f+"Capture",m=[];c!==null;){var _=c,b=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||b===null||(_=Ic(c,d),_!=null&&m.unshift(jp(c,_,b)),_=Ic(c,f),_!=null&&m.push(jp(c,_,b))),c.tag===3)return m;c=c.return}return[]}function Jf(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function CO(c,f,d,m,_){for(var b=f._reactName,k=[];d!==null&&d!==m;){var j=d,$=j.alternate,re=j.stateNode;if(j=j.tag,$!==null&&$===m)break;j!==5&&j!==26&&j!==27||re===null||($=re,_?(re=Ic(d,b),re!=null&&k.unshift(jp(d,re,$))):_||(re=Ic(d,b),re!=null&&k.push(jp(d,re,$)))),d=d.return}k.length!==0&&c.push({event:f,listeners:k})}var zj=/\r\n?/g,Wj=/\u0000|\uFFFD/g;function IO(c){return(typeof c=="string"?c:""+c).replace(zj,`
`).replace(Wj,"")}function DO(c,f){return f=IO(f),IO(c)===f}function L1(){}function en(c,f,d,m,_,b){switch(d){case"children":typeof m=="string"?f==="body"||f==="textarea"&&m===""||qi(c,m):(typeof m=="number"||typeof m=="bigint")&&f!=="body"&&qi(c,""+m);break;case"className":Qs(c,"class",m);break;case"tabIndex":Qs(c,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Qs(c,d,m);break;case"style":np(c,m,b);break;case"data":if(f!=="object"){Qs(c,"data",m);break}case"src":case"href":if(m===""&&(f!=="a"||d!=="href")){c.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){c.removeAttribute(d);break}m=wf(""+m),c.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){c.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(d==="formAction"?(f!=="input"&&en(c,f,"name",_.name,_,null),en(c,f,"formEncType",_.formEncType,_,null),en(c,f,"formMethod",_.formMethod,_,null),en(c,f,"formTarget",_.formTarget,_,null)):(en(c,f,"encType",_.encType,_,null),en(c,f,"method",_.method,_,null),en(c,f,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){c.removeAttribute(d);break}m=wf(""+m),c.setAttribute(d,m);break;case"onClick":m!=null&&(c.onclick=L1);break;case"onScroll":m!=null&&mt("scroll",c);break;case"onScrollEnd":m!=null&&mt("scrollend",c);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));c.innerHTML=d}}break;case"multiple":c.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":c.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){c.removeAttribute("xlink:href");break}d=wf(""+m),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(d,""+m):c.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(d,""):c.removeAttribute(d);break;case"capture":case"download":m===!0?c.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?c.setAttribute(d,m):c.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?c.setAttribute(d,m):c.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?c.removeAttribute(d):c.setAttribute(d,m);break;case"popover":mt("beforetoggle",c),mt("toggle",c),Ko(c,"popover",m);break;case"xlinkActuate":Ar(c,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ar(c,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ar(c,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ar(c,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ar(c,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ar(c,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ar(c,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ar(c,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ar(c,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Ko(c,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=zw.get(d)||d,Ko(c,d,m))}}function wb(c,f,d,m,_,b){switch(d){case"style":np(c,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));c.innerHTML=d}}break;case"children":typeof m=="string"?qi(c,m):(typeof m=="number"||typeof m=="bigint")&&qi(c,""+m);break;case"onScroll":m!=null&&mt("scroll",c);break;case"onScrollEnd":m!=null&&mt("scrollend",c);break;case"onClick":m!=null&&(c.onclick=L1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gf.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(_=d.endsWith("Capture"),f=d.slice(2,_?d.length-7:void 0),b=c[Hn]||null,b=b!=null?b[d]:null,typeof b=="function"&&c.removeEventListener(f,b,_),typeof m=="function")){typeof b!="function"&&b!==null&&(d in c?c[d]=null:c.hasAttribute(d)&&c.removeAttribute(d)),c.addEventListener(f,m,_);break e}d in c?c[d]=m:m===!0?c.setAttribute(d,""):Ko(c,d,m)}}}function Ir(c,f,d){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",c),mt("load",c);var m=!1,_=!1,b;for(b in d)if(d.hasOwnProperty(b)){var k=d[b];if(k!=null)switch(b){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:en(c,f,b,k,d,null)}}_&&en(c,f,"srcSet",d.srcSet,d,null),m&&en(c,f,"src",d.src,d,null);return;case"input":mt("invalid",c);var j=b=k=_=null,$=null,re=null;for(m in d)if(d.hasOwnProperty(m)){var ge=d[m];if(ge!=null)switch(m){case"name":_=ge;break;case"type":k=ge;break;case"checked":$=ge;break;case"defaultChecked":re=ge;break;case"value":b=ge;break;case"defaultValue":j=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,f));break;default:en(c,f,m,ge,d,null)}}Sc(c,b,j,$,re,k,_,!1),_f(c);return;case"select":mt("invalid",c),m=k=b=null;for(_ in d)if(d.hasOwnProperty(_)&&(j=d[_],j!=null))switch(_){case"value":b=j;break;case"defaultValue":k=j;break;case"multiple":m=j;default:en(c,f,_,j,d,null)}f=b,d=k,c.multiple=!!m,f!=null?Xa(c,!!m,f,!1):d!=null&&Xa(c,!!m,d,!0);return;case"textarea":mt("invalid",c),b=_=m=null;for(k in d)if(d.hasOwnProperty(k)&&(j=d[k],j!=null))switch(k){case"value":m=j;break;case"defaultValue":_=j;break;case"children":b=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:en(c,f,k,j,d,null)}Tc(c,m,_,b),_f(c);return;case"option":for($ in d)if(d.hasOwnProperty($)&&(m=d[$],m!=null))switch($){case"selected":c.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:en(c,f,$,m,d,null)}return;case"dialog":mt("beforetoggle",c),mt("toggle",c),mt("cancel",c),mt("close",c);break;case"iframe":case"object":mt("load",c);break;case"video":case"audio":for(m=0;m<Up.length;m++)mt(Up[m],c);break;case"image":mt("error",c),mt("load",c);break;case"details":mt("toggle",c);break;case"embed":case"source":case"link":mt("error",c),mt("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in d)if(d.hasOwnProperty(re)&&(m=d[re],m!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:en(c,f,re,m,d,null)}return;default:if(rp(f)){for(ge in d)d.hasOwnProperty(ge)&&(m=d[ge],m!==void 0&&wb(c,f,ge,m,d,void 0));return}}for(j in d)d.hasOwnProperty(j)&&(m=d[j],m!=null&&en(c,f,j,m,d,null))}function Yj(c,f,d,m){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,b=null,k=null,j=null,$=null,re=null,ge=null;for(le in d){var _e=d[le];if(d.hasOwnProperty(le)&&_e!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":$=_e;default:m.hasOwnProperty(le)||en(c,f,le,null,m,_e)}}for(var se in m){var le=m[se];if(_e=d[se],m.hasOwnProperty(se)&&(le!=null||_e!=null))switch(se){case"type":b=le;break;case"name":_=le;break;case"checked":re=le;break;case"defaultChecked":ge=le;break;case"value":k=le;break;case"defaultValue":j=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,f));break;default:le!==_e&&en(c,f,se,le,m,_e)}}Ci(c,k,j,$,re,ge,b,_);return;case"select":le=k=j=se=null;for(b in d)if($=d[b],d.hasOwnProperty(b)&&$!=null)switch(b){case"value":break;case"multiple":le=$;default:m.hasOwnProperty(b)||en(c,f,b,null,m,$)}for(_ in m)if(b=m[_],$=d[_],m.hasOwnProperty(_)&&(b!=null||$!=null))switch(_){case"value":se=b;break;case"defaultValue":j=b;break;case"multiple":k=b;default:b!==$&&en(c,f,_,b,m,$)}f=j,d=k,m=le,se!=null?Xa(c,!!d,se,!1):!!m!=!!d&&(f!=null?Xa(c,!!d,f,!0):Xa(c,!!d,d?[]:"",!1));return;case"textarea":le=se=null;for(j in d)if(_=d[j],d.hasOwnProperty(j)&&_!=null&&!m.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:en(c,f,j,null,m,_)}for(k in m)if(_=m[k],b=d[k],m.hasOwnProperty(k)&&(_!=null||b!=null))switch(k){case"value":se=_;break;case"defaultValue":le=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==b&&en(c,f,k,_,m,b)}Zt(c,se,le);return;case"option":for(var Ze in d)if(se=d[Ze],d.hasOwnProperty(Ze)&&se!=null&&!m.hasOwnProperty(Ze))switch(Ze){case"selected":c.selected=!1;break;default:en(c,f,Ze,null,m,se)}for($ in m)if(se=m[$],le=d[$],m.hasOwnProperty($)&&se!==le&&(se!=null||le!=null))switch($){case"selected":c.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:en(c,f,$,se,m,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in d)se=d[qe],d.hasOwnProperty(qe)&&se!=null&&!m.hasOwnProperty(qe)&&en(c,f,qe,null,m,se);for(re in m)if(se=m[re],le=d[re],m.hasOwnProperty(re)&&se!==le&&(se!=null||le!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,f));break;default:en(c,f,re,se,m,le)}return;default:if(rp(f)){for(var tn in d)se=d[tn],d.hasOwnProperty(tn)&&se!==void 0&&!m.hasOwnProperty(tn)&&wb(c,f,tn,void 0,m,se);for(ge in m)se=m[ge],le=d[ge],!m.hasOwnProperty(ge)||se===le||se===void 0&&le===void 0||wb(c,f,ge,se,m,le);return}}for(var Z in d)se=d[Z],d.hasOwnProperty(Z)&&se!=null&&!m.hasOwnProperty(Z)&&en(c,f,Z,null,m,se);for(_e in m)se=m[_e],le=d[_e],!m.hasOwnProperty(_e)||se===le||se==null&&le==null||en(c,f,_e,se,m,le)}var xb=null,bb=null;function V1(c){return c.nodeType===9?c:c.ownerDocument}function RO(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function OO(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function Eb(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Ab=null;function $j(){var c=window.event;return c&&c.type==="popstate"?c===Ab?!1:(Ab=c,!0):(Ab=null,!1)}var NO=typeof setTimeout=="function"?setTimeout:void 0,Gj=typeof clearTimeout=="function"?clearTimeout:void 0,MO=typeof Promise=="function"?Promise:void 0,qj=typeof queueMicrotask=="function"?queueMicrotask:typeof MO<"u"?function(c){return MO.resolve(null).then(c).catch(Kj)}:NO;function Kj(c){setTimeout(function(){throw c})}function dl(c){return c==="head"}function PO(c,f){var d=f,m=0,_=0;do{var b=d.nextSibling;if(c.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(0<m&&8>m){d=m;var k=c.ownerDocument;if(d&1&&Hp(k.documentElement),d&2&&Hp(k.body),d&4)for(d=k.head,Hp(d),k=d.firstChild;k;){var j=k.nextSibling,$=k.nodeName;k[xc]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&k.rel.toLowerCase()==="stylesheet"||d.removeChild(k),k=j}}if(_===0){c.removeChild(b),Xp(f);return}_--}else d==="$"||d==="$?"||d==="$!"?_++:m=d.charCodeAt(0)-48;else m=0;d=b}while(d);Xp(f)}function Sb(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var d=f;switch(f=f.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Sb(d),qo(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}c.removeChild(d)}}function Xj(c,f,d,m){for(;c.nodeType===1;){var _=d;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!m&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(m){if(!c[xc])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(b=c.getAttribute("rel"),b==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(b!==_.rel||c.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||c.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||c.getAttribute("title")!==(_.title==null?null:_.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(b=c.getAttribute("src"),(b!==(_.src==null?null:_.src)||c.getAttribute("type")!==(_.type==null?null:_.type)||c.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&b&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var b=_.name==null?null:""+_.name;if(_.type==="hidden"&&c.getAttribute("name")===b)return c}else return c;if(c=Os(c.nextSibling),c===null)break}return null}function Qj(c,f,d){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!d||(c=Os(c.nextSibling),c===null))return null;return c}function Tb(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function Zj(c,f){var d=c.ownerDocument;if(c.data!=="$?"||d.readyState==="complete")f();else{var m=function(){f(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),c._reactRetry=m}}function Os(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return c}var Cb=null;function kO(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var d=c.data;if(d==="$"||d==="$!"||d==="$?"){if(f===0)return c;f--}else d==="/$"&&f++}c=c.previousSibling}return null}function LO(c,f,d){switch(f=V1(d),c){case"html":if(c=f.documentElement,!c)throw Error(r(452));return c;case"head":if(c=f.head,!c)throw Error(r(453));return c;case"body":if(c=f.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function Hp(c){for(var f=c.attributes;f.length;)c.removeAttributeNode(f[0]);qo(c)}var is=new Map,VO=new Set;function B1(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var mo=X.d;X.d={f:Jj,r:eH,D:tH,C:nH,L:rH,m:iH,X:aH,S:sH,M:oH};function Jj(){var c=mo.f(),f=D1();return c||f}function eH(c){var f=Ks(c);f!==null&&f.tag===5&&f.type==="form"?rR(f):mo.r(c)}var eh=typeof document>"u"?null:document;function BO(c,f,d){var m=eh;if(m&&typeof f=="string"&&f){var _=zn(f);_='link[rel="'+c+'"][href="'+_+'"]',typeof d=="string"&&(_+='[crossorigin="'+d+'"]'),VO.has(_)||(VO.add(_),c={rel:c,crossOrigin:d,href:f},m.querySelector(_)===null&&(f=m.createElement("link"),Ir(f,"link",c),On(f),m.head.appendChild(f)))}}function tH(c){mo.D(c),BO("dns-prefetch",c,null)}function nH(c,f){mo.C(c,f),BO("preconnect",c,f)}function rH(c,f,d){mo.L(c,f,d);var m=eh;if(m&&c&&f){var _='link[rel="preload"][as="'+zn(f)+'"]';f==="image"&&d&&d.imageSrcSet?(_+='[imagesrcset="'+zn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(_+='[imagesizes="'+zn(d.imageSizes)+'"]')):_+='[href="'+zn(c)+'"]';var b=_;switch(f){case"style":b=th(c);break;case"script":b=nh(c)}is.has(b)||(c=h({rel:"preload",href:f==="image"&&d&&d.imageSrcSet?void 0:c,as:f},d),is.set(b,c),m.querySelector(_)!==null||f==="style"&&m.querySelector(zp(b))||f==="script"&&m.querySelector(Wp(b))||(f=m.createElement("link"),Ir(f,"link",c),On(f),m.head.appendChild(f)))}}function iH(c,f){mo.m(c,f);var d=eh;if(d&&c){var m=f&&typeof f.as=="string"?f.as:"script",_='link[rel="modulepreload"][as="'+zn(m)+'"][href="'+zn(c)+'"]',b=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=nh(c)}if(!is.has(b)&&(c=h({rel:"modulepreload",href:c},f),is.set(b,c),d.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Wp(b)))return}m=d.createElement("link"),Ir(m,"link",c),On(m),d.head.appendChild(m)}}}function sH(c,f,d){mo.S(c,f,d);var m=eh;if(m&&c){var _=Qr(m).hoistableStyles,b=th(c);f=f||"default";var k=_.get(b);if(!k){var j={loading:0,preload:null};if(k=m.querySelector(zp(b)))j.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":f},d),(d=is.get(b))&&Ib(c,d);var $=k=m.createElement("link");On($),Ir($,"link",c),$._p=new Promise(function(re,ge){$.onload=re,$.onerror=ge}),$.addEventListener("load",function(){j.loading|=1}),$.addEventListener("error",function(){j.loading|=2}),j.loading|=4,F1(k,f,m)}k={type:"stylesheet",instance:k,count:1,state:j},_.set(b,k)}}}function aH(c,f){mo.X(c,f);var d=eh;if(d&&c){var m=Qr(d).hoistableScripts,_=nh(c),b=m.get(_);b||(b=d.querySelector(Wp(_)),b||(c=h({src:c,async:!0},f),(f=is.get(_))&&Db(c,f),b=d.createElement("script"),On(b),Ir(b,"link",c),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(_,b))}}function oH(c,f){mo.M(c,f);var d=eh;if(d&&c){var m=Qr(d).hoistableScripts,_=nh(c),b=m.get(_);b||(b=d.querySelector(Wp(_)),b||(c=h({src:c,async:!0,type:"module"},f),(f=is.get(_))&&Db(c,f),b=d.createElement("script"),On(b),Ir(b,"link",c),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(_,b))}}function FO(c,f,d,m){var _=(_=Ae.current)?B1(_):null;if(!_)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(f=th(d.href),d=Qr(_).hoistableStyles,m=d.get(f),m||(m={type:"style",instance:null,count:0,state:null},d.set(f,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){c=th(d.href);var b=Qr(_).hoistableStyles,k=b.get(c);if(k||(_=_.ownerDocument||_,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(c,k),(b=_.querySelector(zp(c)))&&!b._p&&(k.instance=b,k.state.loading=5),is.has(c)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},is.set(c,d),b||lH(_,c,d,k.state))),f&&m===null)throw Error(r(528,""));return k}if(f&&m!==null)throw Error(r(529,""));return null;case"script":return f=d.async,d=d.src,typeof d=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=nh(d),d=Qr(_).hoistableScripts,m=d.get(f),m||(m={type:"script",instance:null,count:0,state:null},d.set(f,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function th(c){return'href="'+zn(c)+'"'}function zp(c){return'link[rel="stylesheet"]['+c+"]"}function UO(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function lH(c,f,d,m){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?m.loading=1:(f=c.createElement("link"),m.preload=f,f.addEventListener("load",function(){return m.loading|=1}),f.addEventListener("error",function(){return m.loading|=2}),Ir(f,"link",d),On(f),c.head.appendChild(f))}function nh(c){return'[src="'+zn(c)+'"]'}function Wp(c){return"script[async]"+c}function jO(c,f,d){if(f.count++,f.instance===null)switch(f.type){case"style":var m=c.querySelector('style[data-href~="'+zn(d.href)+'"]');if(m)return f.instance=m,On(m),m;var _=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(c.ownerDocument||c).createElement("style"),On(m),Ir(m,"style",_),F1(m,d.precedence,c),f.instance=m;case"stylesheet":_=th(d.href);var b=c.querySelector(zp(_));if(b)return f.state.loading|=4,f.instance=b,On(b),b;m=UO(d),(_=is.get(_))&&Ib(m,_),b=(c.ownerDocument||c).createElement("link"),On(b);var k=b;return k._p=new Promise(function(j,$){k.onload=j,k.onerror=$}),Ir(b,"link",m),f.state.loading|=4,F1(b,d.precedence,c),f.instance=b;case"script":return b=nh(d.src),(_=c.querySelector(Wp(b)))?(f.instance=_,On(_),_):(m=d,(_=is.get(b))&&(m=h({},d),Db(m,_)),c=c.ownerDocument||c,_=c.createElement("script"),On(_),Ir(_,"link",m),c.head.appendChild(_),f.instance=_);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(m=f.instance,f.state.loading|=4,F1(m,d.precedence,c));return f.instance}function F1(c,f,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,b=_,k=0;k<m.length;k++){var j=m[k];if(j.dataset.precedence===f)b=j;else if(b!==_)break}b?b.parentNode.insertBefore(c,b.nextSibling):(f=d.nodeType===9?d.head:d,f.insertBefore(c,f.firstChild))}function Ib(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function Db(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var U1=null;function HO(c,f,d){if(U1===null){var m=new Map,_=U1=new Map;_.set(d,m)}else _=U1,m=_.get(d),m||(m=new Map,_.set(d,m));if(m.has(c))return m;for(m.set(c,null),d=d.getElementsByTagName(c),_=0;_<d.length;_++){var b=d[_];if(!(b[xc]||b[Kn]||c==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(f)||"";k=c+k;var j=m.get(k);j?j.push(b):m.set(k,[b])}}return m}function zO(c,f,d){c=c.ownerDocument||c,c.head.insertBefore(d,f==="title"?c.querySelector("head > title"):null)}function cH(c,f,d){if(d===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return c=f.disabled,typeof f.precedence=="string"&&c==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function WO(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var Yp=null;function uH(){}function fH(c,f,d){if(Yp===null)throw Error(r(475));var m=Yp;if(f.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var _=th(d.href),b=c.querySelector(zp(_));if(b){c=b._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(m.count++,m=j1.bind(m),c.then(m,m)),f.state.loading|=4,f.instance=b,On(b);return}b=c.ownerDocument||c,d=UO(d),(_=is.get(_))&&Ib(d,_),b=b.createElement("link"),On(b);var k=b;k._p=new Promise(function(j,$){k.onload=j,k.onerror=$}),Ir(b,"link",d),f.instance=b}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(m.count++,f=j1.bind(m),c.addEventListener("load",f),c.addEventListener("error",f))}}function hH(){if(Yp===null)throw Error(r(475));var c=Yp;return c.stylesheets&&c.count===0&&Rb(c,c.stylesheets),0<c.count?function(f){var d=setTimeout(function(){if(c.stylesheets&&Rb(c,c.stylesheets),c.unsuspend){var m=c.unsuspend;c.unsuspend=null,m()}},6e4);return c.unsuspend=f,function(){c.unsuspend=null,clearTimeout(d)}}:null}function j1(){if(this.count--,this.count===0){if(this.stylesheets)Rb(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var H1=null;function Rb(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,H1=new Map,f.forEach(dH,c),H1=null,j1.call(c))}function dH(c,f){if(!(f.state.loading&4)){var d=H1.get(c);if(d)var m=d.get(null);else{d=new Map,H1.set(c,d);for(var _=c.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<_.length;b++){var k=_[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),m=k)}m&&d.set(null,m)}_=f.instance,k=_.getAttribute("data-precedence"),b=d.get(k)||m,b===m&&d.set(null,_),d.set(k,_),this.count++,m=j1.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),b?b.parentNode.insertBefore(_,b.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(_,c.firstChild)),f.state.loading|=4}}var $p={$$typeof:I,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function pH(c,f,d,m,_,b,k,j){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.hiddenUpdates=Ya(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function YO(c,f,d,m,_,b,k,j,$,re,ge,_e){return c=new pH(c,f,d,k,j,$,re,_e),f=1,b===!0&&(f|=24),b=Di(3,null,null,f),c.current=b,b.stateNode=c,f=fx(),f.refCount++,c.pooledCache=f,f.refCount++,b.memoizedState={element:m,isDehydrated:d,cache:f},gx(b),c}function $O(c){return c?(c=Mf,c):Mf}function GO(c,f,d,m,_,b){_=$O(_),m.context===null?m.context=_:m.pendingContext=_,m=el(f),m.payload={element:d},b=b===void 0?null:b,b!==null&&(m.callback=b),d=tl(c,m,f),d!==null&&(Pi(d,c,f),bp(d,c,f))}function qO(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var d=c.retryLane;c.retryLane=d!==0&&d<f?d:f}}function Ob(c,f){qO(c,f),(c=c.alternate)&&qO(c,f)}function KO(c){if(c.tag===13){var f=Nf(c,67108864);f!==null&&Pi(f,c,67108864),Ob(c,67108864)}}var z1=!0;function gH(c,f,d,m){var _=Y.T;Y.T=null;var b=X.p;try{X.p=2,Nb(c,f,d,m)}finally{X.p=b,Y.T=_}}function mH(c,f,d,m){var _=Y.T;Y.T=null;var b=X.p;try{X.p=8,Nb(c,f,d,m)}finally{X.p=b,Y.T=_}}function Nb(c,f,d,m){if(z1){var _=Mb(m);if(_===null)_b(c,f,m,W1,d),QO(c,m);else if(yH(_,c,f,d,m))m.stopPropagation();else if(QO(c,m),f&4&&-1<vH.indexOf(c)){for(;_!==null;){var b=Ks(_);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=hi(b.pendingLanes);if(k!==0){var j=b;for(j.pendingLanes|=2,j.entangledLanes|=2;k;){var $=1<<31-jn(k);j.entanglements[1]|=$,k&=~$}ca(b),(zt&6)===0&&(C1=ke()+500,Fp(0))}}break;case 13:j=Nf(b,2),j!==null&&Pi(j,b,2),D1(),Ob(b,2)}if(b=Mb(m),b===null&&_b(c,f,m,W1,d),b===_)break;_=b}_!==null&&m.stopPropagation()}else _b(c,f,m,null,d)}}function Mb(c){return c=Ki(c),Pb(c)}var W1=null;function Pb(c){if(W1=null,c=Ga(c),c!==null){var f=s(c);if(f===null)c=null;else{var d=f.tag;if(d===13){if(c=a(f),c!==null)return c;c=null}else if(d===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return W1=c,null}function XO(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ye()){case Ue:return 2;case Ke:return 8;case it:case nt:return 32;case Vt:return 268435456;default:return 32}default:return 32}}var kb=!1,pl=null,gl=null,ml=null,Gp=new Map,qp=new Map,vl=[],vH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QO(c,f){switch(c){case"focusin":case"focusout":pl=null;break;case"dragenter":case"dragleave":gl=null;break;case"mouseover":case"mouseout":ml=null;break;case"pointerover":case"pointerout":Gp.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":qp.delete(f.pointerId)}}function Kp(c,f,d,m,_,b){return c===null||c.nativeEvent!==b?(c={blockedOn:f,domEventName:d,eventSystemFlags:m,nativeEvent:b,targetContainers:[_]},f!==null&&(f=Ks(f),f!==null&&KO(f)),c):(c.eventSystemFlags|=m,f=c.targetContainers,_!==null&&f.indexOf(_)===-1&&f.push(_),c)}function yH(c,f,d,m,_){switch(f){case"focusin":return pl=Kp(pl,c,f,d,m,_),!0;case"dragenter":return gl=Kp(gl,c,f,d,m,_),!0;case"mouseover":return ml=Kp(ml,c,f,d,m,_),!0;case"pointerover":var b=_.pointerId;return Gp.set(b,Kp(Gp.get(b)||null,c,f,d,m,_)),!0;case"gotpointercapture":return b=_.pointerId,qp.set(b,Kp(qp.get(b)||null,c,f,d,m,_)),!0}return!1}function ZO(c){var f=Ga(c.target);if(f!==null){var d=s(f);if(d!==null){if(f=d.tag,f===13){if(f=a(d),f!==null){c.blockedOn=f,D0(c.priority,function(){if(d.tag===13){var m=Mi();m=Yo(m);var _=Nf(d,m);_!==null&&Pi(_,d,m),Ob(d,m)}});return}}else if(f===3&&d.stateNode.current.memoizedState.isDehydrated){c.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Y1(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var d=Mb(c.nativeEvent);if(d===null){d=c.nativeEvent;var m=new d.constructor(d.type,d);Qa=m,d.target.dispatchEvent(m),Qa=null}else return f=Ks(d),f!==null&&KO(f),c.blockedOn=d,!1;f.shift()}return!0}function JO(c,f,d){Y1(c)&&d.delete(f)}function _H(){kb=!1,pl!==null&&Y1(pl)&&(pl=null),gl!==null&&Y1(gl)&&(gl=null),ml!==null&&Y1(ml)&&(ml=null),Gp.forEach(JO),qp.forEach(JO)}function $1(c,f){c.blockedOn===f&&(c.blockedOn=null,kb||(kb=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,_H)))}var G1=null;function e3(c){G1!==c&&(G1=c,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){G1===c&&(G1=null);for(var f=0;f<c.length;f+=3){var d=c[f],m=c[f+1],_=c[f+2];if(typeof m!="function"){if(Pb(m||d)===null)continue;break}var b=Ks(d);b!==null&&(c.splice(f,3),f-=3,Px(b,{pending:!0,data:_,method:d.method,action:m},m,_))}}))}function Xp(c){function f($){return $1($,c)}pl!==null&&$1(pl,c),gl!==null&&$1(gl,c),ml!==null&&$1(ml,c),Gp.forEach(f),qp.forEach(f);for(var d=0;d<vl.length;d++){var m=vl[d];m.blockedOn===c&&(m.blockedOn=null)}for(;0<vl.length&&(d=vl[0],d.blockedOn===null);)ZO(d),d.blockedOn===null&&vl.shift();if(d=(c.ownerDocument||c).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var _=d[m],b=d[m+1],k=_[Hn]||null;if(typeof b=="function")k||e3(d);else if(k){var j=null;if(b&&b.hasAttribute("formAction")){if(_=b,k=b[Hn]||null)j=k.formAction;else if(Pb(_)!==null)continue}else j=k.action;typeof j=="function"?d[m+1]=j:(d.splice(m,3),m-=3),e3(d)}}}function Lb(c){this._internalRoot=c}q1.prototype.render=Lb.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(r(409));var d=f.current,m=Mi();GO(d,m,c,f,null,null)},q1.prototype.unmount=Lb.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;GO(c.current,2,null,c,null,null),D1(),f[Gi]=null}};function q1(c){this._internalRoot=c}q1.prototype.unstable_scheduleHydration=function(c){if(c){var f=$o();c={blockedOn:null,target:c,priority:f};for(var d=0;d<vl.length&&f!==0&&f<vl[d].priority;d++);vl.splice(d,0,c),d===0&&ZO(c)}};var t3=e.version;if(t3!=="19.1.0")throw Error(r(527,t3,"19.1.0"));X.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=l(f),c=c!==null?u(c):null,c=c===null?null:c.stateNode,c};var wH={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var K1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!K1.isDisabled&&K1.supportsFiber)try{pt=K1.inject(wH),at=K1}catch{}}return Zp.createRoot=function(c,f){if(!i(c))throw Error(r(299));var d=!1,m="",_=vR,b=yR,k=_R,j=null;return f!=null&&(f.unstable_strictMode===!0&&(d=!0),f.identifierPrefix!==void 0&&(m=f.identifierPrefix),f.onUncaughtError!==void 0&&(_=f.onUncaughtError),f.onCaughtError!==void 0&&(b=f.onCaughtError),f.onRecoverableError!==void 0&&(k=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(j=f.unstable_transitionCallbacks)),f=YO(c,1,!1,null,null,d,m,_,b,k,j,null),c[Gi]=f.current,yb(c),new Lb(f)},Zp.hydrateRoot=function(c,f,d){if(!i(c))throw Error(r(299));var m=!1,_="",b=vR,k=yR,j=_R,$=null,re=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onUncaughtError!==void 0&&(b=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(j=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&($=d.unstable_transitionCallbacks),d.formState!==void 0&&(re=d.formState)),f=YO(c,1,!0,f,d??null,m,_,b,k,j,$,re),f.context=$O(null),d=f.current,m=Mi(),m=Yo(m),_=el(m),_.callback=null,tl(d,_,m),d=m,f.current.lanes=d,$a(f,d),ca(f),c[Gi]=f.current,yb(c),new q1(f)},Zp.version="19.1.0",Zp}var f3;function NH(){if(f3)return Bb.exports;f3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bb.exports=OH(),Bb.exports}var MH=NH(),G=PS();const ae=MS(G),S8=AH({__proto__:null,default:ae},[G]);function PH({onAddClick:n,onLogout:e,onTabChange:t,currentTab:r}){return D.jsxs("nav",{className:"navbar",children:[D.jsx("button",{onClick:()=>t("dashboard"),title:"Dashboard",className:r==="dashboard"?"text-warning":"text-info",children:D.jsx("i",{className:"bi bi-house-fill"})}),D.jsx("button",{onClick:()=>t("history"),title:"History",children:D.jsx("i",{className:`bi bi-clock-history ${r==="history"?"text-warning":"text-info"}`})}),D.jsx("button",{onClick:n,title:"Add Meal",children:D.jsx("i",{className:`bi bi-plus-circle-fill ${r==="addmead"?"text-warning":"text-info"}`})}),D.jsx("button",{title:"Suggestions",onClick:()=>t("suggestions"),children:D.jsx("i",{className:`bi bi-lightbulb-fill	 ${r==="suggestions"?"text-warning":"text-info"}`})}),D.jsx("button",{onClick:()=>t("profile"),title:"Profile",children:D.jsx("i",{className:`bi bi-person-circle ${r==="profile"?"text-warning":"text-info"}`})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Km(n){return n+.5|0}const kl=(n,e,t)=>Math.max(Math.min(n,t),e);function wg(n){return kl(Km(n*2.55),0,255)}function Ul(n){return kl(Km(n*255),0,255)}function wo(n){return kl(Km(n/2.55)/100,0,1)}function h3(n){return kl(Km(n*100),0,100)}const ss={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},j2=[..."0123456789ABCDEF"],kH=n=>j2[n&15],LH=n=>j2[(n&240)>>4]+j2[n&15],X1=n=>(n&240)>>4===(n&15),VH=n=>X1(n.r)&&X1(n.g)&&X1(n.b)&&X1(n.a);function BH(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ss[n[1]]*17,g:255&ss[n[2]]*17,b:255&ss[n[3]]*17,a:e===5?ss[n[4]]*17:255}:(e===7||e===9)&&(t={r:ss[n[1]]<<4|ss[n[2]],g:ss[n[3]]<<4|ss[n[4]],b:ss[n[5]]<<4|ss[n[6]],a:e===9?ss[n[7]]<<4|ss[n[8]]:255})),t}const FH=(n,e)=>n<255?e(n):"";function UH(n){var e=VH(n)?kH:LH;return n?"#"+e(n.r)+e(n.g)+e(n.b)+FH(n.a,e):void 0}const jH=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function T8(n,e,t){const r=e*Math.min(t,1-t),i=(s,a=(s+n/30)%12)=>t-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function HH(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function zH(n,e,t){const r=T8(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function WH(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function kS(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),a=Math.min(t,r,i),o=(s+a)/2;let l,u,h;return s!==a&&(h=s-a,u=o>.5?h/(2-s-a):h/(s+a),l=WH(t,r,i,h,s),l=l*60+.5),[l|0,u||0,o]}function LS(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Ul)}function VS(n,e,t){return LS(T8,n,e,t)}function YH(n,e,t){return LS(zH,n,e,t)}function $H(n,e,t){return LS(HH,n,e,t)}function C8(n){return(n%360+360)%360}function GH(n){const e=jH.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?wg(+e[5]):Ul(+e[5]));const i=C8(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=YH(i,s,a):e[1]==="hsv"?r=$H(i,s,a):r=VS(i,s,a),{r:r[0],g:r[1],b:r[2],a:t}}function qH(n,e){var t=kS(n);t[0]=C8(t[0]+e),t=VS(t),n.r=t[0],n.g=t[1],n.b=t[2]}function KH(n){if(!n)return;const e=kS(n),t=e[0],r=h3(e[1]),i=h3(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${wo(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const d3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},p3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function XH(){const n={},e=Object.keys(p3),t=Object.keys(d3);let r,i,s,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],i=0;i<t.length;i++)s=t[i],o=o.replace(s,d3[s]);s=parseInt(p3[a],16),n[o]=[s>>16&255,s>>8&255,s&255]}return n}let Q1;function QH(n){Q1||(Q1=XH(),Q1.transparent=[0,0,0,0]);const e=Q1[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const ZH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function JH(n){const e=ZH.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];t=e[8]?wg(a):kl(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?wg(r):kl(r,0,255)),i=255&(e[4]?wg(i):kl(i,0,255)),s=255&(e[6]?wg(s):kl(s,0,255)),{r,g:i,b:s,a:t}}}function ez(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${wo(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const zb=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,rh=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function tz(n,e,t){const r=rh(wo(n.r)),i=rh(wo(n.g)),s=rh(wo(n.b));return{r:Ul(zb(r+t*(rh(wo(e.r))-r))),g:Ul(zb(i+t*(rh(wo(e.g))-i))),b:Ul(zb(s+t*(rh(wo(e.b))-s))),a:n.a+t*(e.a-n.a)}}function Z1(n,e,t){if(n){let r=kS(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=VS(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function I8(n,e){return n&&Object.assign(e||{},n)}function g3(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ul(n[3]))):(e=I8(n,{r:0,g:0,b:0,a:1}),e.a=Ul(e.a)),e}function nz(n){return n.charAt(0)==="r"?JH(n):GH(n)}class fm{constructor(e){if(e instanceof fm)return e;const t=typeof e;let r;t==="object"?r=g3(e):t==="string"&&(r=BH(e)||QH(e)||nz(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=I8(this._rgb);return e&&(e.a=wo(e.a)),e}set rgb(e){this._rgb=g3(e)}rgbString(){return this._valid?ez(this._rgb):void 0}hexString(){return this._valid?UH(this._rgb):void 0}hslString(){return this._valid?KH(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const a=t===s?.5:t,o=2*a-1,l=r.a-i.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-u,r.r=255&u*r.r+s*i.r+.5,r.g=255&u*r.g+s*i.g+.5,r.b=255&u*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=tz(this._rgb,e._rgb,t)),this}clone(){return new fm(this.rgb)}alpha(e){return this._rgb.a=Ul(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Km(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Z1(this._rgb,2,e),this}darken(e){return Z1(this._rgb,2,-e),this}saturate(e){return Z1(this._rgb,1,e),this}desaturate(e){return Z1(this._rgb,1,-e),this}rotate(e){return qH(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function vo(){}const rz=(()=>{let n=0;return()=>n++})();function jt(n){return n==null}function yr(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function It(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ws(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ua(n,e){return ws(n)?n:e}function ut(n,e){return typeof n>"u"?e:n}const iz=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,D8=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function dn(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function qt(n,e,t,r){let i,s,a;if(yr(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(It(n))for(a=Object.keys(n),s=a.length,i=0;i<s;i++)e.call(t,n[a[i]],a[i])}function Cy(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Iy(n){if(yr(n))return n.map(Iy);if(It(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=Iy(n[t[i]]);return e}return n}function R8(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function sz(n,e,t,r){if(!R8(n))return;const i=e[n],s=t[n];It(i)&&It(s)?hm(i,s,r):e[n]=Iy(s)}function hm(n,e,t){const r=yr(e)?e:[e],i=r.length;if(!It(n))return n;t=t||{};const s=t.merger||sz;let a;for(let o=0;o<i;++o){if(a=r[o],!It(a))continue;const l=Object.keys(a);for(let u=0,h=l.length;u<h;++u)s(l[u],n,a,t)}return n}function jg(n,e){return hm(n,e,{merger:az})}function az(n,e,t){if(!R8(n))return;const r=e[n],i=t[n];It(r)&&It(i)?jg(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Iy(i))}const m3={"":n=>n,x:n=>n.x,y:n=>n.y};function oz(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function lz(n){const e=oz(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function Uu(n,e){return(m3[e]||(m3[e]=lz(e)))(n)}function BS(n){return n.charAt(0).toUpperCase()+n.slice(1)}const dm=n=>typeof n<"u",Ql=n=>typeof n=="function",v3=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function cz(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const an=Math.PI,Dn=2*an,uz=Dn+an,Dy=Number.POSITIVE_INFINITY,fz=an/180,sr=an/2,Xc=an/4,y3=an*2/3,O8=Math.log10,Aa=Math.sign;function Hg(n,e,t){return Math.abs(n-e)<t}function _3(n){const e=Math.round(n);n=Hg(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(O8(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function hz(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function dz(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function pm(n){return!dz(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function pz(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function gz(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function xo(n){return n*(an/180)}function mz(n){return n*(180/an)}function w3(n){if(!ws(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function N8(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*an&&(s+=Dn),{angle:s,distance:i}}function H2(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function vz(n,e){return(n-e+uz)%Dn-an}function ks(n){return(n%Dn+Dn)%Dn}function gm(n,e,t,r){const i=ks(n),s=ks(e),a=ks(t),o=ks(s-i),l=ks(a-i),u=ks(i-s),h=ks(i-a);return i===s||i===a||r&&s===a||o>l&&u<h}function Yr(n,e,t){return Math.max(e,Math.min(t,n))}function yz(n){return Yr(n,-32768,32767)}function Ll(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function FS(n,e,t){t=t||(a=>n[a]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const mu=(n,e,t,r)=>FS(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),_z=(n,e,t)=>FS(n,t,r=>n[r][e]>=t);function wz(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const M8=["push","pop","shift","splice","unshift"];function xz(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),M8.forEach(t=>{const r="_onData"+BS(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return n._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...s)}),a}})})}function x3(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(M8.forEach(s=>{delete n[s]}),delete n._chartjs)}function P8(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const k8=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function L8(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,k8.call(window,()=>{r=!1,n.apply(e,t)}))}}function bz(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const V8=n=>n==="start"?"left":n==="end"?"right":"center",ki=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,Ez=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function Az(n,e,t){const r=e.length;let i=0,s=r;if(n._sorted){const{iScale:a,vScale:o,_parsed:l}=n,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,h=a.axis,{min:p,max:g,minDefined:v,maxDefined:w}=a.getUserBounds();if(v){if(i=Math.min(mu(l,h,p).lo,t?r:mu(e,h,a.getPixelForValue(p)).lo),u){const x=l.slice(0,i+1).reverse().findIndex(E=>!jt(E[o.axis]));i-=Math.max(0,x)}i=Yr(i,0,r-1)}if(w){let x=Math.max(mu(l,a.axis,g,!0).hi+1,t?0:mu(e,h,a.getPixelForValue(g),!0).hi+1);if(u){const E=l.slice(x-1).findIndex(A=>!jt(A[o.axis]));x+=Math.max(0,E)}s=Yr(x,i,r)-i}else s=r-i}return{start:i,count:s}}function Sz(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}const J1=n=>n===0||n===1,b3=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Dn/t)),E3=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Dn/t)+1,zg={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*sr)+1,easeOutSine:n=>Math.sin(n*sr),easeInOutSine:n=>-.5*(Math.cos(an*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>J1(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>J1(n)?n:b3(n,.075,.3),easeOutElastic:n=>J1(n)?n:E3(n,.075,.3),easeInOutElastic(n){return J1(n)?n:n<.5?.5*b3(n*2,.1125,.45):.5+.5*E3(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-zg.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?zg.easeInBounce(n*2)*.5:zg.easeOutBounce(n*2-1)*.5+.5};function US(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function A3(n){return US(n)?n:new fm(n)}function Wb(n){return US(n)?n:new fm(n).saturate(.5).darken(.1).hexString()}const Tz=["x","y","borderWidth","radius","tension"],Cz=["color","borderColor","backgroundColor"];function Iz(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Cz},numbers:{type:"number",properties:Tz}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Dz(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const S3=new Map;function Rz(n,e){e=e||{};const t=n+JSON.stringify(e);let r=S3.get(t);return r||(r=new Intl.NumberFormat(n,e),S3.set(t,r)),r}function jS(n,e,t){return Rz(e,t).format(n)}const Oz={values(n){return yr(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=Nz(n,t)}const a=O8(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),jS(n,r,l)}};function Nz(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var B8={formatters:Oz};function Mz(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:B8.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ju=Object.create(null),z2=Object.create(null);function Wg(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function Yb(n,e,t){return typeof e=="string"?hm(Wg(n,e),t):hm(Wg(n,""),e)}class Pz{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Wb(i.backgroundColor),this.hoverBorderColor=(r,i)=>Wb(i.borderColor),this.hoverColor=(r,i)=>Wb(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Yb(this,e,t)}get(e){return Wg(this,e)}describe(e,t){return Yb(z2,e,t)}override(e,t){return Yb(ju,e,t)}route(e,t,r,i){const s=Wg(this,e),a=Wg(this,r),o="_"+t;Object.defineProperties(s,{[o]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[o],u=a[i];return It(l)?Object.assign({},u,l):ut(l,u)},set(l){this[o]=l}}})}apply(e){e.forEach(t=>t(this))}}var Ln=new Pz({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Iz,Dz,Mz]);function kz(n){return!n||jt(n.size)||jt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function T3(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function Qc(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function C3(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function W2(n,e,t,r){F8(n,e,t,r,null)}function F8(n,e,t,r,i){let s,a,o,l,u,h,p,g;const v=e.pointStyle,w=e.rotation,x=e.radius;let E=(w||0)*fz;if(v&&typeof v=="object"&&(s=v.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(E),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(x)||x<=0)){switch(n.beginPath(),v){default:i?n.ellipse(t,r,i/2,x,0,0,Dn):n.arc(t,r,x,0,Dn),n.closePath();break;case"triangle":h=i?i/2:x,n.moveTo(t+Math.sin(E)*h,r-Math.cos(E)*x),E+=y3,n.lineTo(t+Math.sin(E)*h,r-Math.cos(E)*x),E+=y3,n.lineTo(t+Math.sin(E)*h,r-Math.cos(E)*x),n.closePath();break;case"rectRounded":u=x*.516,l=x-u,a=Math.cos(E+Xc)*l,p=Math.cos(E+Xc)*(i?i/2-u:l),o=Math.sin(E+Xc)*l,g=Math.sin(E+Xc)*(i?i/2-u:l),n.arc(t-p,r-o,u,E-an,E-sr),n.arc(t+g,r-a,u,E-sr,E),n.arc(t+p,r+o,u,E,E+sr),n.arc(t-g,r+a,u,E+sr,E+an),n.closePath();break;case"rect":if(!w){l=Math.SQRT1_2*x,h=i?i/2:l,n.rect(t-h,r-l,2*h,2*l);break}E+=Xc;case"rectRot":p=Math.cos(E)*(i?i/2:x),a=Math.cos(E)*x,o=Math.sin(E)*x,g=Math.sin(E)*(i?i/2:x),n.moveTo(t-p,r-o),n.lineTo(t+g,r-a),n.lineTo(t+p,r+o),n.lineTo(t-g,r+a),n.closePath();break;case"crossRot":E+=Xc;case"cross":p=Math.cos(E)*(i?i/2:x),a=Math.cos(E)*x,o=Math.sin(E)*x,g=Math.sin(E)*(i?i/2:x),n.moveTo(t-p,r-o),n.lineTo(t+p,r+o),n.moveTo(t+g,r-a),n.lineTo(t-g,r+a);break;case"star":p=Math.cos(E)*(i?i/2:x),a=Math.cos(E)*x,o=Math.sin(E)*x,g=Math.sin(E)*(i?i/2:x),n.moveTo(t-p,r-o),n.lineTo(t+p,r+o),n.moveTo(t+g,r-a),n.lineTo(t-g,r+a),E+=Xc,p=Math.cos(E)*(i?i/2:x),a=Math.cos(E)*x,o=Math.sin(E)*x,g=Math.sin(E)*(i?i/2:x),n.moveTo(t-p,r-o),n.lineTo(t+p,r+o),n.moveTo(t+g,r-a),n.lineTo(t-g,r+a);break;case"line":a=i?i/2:Math.cos(E)*x,o=Math.sin(E)*x,n.moveTo(t-a,r-o),n.lineTo(t+a,r+o);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(E)*(i?i/2:x),r+Math.sin(E)*x);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function mm(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function HS(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function zS(n){n.restore()}function Lz(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function Vz(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function Bz(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),jt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Fz(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,u=t+s.actualBoundingBoxDescent,h=i.strikethrough?(l+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(a,h),n.lineTo(o,h),n.stroke()}}function Uz(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ry(n,e,t,r,i,s={}){const a=yr(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(n.save(),n.font=i.string,Bz(n,s),l=0;l<a.length;++l)u=a[l],s.backdrop&&Uz(n,s.backdrop),o&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),jt(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(u,t,r,s.maxWidth)),n.fillText(u,t,r,s.maxWidth),Fz(n,t,r,u,s),r+=Number(i.lineHeight);n.restore()}function Oy(n,e){const{x:t,y:r,w:i,h:s,radius:a}=e;n.arc(t+a.topLeft,r+a.topLeft,a.topLeft,1.5*an,an,!0),n.lineTo(t,r+s-a.bottomLeft),n.arc(t+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,an,sr,!0),n.lineTo(t+i-a.bottomRight,r+s),n.arc(t+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,sr,0,!0),n.lineTo(t+i,r+a.topRight),n.arc(t+i-a.topRight,r+a.topRight,a.topRight,0,-sr,!0),n.lineTo(t+a.topLeft,r)}const jz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Hz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function zz(n,e){const t=(""+n).match(jz);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const Wz=n=>+n||0;function WS(n,e){const t={},r=It(e),i=r?Object.keys(e):e,s=It(n)?r?a=>ut(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of i)t[a]=Wz(s(a));return t}function U8(n){return WS(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Lh(n){return WS(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Us(n){const e=U8(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function xi(n,e){n=n||{},e=e||Ln.font;let t=ut(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=ut(n.style,e.style);r&&!(""+r).match(Hz)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:ut(n.family,e.family),lineHeight:zz(ut(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:ut(n.weight,e.weight),string:""};return i.string=kz(i),i}function ev(n,e,t,r){let i,s,a;for(i=0,s=n.length;i<s;++i)if(a=n[i],a!==void 0&&a!==void 0)return a}function Yz(n,e,t){const{min:r,max:i}=n,s=D8(e,(i-r)/2),a=(o,l)=>t&&o===0?0:o+l;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function rf(n,e){return Object.assign(Object.create(n),e)}function YS(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=W8("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:o=>YS([o,...n],e,s,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete n[0][l],!0},get(o,l){return H8(o,l,()=>Jz(l,e,n,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(o,l){return D3(o).includes(l)},ownKeys(o){return D3(o)},set(o,l,u){const h=o._storage||(o._storage=i());return o[l]=h[l]=u,delete o._keys,!0}})}function Wh(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:j8(n,r),setContext:s=>Wh(n,s,t,r),override:s=>Wh(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete n[a],!0},get(s,a,o){return H8(s,a,()=>Gz(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(s,a,o){return n[a]=o,delete s[a],!0}})}function j8(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Ql(t)?t:()=>t,isIndexable:Ql(r)?r:()=>r}}const $z=(n,e)=>n?n+BS(e):e,$S=(n,e)=>It(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function H8(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function Gz(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=n;let o=r[e];return Ql(o)&&a.isScriptable(e)&&(o=qz(e,o,n,t)),yr(o)&&o.length&&(o=Kz(e,o,n,a.isIndexable)),$S(e,o)&&(o=Wh(o,i,s&&s[e],a)),o}function qz(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=t;if(o.has(n))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+n);o.add(n);let l=e(s,a||r);return o.delete(n),$S(n,l)&&(l=GS(i._scopes,i,n,l)),l}function Kz(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(It(e[0])){const l=e,u=i._scopes.filter(h=>h!==l);e=[];for(const h of l){const p=GS(u,i,n,h);e.push(Wh(p,s,a&&a[n],o))}}return e}function z8(n,e,t){return Ql(n)?n(e,t):n}const Xz=(n,e)=>n===!0?e:typeof n=="string"?Uu(e,n):void 0;function Qz(n,e,t,r,i){for(const s of e){const a=Xz(t,s);if(a){n.add(a);const o=z8(a._fallback,t,i);if(typeof o<"u"&&o!==t&&o!==r)return o}else if(a===!1&&typeof r<"u"&&t!==r)return null}return!1}function GS(n,e,t,r){const i=e._rootScopes,s=z8(e._fallback,t,r),a=[...n,...i],o=new Set;o.add(r);let l=I3(o,a,t,s||t,r);return l===null||typeof s<"u"&&s!==t&&(l=I3(o,a,s,l,r),l===null)?!1:YS(Array.from(o),[""],i,s,()=>Zz(e,t,r))}function I3(n,e,t,r,i){for(;t;)t=Qz(n,e,t,r,i);return t}function Zz(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return yr(i)&&It(t)?t:i||{}}function Jz(n,e,t,r){let i;for(const s of e)if(i=W8($z(s,n),t),typeof i<"u")return $S(n,i)?GS(t,r,n,i):i}function W8(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function D3(n){let e=n._keys;return e||(e=n._keys=eW(n._scopes)),e}function eW(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const tW=Number.EPSILON||1e-14,Yh=(n,e)=>e<n.length&&!n[e].skip&&n[e],Y8=n=>n==="x"?"y":"x";function nW(n,e,t,r){const i=n.skip?e:n,s=e,a=t.skip?e:t,o=H2(s,i),l=H2(a,s);let u=o/(o+l),h=l/(o+l);u=isNaN(u)?0:u,h=isNaN(h)?0:h;const p=r*u,g=r*h;return{previous:{x:s.x-p*(a.x-i.x),y:s.y-p*(a.y-i.y)},next:{x:s.x+g*(a.x-i.x),y:s.y+g*(a.y-i.y)}}}function rW(n,e,t){const r=n.length;let i,s,a,o,l,u=Yh(n,0);for(let h=0;h<r-1;++h)if(l=u,u=Yh(n,h+1),!(!l||!u)){if(Hg(e[h],0,tW)){t[h]=t[h+1]=0;continue}i=t[h]/e[h],s=t[h+1]/e[h],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),t[h]=i*a*e[h],t[h+1]=s*a*e[h])}}function iW(n,e,t="x"){const r=Y8(t),i=n.length;let s,a,o,l=Yh(n,0);for(let u=0;u<i;++u){if(a=o,o=l,l=Yh(n,u+1),!o)continue;const h=o[t],p=o[r];a&&(s=(h-a[t])/3,o[`cp1${t}`]=h-s,o[`cp1${r}`]=p-s*e[u]),l&&(s=(l[t]-h)/3,o[`cp2${t}`]=h+s,o[`cp2${r}`]=p+s*e[u])}}function sW(n,e="x"){const t=Y8(e),r=n.length,i=Array(r).fill(0),s=Array(r);let a,o,l,u=Yh(n,0);for(a=0;a<r;++a)if(o=l,l=u,u=Yh(n,a+1),!!l){if(u){const h=u[e]-l[e];i[a]=h!==0?(u[t]-l[t])/h:0}s[a]=o?u?Aa(i[a-1])!==Aa(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}rW(n,i,s),iW(n,s,e)}function tv(n,e,t){return Math.max(Math.min(n,t),e)}function aW(n,e){let t,r,i,s,a,o=mm(n[0],e);for(t=0,r=n.length;t<r;++t)a=s,s=o,o=t<r-1&&mm(n[t+1],e),s&&(i=n[t],a&&(i.cp1x=tv(i.cp1x,e.left,e.right),i.cp1y=tv(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=tv(i.cp2x,e.left,e.right),i.cp2y=tv(i.cp2y,e.top,e.bottom)))}function oW(n,e,t,r,i){let s,a,o,l;if(e.spanGaps&&(n=n.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")sW(n,i);else{let u=r?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)o=n[s],l=nW(u,o,n[Math.min(s+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}e.capBezierPoints&&aW(n,t)}function qS(){return typeof window<"u"&&typeof document<"u"}function KS(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ny(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const k_=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function lW(n,e){return k_(n).getPropertyValue(e)}const cW=["top","right","bottom","left"];function Tu(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=cW[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const uW=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function fW(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let a=!1,o,l;if(uW(i,s,n.target))o=i,l=s;else{const u=e.getBoundingClientRect();o=r.clientX-u.left,l=r.clientY-u.top,a=!0}return{x:o,y:l,box:a}}function ru(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=k_(t),s=i.boxSizing==="border-box",a=Tu(i,"padding"),o=Tu(i,"border","width"),{x:l,y:u,box:h}=fW(n,t),p=a.left+(h&&o.left),g=a.top+(h&&o.top);let{width:v,height:w}=e;return s&&(v-=a.width+o.width,w-=a.height+o.height),{x:Math.round((l-p)/v*t.width/r),y:Math.round((u-g)/w*t.height/r)}}function hW(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&KS(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const a=s.getBoundingClientRect(),o=k_(s),l=Tu(o,"border","width"),u=Tu(o,"padding");e=a.width-u.width-l.width,t=a.height-u.height-l.height,r=Ny(o.maxWidth,s,"clientWidth"),i=Ny(o.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||Dy,maxHeight:i||Dy}}const nv=n=>Math.round(n*10)/10;function dW(n,e,t,r){const i=k_(n),s=Tu(i,"margin"),a=Ny(i.maxWidth,n,"clientWidth")||Dy,o=Ny(i.maxHeight,n,"clientHeight")||Dy,l=hW(n,e,t);let{width:u,height:h}=l;if(i.boxSizing==="content-box"){const g=Tu(i,"border","width"),v=Tu(i,"padding");u-=v.width+g.width,h-=v.height+g.height}return u=Math.max(0,u-s.width),h=Math.max(0,r?u/r:h-s.height),u=nv(Math.min(u,a,l.maxWidth)),h=nv(Math.min(h,o,l.maxHeight)),u&&!h&&(h=nv(u/2)),(e!==void 0||t!==void 0)&&r&&l.height&&h>l.height&&(h=l.height,u=nv(Math.floor(h*r))),{width:u,height:h}}function R3(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(n.currentDevicePixelRatio=r,a.height=i,a.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const pW=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};qS()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function O3(n,e){const t=lW(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function iu(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function gW(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function mW(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},a=iu(n,i,t),o=iu(i,s,t),l=iu(s,e,t),u=iu(a,o,t),h=iu(o,l,t);return iu(u,h,t)}const vW=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},yW=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Vh(n,e,t){return n?vW(e,t):yW()}function $8(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function G8(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function q8(n){return n==="angle"?{between:gm,compare:vz,normalize:ks}:{between:Ll,compare:(e,t)=>e-t,normalize:e=>e}}function N3({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function _W(n,e,t){const{property:r,start:i,end:s}=t,{between:a,normalize:o}=q8(r),l=e.length;let{start:u,end:h,loop:p}=n,g,v;if(p){for(u+=l,h+=l,g=0,v=l;g<v&&a(o(e[u%l][r]),i,s);++g)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:p,style:n.style}}function wW(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,a=e.length,{compare:o,between:l,normalize:u}=q8(r),{start:h,end:p,loop:g,style:v}=_W(n,e,t),w=[];let x=!1,E=null,A,T,I;const P=()=>l(i,I,A)&&o(i,I)!==0,O=()=>o(s,A)===0||l(s,I,A),V=()=>x||P(),R=()=>!x||O();for(let C=h,N=h;C<=p;++C)T=e[C%a],!T.skip&&(A=u(T[r]),A!==I&&(x=l(A,i,s),E===null&&V()&&(E=o(A,i)===0?C:N),E!==null&&R()&&(w.push(N3({start:E,end:C,loop:g,count:a,style:v})),E=null),N=C,I=A));return E!==null&&w.push(N3({start:E,end:p,loop:g,count:a,style:v})),w}function xW(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=wW(r[i],n.points,e);s.length&&t.push(...s)}return t}function bW(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function EW(n,e,t,r){const i=n.length,s=[];let a=e,o=n[e],l;for(l=e+1;l<=t;++l){const u=n[l%i];u.skip||u.stop?o.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=a=u.stop?l:null):(a=l,o.skip&&(e=l)),o=u}return a!==null&&s.push({start:e%i,end:a%i,loop:r}),s}function AW(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:a,end:o}=bW(t,i,s,r);if(r===!0)return M3(n,[{start:a,end:o,loop:s}],t,e);const l=o<a?o+i:o,u=!!n._fullLoop&&a===0&&o===i-1;return M3(n,EW(t,a,l,u),t,e)}function M3(n,e,t,r){return!r||!r.setContext||!t?e:SW(n,e,t,r)}function SW(n,e,t,r){const i=n._chart.getContext(),s=P3(n.options),{_datasetIndex:a,options:{spanGaps:o}}=n,l=t.length,u=[];let h=s,p=e[0].start,g=p;function v(w,x,E,A){const T=o?-1:1;if(w!==x){for(w+=l;t[w%l].skip;)w-=T;for(;t[x%l].skip;)x+=T;w%l!==x%l&&(u.push({start:w%l,end:x%l,loop:E,style:A}),h=A,p=x%l)}}for(const w of e){p=o?p:w.start;let x=t[p%l],E;for(g=p+1;g<=w.end;g++){const A=t[g%l];E=P3(r.setContext(rf(i,{type:"segment",p0:x,p1:A,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:a}))),TW(E,h)&&v(p,g-1,w.loop,h),x=A,h=E}p<g-1&&v(p,g-1,w.loop,h)}return u}function P3(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function TW(n,e){if(!e)return!1;const t=[],r=function(i,s){return US(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function rv(n,e,t){return n.options.clip?n[t]:e[t]}function CW(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:rv(t,e,"left"),right:rv(t,e,"right"),top:rv(r,e,"top"),bottom:rv(r,e,"bottom")}:e}function IW(n,e){const t=e._clip;if(t.disabled)return!1;const r=CW(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class DW{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],a=t.duration;s.forEach(o=>o({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=k8.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var yo=new DW;const k3="transparent",RW={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=A3(n||k3),i=r.valid&&A3(e||k3);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class OW{constructor(e,t,r,i){const s=t[r];i=ev([e.to,i,s,e.from]);const a=ev([e.from,s,i]);this._active=!0,this._fn=e.fn||RW[e.type||typeof a],this._easing=zg[e.easing]||zg.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ev([e.to,t,i,e.from]),this._from=ev([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||t<r),!this._active){this._target[i]=o,this._notify(!0);return}if(t<0){this._target[i]=s;return}l=t/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class K8{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!It(e))return;const t=Object.keys(Ln.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!It(s))return;const a={};for(const o of t)a[o]=s[o];(yr(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,t){const r=t.options,i=MW(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&NW(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const u=a[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,t));continue}const h=t[u];let p=s[u];const g=r.get(u);if(p)if(g&&p.active()){p.update(g,h,o);continue}else p.cancel();if(!g||!g.duration){e[u]=h;continue}s[u]=p=new OW(g,e,u,h),i.push(p)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return yo.add(this._chart,r),!0}}function NW(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function MW(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function L3(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function PW(n,e,t){if(t===!1)return!1;const r=L3(n,t),i=L3(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function kW(n){let e,t,r,i;return It(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function X8(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function V3(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let a,o,l,u;if(e===null)return;let h=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===t){if(h=!0,r.all)continue;break}u=n.values[l],ws(u)&&(s||e===0||Aa(e)===Aa(u))&&(e+=u)}return!h&&!r.all?0:e}function LW(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(n),o=new Array(a.length);let l,u,h;for(l=0,u=a.length;l<u;++l)h=a[l],o[l]={[i]:h,[s]:n[h]};return o}function $b(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function VW(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function BW(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function FW(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function B3(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function F3(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,u=a.axis,h=VW(s,a,r),p=e.length;let g;for(let v=0;v<p;++v){const w=e[v],{[l]:x,[u]:E}=w,A=w._stacks||(w._stacks={});g=A[u]=FW(i,h,x),g[o]=E,g._top=B3(g,a,!0,r.type),g._bottom=B3(g,a,!1,r.type);const T=g._visualValues||(g._visualValues={});T[o]=E}}function Gb(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function UW(n,e){return rf(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function jW(n,e,t){return rf(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Jp(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const qb=n=>n==="reset"||n==="none",U3=(n,e)=>e?n:Object.assign({},n),HW=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:X8(t,!0),values:null};class Cu{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=$b(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jp(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(p,g,v,w)=>p==="x"?g:p==="r"?w:v,s=t.xAxisID=ut(r.xAxisID,Gb(e,"x")),a=t.yAxisID=ut(r.yAxisID,Gb(e,"y")),o=t.rAxisID=ut(r.rAxisID,Gb(e,"r")),l=t.indexAxis,u=t.iAxisID=i(l,s,a,o),h=t.vAxisID=i(l,a,s,o);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&x3(this._data,this),e._stacked&&Jp(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(It(t)){const i=this._cachedMeta;this._data=LW(t,i)}else if(r!==t){if(r){x3(r,this);const i=this._cachedMeta;Jp(i),i._parsed=[]}t&&Object.isExtensible(t)&&xz(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=$b(t.vScale,t),t.stack!==r.stack&&(i=!0,Jp(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(F3(this,t._parsed),t._stacked=$b(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,o=s.axis;let l=e===0&&t===i.length?!0:r._sorted,u=e>0&&r._parsed[e-1],h,p,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{yr(i[e])?g=this.parseArrayData(r,i,e,t):It(i[e])?g=this.parseObjectData(r,i,e,t):g=this.parsePrimitiveData(r,i,e,t);const v=()=>p[o]===null||u&&p[o]<u[o];for(h=0;h<t;++h)r._parsed[h+e]=p=g[h],l&&(v()&&(l=!1),u=p);r._sorted=l}a&&F3(this,g)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,u=s.getLabels(),h=s===a,p=new Array(i);let g,v,w;for(g=0,v=i;g<v;++g)w=g+r,p[g]={[o]:h||s.parse(u[w],w),[l]:a.parse(t[w],w)};return p}parseArrayData(e,t,r,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,u,h,p;for(l=0,u=i;l<u;++l)h=l+r,p=t[h],o[l]={x:s.parse(p[0],h),y:a.parse(p[1],h)};return o}parseObjectData(e,t,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let h,p,g,v;for(h=0,p=i;h<p;++h)g=h+r,v=t[g],u[h]={x:s.parse(Uu(v,o),g),y:a.parse(Uu(v,l),g)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,a=t[e.axis],o={keys:X8(i,!0),values:t._stacks[e.axis]._visualValues};return V3(o,a,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let a=s===null?NaN:s;const o=i&&r._stacks[t.axis];i&&o&&(i.values=o,a=V3(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,o=this._getOtherScale(e),l=HW(t,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:p}=BW(o);let g,v;function w(){v=i[g];const x=v[o.axis];return!ws(v[e.axis])||h>x||p<x}for(g=0;g<a&&!(!w()&&(this.updateRangeFromParsed(u,e,v,l),s));++g);if(s){for(g=a-1;g>=0;--g)if(!w()){this.updateRangeFromParsed(u,e,v,l);break}}return u}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i][e.axis],ws(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=kW(ut(this.options.clip,PW(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,u=this.options.drawActiveElementsOnTop;let h;for(r.dataset&&r.dataset.draw(e,s,o,l),h=o;h<o+l;++h){const p=i[h];p.hidden||(p.active&&u?a.push(p):p.draw(e,s))}for(h=0;h<a.length;++h)a[h].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=jW(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=UW(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,a=e+"-"+t,o=s[a],l=this.enableOptionSharing&&dm(r);if(o)return U3(o,l);const u=this.chart.config,h=u.datasetElementScopeKeys(this._type,e),p=i?[`${e}Hover`,"hover",e,""]:[e,""],g=u.getOptionScopes(this.getDataset(),h),v=Object.keys(Ln.elements[e]),w=()=>this.getContext(r,i,t),x=u.resolveNamedOptions(g,v,w,p);return x.$shared&&(x.$shared=l,s[a]=Object.freeze(U3(x,l))),x}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const h=this.chart.config,p=h.datasetAnimationScopeKeys(this._type,t),g=h.getOptionScopes(this.getDataset(),p);l=h.createResolver(g,this.getContext(e,r,t))}const u=new K8(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||qb(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:a}}updateElement(e,t,r,i){qb(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!qb(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const i=r.length,s=t.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,a=e+t;let o;const l=u=>{for(u.length+=t,o=u.length-1;o>=a;o--)u[o]=u[o-t]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&Jp(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}de(Cu,"defaults",{}),de(Cu,"datasetElementType",null),de(Cu,"dataElementType",null);function zW(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=P8(r.sort((i,s)=>i-s))}return n._cache.$bar}function WW(n){const e=n.iScale,t=zW(e,n.type);let r=e._length,i,s,a,o;const l=()=>{a===32767||a===-32768||(dm(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(i=0,s=t.length;i<s;++i)a=e.getPixelForValue(t[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),l();return r}function YW(n,e,t,r){const i=t.barThickness;let s,a;return jt(i)?(s=e.min*t.categoryPercentage,a=t.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:e.pixels[n]-s/2}}function $W(n,e,t,r){const i=e.pixels,s=i[n];let a=n>0?i[n-1]:null,o=n<i.length-1?i[n+1]:null;const l=t.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const u=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:t.barPercentage,start:u}}function GW(n,e,t,r){const i=t.parse(n[0],r),s=t.parse(n[1],r),a=Math.min(i,s),o=Math.max(i,s);let l=a,u=o;Math.abs(a)>Math.abs(o)&&(l=o,u=a),e[t.axis]=u,e._custom={barStart:l,barEnd:u,start:i,end:s,min:a,max:o}}function Q8(n,e,t,r){return yr(n)?GW(n,e,t,r):e[t.axis]=t.parse(n,r),e}function j3(n,e,t,r){const i=n.iScale,s=n.vScale,a=i.getLabels(),o=i===s,l=[];let u,h,p,g;for(u=t,h=t+r;u<h;++u)g=e[u],p={},p[i.axis]=o||i.parse(a[u],u),l.push(Q8(g,p,s,u));return l}function Kb(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function qW(n,e,t){return n!==0?Aa(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function KW(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}function XW(n,e,t,r){let i=e.borderSkipped;const s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:u,bottom:h}=KW(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=u:(t._bottom||0)===r?i=h:(s[H3(h,a,o,l)]=!0,i=u)),s[H3(i,a,o,l)]=!0,n.borderSkipped=s}function H3(n,e,t,r){return r?(n=QW(n,e,t),n=z3(n,t,e)):n=z3(n,e,t),n}function QW(n,e,t){return n===e?t:n===t?e:n}function z3(n,e,t){return n==="start"?e:n==="end"?t:n}function ZW(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class zv extends Cu{parsePrimitiveData(e,t,r,i){return j3(e,t,r,i)}parseArrayData(e,t,r,i){return j3(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?o:l,h=a.axis==="x"?o:l,p=[];let g,v,w,x;for(g=r,v=r+i;g<v;++g)x=t[g],w={},w[s.axis]=s.parse(Uu(x,u),g),p.push(Q8(Uu(x,h),w,a,g));return p}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,s=this.getParsed(e),a=s._custom,o=Kb(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),u=o.isHorizontal(),h=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(t,i);for(let v=t;v<t+r;v++){const w=this.getParsed(v),x=s||jt(w[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(v),E=this._calculateBarIndexPixels(v,h),A=(w._stacks||{})[o.axis],T={horizontal:u,base:x.base,enableBorderRadius:!A||Kb(w._custom)||a===A._top||a===A._bottom,x:u?x.head:E.center,y:u?E.center:x.head,height:u?E.size:Math.abs(x.size),width:u?Math.abs(x.size):E.size};g&&(T.options=p||this.resolveDataElementOptions(v,e[v].active?"active":i));const I=T.options||e[v].options;XW(T,I,A,a),ZW(T,I,h.ratio),this.updateElement(e[v],v,T,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(t),l=o&&o[r.axis],u=h=>{const p=h._parsed.find(v=>v[r.axis]===l),g=p&&p[h.vScale.axis];if(jt(g)||isNaN(g))return!0};for(const h of i)if(!(t!==void 0&&u(h))&&((s===!1||a.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[ut(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const i=this._getStacks(e,r),s=t!==void 0?i.indexOf(t):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let s,a;for(s=0,a=t.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const o=e.barThickness;return{min:o||WW(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,l=this.getParsed(e),u=l._custom,h=Kb(u);let p=l[t.axis],g=0,v=r?this.applyStack(t,l,r):p,w,x;v!==p&&(g=v-p,v=p),h&&(p=u.barStart,v=u.barEnd-u.barStart,p!==0&&Aa(p)!==Aa(u.barEnd)&&(g=0),g+=p);const E=!jt(s)&&!h?s:g;let A=t.getPixelForValue(E);if(this.chart.getDataVisibility(e)?w=t.getPixelForValue(g+v):w=A,x=w-A,Math.abs(x)<a){x=qW(x,t,o)*a,p===o&&(A-=x/2);const T=t.getPixelForDecimal(0),I=t.getPixelForDecimal(1),P=Math.min(T,I),O=Math.max(T,I);A=Math.max(Math.min(A,O),P),w=A+x,r&&!h&&(l._stacks[t.axis]._visualValues[i]=t.getValueForPixel(w)-t.getValueForPixel(A))}if(A===t.getPixelForValue(o)){const T=Aa(x)*t.getLineWidthForValue(o)/2;A+=T,x-=T}return{size:x,base:A,head:w,center:w+x/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,s=i.skipNull,a=ut(i.maxBarThickness,1/0);let o,l;const u=this._getAxisCount();if(t.grouped){const h=s?this._getStackCount(e):t.stackCount,p=i.barThickness==="flex"?$W(e,t,i,h*u):YW(e,t,i,h*u),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(ut(g,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+v;o=p.start+p.chunk*w+p.chunk/2,l=Math.min(a,p.chunk*p.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,t.min*t.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[t.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}de(zv,"id","bar"),de(zv,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),de(zv,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function JW(n,e,t){let r=1,i=1,s=0,a=0;if(e<Dn){const o=n,l=o+e,u=Math.cos(o),h=Math.sin(o),p=Math.cos(l),g=Math.sin(l),v=(I,P,O)=>gm(I,o,l,!0)?1:Math.max(P,P*t,O,O*t),w=(I,P,O)=>gm(I,o,l,!0)?-1:Math.min(P,P*t,O,O*t),x=v(0,u,p),E=v(sr,h,g),A=w(an,u,p),T=w(an+sr,h,g);r=(x-A)/2,i=(E-T)/2,s=-(x+A)/2,a=-(E+T)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class xg extends Cu{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(It(r[e])){const{key:l="value"}=this._parsing;s=u=>+Uu(r[u],l)}let a,o;for(a=e,o=e+t;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return xo(this.options.rotation-90)}_getCircumference(){return xo(this.options.circumference)}_getRotationExtents(){let e=Dn,t=-Dn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(iz(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:h,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:v,offsetX:w,offsetY:x}=JW(p,h,l),E=(r.width-a)/g,A=(r.height-a)/v,T=Math.max(Math.min(E,A)/2,0),I=D8(this.options.radius,T),P=Math.max(I*l,0),O=(I-P)/this._getVisibleDatasetWeightTotal();this.offsetX=w*I,this.offsetY=x*I,i.total=this.calculateTotal(),this.outerRadius=I-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Dn)}updateElements(e,t,r,i){const s=i==="reset",a=this.chart,o=a.chartArea,u=a.options.animation,h=(o.left+o.right)/2,p=(o.top+o.bottom)/2,g=s&&u.animateScale,v=g?0:this.innerRadius,w=g?0:this.outerRadius,{sharedOptions:x,includeOptions:E}=this._getSharedOptions(t,i);let A=this._getRotation(),T;for(T=0;T<t;++T)A+=this._circumference(T,s);for(T=t;T<t+r;++T){const I=this._circumference(T,s),P=e[T],O={x:h+this.offsetX,y:p+this.offsetY,startAngle:A,endAngle:A+I,circumference:I,outerRadius:w,innerRadius:v};E&&(O.options=x||this.resolveDataElementOptions(T,P.active?"active":i)),A+=I,this.updateElement(P,T,O,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Dn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=jS(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,a,o,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(ut(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}de(xg,"id","doughnut"),de(xg,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),de(xg,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),de(xg,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class Wv extends Cu{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=t,a=this.chart._animationsDisabled;let{start:o,count:l}=Az(t,i,a);this._drawStart=o,this._drawCount=l,Sz(t)&&(o=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(i,o,l,e)}updateElements(e,t,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(t,i),g=a.axis,v=o.axis,{spanGaps:w,segment:x}=this.options,E=pm(w)?w:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||s||i==="none",T=t+r,I=e.length;let P=t>0&&this.getParsed(t-1);for(let O=0;O<I;++O){const V=e[O],R=A?V:{};if(O<t||O>=T){R.skip=!0;continue}const C=this.getParsed(O),N=jt(C[v]),L=R[g]=a.getPixelForValue(C[g],O),F=R[v]=s||N?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,C,l):C[v],O);R.skip=isNaN(L)||isNaN(F)||N,R.stop=O>0&&Math.abs(C[g]-P[g])>E,x&&(R.parsed=C,R.raw=u.data[O]),p&&(R.options=h||this.resolveDataElementOptions(O,V.active?"active":i)),A||this.updateElement(V,O,R,i),P=C}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}de(Wv,"id","line"),de(Wv,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),de(Wv,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Zc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class XS{constructor(e){de(this,"options");this.options=e||{}}static override(e){Object.assign(XS.prototype,e)}init(){}formats(){return Zc()}parse(){return Zc()}format(){return Zc()}add(){return Zc()}diff(){return Zc()}startOf(){return Zc()}endOf(){return Zc()}}var Z8={_date:XS};function eY(n,e,t,r){const{controller:i,data:s,_sorted:a}=n,o=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const u=o._reversePixels?_z:mu;if(r){if(i._sharedOptions){const h=s[0],p=typeof h.getRange=="function"&&h.getRange(e);if(p){const g=u(s,e,t-p),v=u(s,e,t+p);return{lo:g.lo,hi:v.hi}}}}else{const h=u(s,e,t);if(l){const{vScale:p}=i._cachedMeta,{_parsed:g}=n,v=g.slice(0,h.lo+1).reverse().findIndex(x=>!jt(x[p.axis]));h.lo-=Math.max(0,v);const w=g.slice(h.hi).findIndex(x=>!jt(x[p.axis]));h.hi+=Math.max(0,w)}return h}}return{lo:0,hi:s.length-1}}function L_(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),a=t[e];for(let o=0,l=s.length;o<l;++o){const{index:u,data:h}=s[o],{lo:p,hi:g}=eY(s[o],e,a,i);for(let v=p;v<=g;++v){const w=h[v];w.skip||r(w,u,v)}}}function tY(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Xb(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||L_(n,t,e,function(o,l,u){!i&&!mm(o,n.chartArea,0)||o.inRange(e.x,e.y,r)&&s.push({element:o,datasetIndex:l,index:u})},!0),s}function nY(n,e,t,r){let i=[];function s(a,o,l){const{startAngle:u,endAngle:h}=a.getProps(["startAngle","endAngle"],r),{angle:p}=N8(a,{x:e.x,y:e.y});gm(p,u,h)&&i.push({element:a,datasetIndex:o,index:l})}return L_(n,t,e,s),i}function rY(n,e,t,r,i,s){let a=[];const o=tY(t);let l=Number.POSITIVE_INFINITY;function u(h,p,g){const v=h.inRange(e.x,e.y,i);if(r&&!v)return;const w=h.getCenterPoint(i);if(!(!!s||n.isPointInArea(w))&&!v)return;const E=o(e,w);E<l?(a=[{element:h,datasetIndex:p,index:g}],l=E):E===l&&a.push({element:h,datasetIndex:p,index:g})}return L_(n,t,e,u),a}function Qb(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?nY(n,e,t,i):rY(n,e,t,r,i,s)}function W3(n,e,t,r,i){const s=[],a=t==="x"?"inXRange":"inYRange";let o=!1;return L_(n,t,e,(l,u,h)=>{l[a]&&l[a](e[t],i)&&(s.push({element:l,datasetIndex:u,index:h}),o=o||l.inRange(e.x,e.y,i))}),r&&!o?[]:s}var iY={modes:{index(n,e,t,r){const i=ru(e,n),s=t.axis||"x",a=t.includeInvisible||!1,o=t.intersect?Xb(n,i,s,r,a):Qb(n,i,s,!1,r,a),l=[];return o.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{const h=o[0].index,p=u.data[h];p&&!p.skip&&l.push({element:p,datasetIndex:u.index,index:h})}),l):[]},dataset(n,e,t,r){const i=ru(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;let o=t.intersect?Xb(n,i,s,r,a):Qb(n,i,s,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,u=n.getDatasetMeta(l).data;o=[];for(let h=0;h<u.length;++h)o.push({element:u[h],datasetIndex:l,index:h})}return o},point(n,e,t,r){const i=ru(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return Xb(n,i,s,r,a)},nearest(n,e,t,r){const i=ru(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return Qb(n,i,s,t.intersect,r,a)},x(n,e,t,r){const i=ru(e,n);return W3(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=ru(e,n);return W3(n,i,"y",t.intersect,r)}}};const J8=["left","top","right","bottom"];function eg(n,e){return n.filter(t=>t.pos===e)}function Y3(n,e){return n.filter(t=>J8.indexOf(t.pos)===-1&&t.box.axis===e)}function tg(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function sY(n){const e=[];let t,r,i,s,a,o;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function aY(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!J8.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function oY(n,e){const t=aY(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=n.length;s<a;++s){o=n[s];const{fullSize:l}=o.box,u=t[o.stack],h=u&&o.stackWeight/u.weight;o.horizontal?(o.width=h?h*r:l&&e.availableWidth,o.height=i):(o.width=r,o.height=h?h*i:l&&e.availableHeight)}return t}function lY(n){const e=sY(n),t=tg(e.filter(u=>u.box.fullSize),!0),r=tg(eg(e,"left"),!0),i=tg(eg(e,"right")),s=tg(eg(e,"top"),!0),a=tg(eg(e,"bottom")),o=Y3(e,"x"),l=Y3(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:eg(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function $3(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function eL(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function cY(n,e,t,r){const{pos:i,box:s}=t,a=n.maxPadding;if(!It(i)){t.size&&(n[i]-=t.size);const p=r[t.stack]||{size:0,count:1};p.size=Math.max(p.size,t.horizontal?s.height:s.width),t.size=p.size/p.count,n[i]+=t.size}s.getPadding&&eL(a,s.getPadding());const o=Math.max(0,e.outerWidth-$3(a,n,"left","right")),l=Math.max(0,e.outerHeight-$3(a,n,"top","bottom")),u=o!==n.w,h=l!==n.h;return n.w=o,n.h=l,t.horizontal?{same:u,other:h}:{same:h,other:u}}function uY(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function fY(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}return r(n?["left","right"]:["top","bottom"])}function bg(n,e,t,r){const i=[];let s,a,o,l,u,h;for(s=0,a=n.length,u=0;s<a;++s){o=n[s],l=o.box,l.update(o.width||e.w,o.height||e.h,fY(o.horizontal,e));const{same:p,other:g}=cY(e,t,o,r);u|=p&&i.length,h=h||g,l.fullSize||i.push(o)}return u&&bg(i,e,t,r)||h}function iv(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function G3(n,e,t,r){const i=t.padding;let{x:s,y:a}=e;for(const o of n){const l=o.box,u=r[o.stack]||{placed:0,weight:1},h=o.stackWeight/u.weight||1;if(o.horizontal){const p=e.w*h,g=u.size||l.height;dm(u.start)&&(a=u.start),l.fullSize?iv(l,i.left,a,t.outerWidth-i.right-i.left,g):iv(l,e.left+u.placed,a,p,g),u.start=a,u.placed+=p,a=l.bottom}else{const p=e.h*h,g=u.size||l.width;dm(u.start)&&(s=u.start),l.fullSize?iv(l,s,i.top,g,t.outerHeight-i.bottom-i.top):iv(l,s,e.top+u.placed,g,p),u.start=s,u.placed+=p,s=l.right}}e.x=s,e.y=a}var Vl={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=Us(n.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(t-i.height,0),o=lY(n.boxes),l=o.vertical,u=o.horizontal;qt(n.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const h=l.reduce((x,E)=>E.box.options&&E.box.options.display===!1?x:x+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/h,hBoxMaxHeight:a/2}),g=Object.assign({},i);eL(g,Us(r));const v=Object.assign({maxPadding:g,w:s,h:a,x:i.left,y:i.top},i),w=oY(l.concat(u),p);bg(o.fullSize,v,p,w),bg(l,v,p,w),bg(u,v,p,w)&&bg(l,v,p,w),uY(v),G3(o.leftAndTop,v,p,w),v.x+=v.w,v.y+=v.h,G3(o.rightAndBottom,v,p,w),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},qt(o.chartArea,x=>{const E=x.box;Object.assign(E,n.chartArea),E.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class tL{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class hY extends tL{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Yv="$chartjs",dY={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},q3=n=>n===null||n==="";function pY(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[Yv]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",q3(i)){const s=O3(n,"width");s!==void 0&&(n.width=s)}if(q3(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=O3(n,"height");s!==void 0&&(n.height=s)}return n}const nL=pW?{passive:!0}:!1;function gY(n,e,t){n&&n.addEventListener(e,t,nL)}function mY(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,nL)}function vY(n,e){const t=dY[n.type]||n.type,{x:r,y:i}=ru(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function My(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function yY(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||My(o.addedNodes,r),a=a&&!My(o.removedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function _Y(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||My(o.removedNodes,r),a=a&&!My(o.addedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const vm=new Map;let K3=0;function rL(){const n=window.devicePixelRatio;n!==K3&&(K3=n,vm.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function wY(n,e){vm.size||window.addEventListener("resize",rL),vm.set(n,e)}function xY(n){vm.delete(n),vm.size||window.removeEventListener("resize",rL)}function bY(n,e,t){const r=n.canvas,i=r&&KS(r);if(!i)return;const s=L8((o,l)=>{const u=i.clientWidth;t(o,l),u<i.clientWidth&&t()},window),a=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,h=l.contentRect.height;u===0&&h===0||s(u,h)});return a.observe(i),wY(n,s),a}function Zb(n,e,t){t&&t.disconnect(),e==="resize"&&xY(n)}function EY(n,e,t){const r=n.canvas,i=L8(s=>{n.ctx!==null&&t(vY(s,n))},n);return gY(r,e,i),i}class AY extends tL{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(pY(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[Yv])return!1;const r=t[Yv].initial;["height","width"].forEach(s=>{const a=r[s];jt(a)?t.removeAttribute(s):t.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[Yv],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:yY,detach:_Y,resize:bY}[t]||EY;i[t]=a(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:Zb,detach:Zb,resize:Zb}[t]||mY)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return dW(e,t,r,i)}isAttached(e){const t=e&&KS(e);return!!(t&&t.isConnected)}}function SY(n){return!qS()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?hY:AY}var Hv;let fc=(Hv=class{constructor(){de(this,"x");de(this,"y");de(this,"active",!1);de(this,"options");de(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return pm(this.x)&&pm(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},de(Hv,"defaults",{}),de(Hv,"defaultRoutes"),Hv);function TY(n,e){const t=n.options.ticks,r=CY(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?DY(e):[],a=s.length,o=s[0],l=s[a-1],u=[];if(a>i)return RY(e,u,s,a/i),u;const h=IY(s,e,i);if(a>0){let p,g;const v=a>1?Math.round((l-o)/(a-1)):null;for(sv(e,u,h,jt(v)?0:o-v,o),p=0,g=a-1;p<g;p++)sv(e,u,h,s[p],s[p+1]);return sv(e,u,h,l,jt(v)?e.length:l+v),u}return sv(e,u,h),u}function CY(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function IY(n,e,t){const r=OY(n),i=e.length/t;if(!r)return Math.max(i,1);const s=hz(r);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function DY(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function RY(n,e,t,r){let i=0,s=t[0],a;for(r=Math.ceil(r),a=0;a<n.length;a++)a===s&&(e.push(n[a]),i++,s=t[i*r])}function sv(n,e,t,r,i){const s=ut(r,0),a=Math.min(ut(i,n.length),n.length);let o=0,l,u,h;for(t=Math.ceil(t),i&&(l=i-r,t=l/Math.floor(l/t)),h=s;h<0;)o++,h=Math.round(s+o*t);for(u=Math.max(s,0);u<a;u++)u===h&&(e.push(n[u]),o++,h=Math.round(s+o*t))}function OY(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const NY=n=>n==="left"?"right":n==="right"?"left":n,X3=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Q3=(n,e)=>Math.min(e||n,n);function Z3(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function MY(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,a=n._endPixel,o=1e-6;let l=n.getPixelForTick(i),u;if(!(t&&(r===1?u=Math.max(l-s,a-l):e===0?u=(n.getPixelForTick(1)-l)/2:u=(l-n.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-o||l>a+o)))return l}function PY(n,e){qt(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function ng(n){return n.drawTicks?n.tickLength:0}function J3(n,e){if(!n.display)return 0;const t=xi(n.font,e),r=Us(n.padding);return(yr(n.text)?n.text.length:1)*t.lineHeight+r.height}function kY(n,e){return rf(n,{scale:e,type:"scale"})}function LY(n,e,t){return rf(n,{tick:t,index:e,type:"tick"})}function VY(n,e,t){let r=V8(n);return(t&&e!=="right"||!t&&e==="right")&&(r=NY(r)),r}function BY(n,e,t,r){const{top:i,left:s,bottom:a,right:o,chart:l}=n,{chartArea:u,scales:h}=l;let p=0,g,v,w;const x=a-i,E=o-s;if(n.isHorizontal()){if(v=ki(r,s,o),It(t)){const A=Object.keys(t)[0],T=t[A];w=h[A].getPixelForValue(T)+x-e}else t==="center"?w=(u.bottom+u.top)/2+x-e:w=X3(n,t,e);g=o-s}else{if(It(t)){const A=Object.keys(t)[0],T=t[A];v=h[A].getPixelForValue(T)-E+e}else t==="center"?v=(u.left+u.right)/2-E+e:v=X3(n,t,e);w=ki(r,a,i),p=t==="left"?-sr:sr}return{titleX:v,titleY:w,maxWidth:g,rotation:p}}class Id extends fc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=ua(e,Number.POSITIVE_INFINITY),t=ua(t,Number.NEGATIVE_INFINITY),r=ua(r,Number.POSITIVE_INFINITY),i=ua(i,Number.NEGATIVE_INFINITY),{min:ua(e,r),max:ua(t,i),minDefined:ws(e),maxDefined:ws(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:t,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)a=o[l].controller.getMinMax(this,e),i||(t=Math.min(t,a.min)),s||(r=Math.max(r,a.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:ua(t,ua(r,t)),max:ua(r,ua(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){dn(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Yz(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?Z3(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=TY(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){dn(this.options.afterUpdate,[this])}beforeSetDimensions(){dn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){dn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),dn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){dn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=dn(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){dn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){dn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Q3(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let a=i,o,l,u;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),p=h.widest.width,g=h.highest.height,v=Yr(this.chart.width-p,0,this.maxWidth);o=e.offset?this.maxWidth/r:v/(r-1),p+6>o&&(o=v/(r-(e.offset?.5:1)),l=this.maxHeight-ng(e.grid)-t.padding-J3(e.title,this.chart.options.font),u=Math.sqrt(p*p+g*g),a=mz(Math.min(Math.asin(Yr((h.highest.height+6)/o,-1,1)),Math.asin(Yr(l/u,-1,1))-Math.asin(Yr(g/u,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){dn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){dn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=J3(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=ng(s)+l):(e.height=this.maxHeight,e.width=ng(s)+l),r.display&&this.ticks.length){const{first:u,last:h,widest:p,highest:g}=this._getLabelSizes(),v=r.padding*2,w=xo(this.labelRotation),x=Math.cos(w),E=Math.sin(w);if(o){const A=r.mirror?0:E*p.width+x*g.height;e.height=Math.min(this.maxHeight,e.height+A+v)}else{const A=r.mirror?0:x*p.width+E*g.height;e.width=Math.min(this.maxWidth,e.width+A+v)}this._calculatePadding(u,h,E,x)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,v=0;l?u?(g=i*e.width,v=r*t.height):(g=r*e.height,v=i*t.width):s==="start"?v=t.width:s==="end"?g=e.width:s!=="inner"&&(g=e.width/2,v=t.width/2),this.paddingLeft=Math.max((g-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((v-p+a)*this.width/(this.width-p),0)}else{let h=t.height/2,p=e.height/2;s==="start"?(h=0,p=e.height):s==="end"&&(h=t.height,p=0),this.paddingTop=h+a,this.paddingBottom=p+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){dn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)jt(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Z3(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(t/Q3(t,r));let u=0,h=0,p,g,v,w,x,E,A,T,I,P,O;for(p=0;p<t;p+=l){if(w=e[p].label,x=this._resolveTickFontOptions(p),i.font=E=x.string,A=s[E]=s[E]||{data:{},gc:[]},T=x.lineHeight,I=P=0,!jt(w)&&!yr(w))I=T3(i,A.data,A.gc,I,w),P=T;else if(yr(w))for(g=0,v=w.length;g<v;++g)O=w[g],!jt(O)&&!yr(O)&&(I=T3(i,A.data,A.gc,I,O),P+=T);a.push(I),o.push(P),u=Math.max(I,u),h=Math.max(P,h)}PY(s,t);const V=a.indexOf(u),R=o.indexOf(h),C=N=>({width:a[N]||0,height:o[N]||0});return{first:C(0),last:C(t-1),widest:C(V),highest:C(R),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return yz(this._alignToPixels?Qc(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=LY(this.getContext(),e,r))}return this.$context||(this.$context=kY(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=xo(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*r>o*i?o/r:l/i:l*i<o*r?l/r:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,u=this.isHorizontal(),p=this.ticks.length+(l?1:0),g=ng(s),v=[],w=o.setContext(this.getContext()),x=w.display?w.width:0,E=x/2,A=function(Y){return Qc(r,Y,x)};let T,I,P,O,V,R,C,N,L,F,H,B;if(a==="top")T=A(this.bottom),R=this.bottom-g,N=T-E,F=A(e.top)+E,B=e.bottom;else if(a==="bottom")T=A(this.top),F=e.top,B=A(e.bottom)-E,R=T+E,N=this.top+g;else if(a==="left")T=A(this.right),V=this.right-g,C=T-E,L=A(e.left)+E,H=e.right;else if(a==="right")T=A(this.left),L=e.left,H=A(e.right)-E,V=T+E,C=this.left+g;else if(t==="x"){if(a==="center")T=A((e.top+e.bottom)/2+.5);else if(It(a)){const Y=Object.keys(a)[0],X=a[Y];T=A(this.chart.scales[Y].getPixelForValue(X))}F=e.top,B=e.bottom,R=T+E,N=R+g}else if(t==="y"){if(a==="center")T=A((e.left+e.right)/2);else if(It(a)){const Y=Object.keys(a)[0],X=a[Y];T=A(this.chart.scales[Y].getPixelForValue(X))}V=T-E,C=V-g,L=e.left,H=e.right}const he=ut(i.ticks.maxTicksLimit,p),fe=Math.max(1,Math.ceil(p/he));for(I=0;I<p;I+=fe){const Y=this.getContext(I),X=s.setContext(Y),oe=o.setContext(Y),Q=X.lineWidth,U=X.color,q=oe.dash||[],ce=oe.dashOffset,ne=X.tickWidth,we=X.tickColor,xe=X.tickBorderDash||[],Ae=X.tickBorderDashOffset;P=MY(this,I,l),P!==void 0&&(O=Qc(r,P,Q),u?V=C=L=H=O:R=N=F=B=O,v.push({tx1:V,ty1:R,tx2:C,ty2:N,x1:L,y1:F,x2:H,y2:B,width:Q,color:U,borderDash:q,borderDashOffset:ce,tickWidth:ne,tickColor:we,tickBorderDash:xe,tickBorderDashOffset:Ae}))}return this._ticksLength=p,this._borderValue=T,v}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:h,mirror:p}=s,g=ng(r.grid),v=g+h,w=p?-h:v,x=-xo(this.labelRotation),E=[];let A,T,I,P,O,V,R,C,N,L,F,H,B="middle";if(i==="top")V=this.bottom-w,R=this._getXAxisLabelAlignment();else if(i==="bottom")V=this.top+w,R=this._getXAxisLabelAlignment();else if(i==="left"){const fe=this._getYAxisLabelAlignment(g);R=fe.textAlign,O=fe.x}else if(i==="right"){const fe=this._getYAxisLabelAlignment(g);R=fe.textAlign,O=fe.x}else if(t==="x"){if(i==="center")V=(e.top+e.bottom)/2+v;else if(It(i)){const fe=Object.keys(i)[0],Y=i[fe];V=this.chart.scales[fe].getPixelForValue(Y)+v}R=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")O=(e.left+e.right)/2-v;else if(It(i)){const fe=Object.keys(i)[0],Y=i[fe];O=this.chart.scales[fe].getPixelForValue(Y)}R=this._getYAxisLabelAlignment(g).textAlign}t==="y"&&(l==="start"?B="top":l==="end"&&(B="bottom"));const he=this._getLabelSizes();for(A=0,T=o.length;A<T;++A){I=o[A],P=I.label;const fe=s.setContext(this.getContext(A));C=this.getPixelForTick(A)+s.labelOffset,N=this._resolveTickFontOptions(A),L=N.lineHeight,F=yr(P)?P.length:1;const Y=F/2,X=fe.color,oe=fe.textStrokeColor,Q=fe.textStrokeWidth;let U=R;a?(O=C,R==="inner"&&(A===T-1?U=this.options.reverse?"left":"right":A===0?U=this.options.reverse?"right":"left":U="center"),i==="top"?u==="near"||x!==0?H=-F*L+L/2:u==="center"?H=-he.highest.height/2-Y*L+L:H=-he.highest.height+L/2:u==="near"||x!==0?H=L/2:u==="center"?H=he.highest.height/2-Y*L:H=he.highest.height-F*L,p&&(H*=-1),x!==0&&!fe.showLabelBackdrop&&(O+=L/2*Math.sin(x))):(V=C,H=(1-F)*L/2);let q;if(fe.showLabelBackdrop){const ce=Us(fe.backdropPadding),ne=he.heights[A],we=he.widths[A];let xe=H-ce.top,Ae=0-ce.left;switch(B){case"middle":xe-=ne/2;break;case"bottom":xe-=ne;break}switch(R){case"center":Ae-=we/2;break;case"right":Ae-=we;break;case"inner":A===T-1?Ae-=we:A>0&&(Ae-=we/2);break}q={left:Ae,top:xe,width:we+ce.width,height:ne+ce.height,color:fe.backdropColor}}E.push({label:P,font:N,textOffset:H,options:{rotation:x,color:X,strokeColor:oe,strokeWidth:Q,textAlign:U,textBaseline:B,translation:[O,V],backdrop:q}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-xo(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let u,h;return t==="left"?i?(h=this.right+s,r==="near"?u="left":r==="center"?(u="center",h+=l/2):(u="right",h+=l)):(h=this.right-o,r==="near"?u="right":r==="center"?(u="center",h-=l/2):(u="left",h=this.left)):t==="right"?i?(h=this.left+s,r==="near"?u="right":r==="center"?(u="center",h-=l/2):(u="left",h-=l)):(h=this.left+o,r==="near"?u="left":r==="center"?(u="center",h+=l/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,u,h)=>{!h.width||!h.color||(r.save(),r.lineWidth=h.width,r.strokeStyle=h.color,r.setLineDash(h.borderDash||[]),r.lineDashOffset=h.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(t.display)for(s=0,a=i.length;s<a;++s){const l=i[s];t.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,h,p,g;this.isHorizontal()?(u=Qc(e,this.left,a)-a/2,h=Qc(e,this.right,o)+o/2,p=g=l):(p=Qc(e,this.top,a)-a/2,g=Qc(e,this.bottom,o)+o/2,u=h=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(u,p),t.lineTo(h,g),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&HS(r,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,u=a.label,h=a.textOffset;Ry(r,u,0,h,l,o)}i&&zS(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=xi(r.font),a=Us(r.padding),o=r.align;let l=s.lineHeight/2;t==="bottom"||t==="center"||It(t)?(l+=a.bottom,yr(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:u,titleY:h,maxWidth:p,rotation:g}=BY(this,l,t,o);Ry(e,r.text,0,0,s,{color:r.color,maxWidth:p,rotation:g,textAlign:VY(o,t,i),textBaseline:"middle",translation:[u,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=ut(e.grid&&e.grid.z,-1),i=ut(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Id.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=t.length;s<a;++s){const o=t[s];o[r]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return xi(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class av{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;jY(t)&&(r=this.register(t));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,FY(e,a,r),this.override&&Ln.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in Ln[i]&&(delete Ln[i][r],this.override&&delete ju[r])}}function FY(n,e,t){const r=hm(Object.create(null),[t?Ln.get(t):{},Ln.get(e),n.defaults]);Ln.set(e,r),n.defaultRoutes&&UY(e,n.defaultRoutes),n.descriptors&&Ln.describe(e,n.descriptors)}function UY(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),a=e[t].split("."),o=a.pop(),l=a.join(".");Ln.route(s,i,l,o)})}function jY(n){return"id"in n&&"defaults"in n}class HY{constructor(){this.controllers=new av(Cu,"datasets",!0),this.elements=new av(fc,"elements"),this.plugins=new av(Object,"plugins"),this.scales=new av(Id,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):qt(i,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,t,r){const i=BS(e);dn(r["before"+i],[],r),t[e](r),dn(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var ha=new HY;class zY{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,i){i=i||{};for(const s of e){const a=s.plugin,o=a[r],l=[t,i,s.options];if(dn(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=ut(r.options&&r.options.plugins,{}),s=WY(r);return i===!1&&!t?[]:$Y(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function WY(n){const e={},t=[],r=Object.keys(ha.plugins.items);for(let s=0;s<r.length;s++)t.push(ha.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function YY(n,e){return!e&&n===!1?null:n===!0?{}:n}function $Y(n,{plugins:e,localIds:t},r,i){const s=[],a=n.getContext();for(const o of e){const l=o.id,u=YY(r[l],i);u!==null&&s.push({plugin:o,options:GY(n.config,{plugin:o,local:t[l]},u,a)})}return s}function GY(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),a=n.getOptionScopes(r,s);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Y2(n,e){const t=Ln.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function qY(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function KY(n,e){return n===e?"_index_":"_value_"}function eN(n){if(n==="x"||n==="y"||n==="r")return n}function XY(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function $2(n,...e){if(eN(n))return n;for(const t of e){const r=t.axis||XY(t.position)||n.length>1&&eN(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function tN(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function QY(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return tN(n,"x",t[0])||tN(n,"y",t[0])}return{}}function ZY(n,e){const t=ju[n.type]||{scales:{}},r=e.scales||{},i=Y2(n.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!It(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=$2(a,o,QY(a,n),Ln.scales[o.type]),u=KY(l,i),h=t.scales||{};s[a]=jg(Object.create(null),[{axis:l},o,h[l],h[u]])}),n.data.datasets.forEach(a=>{const o=a.type||n.type,l=a.indexAxis||Y2(o,e),h=(ju[o]||{}).scales||{};Object.keys(h).forEach(p=>{const g=qY(p,l),v=a[g+"AxisID"]||g;s[v]=s[v]||Object.create(null),jg(s[v],[{axis:g},r[v],h[p]])})}),Object.keys(s).forEach(a=>{const o=s[a];jg(o,[Ln.scales[o.type],Ln.scale])}),s}function iL(n){const e=n.options||(n.options={});e.plugins=ut(e.plugins,{}),e.scales=ZY(n,e)}function sL(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function JY(n){return n=n||{},n.data=sL(n.data),iL(n),n}const nN=new Map,aL=new Set;function ov(n,e){let t=nN.get(n);return t||(t=e(),nN.set(n,t),aL.add(t)),t}const rg=(n,e,t)=>{const r=Uu(e,t);r!==void 0&&n.add(r)};let e$=class{constructor(e){this._config=JY(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=sL(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),iL(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ov(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return ov(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return ov(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return ov(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),o=a.get(t);if(o)return o;const l=new Set;t.forEach(h=>{e&&(l.add(e),h.forEach(p=>rg(l,e,p))),h.forEach(p=>rg(l,i,p)),h.forEach(p=>rg(l,ju[s]||{},p)),h.forEach(p=>rg(l,Ln,p)),h.forEach(p=>rg(l,z2,p))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),aL.has(t)&&a.set(t,u),u}chartOptionScopes(){const{options:e,type:t}=this;return[e,ju[t]||{},Ln.datasets[t]||{},{type:t},Ln,z2]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=rN(this._resolverCache,e,i);let l=a;if(n$(a,t)){s.$shared=!1,r=Ql(r)?r():r;const u=this.createResolver(e,r,o);l=Wh(a,r,u)}for(const u of t)s[u]=l[u];return s}createResolver(e,t,r=[""],i){const{resolver:s}=rN(this._resolverCache,e,r);return It(t)?Wh(s,t,void 0,i):s}};function rN(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:YS(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,s)),s}const t$=n=>It(n)&&Object.getOwnPropertyNames(n).some(e=>Ql(n[e]));function n$(n,e){const{isScriptable:t,isIndexable:r}=j8(n);for(const i of e){const s=t(i),a=r(i),o=(a||s)&&n[i];if(s&&(Ql(o)||t$(o))||a&&yr(o))return!0}return!1}var r$="4.5.0";const i$=["top","bottom","left","right","chartArea"];function iN(n,e){return n==="top"||n==="bottom"||i$.indexOf(n)===-1&&e==="x"}function sN(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function aN(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),dn(t&&t.onComplete,[n],e)}function s$(n){const e=n.chart,t=e.options.animation;dn(t&&t.onProgress,[n],e)}function oL(n){return qS()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const $v={},oN=n=>{const e=oL(n);return Object.values($v).filter(t=>t.canvas===e).pop()};function a$(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const a=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=a)}}}function o$(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var Cl;let sf=(Cl=class{static register(...e){ha.add(...e),lN()}static unregister(...e){ha.remove(...e),lN()}constructor(e,t){const r=this.config=new e$(t),i=oL(e),s=oN(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||SY(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,u=l&&l.height,h=l&&l.width;if(this.id=rz(),this.ctx=o,this.canvas=l,this.width=h,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zY,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=bz(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],$v[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}yo.listen(this,"complete",aN),yo.listen(this,"progress",s$),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return jt(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ha}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():R3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return C3(this.canvas,this.ctx),this}stop(){return yo.stop(this),this}resize(e,t){yo.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,s),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,R3(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),dn(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};qt(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const o=t[a],l=$2(a,o),u=l==="r",h=l==="x";return{options:o,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),qt(s,a=>{const o=a.options,l=o.id,u=$2(l,o),h=ut(o.type,a.dtype);(o.position===void 0||iN(o.position,u)!==iN(a.dposition))&&(o.position=a.dposition),i[l]=!0;let p=null;if(l in r&&r[l].type===h)p=r[l];else{const g=ha.getScale(h);p=new g({id:l,type:h,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(o,e)}),qt(i,(a,o)=>{a||delete r[o]}),qt(r,a=>{Vl.configure(this,a,a.options),Vl.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(sN("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let a=this.getDatasetMeta(r);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=s.indexAxis||Y2(o,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=ha.getController(o),{datasetElementType:u,dataElementType:h}=Ln.datasets[o];Object.assign(l,{dataElementType:ha.getElement(h),datasetElementType:u&&ha.getElement(u)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){qt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,h=this.data.datasets.length;u<h;u++){const{controller:p}=this.getDatasetMeta(u),g=!i&&s.indexOf(p)===-1;p.buildOrUpdateElements(g),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||qt(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(sN("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){qt(this.scales,e=>{Vl.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!v3(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const a=r==="_removeElements"?-s:s;a$(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!v3(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Vl.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],qt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Ql(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(yo.has(this)?this.attached&&!yo.running(this)&&yo.start(this):(this.draw(),aN({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const a=t[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=IW(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&HS(t,i),e.controller.draw(),i&&zS(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return mm(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=iY.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=rf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);dm(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),yo.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),C3(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete $v[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};qt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(l,u)=>{t.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(t.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){qt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},qt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,a,o,l;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!Cy(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(l,u)=>l.filter(h=>!u.some(p=>h.datasetIndex===p.datasetIndex&&h.index===p.index)),a=s(t,e),o=r?e:s(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,a=t,o=this._getActiveElements(e,i,r,a),l=cz(e),u=o$(e,this._lastEvent,r,l);r&&(this._lastEvent=null,dn(s.onHover,[e,o,this],this),l&&dn(s.onClick,[e,o,this],this));const h=!Cy(o,i);return(h||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=u,h}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},de(Cl,"defaults",Ln),de(Cl,"instances",$v),de(Cl,"overrides",ju),de(Cl,"registry",ha),de(Cl,"version",r$),de(Cl,"getChart",oN),Cl);function lN(){return qt(sf.instances,n=>n._plugins.invalidate())}function l$(n,e,t){const{startAngle:r,x:i,y:s,outerRadius:a,innerRadius:o,options:l}=e,{borderWidth:u,borderJoinStyle:h}=l,p=Math.min(u/a,ks(r-t));if(n.beginPath(),n.arc(i,s,a-u/2,r+p/2,t-p/2),o>0){const g=Math.min(u/o,ks(r-t));n.arc(i,s,o+u/2,t-g/2,r+g/2,!0)}else{const g=Math.min(u/2,a*ks(r-t));if(h==="round")n.arc(i,s,g,t-an/2,r+an/2,!0);else if(h==="bevel"){const v=2*g*g,w=-v*Math.cos(t+an/2)+i,x=-v*Math.sin(t+an/2)+s,E=v*Math.cos(r+an/2)+i,A=v*Math.sin(r+an/2)+s;n.lineTo(w,x),n.lineTo(E,A)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function c$(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=e;let u=i/o;n.beginPath(),n.arc(s,a,o,r-u,t+u),l>i?(u=i/l,n.arc(s,a,l,t+u,r-u,!0)):n.arc(s,a,i,t+sr,r-sr),n.closePath(),n.clip()}function u$(n){return WS(n,["outerStart","outerEnd","innerStart","innerEnd"])}function f$(n,e,t,r){const i=u$(n.options.borderRadius),s=(t-e)/2,a=Math.min(s,r*e/2),o=l=>{const u=(t-Math.min(s,l))*r/2;return Yr(l,0,Math.min(s,u))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:Yr(i.innerStart,0,a),innerEnd:Yr(i.innerEnd,0,a)}}function ih(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function Py(n,e,t,r,i,s){const{x:a,y:o,startAngle:l,pixelMargin:u,innerRadius:h}=e,p=Math.max(e.outerRadius+r+t-u,0),g=h>0?h+r+t+u:0;let v=0;const w=i-l;if(r){const fe=h>0?h-r:0,Y=p>0?p-r:0,X=(fe+Y)/2,oe=X!==0?w*X/(X+r):w;v=(w-oe)/2}const x=Math.max(.001,w*p-t/an)/p,E=(w-x)/2,A=l+E+v,T=i-E-v,{outerStart:I,outerEnd:P,innerStart:O,innerEnd:V}=f$(e,g,p,T-A),R=p-I,C=p-P,N=A+I/R,L=T-P/C,F=g+O,H=g+V,B=A+O/F,he=T-V/H;if(n.beginPath(),s){const fe=(N+L)/2;if(n.arc(a,o,p,N,fe),n.arc(a,o,p,fe,L),P>0){const Q=ih(C,L,a,o);n.arc(Q.x,Q.y,P,L,T+sr)}const Y=ih(H,T,a,o);if(n.lineTo(Y.x,Y.y),V>0){const Q=ih(H,he,a,o);n.arc(Q.x,Q.y,V,T+sr,he+Math.PI)}const X=(T-V/g+(A+O/g))/2;if(n.arc(a,o,g,T-V/g,X,!0),n.arc(a,o,g,X,A+O/g,!0),O>0){const Q=ih(F,B,a,o);n.arc(Q.x,Q.y,O,B+Math.PI,A-sr)}const oe=ih(R,A,a,o);if(n.lineTo(oe.x,oe.y),I>0){const Q=ih(R,N,a,o);n.arc(Q.x,Q.y,I,A-sr,N)}}else{n.moveTo(a,o);const fe=Math.cos(N)*p+a,Y=Math.sin(N)*p+o;n.lineTo(fe,Y);const X=Math.cos(L)*p+a,oe=Math.sin(L)*p+o;n.lineTo(X,oe)}n.closePath()}function h$(n,e,t,r,i){const{fullCircles:s,startAngle:a,circumference:o}=e;let l=e.endAngle;if(s){Py(n,e,t,r,l,i);for(let u=0;u<s;++u)n.fill();isNaN(o)||(l=a+(o%Dn||Dn))}return Py(n,e,t,r,l,i),n.fill(),l}function d$(n,e,t,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=e,{borderWidth:u,borderJoinStyle:h,borderDash:p,borderDashOffset:g,borderRadius:v}=l,w=l.borderAlign==="inner";if(!u)return;n.setLineDash(p||[]),n.lineDashOffset=g,w?(n.lineWidth=u*2,n.lineJoin=h||"round"):(n.lineWidth=u,n.lineJoin=h||"bevel");let x=e.endAngle;if(s){Py(n,e,t,r,x,i);for(let E=0;E<s;++E)n.stroke();isNaN(o)||(x=a+(o%Dn||Dn))}w&&c$(n,e,x),l.selfJoin&&x-a>=an&&v===0&&h!=="miter"&&l$(n,e,x),s||(Py(n,e,t,r,x,i),n.stroke())}class Sh extends fc{constructor(t){super();de(this,"circumference");de(this,"endAngle");de(this,"fullCircles");de(this,"innerRadius");de(this,"outerRadius");de(this,"pixelMargin");de(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=N8(s,{x:t,y:r}),{startAngle:l,endAngle:u,innerRadius:h,outerRadius:p,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,w=ut(g,u-l),x=gm(a,l,u)&&l!==u,E=w>=Dn||x,A=Ll(o,h+v,p+v);return E&&A}getCenterPoint(t){const{x:r,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:h}=this.options,p=(s+a)/2,g=(o+l+h+u)/2;return{x:r+Math.cos(p)*g,y:i+Math.sin(p)*g}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,s=(r.offset||0)/4,a=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Dn?Math.floor(i/Dn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*s,Math.sin(l)*s);const u=1-Math.sin(Math.min(an,i||0)),h=s*u;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,h$(t,this,h,a,o),d$(t,this,h,a,o),t.restore()}}de(Sh,"id","arc"),de(Sh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),de(Sh,"defaultRoutes",{backgroundColor:"backgroundColor"}),de(Sh,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function lL(n,e,t=e){n.lineCap=ut(t.borderCapStyle,e.borderCapStyle),n.setLineDash(ut(t.borderDash,e.borderDash)),n.lineDashOffset=ut(t.borderDashOffset,e.borderDashOffset),n.lineJoin=ut(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ut(t.borderWidth,e.borderWidth),n.strokeStyle=ut(t.borderColor,e.borderColor)}function p$(n,e,t){n.lineTo(t.x,t.y)}function g$(n){return n.stepped?Lz:n.tension||n.cubicInterpolationMode==="monotone"?Vz:p$}function cL(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:a,end:o}=e,l=Math.max(i,a),u=Math.min(s,o),h=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:e.loop,ilen:u<l&&!h?r+u-l:u-l}}function m$(n,e,t,r){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:u}=cL(i,t,r),h=g$(s);let{move:p=!0,reverse:g}=r||{},v,w,x;for(v=0;v<=u;++v)w=i[(o+(g?u-v:v))%a],!w.skip&&(p?(n.moveTo(w.x,w.y),p=!1):h(n,x,w,g,s.stepped),x=w);return l&&(w=i[(o+(g?u:0))%a],h(n,x,w,g,s.stepped)),!!l}function v$(n,e,t,r){const i=e.points,{count:s,start:a,ilen:o}=cL(i,t,r),{move:l=!0,reverse:u}=r||{};let h=0,p=0,g,v,w,x,E,A;const T=P=>(a+(u?o-P:P))%s,I=()=>{x!==E&&(n.lineTo(h,E),n.lineTo(h,x),n.lineTo(h,A))};for(l&&(v=i[T(0)],n.moveTo(v.x,v.y)),g=0;g<=o;++g){if(v=i[T(g)],v.skip)continue;const P=v.x,O=v.y,V=P|0;V===w?(O<x?x=O:O>E&&(E=O),h=(p*h+P)/++p):(I(),n.lineTo(P,O),w=V,p=0,x=E=O),A=O}I()}function G2(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?v$:m$}function y$(n){return n.stepped?gW:n.tension||n.cubicInterpolationMode==="monotone"?mW:iu}function _$(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),lL(n,e.options),n.stroke(i)}function w$(n,e,t,r){const{segments:i,options:s}=e,a=G2(e);for(const o of i)lL(n,s,o.style),n.beginPath(),a(n,e,o,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const x$=typeof Path2D=="function";function b$(n,e,t,r){x$&&!e.options.segment?_$(n,e,t,r):w$(n,e,t,r)}class Eg extends fc{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;oW(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=AW(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],s=this.points,a=xW(this,{property:t,start:i,end:i});if(!a.length)return;const o=[],l=y$(r);let u,h;for(u=0,h=a.length;u<h;++u){const{start:p,end:g}=a[u],v=s[p],w=s[g];if(v===w){o.push(v);continue}const x=Math.abs((i-v[t])/(w[t]-v[t])),E=l(v,w,x,r.stepped);E[t]=e[t],o.push(E)}return o.length===1?o[0]:o}pathSegment(e,t,r){return G2(this)(e,this,t,r)}path(e,t,r){const i=this.segments,s=G2(this);let a=this._loop;t=t||0,r=r||this.points.length-t;for(const o of i)a&=s(e,this,o,{start:t,end:t+r-1});return!!a}draw(e,t,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),b$(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}de(Eg,"id","line"),de(Eg,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),de(Eg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),de(Eg,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function cN(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Gv extends fc{constructor(t){super();de(this,"parsed");de(this,"skip");de(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(r-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return cN(this,t,"x",r)}inYRange(t,r){return cN(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!mm(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,W2(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}de(Gv,"id","point"),de(Gv,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),de(Gv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function uL(n,e){const{x:t,y:r,base:i,width:s,height:a}=n.getProps(["x","y","base","width","height"],e);let o,l,u,h,p;return n.horizontal?(p=a/2,o=Math.min(t,i),l=Math.max(t,i),u=r-p,h=r+p):(p=s/2,o=t-p,l=t+p,u=Math.min(r,i),h=Math.max(r,i)),{left:o,top:u,right:l,bottom:h}}function Bl(n,e,t,r){return n?0:Yr(e,t,r)}function E$(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,s=U8(r);return{t:Bl(i.top,s.top,0,t),r:Bl(i.right,s.right,0,e),b:Bl(i.bottom,s.bottom,0,t),l:Bl(i.left,s.left,0,e)}}function A$(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=Lh(i),a=Math.min(e,t),o=n.borderSkipped,l=r||It(i);return{topLeft:Bl(!l||o.top||o.left,s.topLeft,0,a),topRight:Bl(!l||o.top||o.right,s.topRight,0,a),bottomLeft:Bl(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:Bl(!l||o.bottom||o.right,s.bottomRight,0,a)}}function S$(n){const e=uL(n),t=e.right-e.left,r=e.bottom-e.top,i=E$(n,t/2,r/2),s=A$(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Jb(n,e,t,r){const i=e===null,s=t===null,o=n&&!(i&&s)&&uL(n,r);return o&&(i||Ll(e,o.left,o.right))&&(s||Ll(t,o.top,o.bottom))}function T$(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function C$(n,e){n.rect(e.x,e.y,e.w,e.h)}function eE(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-r,a=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+a,radius:n.radius}}class qv extends fc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=S$(this),o=T$(a.radius)?Oy:C$;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,eE(a,t,s)),e.clip(),o(e,eE(s,-t,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,eE(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return Jb(this,e,t,r)}inXRange(e,t){return Jb(this,e,null,t)}inYRange(e,t){return Jb(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}de(qv,"id","bar"),de(qv,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),de(qv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const uN=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},I$=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class fN extends fc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=dn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=xi(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=uN(r,s);let u,h;t.font=i.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(a,s,o,l)+10):(h=this.maxHeight,u=this._fitCols(a,i,o,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],h=i+o;let p=e;s.textAlign="left",s.textBaseline="middle";let g=-1,v=-h;return this.legendItems.forEach((w,x)=>{const E=r+t/2+s.measureText(w.text).width;(x===0||u[u.length-1]+E+2*o>a)&&(p+=h,u[u.length-(x>0?0:1)]=0,v+=h,g++),l[x]={left:0,top:v,row:g,width:E,height:i},u[u.length-1]+=E+o}),p}_fitCols(e,t,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],h=a-e;let p=o,g=0,v=0,w=0,x=0;return this.legendItems.forEach((E,A)=>{const{itemWidth:T,itemHeight:I}=D$(r,t,s,E,i);A>0&&v+I+2*o>h&&(p+=g+o,u.push({width:g,height:v}),w+=g+o,x++,g=v=0),l[A]={left:w,top:v,col:x,width:T,height:I},g=Math.max(g,T),v+=I+o}),p+=g,u.push({width:g,height:v}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,a=Vh(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=ki(r,this.left+i,this.right-this.lineWidths[o]);for(const u of t)o!==u.row&&(o=u.row,l=ki(r,this.left+i,this.right-this.lineWidths[o])),u.top+=this.top+e+i,u.left=a.leftForLtr(a.x(l),u.width),l+=u.width+i}else{let o=0,l=ki(r,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const u of t)u.col!==o&&(o=u.col,l=ki(r,this.top+e+i,this.bottom-this.columnSizes[o].height)),u.top=l,u.left+=this.left+i,u.left=a.leftForLtr(a.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;HS(e,this),this._draw(),zS(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,o=Ln.color,l=Vh(e.rtl,this.left,this.width),u=xi(a.font),{padding:h}=a,p=u.size,g=p/2;let v;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:w,boxHeight:x,itemHeight:E}=uN(a,p),A=function(V,R,C){if(isNaN(w)||w<=0||isNaN(x)||x<0)return;i.save();const N=ut(C.lineWidth,1);if(i.fillStyle=ut(C.fillStyle,o),i.lineCap=ut(C.lineCap,"butt"),i.lineDashOffset=ut(C.lineDashOffset,0),i.lineJoin=ut(C.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=ut(C.strokeStyle,o),i.setLineDash(ut(C.lineDash,[])),a.usePointStyle){const L={radius:x*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:N},F=l.xPlus(V,w/2),H=R+g;F8(i,L,F,H,a.pointStyleWidth&&w)}else{const L=R+Math.max((p-x)/2,0),F=l.leftForLtr(V,w),H=Lh(C.borderRadius);i.beginPath(),Object.values(H).some(B=>B!==0)?Oy(i,{x:F,y:L,w,h:x,radius:H}):i.rect(F,L,w,x),i.fill(),N!==0&&i.stroke()}i.restore()},T=function(V,R,C){Ry(i,C.text,V,R+E/2,u,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},I=this.isHorizontal(),P=this._computeTitleHeight();I?v={x:ki(s,this.left+h,this.right-r[0]),y:this.top+h+P,line:0}:v={x:this.left+h,y:ki(s,this.top+P+h,this.bottom-t[0].height),line:0},$8(this.ctx,e.textDirection);const O=E+h;this.legendItems.forEach((V,R)=>{i.strokeStyle=V.fontColor,i.fillStyle=V.fontColor;const C=i.measureText(V.text).width,N=l.textAlign(V.textAlign||(V.textAlign=a.textAlign)),L=w+g+C;let F=v.x,H=v.y;l.setWidth(this.width),I?R>0&&F+L+h>this.right&&(H=v.y+=O,v.line++,F=v.x=ki(s,this.left+h,this.right-r[v.line])):R>0&&H+O>this.bottom&&(F=v.x=F+t[v.line].width+h,v.line++,H=v.y=ki(s,this.top+P+h,this.bottom-t[v.line].height));const B=l.x(F);if(A(B,H,V),F=Ez(N,F+w+g,I?F+L:this.right,e.rtl),T(l.x(F),H,V),I)v.x+=L+h;else if(typeof V.text!="string"){const he=u.lineHeight;v.y+=fL(V,he)+h}else v.y+=O}),G8(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=xi(t.font),i=Us(t.padding);if(!t.display)return;const s=Vh(e.rtl,this.left,this.width),a=this.ctx,o=t.position,l=r.size/2,u=i.top+l;let h,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),h=this.top+u,p=ki(e.align,p,this.right-g);else{const w=this.columnSizes.reduce((x,E)=>Math.max(x,E.height),0);h=u+ki(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const v=ki(o,p,p+g);a.textAlign=s.textAlign(V8(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,Ry(a,t.text,v,h,r)}_computeTitleHeight(){const e=this.options.title,t=xi(e.font),r=Us(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(Ll(e,this.left,this.right)&&Ll(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Ll(e,i.left,i.left+i.width)&&Ll(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!N$(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=I$(i,r);i&&!s&&dn(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&dn(t.onHover,[e,r,this],this)}else r&&dn(t.onClick,[e,r,this],this)}}function D$(n,e,t,r,i){const s=R$(r,n,e,t),a=O$(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function R$(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+t.size/2+r.measureText(i).width}function O$(n,e,t){let r=n;return typeof e.text!="string"&&(r=fL(e,t)),r}function fL(n,e){const t=n.text?n.text.length:0;return e*t}function N$(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var QS={id:"legend",_element:fN,start(n,e,t){const r=n.legend=new fN({ctx:n.ctx,options:t,chart:n});Vl.configure(n,r,t),Vl.addBox(n,r)},stop(n){Vl.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Vl.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(t?0:void 0),h=Us(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Ag={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const o=n[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=n.length;s<a;++s){const l=n[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),h=H2(e,u);h<i&&(i=h,o=l)}}if(o){const l=o.tooltipPosition();t=l.x,r=l.y}return{x:t,y:r}}};function fa(n,e){return e&&(yr(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function _o(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function M$(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:n,label:a,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function hN(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:a,boxHeight:o}=e,l=xi(e.bodyFont),u=xi(e.titleFont),h=xi(e.footerFont),p=s.length,g=i.length,v=r.length,w=Us(e.padding);let x=w.height,E=0,A=r.reduce((P,O)=>P+O.before.length+O.lines.length+O.after.length,0);if(A+=n.beforeBody.length+n.afterBody.length,p&&(x+=p*u.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),A){const P=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;x+=v*P+(A-v)*l.lineHeight+(A-1)*e.bodySpacing}g&&(x+=e.footerMarginTop+g*h.lineHeight+(g-1)*e.footerSpacing);let T=0;const I=function(P){E=Math.max(E,t.measureText(P).width+T)};return t.save(),t.font=u.string,qt(n.title,I),t.font=l.string,qt(n.beforeBody.concat(n.afterBody),I),T=e.displayColors?a+2+e.boxPadding:0,qt(r,P=>{qt(P.before,I),qt(P.lines,I),qt(P.after,I)}),T=0,t.font=h.string,qt(n.footer,I),t.restore(),E+=w.width,{width:E,height:x}}function P$(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function k$(n,e,t,r){const{x:i,width:s}=r,a=t.caretSize+t.caretPadding;if(n==="left"&&i+s+a>e.width||n==="right"&&i-s-a<0)return!0}function L$(n,e,t,r){const{x:i,width:s}=t,{width:a,chartArea:{left:o,right:l}}=n;let u="center";return r==="center"?u=i<=(o+l)/2?"left":"right":i<=s/2?u="left":i>=a-s/2&&(u="right"),k$(u,n,e,t)&&(u="center"),u}function dN(n,e,t){const r=t.yAlign||e.yAlign||P$(n,t);return{xAlign:t.xAlign||e.xAlign||L$(n,e,t,r),yAlign:r}}function V$(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function B$(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function pN(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=n,{xAlign:o,yAlign:l}=t,u=i+s,{topLeft:h,topRight:p,bottomLeft:g,bottomRight:v}=Lh(a);let w=V$(e,o);const x=B$(e,l,u);return l==="center"?o==="left"?w+=u:o==="right"&&(w-=u):o==="left"?w-=Math.max(h,g)+i:o==="right"&&(w+=Math.max(p,v)+i),{x:Yr(w,0,r.width-e.width),y:Yr(x,0,r.height-e.height)}}function lv(n,e,t){const r=Us(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function gN(n){return fa([],_o(n))}function F$(n,e,t){return rf(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function mN(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const hL={beforeTitle:vo,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:vo,beforeBody:vo,beforeLabel:vo,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return jt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:vo,afterBody:vo,beforeFooter:vo,footer:vo,afterFooter:vo};function mi(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?hL[e].call(t,r):i}var U2;let vN=(U2=class extends fc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new K8(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=F$(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=mi(r,"beforeTitle",this,e),s=mi(r,"title",this,e),a=mi(r,"afterTitle",this,e);let o=[];return o=fa(o,_o(i)),o=fa(o,_o(s)),o=fa(o,_o(a)),o}getBeforeBody(e,t){return gN(mi(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return qt(e,s=>{const a={before:[],lines:[],after:[]},o=mN(r,s);fa(a.before,_o(mi(o,"beforeLabel",this,s))),fa(a.lines,mi(o,"label",this,s)),fa(a.after,_o(mi(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,t){return gN(mi(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=mi(r,"beforeFooter",this,e),s=mi(r,"footer",this,e),a=mi(r,"afterFooter",this,e);let o=[];return o=fa(o,_o(i)),o=fa(o,_o(s)),o=fa(o,_o(a)),o}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],a=[];let o=[],l,u;for(l=0,u=t.length;l<u;++l)o.push(M$(this.chart,t[l]));return e.filter&&(o=o.filter((h,p,g)=>e.filter(h,p,g,r))),e.itemSort&&(o=o.sort((h,p)=>e.itemSort(h,p,r))),qt(o,h=>{const p=mN(e.callbacks,h);i.push(mi(p,"labelColor",this,h)),s.push(mi(p,"labelPointStyle",this,h)),a.push(mi(p,"labelTextColor",this,h))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=Ag[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=hN(this,r),u=Object.assign({},o,l),h=dN(this.chart,r,u),p=pN(r,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:p.x,y:p.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:u,bottomLeft:h,bottomRight:p}=Lh(o),{x:g,y:v}=e,{width:w,height:x}=t;let E,A,T,I,P,O;return s==="center"?(P=v+x/2,i==="left"?(E=g,A=E-a,I=P+a,O=P-a):(E=g+w,A=E+a,I=P-a,O=P+a),T=E):(i==="left"?A=g+Math.max(l,h)+a:i==="right"?A=g+w-Math.max(u,p)-a:A=this.caretX,s==="top"?(I=v,P=I-a,E=A-a,T=A+a):(I=v+x,P=I+a,E=A+a,T=A-a),O=I),{x1:E,x2:A,x3:T,y1:I,y2:P,y3:O}}drawTitle(e,t,r){const i=this.title,s=i.length;let a,o,l;if(s){const u=Vh(r.rtl,this.x,this.width);for(e.x=lv(this,r.titleAlign,r),t.textAlign=u.textAlign(r.titleAlign),t.textBaseline="middle",a=xi(r.titleFont),o=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,l=0;l<s;++l)t.fillText(i[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,t,r,i,s){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=s,h=xi(s.bodyFont),p=lv(this,"left",s),g=i.x(p),v=l<h.lineHeight?(h.lineHeight-l)/2:0,w=t.y+v;if(s.usePointStyle){const x={radius:Math.min(u,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},E=i.leftForLtr(g,u)+u/2,A=w+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,W2(e,x,E,A),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,W2(e,x,E,A)}else{e.lineWidth=It(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const x=i.leftForLtr(g,u),E=i.leftForLtr(i.xPlus(g,1),u-2),A=Lh(a.borderRadius);Object.values(A).some(T=>T!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Oy(e,{x,y:w,w:u,h:l,radius:A}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Oy(e,{x:E,y:w+1,w:u-2,h:l-2,radius:A}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(x,w,u,l),e.strokeRect(x,w,u,l),e.fillStyle=a.backgroundColor,e.fillRect(E,w+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:u,boxPadding:h}=r,p=xi(r.bodyFont);let g=p.lineHeight,v=0;const w=Vh(r.rtl,this.x,this.width),x=function(C){t.fillText(C,w.x(e.x+v),e.y+g/2),e.y+=g+s},E=w.textAlign(a);let A,T,I,P,O,V,R;for(t.textAlign=a,t.textBaseline="middle",t.font=p.string,e.x=lv(this,E,r),t.fillStyle=r.bodyColor,qt(this.beforeBody,x),v=o&&E!=="right"?a==="center"?u/2+h:u+2+h:0,P=0,V=i.length;P<V;++P){for(A=i[P],T=this.labelTextColors[P],t.fillStyle=T,qt(A.before,x),I=A.lines,o&&I.length&&(this._drawColorBox(t,e,P,w,r),g=Math.max(p.lineHeight,l)),O=0,R=I.length;O<R;++O)x(I[O]),g=p.lineHeight;qt(A.after,x)}v=0,g=p.lineHeight,qt(this.afterBody,x),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let a,o;if(s){const l=Vh(r.rtl,this.x,this.width);for(e.x=lv(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=l.textAlign(r.footerAlign),t.textBaseline="middle",a=xi(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,o=0;o<s;++o)t.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:u,height:h}=r,{topLeft:p,topRight:g,bottomLeft:v,bottomRight:w}=Lh(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+p,l),a==="top"&&this.drawCaret(e,t,r,i),t.lineTo(o+u-g,l),t.quadraticCurveTo(o+u,l,o+u,l+g),a==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(o+u,l+h-w),t.quadraticCurveTo(o+u,l+h,o+u-w,l+h),a==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(o+v,l+h),t.quadraticCurveTo(o,l+h,o,l+h-v),a==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(o,l+p),t.quadraticCurveTo(o,l,o+p,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=Ag[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=hN(this,e),l=Object.assign({},a,this._size),u=dN(t,e,l),h=pN(e,l,u,t);(i._to!==h.x||s._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Us(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),$8(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),G8(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:o,index:l})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[l],index:l}}),s=!Cy(r,i),a=this._positionChanged(i,t);(s||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,r),o=this._positionChanged(a,e),l=t||!Cy(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,a=Ag[s.position].call(this,e,t);return a!==!1&&(r!==a.x||i!==a.y)}},de(U2,"positioners",Ag),U2);var ZS={id:"tooltip",_element:vN,positioners:Ag,afterInit(n,e,t){t&&(n.tooltip=new vN({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:hL},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const U$=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function j$(n,e,t,r){const i=n.indexOf(e);if(i===-1)return U$(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const H$=(n,e)=>n===null?null:Yr(Math.round(n),0,e);function yN(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class q2 extends Id{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(jt(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:j$(r,e,ut(t,e),this._addedLabels),H$(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return yN.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}de(q2,"id","category"),de(q2,"defaults",{ticks:{callback:yN}});function z$(n,e){const t=[],{bounds:i,step:s,min:a,max:o,precision:l,count:u,maxTicks:h,maxDigits:p,includeBounds:g}=n,v=s||1,w=h-1,{min:x,max:E}=e,A=!jt(a),T=!jt(o),I=!jt(u),P=(E-x)/(p+1);let O=_3((E-x)/w/v)*v,V,R,C,N;if(O<1e-14&&!A&&!T)return[{value:x},{value:E}];N=Math.ceil(E/O)-Math.floor(x/O),N>w&&(O=_3(N*O/w/v)*v),jt(l)||(V=Math.pow(10,l),O=Math.ceil(O*V)/V),i==="ticks"?(R=Math.floor(x/O)*O,C=Math.ceil(E/O)*O):(R=x,C=E),A&&T&&s&&pz((o-a)/s,O/1e3)?(N=Math.round(Math.min((o-a)/O,h)),O=(o-a)/N,R=a,C=o):I?(R=A?a:R,C=T?o:C,N=u-1,O=(C-R)/N):(N=(C-R)/O,Hg(N,Math.round(N),O/1e3)?N=Math.round(N):N=Math.ceil(N));const L=Math.max(w3(O),w3(R));V=Math.pow(10,jt(l)?L:l),R=Math.round(R*V)/V,C=Math.round(C*V)/V;let F=0;for(A&&(g&&R!==a?(t.push({value:a}),R<a&&F++,Hg(Math.round((R+F*O)*V)/V,a,_N(a,P,n))&&F++):R<a&&F++);F<N;++F){const H=Math.round((R+F*O)*V)/V;if(T&&H>o)break;t.push({value:H})}return T&&g&&C!==o?t.length&&Hg(t[t.length-1].value,o,_N(o,P,n))?t[t.length-1].value=o:t.push({value:o}):(!T||C===o)&&t.push({value:C}),t}function _N(n,e,{horizontal:t,minRotation:r}){const i=xo(r),s=(t?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+n).length;return Math.min(e/s,a)}class W$ extends Id{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return jt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=t?i:l,o=l=>s=r?s:l;if(e){const l=Aa(i),u=Aa(s);l<0&&u<0?o(0):l>0&&u>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,a=z$(i,s);return e.bounds==="ticks"&&gz(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return jS(e,this.chart.options.locale,this.options.ticks.format)}}class ky extends W${determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ws(e)?e:0,this.max=ws(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=xo(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}de(ky,"id","linear"),de(ky,"defaults",{ticks:{callback:B8.formatters.numeric}});const V_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},yi=Object.keys(V_);function wN(n,e){return n-e}function xN(n,e){if(jt(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),ws(a)||(a=typeof r=="string"?t.parse(a,r):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(pm(s)||s===!0)?t.startOf(a,"isoWeek",s):t.startOf(a,i)),+a)}function bN(n,e,t,r){const i=yi.length;for(let s=yi.indexOf(n);s<i-1;++s){const a=V_[yi[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(o*a.size))<=r)return yi[s]}return yi[i-1]}function Y$(n,e,t,r,i){for(let s=yi.length-1;s>=yi.indexOf(t);s--){const a=yi[s];if(V_[a].common&&n._adapter.diff(i,r,a)>=e-1)return a}return yi[t?yi.indexOf(t):0]}function $$(n){for(let e=yi.indexOf(n)+1,t=yi.length;e<t;++e)if(V_[yi[e]].common)return yi[e]}function EN(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=FS(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function G$(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=t[o],l>=0&&(e[l].major=!0);return e}function AN(n,e,t){const r=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,r.push({value:o,major:!1});return s===0||!t?r:G$(n,r,i,t)}class ym extends Id{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new Z8._date(e.adapters.date);i.init(t),jg(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:xN(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!o&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=ws(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=ws(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=wz(i,s,a);return this._unit=t.unit||(r.autoSkip?bN(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):Y$(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:$$(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),AN(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=Yr(t,0,a),r=Yr(r,0,a),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||bN(s.minUnit,t,r,this._getLabelCapacity(t)),o=ut(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,u=pm(l)||l===!0,h={};let p=t,g,v;if(u&&(p=+e.startOf(p,"isoWeek",l)),p=+e.startOf(p,u?"day":a),e.diff(r,t,a)>1e5*o)throw new Error(t+" and "+r+" are too far apart with stepSize of "+o+" "+a);const w=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,v=0;g<r;g=+e.add(g,o,a),v++)EN(h,g,w);return(g===r||i.bounds==="ticks"||v===1)&&EN(h,g,w),Object.keys(h).sort(wN).map(x=>+x)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,a=t||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,r,i){const s=this.options,a=s.ticks.callback;if(a)return dn(a,[e,t,r],this);const o=s.time.displayFormats,l=this._unit,u=this._majorUnit,h=l&&o[l],p=u&&o[u],g=r[t],v=u&&p&&g&&g.major;return this._adapter.format(e,i||(v?p:h))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=xo(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*s+o*a,h:r*a+o*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,AN(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(xN(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return P8(e.sort(wN))}}de(ym,"id","time"),de(ym,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function cv(n,e,t){let r=0,i=n.length-1,s,a,o,l;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=mu(n,"pos",e)),{pos:s,time:o}=n[r],{pos:a,time:l}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=mu(n,"time",e)),{time:s,pos:o}=n[r],{time:a,pos:l}=n[i]);const u=a-s;return u?o+(l-o)*(e-s)/u:o}class SN extends ym{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=cv(t,this.min),this._tableRange=cv(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let a,o,l,u,h;for(a=0,o=e.length;a<o;++a)u=e[a],u>=t&&u<=r&&i.push(u);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,o=i.length;a<o;++a)h=i[a+1],l=i[a-1],u=i[a],Math.round((h+l)/2)!==u&&s.push({time:u,pos:a/(o-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(cv(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return cv(this._table,r*this._tableRange+this._minPos,!0)}}de(SN,"id","timeseries"),de(SN,"defaults",ym.defaults);const dL="label";function TN(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function q$(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function pL(n,e){n.labels=e}function gL(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dL;const r=[];n.datasets=e.map(i=>{const s=n.datasets.find(a=>a[t]===i[t]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function K$(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dL;const t={labels:[],datasets:[]};return pL(t,n.labels),gL(t,n.datasets,e),t}function X$(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:u=[],fallbackContent:h,updateMode:p,...g}=n,v=G.useRef(null),w=G.useRef(null),x=()=>{v.current&&(w.current=new sf(v.current,{type:a,data:K$(o,s),options:l&&{...l},plugins:u}),TN(e,w.current))},E=()=>{TN(e,null),w.current&&(w.current.destroy(),w.current=null)};return G.useEffect(()=>{!i&&w.current&&l&&q$(w.current,l)},[i,l]),G.useEffect(()=>{!i&&w.current&&pL(w.current.config.data,o.labels)},[i,o.labels]),G.useEffect(()=>{!i&&w.current&&o.datasets&&gL(w.current.config.data,o.datasets,s)},[i,o.datasets]),G.useEffect(()=>{w.current&&(i?(E(),setTimeout(x)):w.current.update(p))},[i,l,o.labels,o.datasets,p]),G.useEffect(()=>{w.current&&(E(),setTimeout(x))},[a]),G.useEffect(()=>(x(),()=>E()),[]),ae.createElement("canvas",{ref:v,role:"img",height:t,width:r,...g},h)}const Q$=G.forwardRef(X$);function JS(n,e){return sf.register(e),G.forwardRef((t,r)=>ae.createElement(Q$,{...t,ref:r,type:n}))}const Z$=JS("line",Wv),J$=JS("bar",zv),mL=JS("doughnut",xg);sf.register(qv,q2,ky);function vL({meals:n,startOfWeek:e}){const t=o=>o.toLocaleDateString("en-CA"),r=()=>{const o=[];for(let l=0;l<7;l++){const u=new Date(e);u.setDate(e.getDate()+l),o.push(t(u))}return o},s={labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Calories",data:r().map(l=>{let u=0;return n.filter(h=>h.date===l).forEach(h=>{h.kcal?u+=h.kcal:h.foodItems.forEach(p=>{p.nutrients.forEach(g=>{const v=parseFloat(g.total)||0;(g.type==="Carbohydrate"||g.type==="Protein")&&(u+=v*4),g.type==="Fat"&&(u+=v*9)})})}),Math.round(u)}),backgroundColor:"deepskyblue"}]},a={plugins:{tooltip:{enabled:!0},legend:{display:!1}},scales:{y:{ticks:{color:"white"},grid:{color:"#444"}},x:{ticks:{color:"white"},grid:{color:"#444"}}}};return D.jsx(J$,{data:s,options:a})}sf.register(Sh,ZS,QS);function yL({meals:n,selectedDate:e,goal:t=2e3}){const r=e||new Date().toISOString().split("T")[0],s=n.filter(h=>h.date===r).reduce((h,p)=>{if(p.kcal)return h+p.kcal;let g=0;return p.foodItems.forEach(v=>{v.nutrients.forEach(w=>{const x=parseFloat(w.total)||0;(w.type==="Carbohydrate"||w.type==="Protein")&&(g+=x*4),w.type==="Fat"&&(g+=x*9)})}),h+g},0),a=Math.round(s),o=t-a,l={labels:["Calories Consumed"],datasets:[{data:[s,o>0?o:0],backgroundColor:["deepskyblue","#a9c9f8ff"],borderWidth:0}]},u={cutout:"85%",plugins:{legend:{display:!0,position:"bottom",labels:{color:"white",font:{size:12,weight:"bold"},padding:15,boxWidth:10,boxHeight:10}}}};return D.jsxs("div",{className:"donut-chart",style:{position:"relative"},children:[D.jsx(mL,{data:l,options:u}),D.jsx("div",{className:"DonutWordings",children:o>0?`${o} Remaining`:"Goal Reached"})]})}sf.register(Sh,ZS,QS);function _L({meals:n,selectedDate:e}){const t=e||new Date().toISOString().split("T")[0],r=n.filter(g=>g.date===t),i=["Protein","Fat","Carbohydrate","Sugar","Fibre","Salt","Caffeine"],s={};r.forEach(g=>{g.foodItems.forEach(v=>{v.nutrients.forEach(w=>{var A;const x=(A=w.type)==null?void 0:A.toLowerCase();if(!x||x.includes("kcal")||x.includes("calorie"))return;const E=x.charAt(0).toUpperCase()+x.slice(1);if(i.includes(E)){const T=parseFloat(w.total)||0;s[E]=(s[E]||0)+T}})})});const a=Object.entries(s).sort((g,v)=>v[1]-g[1]),o=a.slice(0,4),l=a.slice(4),u=o.map(([g,v],w)=>({label:g,value:v,color:["#4CAF50","#FF9800","#03A9F4","teal"][w%4]}));if(l.length>0){const g=l.reduce((v,[,w])=>v+w,0);u.push({label:"Others",value:g,color:"gray"})}const h={labels:u.map(g=>g.label),datasets:[{data:u.map(g=>g.value),backgroundColor:u.map(g=>g.color),borderWidth:0}]},p={cutout:"85%",plugins:{tooltip:{enabled:!0},legend:{display:!0,position:"bottom",labels:{color:"white",font:{size:8,weight:"bold"},padding:5,boxWidth:5,boxHeight:5}}}};return r.length===0?D.jsx("div",{className:"text-white small text-center p-3",style:{marginTop:"30%"},children:"No nutrition data for today."}):D.jsx("div",{className:"donut-chart",style:{position:"relative"},children:D.jsx(mL,{data:h,options:p})})}const eG="Left",tG="Right",nG="Up",rG="Down",Th={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},K2={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},CN="mousemove",IN="mouseup",iG="touchend",sG="touchmove",aG="touchstart";function oG(n,e,t,r){return n>e?t>0?tG:eG:r>0?rG:nG}function DN(n,e){if(e===0)return n;const t=Math.PI/180*e,r=n[0]*Math.cos(t)+n[1]*Math.sin(t),i=n[1]*Math.cos(t)-n[0]*Math.sin(t);return[r,i]}function lG(n,e){const t=h=>{const p="touches"in h;p&&h.touches.length>1||n((g,v)=>{v.trackMouse&&!p&&(document.addEventListener(CN,r),document.addEventListener(IN,a));const{clientX:w,clientY:x}=p?h.touches[0]:h,E=DN([w,x],v.rotationAngle);return v.onTouchStartOrOnMouseDown&&v.onTouchStartOrOnMouseDown({event:h}),Object.assign(Object.assign(Object.assign({},g),K2),{initial:E.slice(),xy:E,start:h.timeStamp||0})})},r=h=>{n((p,g)=>{const v="touches"in h;if(v&&h.touches.length>1)return p;if(h.timeStamp-p.start>g.swipeDuration)return p.swiping?Object.assign(Object.assign({},p),{swiping:!1}):p;const{clientX:w,clientY:x}=v?h.touches[0]:h,[E,A]=DN([w,x],g.rotationAngle),T=E-p.xy[0],I=A-p.xy[1],P=Math.abs(T),O=Math.abs(I),V=(h.timeStamp||0)-p.start,R=Math.sqrt(P*P+O*O)/(V||1),C=[T/(V||1),I/(V||1)],N=oG(P,O,T,I),L=typeof g.delta=="number"?g.delta:g.delta[N.toLowerCase()]||Th.delta;if(P<L&&O<L&&!p.swiping)return p;const F={absX:P,absY:O,deltaX:T,deltaY:I,dir:N,event:h,first:p.first,initial:p.initial,velocity:R,vxvy:C};F.first&&g.onSwipeStart&&g.onSwipeStart(F),g.onSwiping&&g.onSwiping(F);let H=!1;return(g.onSwiping||g.onSwiped||g[`onSwiped${N}`])&&(H=!0),H&&g.preventScrollOnSwipe&&g.trackTouch&&h.cancelable&&h.preventDefault(),Object.assign(Object.assign({},p),{first:!1,eventData:F,swiping:!0})})},i=h=>{n((p,g)=>{let v;if(p.swiping&&p.eventData){if(h.timeStamp-p.start<g.swipeDuration){v=Object.assign(Object.assign({},p.eventData),{event:h}),g.onSwiped&&g.onSwiped(v);const w=g[`onSwiped${v.dir}`];w&&w(v)}}else g.onTap&&g.onTap({event:h});return g.onTouchEndOrOnMouseUp&&g.onTouchEndOrOnMouseUp({event:h}),Object.assign(Object.assign(Object.assign({},p),K2),{eventData:v})})},s=()=>{document.removeEventListener(CN,r),document.removeEventListener(IN,a)},a=h=>{s(),i(h)},o=(h,p)=>{let g=()=>{};if(h&&h.addEventListener){const v=Object.assign(Object.assign({},Th.touchEventOptions),p.touchEventOptions),w=[[aG,t,v],[sG,r,Object.assign(Object.assign({},v),p.preventScrollOnSwipe?{passive:!1}:{})],[iG,i,v]];w.forEach(([x,E,A])=>h.addEventListener(x,E,A)),g=()=>w.forEach(([x,E])=>h.removeEventListener(x,E))}return g},u={ref:h=>{h!==null&&n((p,g)=>{if(p.el===h)return p;const v={};return p.el&&p.el!==h&&p.cleanUpTouch&&(p.cleanUpTouch(),v.cleanUpTouch=void 0),g.trackTouch&&h&&(v.cleanUpTouch=o(h,g)),Object.assign(Object.assign(Object.assign({},p),{el:h}),v)})}};return e.trackMouse&&(u.onMouseDown=t),[u,o]}function cG(n,e,t,r){return!e.trackTouch||!n.el?(n.cleanUpTouch&&n.cleanUpTouch(),Object.assign(Object.assign({},n),{cleanUpTouch:void 0})):n.cleanUpTouch?e.preventScrollOnSwipe!==t.preventScrollOnSwipe||e.touchEventOptions.passive!==t.touchEventOptions.passive?(n.cleanUpTouch(),Object.assign(Object.assign({},n),{cleanUpTouch:r(n.el,e)})):n:Object.assign(Object.assign({},n),{cleanUpTouch:r(n.el,e)})}function uG(n){const{trackMouse:e}=n,t=G.useRef(Object.assign({},K2)),r=G.useRef(Object.assign({},Th)),i=G.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},Th),n);let s;for(s in Th)r.current[s]===void 0&&(r.current[s]=Th[s]);const[a,o]=G.useMemo(()=>lG(l=>t.current=l(t.current,r.current),{trackMouse:e}),[e]);return t.current=cG(t.current,r.current,i.current,o),a}const wL=G.createContext({});function fG(n){const e=G.useRef(null);return e.current===null&&(e.current=n()),e.current}const eT=typeof window<"u",hG=eT?G.useLayoutEffect:G.useEffect,tT=G.createContext(null);function nT(n,e){n.indexOf(e)===-1&&n.push(e)}function rT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const No=(n,e,t)=>t>e?e:t<n?n:t;let iT=()=>{};const Mo={},xL=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function bL(n){return typeof n=="object"&&n!==null}const EL=n=>/^0[^.\s]+$/u.test(n);function sT(n){let e;return()=>(e===void 0&&(e=n()),e)}const gs=n=>n,dG=(n,e)=>t=>e(n(t)),Xm=(...n)=>n.reduce(dG),_m=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class aT{constructor(){this.subscriptions=[]}add(e){return nT(this.subscriptions,e),()=>rT(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sa=n=>n*1e3,Ta=n=>n/1e3;function AL(n,e){return e?n*(1e3/e):0}const SL=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,pG=1e-7,gG=12;function mG(n,e,t,r,i){let s,a,o=0;do a=e+(t-e)/2,s=SL(a,r,i)-n,s>0?t=a:e=a;while(Math.abs(s)>pG&&++o<gG);return a}function Qm(n,e,t,r){if(n===e&&t===r)return gs;const i=s=>mG(s,0,1,n,t);return s=>s===0||s===1?s:SL(i(s),e,r)}const TL=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,CL=n=>e=>1-n(1-e),IL=Qm(.33,1.53,.69,.99),oT=CL(IL),DL=TL(oT),RL=n=>(n*=2)<1?.5*oT(n):.5*(2-Math.pow(2,-10*(n-1))),lT=n=>1-Math.sin(Math.acos(n)),OL=CL(lT),NL=TL(lT),vG=Qm(.42,0,1,1),yG=Qm(0,0,.58,1),ML=Qm(.42,0,.58,1),_G=n=>Array.isArray(n)&&typeof n[0]!="number",PL=n=>Array.isArray(n)&&typeof n[0]=="number",wG={linear:gs,easeIn:vG,easeInOut:ML,easeOut:yG,circIn:lT,circInOut:NL,circOut:OL,backIn:oT,backInOut:DL,backOut:IL,anticipate:RL},xG=n=>typeof n=="string",RN=n=>{if(PL(n)){iT(n.length===4);const[e,t,r,i]=n;return Qm(e,t,r,i)}else if(xG(n))return wG[n];return n},uv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bG(n,e){let t=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(h){a.has(h)&&(u.schedule(h),n()),h(o)}const u={schedule:(h,p=!1,g=!1)=>{const w=g&&i?t:r;return p&&a.add(h),w.has(h)||w.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(o=h,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(l),t.clear(),i=!1,s&&(s=!1,u.process(h))}};return u}const EG=40;function kL(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=uv.reduce((I,P)=>(I[P]=bG(s),I),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:h,update:p,preRender:g,render:v,postRender:w}=a,x=()=>{const I=Mo.useManualTiming?i.timestamp:performance.now();t=!1,Mo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(I-i.timestamp,EG),1)),i.timestamp=I,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),h.process(i),p.process(i),g.process(i),v.process(i),w.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(x))},E=()=>{t=!0,r=!0,i.isProcessing||n(x)};return{schedule:uv.reduce((I,P)=>{const O=a[P];return I[P]=(V,R=!1,C=!1)=>(t||E(),O.schedule(V,R,C)),I},{}),cancel:I=>{for(let P=0;P<uv.length;P++)a[uv[P]].cancel(I)},state:i,steps:a}}const{schedule:vn,cancel:Zl,state:Or,steps:tE}=kL(typeof requestAnimationFrame<"u"?requestAnimationFrame:gs,!0);let Kv;function AG(){Kv=void 0}const bi={now:()=>(Kv===void 0&&bi.set(Or.isProcessing||Mo.useManualTiming?Or.timestamp:performance.now()),Kv),set:n=>{Kv=n,queueMicrotask(AG)}},LL=n=>e=>typeof e=="string"&&e.startsWith(n),cT=LL("--"),SG=LL("var(--"),uT=n=>SG(n)?TG.test(n.split("/*")[0].trim()):!1,TG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dd={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},wm={...Dd,transform:n=>No(0,1,n)},fv={...Dd,default:1},Yg=n=>Math.round(n*1e5)/1e5,fT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CG(n){return n==null}const IG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hT=(n,e)=>t=>!!(typeof t=="string"&&IG.test(t)&&t.startsWith(n)||e&&!CG(t)&&Object.prototype.hasOwnProperty.call(t,e)),VL=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(fT);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},DG=n=>No(0,255,n),nE={...Dd,transform:n=>Math.round(DG(n))},vu={test:hT("rgb","red"),parse:VL("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+nE.transform(n)+", "+nE.transform(e)+", "+nE.transform(t)+", "+Yg(wm.transform(r))+")"};function RG(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const X2={test:hT("#"),parse:RG,transform:vu.transform},Zm=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Il=Zm("deg"),Ca=Zm("%"),Je=Zm("px"),OG=Zm("vh"),NG=Zm("vw"),ON={...Ca,parse:n=>Ca.parse(n)/100,transform:n=>Ca.transform(n*100)},Ch={test:hT("hsl","hue"),parse:VL("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ca.transform(Yg(e))+", "+Ca.transform(Yg(t))+", "+Yg(wm.transform(r))+")"},Gn={test:n=>vu.test(n)||X2.test(n)||Ch.test(n),parse:n=>vu.test(n)?vu.parse(n):Ch.test(n)?Ch.parse(n):X2.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?vu.transform(n):Ch.transform(n),getAnimatableNone:n=>{const e=Gn.parse(n);return e.alpha=0,Gn.transform(e)}},MG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PG(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(fT))==null?void 0:e.length)||0)+(((t=n.match(MG))==null?void 0:t.length)||0)>0}const BL="number",FL="color",kG="var",LG="var(",NN="${}",VG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xm(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(VG,l=>(Gn.test(l)?(r.color.push(s),i.push(FL),t.push(Gn.parse(l))):l.startsWith(LG)?(r.var.push(s),i.push(kG),t.push(l)):(r.number.push(s),i.push(BL),t.push(parseFloat(l))),++s,NN)).split(NN);return{values:t,split:o,indexes:r,types:i}}function UL(n){return xm(n).values}function jL(n){const{split:e,types:t}=xm(n),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=t[a];o===BL?s+=Yg(i[a]):o===FL?s+=Gn.transform(i[a]):s+=i[a]}return s}}const BG=n=>typeof n=="number"?0:Gn.test(n)?Gn.getAnimatableNone(n):n;function FG(n){const e=UL(n);return jL(n)(e.map(BG))}const Jl={test:PG,parse:UL,createTransformer:jL,getAnimatableNone:FG};function rE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function UG({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,a=0;if(!e)i=s=a=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=rE(l,o,n+1/3),s=rE(l,o,n),a=rE(l,o,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Ly(n,e){return t=>t>0?e:n}const xn=(n,e,t)=>n+(e-n)*t,iE=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},jG=[X2,vu,Ch],HG=n=>jG.find(e=>e.test(n));function MN(n){const e=HG(n);if(!e)return!1;let t=e.parse(n);return e===Ch&&(t=UG(t)),t}const PN=(n,e)=>{const t=MN(n),r=MN(e);if(!t||!r)return Ly(n,e);const i={...t};return s=>(i.red=iE(t.red,r.red,s),i.green=iE(t.green,r.green,s),i.blue=iE(t.blue,r.blue,s),i.alpha=xn(t.alpha,r.alpha,s),vu.transform(i))},Q2=new Set(["none","hidden"]);function zG(n,e){return Q2.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function WG(n,e){return t=>xn(n,e,t)}function dT(n){return typeof n=="number"?WG:typeof n=="string"?uT(n)?Ly:Gn.test(n)?PN:GG:Array.isArray(n)?HL:typeof n=="object"?Gn.test(n)?PN:YG:Ly}function HL(n,e){const t=[...n],r=t.length,i=n.map((s,a)=>dT(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)t[a]=i[a](s);return t}}function YG(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=dT(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function $G(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=n.indexes[s][r[s]],o=n.values[a]??0;t[i]=o,r[s]++}return t}const GG=(n,e)=>{const t=Jl.createTransformer(e),r=xm(n),i=xm(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Q2.has(n)&&!i.values.length||Q2.has(e)&&!r.values.length?zG(n,e):Xm(HL($G(r,i),i.values),t):Ly(n,e)};function zL(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?xn(n,e,t):dT(n)(n,e)}const qG=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>vn.update(e,t),stop:()=>Zl(e),now:()=>Or.isProcessing?Or.timestamp:bi.now()}},WL=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=Math.round(n(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Vy=2e4;function pT(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Vy;)e+=t,r=n.next(e);return e>=Vy?1/0:e}function KG(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(pT(r),Vy);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Ta(i)}}const XG=5;function YL(n,e,t){const r=Math.max(e-XG,0);return AL(t-n(r),e-r)}const Cn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sE=.001;function QG({duration:n=Cn.duration,bounce:e=Cn.bounce,velocity:t=Cn.velocity,mass:r=Cn.mass}){let i,s,a=1-e;a=No(Cn.minDamping,Cn.maxDamping,a),n=No(Cn.minDuration,Cn.maxDuration,Ta(n)),a<1?(i=u=>{const h=u*a,p=h*n,g=h-t,v=Z2(u,a),w=Math.exp(-p);return sE-g/v*w},s=u=>{const p=u*a*n,g=p*t+t,v=Math.pow(a,2)*Math.pow(u,2)*n,w=Math.exp(-p),x=Z2(Math.pow(u,2),a);return(-i(u)+sE>0?-1:1)*((g-v)*w)/x}):(i=u=>{const h=Math.exp(-u*n),p=(u-t)*n+1;return-sE+h*p},s=u=>{const h=Math.exp(-u*n),p=(t-u)*(n*n);return h*p});const o=5/n,l=JG(i,s,o);if(n=Sa(n),isNaN(l))return{stiffness:Cn.stiffness,damping:Cn.damping,duration:n};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:n}}}const ZG=12;function JG(n,e,t){let r=t;for(let i=1;i<ZG;i++)r=r-n(r)/e(r);return r}function Z2(n,e){return n*Math.sqrt(1-e*e)}const eq=["duration","bounce"],tq=["stiffness","damping","mass"];function kN(n,e){return e.some(t=>n[t]!==void 0)}function nq(n){let e={velocity:Cn.velocity,stiffness:Cn.stiffness,damping:Cn.damping,mass:Cn.mass,isResolvedFromDuration:!1,...n};if(!kN(n,tq)&&kN(n,eq))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*No(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Cn.mass,stiffness:i,damping:s}}else{const t=QG(n);e={...e,...t,mass:Cn.mass},e.isResolvedFromDuration=!0}return e}function By(n=Cn.visualDuration,e=Cn.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:h,duration:p,velocity:g,isResolvedFromDuration:v}=nq({...t,velocity:-Ta(t.velocity||0)}),w=g||0,x=u/(2*Math.sqrt(l*h)),E=a-s,A=Ta(Math.sqrt(l/h)),T=Math.abs(E)<5;r||(r=T?Cn.restSpeed.granular:Cn.restSpeed.default),i||(i=T?Cn.restDelta.granular:Cn.restDelta.default);let I;if(x<1){const O=Z2(A,x);I=V=>{const R=Math.exp(-x*A*V);return a-R*((w+x*A*E)/O*Math.sin(O*V)+E*Math.cos(O*V))}}else if(x===1)I=O=>a-Math.exp(-A*O)*(E+(w+A*E)*O);else{const O=A*Math.sqrt(x*x-1);I=V=>{const R=Math.exp(-x*A*V),C=Math.min(O*V,300);return a-R*((w+x*A*E)*Math.sinh(C)+O*E*Math.cosh(C))/O}}const P={calculatedDuration:v&&p||null,next:O=>{const V=I(O);if(v)o.done=O>=p;else{let R=O===0?w:0;x<1&&(R=O===0?Sa(w):YL(I,O,V));const C=Math.abs(R)<=r,N=Math.abs(a-V)<=i;o.done=C&&N}return o.value=o.done?a:V,o},toString:()=>{const O=Math.min(pT(P),Vy),V=WL(R=>P.next(O*R).value,O,30);return O+"ms "+V},toTransition:()=>{}};return P}By.applyToOptions=n=>{const e=KG(n,100,By);return n.ease=e.ease,n.duration=Sa(e.duration),n.type="keyframes",n};function J2({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:h}){const p=n[0],g={done:!1,value:p},v=C=>o!==void 0&&C<o||l!==void 0&&C>l,w=C=>o===void 0?l:l===void 0||Math.abs(o-C)<Math.abs(l-C)?o:l;let x=t*e;const E=p+x,A=a===void 0?E:a(E);A!==E&&(x=A-p);const T=C=>-x*Math.exp(-C/r),I=C=>A+T(C),P=C=>{const N=T(C),L=I(C);g.done=Math.abs(N)<=u,g.value=g.done?A:L};let O,V;const R=C=>{v(g.value)&&(O=C,V=By({keyframes:[g.value,w(g.value)],velocity:YL(I,C,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return R(0),{calculatedDuration:null,next:C=>{let N=!1;return!V&&O===void 0&&(N=!0,P(C),R(C)),O!==void 0&&C>=O?V.next(C-O):(!N&&P(C),g)}}}function rq(n,e,t){const r=[],i=t||Mo.mix||zL,s=n.length-1;for(let a=0;a<s;a++){let o=i(n[a],n[a+1]);if(e){const l=Array.isArray(e)?e[a]||gs:e;o=Xm(l,o)}r.push(o)}return r}function iq(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(iT(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=rq(e,r,i),l=o.length,u=h=>{if(a&&h<n[0])return e[0];let p=0;if(l>1)for(;p<n.length-2&&!(h<n[p+1]);p++);const g=_m(n[p],n[p+1],h);return o[p](g)};return t?h=>u(No(n[0],n[s-1],h)):u}function sq(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=_m(0,e,r);n.push(xn(t,1,i))}}function aq(n){const e=[0];return sq(e,n.length-1),e}function oq(n,e){return n.map(t=>t*e)}function lq(n,e){return n.map(()=>e||ML).splice(0,n.length-1)}function $g({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=_G(r)?r.map(RN):RN(r),s={done:!1,value:e[0]},a=oq(t&&t.length===e.length?t:aq(e),n),o=iq(a,e,{ease:Array.isArray(i)?i:lq(e,i)});return{calculatedDuration:n,next:l=>(s.value=o(l),s.done=l>=n,s)}}const cq=n=>n!==null;function gT(n,{repeat:e,repeatType:t="loop"},r,i=1){const s=n.filter(cq),o=i<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const uq={decay:J2,inertia:J2,tween:$g,keyframes:$g,spring:By};function $L(n){typeof n.type=="string"&&(n.type=uq[n.type])}class mT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const fq=n=>n/100;class vT extends mT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:t}=this.options;t&&t.updatedAt!==bi.now()&&this.tick(bi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$L(e);const{type:t=$g,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=t||$g;l!==$g&&typeof o[0]!="number"&&(this.mixKeyframes=Xm(fq,zL(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=pT(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:h,repeat:p,repeatType:g,repeatDelay:v,type:w,onUpdate:x,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const A=this.currentTime-u*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?A<0:A>i;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let I=this.currentTime,P=r;if(p){const C=Math.min(this.currentTime,i)/o;let N=Math.floor(C),L=C%1;!L&&C>=1&&(L=1),L===1&&N--,N=Math.min(N,p+1),!!(N%2)&&(g==="reverse"?(L=1-L,v&&(L-=v/o)):g==="mirror"&&(P=a)),I=No(0,1,L)*o}const O=T?{done:!1,value:h[0]}:P.next(I);s&&(O.value=s(O.value));let{done:V}=O;!T&&l!==null&&(V=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return R&&w!==J2&&(O.value=gT(h,this.options,E,this.speed)),x&&x(O.value),R&&this.finish(),O}then(e,t){return this.finished.then(e,t)}get duration(){return Ta(this.calculatedDuration)}get time(){return Ta(this.currentTime)}set time(e){var t;e=Sa(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(bi.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ta(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=qG,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function hq(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const yu=n=>n*180/Math.PI,eA=n=>{const e=yu(Math.atan2(n[1],n[0]));return tA(e)},dq={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:eA,rotateZ:eA,skewX:n=>yu(Math.atan(n[1])),skewY:n=>yu(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},tA=n=>(n=n%360,n<0&&(n+=360),n),LN=eA,VN=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),BN=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),pq={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:VN,scaleY:BN,scale:n=>(VN(n)+BN(n))/2,rotateX:n=>tA(yu(Math.atan2(n[6],n[5]))),rotateY:n=>tA(yu(Math.atan2(-n[2],n[0]))),rotateZ:LN,rotate:LN,skewX:n=>yu(Math.atan(n[4])),skewY:n=>yu(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function nA(n){return n.includes("scale")?1:0}function rA(n,e){if(!n||n==="none")return nA(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=pq,i=t;else{const o=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=dq,i=o}if(!i)return nA(e);const s=r[e],a=i[1].split(",").map(mq);return typeof s=="function"?s(a):a[s]}const gq=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return rA(t,e)};function mq(n){return parseFloat(n.trim())}const Rd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Od=new Set(Rd),FN=n=>n===Dd||n===Je,vq=new Set(["x","y","z"]),yq=Rd.filter(n=>!vq.has(n));function _q(n){const e=[];return yq.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Iu={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>rA(e,"x"),y:(n,{transform:e})=>rA(e,"y")};Iu.translateX=Iu.x;Iu.translateY=Iu.y;const Du=new Set;let iA=!1,sA=!1,aA=!1;function GL(){if(sA){const n=Array.from(Du).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=_q(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))==null||o.set(a)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sA=!1,iA=!1,Du.forEach(n=>n.complete(aA)),Du.clear()}function qL(){Du.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(sA=!0)})}function wq(){aA=!0,qL(),GL(),aA=!1}class yT{constructor(e,t,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Du.add(this),iA||(iA=!0,vn.read(qL),vn.resolveKeyframes(GL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&t){const o=r.readValue(t,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}hq(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Du.delete(this)}cancel(){this.state==="scheduled"&&(Du.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xq=n=>n.startsWith("--");function bq(n,e,t){xq(e)?n.style.setProperty(e,t):n.style[e]=t}const Eq=sT(()=>window.ScrollTimeline!==void 0),Aq={};function Sq(n,e){const t=sT(n);return()=>Aq[e]??t()}const KL=Sq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sg=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,UN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sg([0,.65,.55,1]),circOut:Sg([.55,0,1,.45]),backIn:Sg([.31,.01,.66,-.59]),backOut:Sg([.33,1.53,.69,.99])};function XL(n,e){if(n)return typeof n=="function"?KL()?WL(n,e):"ease-out":PL(n)?Sg(n):Array.isArray(n)?n.map(t=>XL(t,e)||UN.easeOut):UN[n]}function Tq(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const h={[e]:t};l&&(h.offset=l);const p=XL(o,i);Array.isArray(p)&&(h.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),n.animate(h,g)}function QL(n){return typeof n=="function"&&"applyToOptions"in n}function Cq({type:n,...e}){return QL(n)&&KL()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Iq extends mT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,iT(typeof e.type!="string");const u=Cq(e);this.animation=Tq(t,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=gT(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(h):bq(t,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return Ta(Number(e))}get time(){return Ta(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Sa(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Eq()?(this.animation.timeline=e,gs):t(this)}}const ZL={anticipate:RL,backInOut:DL,circInOut:NL};function Dq(n){return n in ZL}function Rq(n){typeof n.ease=="string"&&Dq(n.ease)&&(n.ease=ZL[n.ease])}const jN=10;class Oq extends Iq{constructor(e){Rq(e),$L(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const o=new vT({...a,autoplay:!1}),l=Sa(this.finishedTime??this.time);t.setWithVelocity(o.sample(l-jN).value,o.sample(l).value,jN),o.stop()}}const HN=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Jl.test(n)||n==="0")&&!n.startsWith("url("));function Nq(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Mq(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],a=HN(i,e),o=HN(s,e);return!a||!o?!1:Nq(n)||(t==="spring"||QL(t))&&r}function oA(n){n.duration=0,n.type}const Pq=new Set(["opacity","clipPath","filter","transform"]),kq=sT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Lq(n){var h;const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:s,type:a}=n;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return kq()&&t&&Pq.has(t)&&(t!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const Vq=40;class Bq extends mT{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:h,...p}){var w;super(),this.stop=()=>{var x,E;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=bi.now();const g={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:u,element:h,...p},v=(h==null?void 0:h.KeyframeResolver)||yT;this.keyframeResolver=new v(o,(x,E,A)=>this.onKeyframesResolved(x,E,g,!A),l,u,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:h}=r;this.resolvedAt=bi.now(),Mq(e,s,a,o)||((Mo.instantAnimations||!l)&&(h==null||h(gT(e,r,t))),e[0]=e[e.length-1],oA(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Vq?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},v=!u&&Lq(g)?new Oq({...g,element:g.motionValue.owner.current}):new vT(g);v.finished.then(()=>this.notifyFinished()).catch(gs),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),wq()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Fq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Uq(n){const e=Fq.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function JL(n,e,t=1){const[r,i]=Uq(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return xL(a)?parseFloat(a):a}return uT(i)?JL(i,e,t+1):i}function _T(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const e5=new Set(["width","height","top","left","right","bottom",...Rd]),jq={test:n=>n==="auto",parse:n=>n},t5=n=>e=>e.test(n),n5=[Dd,Je,Ca,Il,NG,OG,jq],zN=n=>n5.find(t5(n));function Hq(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||EL(n):!0}const zq=new Set(["brightness","contrast","saturate","opacity"]);function Wq(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(fT)||[];if(!r)return n;const i=t.replace(r,"");let s=zq.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const Yq=/\b([a-z-]*)\(.*?\)/gu,lA={...Jl,getAnimatableNone:n=>{const e=n.match(Yq);return e?e.map(Wq).join(" "):n}},WN={...Dd,transform:Math.round},$q={rotate:Il,rotateX:Il,rotateY:Il,rotateZ:Il,scale:fv,scaleX:fv,scaleY:fv,scaleZ:fv,skew:Il,skewX:Il,skewY:Il,distance:Je,translateX:Je,translateY:Je,translateZ:Je,x:Je,y:Je,z:Je,perspective:Je,transformPerspective:Je,opacity:wm,originX:ON,originY:ON,originZ:Je},wT={borderWidth:Je,borderTopWidth:Je,borderRightWidth:Je,borderBottomWidth:Je,borderLeftWidth:Je,borderRadius:Je,radius:Je,borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomRightRadius:Je,borderBottomLeftRadius:Je,width:Je,maxWidth:Je,height:Je,maxHeight:Je,top:Je,right:Je,bottom:Je,left:Je,padding:Je,paddingTop:Je,paddingRight:Je,paddingBottom:Je,paddingLeft:Je,margin:Je,marginTop:Je,marginRight:Je,marginBottom:Je,marginLeft:Je,backgroundPositionX:Je,backgroundPositionY:Je,...$q,zIndex:WN,fillOpacity:wm,strokeOpacity:wm,numOctaves:WN},Gq={...wT,color:Gn,backgroundColor:Gn,outlineColor:Gn,fill:Gn,stroke:Gn,borderColor:Gn,borderTopColor:Gn,borderRightColor:Gn,borderBottomColor:Gn,borderLeftColor:Gn,filter:lA,WebkitFilter:lA},r5=n=>Gq[n];function i5(n,e){let t=r5(n);return t!==lA&&(t=Jl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const qq=new Set(["auto","none","0"]);function Kq(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!qq.has(s)&&xm(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=i5(t,i)}class Xq extends yT{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),uT(u))){const h=JL(u,t.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!e5.has(r)||e.length!==2)return;const[i,s]=e,a=zN(i),o=zN(s);if(a!==o)if(FN(a)&&FN(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Iu[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Hq(e[i]))&&r.push(i);r.length&&Kq(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Iu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Iu[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Qq(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=(t==null?void 0:t[n])??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const s5=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Zq(n){return bL(n)&&"offsetHeight"in n}const YN=30,Jq=n=>!isNaN(parseFloat(n));class eK{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=bi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=bi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Jq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new aT);const r=this.events[e].add(t);return e==="change"?()=>{r(),vn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=bi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>YN)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,YN);return AL(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $h(n,e){return new eK(n,e)}const{schedule:xT}=kL(queueMicrotask,!1),Ps={x:!1,y:!1};function a5(){return Ps.x||Ps.y}function tK(n){return n==="x"||n==="y"?Ps[n]?null:(Ps[n]=!0,()=>{Ps[n]=!1}):Ps.x||Ps.y?null:(Ps.x=Ps.y=!0,()=>{Ps.x=Ps.y=!1})}function o5(n,e){const t=Qq(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function $N(n){return!(n.pointerType==="touch"||a5())}function nK(n,e,t={}){const[r,i,s]=o5(n,t),a=o=>{if(!$N(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const h=p=>{$N(p)&&(u(p),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const l5=(n,e)=>e?n===e?!0:l5(n,e.parentElement):!1,bT=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,rK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iK(n){return rK.has(n.tagName)||n.tabIndex!==-1}const Xv=new WeakSet;function GN(n){return e=>{e.key==="Enter"&&n(e)}}function aE(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const sK=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=GN(()=>{if(Xv.has(t))return;aE(t,"down");const i=GN(()=>{aE(t,"up")}),s=()=>aE(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function qN(n){return bT(n)&&!a5()}function aK(n,e,t={}){const[r,i,s]=o5(n,t),a=o=>{const l=o.currentTarget;if(!qN(o))return;Xv.add(l);const u=e(l,o),h=(v,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),Xv.has(l)&&Xv.delete(l),qN(v)&&typeof u=="function"&&u(v,{success:w})},p=v=>{h(v,l===window||l===document||t.useGlobalTarget||l5(l,v.target))},g=v=>{h(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(o=>{(t.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),Zq(o)&&(o.addEventListener("focus",u=>sK(u,i)),!iK(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function c5(n){return bL(n)&&"ownerSVGElement"in n}function oK(n){return c5(n)&&n.tagName==="svg"}const $r=n=>!!(n&&n.getVelocity),lK=[...n5,Gn,Jl],cK=n=>lK.find(t5(n)),u5=G.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function uK(n=!0){const e=G.useContext(tT);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=G.useId();G.useEffect(()=>{if(n)return i(s)},[n]);const a=G.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,a]:[!0]}const f5=G.createContext({strict:!1}),KN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gh={};for(const n in KN)Gh[n]={isEnabled:e=>KN[n].some(t=>!!e[t])};function fK(n){for(const e in n)Gh[e]={...Gh[e],...n[e]}}const hK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fy(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||hK.has(n)}let h5=n=>!Fy(n);function dK(n){typeof n=="function"&&(h5=e=>e.startsWith("on")?!Fy(e):n(e))}try{dK(require("@emotion/is-prop-valid").default)}catch{}function pK(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(h5(i)||t===!0&&Fy(i)||!e&&!Fy(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}const B_=G.createContext({});function F_(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function bm(n){return typeof n=="string"||Array.isArray(n)}const ET=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AT=["initial",...ET];function U_(n){return F_(n.animate)||AT.some(e=>bm(n[e]))}function d5(n){return!!(U_(n)||n.variants)}function gK(n,e){if(U_(n)){const{initial:t,animate:r}=n;return{initial:t===!1||bm(t)?t:void 0,animate:bm(r)?r:void 0}}return n.inherit!==!1?e:{}}function mK(n){const{initial:e,animate:t}=gK(n,G.useContext(B_));return G.useMemo(()=>({initial:e,animate:t}),[XN(e),XN(t)])}function XN(n){return Array.isArray(n)?n.join(" "):n}const Em={};function vK(n){for(const e in n)Em[e]=n[e],cT(e)&&(Em[e].isCSSVariable=!0)}function p5(n,{layout:e,layoutId:t}){return Od.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Em[n]||n==="opacity")}const yK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_K=Rd.length;function wK(n,e,t){let r="",i=!0;for(let s=0;s<_K;s++){const a=Rd[s],o=n[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const u=s5(o,wT[a]);if(!l){i=!1;const h=yK[a]||a;r+=`${h}(${u}) `}t&&(e[a]=u)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function ST(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let a=!1,o=!1;for(const l in e){const u=e[l];if(Od.has(l)){a=!0;continue}else if(cT(l)){i[l]=u;continue}else{const h=s5(u,wT[l]);l.startsWith("origin")?(o=!0,s[l]=h):r[l]=h}}if(e.transform||(a||t?r.transform=wK(e,n.transform,t):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${u} ${h}`}}const TT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function g5(n,e,t){for(const r in e)!$r(e[r])&&!p5(r,t)&&(n[r]=e[r])}function xK({transformTemplate:n},e){return G.useMemo(()=>{const t=TT();return ST(t,e,n),Object.assign({},t.vars,t.style)},[e])}function bK(n,e){const t=n.style||{},r={};return g5(r,t,n),Object.assign(r,xK(n,e)),r}function EK(n,e){const t={},r=bK(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const AK={offset:"stroke-dashoffset",array:"stroke-dasharray"},SK={offset:"strokeDashoffset",array:"strokeDasharray"};function TK(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?AK:SK;n[s.offset]=Je.transform(-r);const a=Je.transform(e),o=Je.transform(t);n[s.array]=`${a} ${o}`}function m5(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,u,h){if(ST(n,o,u),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:g}=n;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),r!==void 0&&(p.scale=r),i!==void 0&&TK(p,i,s,a,!1)}const v5=()=>({...TT(),attrs:{}}),y5=n=>typeof n=="string"&&n.toLowerCase()==="svg";function CK(n,e,t,r){const i=G.useMemo(()=>{const s=v5();return m5(s,e,y5(r),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};g5(s,n.style,n),i.style={...s,...i.style}}return i}const IK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function CT(n){return typeof n!="string"||n.includes("-")?!1:!!(IK.indexOf(n)>-1||/[A-Z]/u.test(n))}function DK(n,e,t,{latestValues:r},i,s=!1){const o=(CT(n)?CK:EK)(e,r,i,n),l=pK(e,typeof n=="string",s),u=n!==G.Fragment?{...l,...o,ref:t}:{},{children:h}=e,p=G.useMemo(()=>$r(h)?h.get():h,[h]);return G.createElement(n,{...u,children:p})}function QN(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function IT(n,e,t,r){if(typeof e=="function"){const[i,s]=QN(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=QN(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function Qv(n){return $r(n)?n.get():n}function RK({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:OK(t,r,i,n),renderState:e()}}function OK(n,e,t,r){const i={},s=r(n,{});for(const g in s)i[g]=Qv(s[g]);let{initial:a,animate:o}=n;const l=U_(n),u=d5(n);e&&u&&!l&&n.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let h=t?t.initial===!1:!1;h=h||a===!1;const p=h?o:a;if(p&&typeof p!="boolean"&&!F_(p)){const g=Array.isArray(p)?p:[p];for(let v=0;v<g.length;v++){const w=IT(n,g[v]);if(w){const{transitionEnd:x,transition:E,...A}=w;for(const T in A){let I=A[T];if(Array.isArray(I)){const P=h?I.length-1:0;I=I[P]}I!==null&&(i[T]=I)}for(const T in x)i[T]=x[T]}}}return i}const _5=n=>(e,t)=>{const r=G.useContext(B_),i=G.useContext(tT),s=()=>RK(n,e,r,i);return t?s():fG(s)};function DT(n,e,t){var s;const{style:r}=n,i={};for(const a in r)($r(r[a])||e.style&&$r(e.style[a])||p5(a,n)||((s=t==null?void 0:t.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const NK=_5({scrapeMotionValuesFromProps:DT,createRenderState:TT});function w5(n,e,t){const r=DT(n,e,t);for(const i in n)if($r(n[i])||$r(e[i])){const s=Rd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}const MK=_5({scrapeMotionValuesFromProps:w5,createRenderState:v5}),PK=Symbol.for("motionComponentSymbol");function Ih(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function kK(n,e,t){return G.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Ih(t)&&(t.current=r))},[e])}const RT=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LK="framerAppearId",x5="data-"+RT(LK),b5=G.createContext({});function VK(n,e,t,r,i){var x,E;const{visualElement:s}=G.useContext(B_),a=G.useContext(f5),o=G.useContext(tT),l=G.useContext(u5).reducedMotion,u=G.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(n,{visualState:e,parent:s,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const h=u.current,p=G.useContext(b5);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&BK(u.current,t,i,p);const g=G.useRef(!1);G.useInsertionEffect(()=>{h&&g.current&&h.update(t,o)});const v=t[x5],w=G.useRef(!!v&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,v))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,v)));return hG(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),G.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,v)}),w.current=!1))}),h}function BK(n,e,t,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:E5(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Ih(o),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:u})}function E5(n){if(n)return n.options.allowProjection!==!1?n.projection:E5(n.parent)}function oE(n,{forwardMotionProps:e=!1}={},t,r){t&&fK(t);const i=CT(n)?MK:NK;function s(o,l){let u;const h={...G.useContext(u5),...o,layoutId:FK(o)},{isStatic:p}=h,g=mK(o),v=i(o,p);if(!p&&eT){UK();const w=jK(h);u=w.MeasureLayout,g.visualElement=VK(n,v,h,r,w.ProjectionNode)}return D.jsxs(B_.Provider,{value:g,children:[u&&g.visualElement?D.jsx(u,{visualElement:g.visualElement,...h}):null,DK(n,o,kK(v,g.visualElement,l),v,p,e)]})}s.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const a=G.forwardRef(s);return a[PK]=n,a}function FK({layoutId:n}){const e=G.useContext(wL).id;return e&&n!==void 0?e+"-"+n:n}function UK(n,e){G.useContext(f5).strict}function jK(n){const{drag:e,layout:t}=Gh;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function HK(n,e){if(typeof Proxy>"u")return oE;const t=new Map,r=(s,a)=>oE(s,a,n,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(t.has(a)||t.set(a,oE(a,void 0,n,e)),t.get(a))})}function A5({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function zK({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function WK(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function lE(n){return n===void 0||n===1}function cA({scale:n,scaleX:e,scaleY:t}){return!lE(n)||!lE(e)||!lE(t)}function su(n){return cA(n)||S5(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function S5(n){return ZN(n.x)||ZN(n.y)}function ZN(n){return n&&n!=="0%"}function Uy(n,e,t){const r=n-t,i=e*r;return t+i}function JN(n,e,t,r,i){return i!==void 0&&(n=Uy(n,i,r)),Uy(n,t,r)+e}function uA(n,e=0,t=1,r,i){n.min=JN(n.min,e,t,r,i),n.max=JN(n.max,e,t,r,i)}function T5(n,{x:e,y:t}){uA(n.x,e.translate,e.scale,e.originPoint),uA(n.y,t.translate,t.scale,t.originPoint)}const eM=.999999999999,tM=1.0000000000001;function YK(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=t[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Rh(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,T5(n,a)),r&&su(s.latestValues)&&Rh(n,s.latestValues))}e.x<tM&&e.x>eM&&(e.x=1),e.y<tM&&e.y>eM&&(e.y=1)}function Dh(n,e){n.min=n.min+e,n.max=n.max+e}function nM(n,e,t,r,i=.5){const s=xn(n.min,n.max,i);uA(n,e,t,s,r)}function Rh(n,e){nM(n.x,e.x,e.scaleX,e.scale,e.originX),nM(n.y,e.y,e.scaleY,e.scale,e.originY)}function C5(n,e){return A5(WK(n.getBoundingClientRect(),e))}function $K(n,e,t){const r=C5(n,t),{scroll:i}=e;return i&&(Dh(r.x,i.offset.x),Dh(r.y,i.offset.y)),r}const rM=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oh=()=>({x:rM(),y:rM()}),iM=()=>({min:0,max:0}),Pn=()=>({x:iM(),y:iM()}),fA={current:null},I5={current:!1};function GK(){if(I5.current=!0,!!eT)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>fA.current=n.matches;n.addEventListener("change",e),e()}else fA.current=!1}const qK=new WeakMap;function KK(n,e,t){for(const r in e){const i=e[r],s=t[r];if($r(i))n.addValue(r,i);else if($r(s))n.addValue(r,$h(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const a=n.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=n.getStaticValue(r);n.addValue(r,$h(a!==void 0?a:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const sM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class XK{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=bi.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,vn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=U_(t),this.isVariantNode=d5(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const g in p){const v=p[g];l[g]!==void 0&&$r(v)&&v.set(l[g])}}mount(e){this.current=e,qK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),I5.current||GK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zl(this.notifyUpdate),Zl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Od.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&vn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gh){const t=Gh[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<sM.length;r++){const i=sM[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=KK(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=$h(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xL(r)||EL(r))?r=parseFloat(r):!cK(r)&&Jl.test(t)&&(r=i5(e,t)),this.setBaseTarget(e,$r(r)?r.get():r)),$r(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const a=IT(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);a&&(r=a[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!$r(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new aT),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){xT.render(this.render)}}class D5 extends XK{constructor(){super(...arguments),this.KeyframeResolver=Xq}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;$r(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function R5(n,{style:e,vars:t},r,i){const s=n.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,r);for(a in t)s.setProperty(a,t[a])}function QK(n){return window.getComputedStyle(n)}class ZK extends D5{constructor(){super(...arguments),this.type="html",this.renderInstance=R5}readValueFromInstance(e,t){var r;if(Od.has(t))return(r=this.projection)!=null&&r.isProjecting?nA(t):gq(e,t);{const i=QK(e),s=(cT(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return C5(e,t)}build(e,t,r){ST(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return DT(e,t,r)}}const O5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JK(n,e,t,r){R5(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(O5.has(i)?i:RT(i),e.attrs[i])}class eX extends D5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Od.has(t)){const r=r5(t);return r&&r.default||0}return t=O5.has(t)?t:RT(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return w5(e,t,r)}build(e,t,r){m5(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){JK(e,t,r,i)}mount(e){this.isSVGTag=y5(e.tagName),super.mount(e)}}const tX=(n,e)=>CT(n)?new eX(e):new ZK(e,{allowProjection:n!==G.Fragment});function Am(n,e,t){const r=n.getProps();return IT(r,e,t!==void 0?t:r.custom,n)}const hA=n=>Array.isArray(n);function nX(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,$h(t))}function rX(n){return hA(n)?n[n.length-1]||0:n}function iX(n,e){const t=Am(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const a in s){const o=rX(s[a]);nX(n,a,o)}}function sX(n){return!!($r(n)&&n.add)}function dA(n,e){const t=n.getValue("willChange");if(sX(t))return t.add(e);if(!t&&Mo.WillChange){const r=new Mo.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function N5(n){return n.props[x5]}const aX=n=>n!==null;function oX(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(aX),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[s]}const lX={type:"spring",stiffness:500,damping:25,restSpeed:10},cX=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),uX={type:"keyframes",duration:.8},fX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hX=(n,{keyframes:e})=>e.length>2?uX:Od.has(n)?n.startsWith("scale")?cX(e[1]):lX:fX;function dX({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const OT=(n,e,t,r={},i,s)=>a=>{const o=_T(r,n)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Sa(l);const h={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:g=>{e.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:s?void 0:i};dX(o)||Object.assign(h,hX(n,h)),h.duration&&(h.duration=Sa(h.duration)),h.repeatDelay&&(h.repeatDelay=Sa(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(oA(h),h.delay===0&&(p=!0)),(Mo.instantAnimations||Mo.skipAnimations)&&(p=!0,oA(h),h.delay=0),h.allowFlatten=!o.type&&!o.ease,p&&!s&&e.get()!==void 0){const g=oX(h.keyframes,o);if(g!==void 0){vn.update(()=>{h.onUpdate(g),h.onComplete()});return}}return o.isSync?new vT(h):new Bq(h)};function pX({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function M5(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(s=r);const l=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const h in o){const p=n.getValue(h,n.latestValues[h]??null),g=o[h];if(g===void 0||u&&pX(u,h))continue;const v={delay:t,..._T(s||{},h)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===w&&!v.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const A=N5(n);if(A){const T=window.MotionHandoffAnimation(A,h,vn);T!==null&&(v.startTime=T,x=!0)}}dA(n,h),p.start(OT(h,p,g,n.shouldReduceMotion&&e5.has(h)?{type:!1}:v,n,x));const E=p.animation;E&&l.push(E)}return a&&Promise.all(l).then(()=>{vn.update(()=>{a&&iX(n,a)})}),l}function pA(n,e,t={}){var l;const r=Am(n,e,t.type==="exit"?(l=n.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(M5(n,r,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=i;return gX(n,e,u,h,p,g,t)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,h]=o==="beforeChildren"?[s,a]:[a,s];return u().then(()=>h())}else return Promise.all([s(),a(t.delay)])}function gX(n,e,t=0,r=0,i=0,s=1,a){const o=[],l=n.variantChildren.size,u=(l-1)*i,h=typeof r=="function",p=h?g=>r(g,l):s===1?(g=0)=>g*i:(g=0)=>u-g*i;return Array.from(n.variantChildren).sort(mX).forEach((g,v)=>{g.notify("AnimationStart",e),o.push(pA(g,e,{...a,delay:t+(h?0:r)+p(v)}).then(()=>g.notify("AnimationComplete",e)))}),Promise.all(o)}function mX(n,e){return n.sortNodePosition(e)}function vX(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>pA(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=pA(n,e,t);else{const i=typeof e=="function"?Am(n,e,t.custom):e;r=Promise.all(M5(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function P5(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const yX=AT.length;function k5(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?k5(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<yX;t++){const r=AT[t],i=n.props[r];(bm(i)||i===!1)&&(e[r]=i)}return e}const _X=[...ET].reverse(),wX=ET.length;function xX(n){return e=>Promise.all(e.map(({animation:t,options:r})=>vX(n,t,r)))}function bX(n){let e=xX(n),t=aM(),r=!0;const i=l=>(u,h)=>{var g;const p=Am(n,h,l==="exit"?(g=n.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:v,transitionEnd:w,...x}=p;u={...u,...x,...w}}return u};function s(l){e=l(n)}function a(l){const{props:u}=n,h=k5(n.parent)||{},p=[],g=new Set;let v={},w=1/0;for(let E=0;E<wX;E++){const A=_X[E],T=t[A],I=u[A]!==void 0?u[A]:h[A],P=bm(I),O=A===l?T.isActive:null;O===!1&&(w=E);let V=I===h[A]&&I!==u[A]&&P;if(V&&r&&n.manuallyAnimateOnMount&&(V=!1),T.protectedKeys={...v},!T.isActive&&O===null||!I&&!T.prevProp||F_(I)||typeof I=="boolean")continue;const R=EX(T.prevProp,I);let C=R||A===l&&T.isActive&&!V&&P||E>w&&P,N=!1;const L=Array.isArray(I)?I:[I];let F=L.reduce(i(A),{});O===!1&&(F={});const{prevResolvedValues:H={}}=T,B={...H,...F},he=X=>{C=!0,g.has(X)&&(N=!0,g.delete(X)),T.needsAnimating[X]=!0;const oe=n.getValue(X);oe&&(oe.liveStyle=!1)};for(const X in B){const oe=F[X],Q=H[X];if(v.hasOwnProperty(X))continue;let U=!1;hA(oe)&&hA(Q)?U=!P5(oe,Q):U=oe!==Q,U?oe!=null?he(X):g.add(X):oe!==void 0&&g.has(X)?he(X):T.protectedKeys[X]=!0}T.prevProp=I,T.prevResolvedValues=F,T.isActive&&(v={...v,...F}),r&&n.blockInitialAnimation&&(C=!1),C&&(!(V&&R)||N)&&p.push(...L.map(X=>({animation:X,options:{type:A}})))}if(g.size){const E={};if(typeof u.initial!="boolean"){const A=Am(n,Array.isArray(u.initial)?u.initial[0]:u.initial);A&&A.transition&&(E.transition=A.transition)}g.forEach(A=>{const T=n.getBaseTarget(A),I=n.getValue(A);I&&(I.liveStyle=!0),E[A]=T??null}),p.push({animation:E})}let x=!!p.length;return r&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(p):Promise.resolve()}function o(l,u){var p;if(t[l].isActive===u)return Promise.resolve();(p=n.variantChildren)==null||p.forEach(g=>{var v;return(v=g.animationState)==null?void 0:v.setActive(l,u)}),t[l].isActive=u;const h=a(l);for(const g in t)t[g].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>t,reset:()=>{t=aM(),r=!0}}}function EX(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!P5(e,n):!1}function Jc(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aM(){return{animate:Jc(!0),whileInView:Jc(),whileHover:Jc(),whileTap:Jc(),whileDrag:Jc(),whileFocus:Jc(),exit:Jc()}}class hc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AX extends hc{constructor(e){super(e),e.animationState||(e.animationState=bX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();F_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let SX=0;class TX extends hc{constructor(){super(...arguments),this.id=SX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const CX={animation:{Feature:AX},exit:{Feature:TX}};function Sm(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Jm(n){return{point:{x:n.pageX,y:n.pageY}}}const IX=n=>e=>bT(e)&&n(e,Jm(e));function Gg(n,e,t,r){return Sm(n,e,IX(t),r)}const L5=1e-4,DX=1-L5,RX=1+L5,V5=.01,OX=0-V5,NX=0+V5;function si(n){return n.max-n.min}function MX(n,e,t){return Math.abs(n-e)<=t}function oM(n,e,t,r=.5){n.origin=r,n.originPoint=xn(e.min,e.max,n.origin),n.scale=si(t)/si(e),n.translate=xn(t.min,t.max,n.origin)-n.originPoint,(n.scale>=DX&&n.scale<=RX||isNaN(n.scale))&&(n.scale=1),(n.translate>=OX&&n.translate<=NX||isNaN(n.translate))&&(n.translate=0)}function qg(n,e,t,r){oM(n.x,e.x,t.x,r?r.originX:void 0),oM(n.y,e.y,t.y,r?r.originY:void 0)}function lM(n,e,t){n.min=t.min+e.min,n.max=n.min+si(e)}function PX(n,e,t){lM(n.x,e.x,t.x),lM(n.y,e.y,t.y)}function cM(n,e,t){n.min=e.min-t.min,n.max=n.min+si(e)}function Kg(n,e,t){cM(n.x,e.x,t.x),cM(n.y,e.y,t.y)}function os(n){return[n("x"),n("y")]}const B5=({current:n})=>n?n.ownerDocument.defaultView:null,uM=(n,e)=>Math.abs(n-e);function kX(n,e){const t=uM(n.x,e.x),r=uM(n.y,e.y);return Math.sqrt(t**2+r**2)}class F5{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=uE(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=kX(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:x}=g,{timestamp:E}=Or;this.history.push({...x,timestamp:E});const{onStart:A,onMove:T}=this.handlers;v||(A&&A(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=cE(v,this.transformPagePoint),vn.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:w,onSessionEnd:x,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=uE(g.type==="pointercancel"?this.lastMoveEventInfo:cE(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,A),x&&x(g,A)},!bT(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=Jm(e),l=cE(o,this.transformPagePoint),{point:u}=l,{timestamp:h}=Or;this.history=[{...u,timestamp:h}];const{onSessionStart:p}=t;p&&p(e,uE(l,this.history)),this.removeListeners=Xm(Gg(this.contextWindow,"pointermove",this.handlePointerMove),Gg(this.contextWindow,"pointerup",this.handlePointerUp),Gg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zl(this.updatePoint)}}function cE(n,e){return e?{point:e(n.point)}:n}function fM(n,e){return{x:n.x-e.x,y:n.y-e.y}}function uE({point:n},e){return{point:n,delta:fM(n,U5(e)),offset:fM(n,LX(e)),velocity:VX(e,.1)}}function LX(n){return n[0]}function U5(n){return n[n.length-1]}function VX(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=U5(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Sa(e)));)t--;if(!r)return{x:0,y:0};const s=Ta(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function BX(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?xn(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?xn(t,n,r.max):Math.min(n,t)),n}function hM(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function FX(n,{top:e,left:t,bottom:r,right:i}){return{x:hM(n.x,t,i),y:hM(n.y,e,r)}}function dM(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function UX(n,e){return{x:dM(n.x,e.x),y:dM(n.y,e.y)}}function jX(n,e){let t=.5;const r=si(n),i=si(e);return i>r?t=_m(e.min,e.max-r,n.min):r>i&&(t=_m(n.min,n.max-i,e.min)),No(0,1,t)}function HX(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const gA=.35;function zX(n=gA){return n===!1?n=0:n===!0&&(n=gA),{x:pM(n,"left","right"),y:pM(n,"top","bottom")}}function pM(n,e,t){return{min:gM(n,e),max:gM(n,t)}}function gM(n,e){return typeof n=="number"?n:n[e]||0}const WX=new WeakMap;class YX{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Jm(p).point)},a=(p,g)=>{const{drag:v,dragPropagation:w,onDragStart:x}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tK(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),os(A=>{let T=this.getAxisMotionValue(A).get()||0;if(Ca.test(T)){const{projection:I}=this.visualElement;if(I&&I.layout){const P=I.layout.layoutBox[A];P&&(T=si(P)*(parseFloat(T)/100))}}this.originPoint[A]=T}),x&&vn.postRender(()=>x(p,g)),dA(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:x,onDrag:E}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:A}=g;if(w&&this.currentDirection===null){this.currentDirection=$X(A),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,A),this.updateAxis("y",g.point,A),this.visualElement.render(),E&&E(p,g)},l=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>os(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new F5(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:B5(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,i=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&vn.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!hv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=BX(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Ih(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=FX(r.layoutBox,e):this.constraints=!1,this.elastic=zX(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&os(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=HX(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ih(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=$K(r,i.root,this.visualElement.getTransformPagePoint());let a=UX(i.layout.layoutBox,s);if(t){const o=t(zK(a));this.hasMutatedConstraints=!!o,o&&(a=A5(o))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=os(h=>{if(!hv(h,t,this.currentDirection))return;let p=l&&l[h]||{};a&&(p={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,w={type:"inertia",velocity:r?e[h]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(h,w)});return Promise.all(u).then(o)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return dA(this.visualElement,e),r.start(OT(e,r,0,t,this.visualElement,!1))}stopAnimation(){os(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){os(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){os(t=>{const{drag:r}=this.getProps();if(!hv(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[t];s.set(e[t]-xn(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Ih(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};os(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=jX({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),os(a=>{if(!hv(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(xn(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;WX.set(this.visualElement,this);const e=this.visualElement.current,t=Gg(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ih(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),vn.read(r);const a=Sm(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(os(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=l[h].translate,p.set(p.get()+l[h].translate))}),this.visualElement.render())});return()=>{a(),t(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=gA,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function hv(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function $X(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class GX extends hc{constructor(e){super(e),this.removeGroupControls=gs,this.removeListeners=gs,this.controls=new YX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gs}unmount(){this.removeGroupControls(),this.removeListeners()}}const mM=n=>(e,t)=>{n&&vn.postRender(()=>n(e,t))};class qX extends hc{constructor(){super(...arguments),this.removePointerDownListener=gs}onPointerDown(e){this.session=new F5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:B5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:mM(e),onStart:mM(t),onMove:r,onEnd:(s,a)=>{delete this.session,i&&vn.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Gg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vM(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ig={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Je.test(n))n=parseFloat(n);else return n;const t=vM(n,e.target.x),r=vM(n,e.target.y);return`${t}% ${r}%`}},KX={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Jl.parse(n);if(i.length>5)return r;const s=Jl.createTransformer(n),a=typeof i[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=xn(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let yM=!1;class XX extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;vK(QX),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),yM&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Zv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,yM=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||vn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function j5(n){const[e,t]=uK(),r=G.useContext(wL);return D.jsx(XX,{...n,layoutGroup:r,switchLayoutGroup:G.useContext(b5),isPresent:e,safeToRemove:t})}const QX={borderRadius:{...ig,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ig,borderTopRightRadius:ig,borderBottomLeftRadius:ig,borderBottomRightRadius:ig,boxShadow:KX};function ZX(n,e,t){const r=$r(n)?n:$h(n);return r.start(OT("",r,e,t)),r.animation}const JX=(n,e)=>n.depth-e.depth;class eQ{constructor(){this.children=[],this.isDirty=!1}add(e){nT(this.children,e),this.isDirty=!0}remove(e){rT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(JX),this.isDirty=!1,this.children.forEach(e)}}function tQ(n,e){const t=bi.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Zl(r),n(s-e))};return vn.setup(r,!0),()=>Zl(r)}const H5=["TopLeft","TopRight","BottomLeft","BottomRight"],nQ=H5.length,_M=n=>typeof n=="string"?parseFloat(n):n,wM=n=>typeof n=="number"||Je.test(n);function rQ(n,e,t,r,i,s){i?(n.opacity=xn(0,t.opacity??1,iQ(r)),n.opacityExit=xn(e.opacity??1,0,sQ(r))):s&&(n.opacity=xn(e.opacity??1,t.opacity??1,r));for(let a=0;a<nQ;a++){const o=`border${H5[a]}Radius`;let l=xM(e,o),u=xM(t,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||wM(l)===wM(u)?(n[o]=Math.max(xn(_M(l),_M(u),r),0),(Ca.test(u)||Ca.test(l))&&(n[o]+="%")):n[o]=u}(e.rotate||t.rotate)&&(n.rotate=xn(e.rotate||0,t.rotate||0,r))}function xM(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const iQ=z5(0,.5,OL),sQ=z5(.5,.95,gs);function z5(n,e,t){return r=>r<n?0:r>e?1:t(_m(n,e,r))}function bM(n,e){n.min=e.min,n.max=e.max}function as(n,e){bM(n.x,e.x),bM(n.y,e.y)}function EM(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function AM(n,e,t,r,i){return n-=e,n=Uy(n,1/t,r),i!==void 0&&(n=Uy(n,1/i,r)),n}function aQ(n,e=0,t=1,r=.5,i,s=n,a=n){if(Ca.test(e)&&(e=parseFloat(e),e=xn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=xn(s.min,s.max,r);n===s&&(o-=e),n.min=AM(n.min,e,t,o,i),n.max=AM(n.max,e,t,o,i)}function SM(n,e,[t,r,i],s,a){aQ(n,e[t],e[r],e[i],e.scale,s,a)}const oQ=["x","scaleX","originX"],lQ=["y","scaleY","originY"];function TM(n,e,t,r){SM(n.x,e,oQ,t?t.x:void 0,r?r.x:void 0),SM(n.y,e,lQ,t?t.y:void 0,r?r.y:void 0)}function CM(n){return n.translate===0&&n.scale===1}function W5(n){return CM(n.x)&&CM(n.y)}function IM(n,e){return n.min===e.min&&n.max===e.max}function cQ(n,e){return IM(n.x,e.x)&&IM(n.y,e.y)}function DM(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Y5(n,e){return DM(n.x,e.x)&&DM(n.y,e.y)}function RM(n){return si(n.x)/si(n.y)}function OM(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class uQ{constructor(){this.members=[]}add(e){nT(this.members,e),e.scheduleRender()}remove(e){if(rT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fQ(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:h,rotateX:p,rotateY:g,skewX:v,skewY:w}=t;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),v&&(r+=`skewX(${v}deg) `),w&&(r+=`skewY(${w}deg) `)}const o=n.x.scale*e.x,l=n.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const fE=["","X","Y","Z"],hQ=1e3;let dQ=0;function hE(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function $5(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=N5(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",vn,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&$5(r)}function G5({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=dQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mQ),this.nodes.forEach(wQ),this.nodes.forEach(xQ),this.nodes.forEach(vQ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new eQ)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new aT),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=c5(a)&&!oK(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),n){let h,p=0;const g=()=>this.root.updateBlockedByResize=!1;vn.read(()=>{p=window.innerWidth}),n(a,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,h&&h(),h=tQ(g,250),Zv.hasAnimatedSinceResize&&(Zv.hasAnimatedSinceResize=!1,this.nodes.forEach(PM)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||TQ,{onLayoutAnimationStart:x,onLayoutAnimationComplete:E}=u.getProps(),A=!this.targetLayout||!Y5(this.targetLayout,v),T=!p&&g;if(this.options.layoutRoot||this.resumeFrom||T||p&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={..._T(w,"layout"),onPlay:x,onComplete:E};(u.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(h,T)}else p||PM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bQ),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(MM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_Q),this.nodes.forEach(pQ),this.nodes.forEach(gQ)):this.nodes.forEach(MM),this.clearAllSnapshots();const o=bi.now();Or.delta=No(0,1e3/60,o-Or.timestamp),Or.timestamp=o,Or.isProcessing=!0,tE.update.process(Or),tE.preRender.process(Or),tE.render.process(Or),Or.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yQ),this.sharedNodes.forEach(EQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!si(this.snapshot.measuredBox.x)&&!si(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!W5(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||su(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),CQ(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return Pn();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(IQ))){const{scroll:h}=this.root;h&&(Dh(o.x,h.offset.x),Dh(o.y,h.offset.y))}return o}removeElementScroll(a){var l;const o=Pn();if(as(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&as(o,a),Dh(o.x,p.offset.x),Dh(o.y,p.offset.y))}return o}applyTransform(a,o=!1){const l=Pn();as(l,a);for(let u=0;u<this.path.length;u++){const h=this.path[u];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Rh(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),su(h.latestValues)&&Rh(l,h.latestValues)}return su(this.latestValues)&&Rh(l,this.latestValues),l}removeTransform(a){const o=Pn();as(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!su(u.latestValues))continue;cA(u.latestValues)&&u.updateSnapshot();const h=Pn(),p=u.measurePageBox();as(h,p),TM(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return su(this.latestValues)&&TM(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Or.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var g;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Or.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),Kg(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),as(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pn(),this.targetWithTransforms=Pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):as(this.target,this.layout.layoutBox),T5(this.target,this.targetDelta)):as(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),Kg(this.relativeTargetOrigin,this.target,v.target),as(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||cA(this.parent.latestValues)||S5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Or.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;as(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;YK(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Pn());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EM(this.prevProjectionDelta.x,this.projectionDelta.x),EM(this.prevProjectionDelta.y,this.projectionDelta.y)),qg(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!OM(this.projectionDelta.x,this.prevProjectionDelta.x)||!OM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oh(),this.projectionDelta=Oh(),this.projectionDeltaWithTransform=Oh()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},p=Oh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=Pn(),v=l?l.source:void 0,w=this.layout?this.layout.source:void 0,x=v!==w,E=this.getStack(),A=!E||E.members.length<=1,T=!!(x&&!A&&this.options.crossfade===!0&&!this.path.some(SQ));this.animationProgress=0;let I;this.mixTargetDelta=P=>{const O=P/1e3;kM(p.x,a.x,O),kM(p.y,a.y,O),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AQ(this.relativeTarget,this.relativeTargetOrigin,g,O),I&&cQ(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Pn()),as(I,this.relativeTarget)),x&&(this.animationValues=h,rQ(h,u,this.latestValues,O,T,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Zl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vn.update(()=>{Zv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$h(0)),this.currentAnimation=ZX(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),a.onUpdate&&a.onUpdate(h)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:h}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&q5(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Pn();const p=si(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+p;const g=si(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+g}as(o,l),Rh(o,h),qg(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new uQ),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&hE("z",a,u,this.animationValues);for(let h=0;h<fE.length;h++)hE(`rotate${fE[h]}`,a,u,this.animationValues),hE(`skew${fE[h]}`,a,u,this.animationValues);a.render();for(const h in u)a.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Qv(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Qv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!su(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let p=fQ(this.projectionDeltaWithTransform,this.treeScale,h);l&&(p=l(h,p)),a.transform=p;const{x:g,y:v}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,u.animationValues?a.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Em){if(h[w]===void 0)continue;const{correct:x,applyTo:E,isCSSVariable:A}=Em[w],T=p==="none"?h[w]:x(h[w],u);if(E){const I=E.length;for(let P=0;P<I;P++)a[E[P]]=T}else A?this.options.visualElement.renderState.vars[w]=T:a[w]=T}this.options.layoutId&&(a.pointerEvents=u===this?Qv(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(NM),this.root.sharedNodes.clear()}}}function pQ(n){n.updateLayout()}function gQ(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,a=e.source!==n.layout.source;s==="size"?os(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],v=si(g);g.min=r[p].min,g.max=g.min+v}):q5(s,e.layoutBox,r)&&os(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],v=si(r[p]);g.max=g.min+v,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[p].max=n.relativeTarget[p].min+v)});const o=Oh();qg(o,r,e.layoutBox);const l=Oh();a?qg(l,n.applyTransform(i,!0),e.measuredBox):qg(l,r,e.layoutBox);const u=!W5(o);let h=!1;if(!n.resumeFrom){const p=n.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:v}=p;if(g&&v){const w=Pn();Kg(w,e.layoutBox,g.layoutBox);const x=Pn();Kg(x,r,v.layoutBox),Y5(w,x)||(h=!0),p.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=w,n.relativeParent=p)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function mQ(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function vQ(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function yQ(n){n.clearSnapshot()}function NM(n){n.clearMeasurements()}function MM(n){n.isLayoutDirty=!1}function _Q(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function PM(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function wQ(n){n.resolveTargetDelta()}function xQ(n){n.calcProjection()}function bQ(n){n.resetSkewAndRotation()}function EQ(n){n.removeLeadSnapshot()}function kM(n,e,t){n.translate=xn(e.translate,0,t),n.scale=xn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function LM(n,e,t,r){n.min=xn(e.min,t.min,r),n.max=xn(e.max,t.max,r)}function AQ(n,e,t,r){LM(n.x,e.x,t.x,r),LM(n.y,e.y,t.y,r)}function SQ(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const TQ={duration:.45,ease:[.4,0,.1,1]},VM=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),BM=VM("applewebkit/")&&!VM("chrome/")?Math.round:gs;function FM(n){n.min=BM(n.min),n.max=BM(n.max)}function CQ(n){FM(n.x),FM(n.y)}function q5(n,e,t){return n==="position"||n==="preserve-aspect"&&!MX(RM(e),RM(t),.2)}function IQ(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const DQ=G5({attachResizeListener:(n,e)=>Sm(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dE={current:void 0},K5=G5({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!dE.current){const n=new DQ({});n.mount(window),n.setOptions({layoutScroll:!0}),dE.current=n}return dE.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),RQ={pan:{Feature:qX},drag:{Feature:GX,ProjectionNode:K5,MeasureLayout:j5}};function UM(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&vn.postRender(()=>s(e,Jm(e)))}class OQ extends hc{mount(){const{current:e}=this.node;e&&(this.unmount=nK(e,(t,r)=>(UM(this.node,r,"Start"),i=>UM(this.node,i,"End"))))}unmount(){}}class NQ extends hc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xm(Sm(this.node.current,"focus",()=>this.onFocus()),Sm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jM(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&vn.postRender(()=>s(e,Jm(e)))}class MQ extends hc{mount(){const{current:e}=this.node;e&&(this.unmount=aK(e,(t,r)=>(jM(this.node,r,"Start"),(i,{success:s})=>jM(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mA=new WeakMap,pE=new WeakMap,PQ=n=>{const e=mA.get(n.target);e&&e(n)},kQ=n=>{n.forEach(PQ)};function LQ({root:n,...e}){const t=n||document;pE.has(t)||pE.set(t,{});const r=pE.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(kQ,{root:n,...e})),r[i]}function VQ(n,e,t){const r=LQ(e);return mA.set(n,t),r.observe(n),()=>{mA.delete(n),r.unobserve(n)}}const BQ={some:0,all:1};class FQ extends hc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:BQ[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=u?h:p;g&&g(l)};return VQ(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(UQ(e,t))&&this.startObserver()}unmount(){}}function UQ({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const jQ={inView:{Feature:FQ},tap:{Feature:MQ},focus:{Feature:NQ},hover:{Feature:OQ}},HQ={layout:{ProjectionNode:K5,MeasureLayout:j5}},zQ={...CX,...jQ,...RQ,...HQ},WQ=HK(zQ,tX);function X5({name:n,nutrients:e,kcal:t=null,onEdit:r,onDelete:i,unit:s="g",disableSwipe:a}){const[o,l]=ae.useState(0),h=t??((x=[])=>{let E=0;return x.forEach(A=>{var I,P,O;const T=parseFloat(A.count||0);((I=A.type)==null?void 0:I.toLowerCase())==="fat"&&(E+=T*9),((P=A.type)==null?void 0:P.toLowerCase())==="protein"&&(E+=T*4),(O=A.type)!=null&&O.toLowerCase().includes("carbohydrate")&&(E+=T*4)}),Math.round(E)})(e),p=x=>x.charAt(0).toUpperCase()+x.slice(1),g=uG({onSwiping:({deltaX:x})=>{a||l(x)},onSwiped:({dir:x,absX:E})=>{a||(x==="Left"&&E>120&&i&&i(),x==="Right"&&E>120&&r&&r(),l(0))},preventScrollOnSwipe:!0,trackMouse:!0}),v=o<0?"rgba(220,53,69,0.9)":o>0?"rgba(40,167,69,0.9)":"transparent",w=o<0?D.jsx("i",{className:"bi bi-trash",style:{fontSize:"1.5rem"}}):o>0?D.jsx("i",{className:"bi bi-pencil",style:{fontSize:"1.5rem"}}):null;return D.jsxs("div",{...g,className:"position-relative mb-2",style:{overflow:"hidden"},children:[D.jsx("div",{className:"position-absolute top-0 bottom-0 start-0 end-0 d-flex align-items-center justify-content-center",style:{backgroundColor:v,transition:"background-color 0.2s"},children:w}),D.jsxs(WQ.div,{animate:{x:o},transition:{type:"spring",stiffness:300,damping:30},className:"meal-card text-white p-3 rounded shadow-sm position-relative",style:{backgroundColor:"#1c1c1c"},children:[D.jsx("p",{className:"MealCardText mb-1 fw-bold",children:n}),D.jsxs("p",{className:"MealCardText mb-1",children:["Calories: ",h," kcal"]}),e.filter(x=>{var E;return["protein","fat","carbohydrate","sugar","sugars","fibre","fiber","salt","caffeine"].includes((E=x.type)==null?void 0:E.toLowerCase())}).map((x,E)=>D.jsxs("p",{className:"MealCardText mb-1",children:[p(x.type),": ",x.total," ",s]},E))]})]})}const YQ=()=>{};var HM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},$Q=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],a=n[t++],o=n[t++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Z5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],a=i+1<n.length,o=a?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,h=s>>2,p=(s&3)<<4|o>>4;let g=(o&15)<<2|u>>6,v=u&63;l||(v=64,a||(g=64)),r.push(t[h],t[p],t[g],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Q5(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$Q(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],o=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||o==null||u==null||p==null)throw new GQ;const g=s<<2|o>>4;if(r.push(g),u!==64){const v=o<<4&240|u>>2;if(r.push(v),p!==64){const w=u<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class GQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qQ=function(n){const e=Q5(n);return Z5.encodeByteArray(e,!0)},J5=function(n){return qQ(n).replace(/\./g,"")},e9=function(n){try{return Z5.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KQ=()=>t9().__FIREBASE_DEFAULTS__,XQ=()=>{if(typeof process>"u"||typeof HM>"u")return;const n=HM.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},QQ=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&e9(n[1]);return e&&JSON.parse(e)},j_=()=>{try{return YQ()||KQ()||XQ()||QQ()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ZQ=n=>{var e,t;return(t=(e=j_())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},n9=()=>{var n;return(n=j_())==null?void 0:n.config},r9=n=>{var e;return(e=j_())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i9(n){return(await fetch(n,{credentials:"include"})).ok}const Xg={};function eZ(){const n={prod:[],emulator:[]};for(const e of Object.keys(Xg))Xg[e]?n.emulator.push(e):n.prod.push(e);return n}function tZ(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let zM=!1;function nZ(n,e){if(typeof window>"u"||typeof document>"u"||!Nd(window.location.host)||Xg[n]===e||Xg[n]||zM)return;Xg[n]=e;function t(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=eZ().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{zM=!0,a()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=tZ(r),v=t("text"),w=document.getElementById(v)||document.createElement("span"),x=t("learnmore"),E=document.getElementById(x)||document.createElement("a"),A=t("preprendIcon"),T=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const I=g.element;o(I),h(E,x);const P=u();l(T,A),I.append(T,w,E,P),document.body.appendChild(I)}s?(w.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())}function s9(){var e;const n=(e=j_())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iZ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a9(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sZ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aZ(){const n=or();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function o9(){return!s9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l9(){return!s9()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function NT(){try{return typeof indexedDB=="object"}catch{return!1}}function c9(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(t){e(t)}})}function oZ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lZ="FirebaseError";class Ys extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=lZ,Object.setPrototypeOf(this,Ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,af.prototype.create)}}class af{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?cZ(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ys(i,o,r)}}function cZ(n,e){return n.replace(uZ,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uZ=/\{\$([^}]+)}/g;function fZ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ec(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],a=e[i];if(WM(s)&&WM(a)){if(!ec(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function WM(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tg(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Cg(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function hZ(n,e){const t=new dZ(n,e);return t.subscribe.bind(t)}class dZ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");pZ(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=gE),i.error===void 0&&(i.error=gE),i.complete===void 0&&(i.complete=gE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pZ(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function gE(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gZ=1e3,mZ=2,vZ=4*60*60*1e3,yZ=.5;function YM(n,e=gZ,t=mZ){const r=e*Math.pow(t,n),i=Math.round(yZ*r*(Math.random()-.5)*2);return Math.min(vZ,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n){return n&&n._delegate?n._delegate:n}class js{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new JQ;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xZ(e))try{this.getOrInitializeService({instanceIdentifier:au})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=au){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=au){return this.instances.has(e)}getOptions(e=au){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wZ(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=au){return this.component?this.component.multipleInstances?e:au:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wZ(n){return n===au?void 0:n}function xZ(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _Z(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(yt||(yt={}));const EZ={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},AZ=yt.INFO,SZ={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},TZ=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=SZ[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class H_{constructor(e){this.name=e,this._logLevel=AZ,this._logHandler=TZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const CZ=(n,e)=>e.some(t=>n instanceof t);let $M,GM;function IZ(){return $M||($M=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DZ(){return GM||(GM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u9=new WeakMap,vA=new WeakMap,f9=new WeakMap,mE=new WeakMap,MT=new WeakMap;function RZ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(jl(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&u9.set(t,n)}).catch(()=>{}),MT.set(e,n),e}function OZ(n){if(vA.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});vA.set(n,e)}let yA={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vA.get(n);if(e==="objectStoreNames")return n.objectStoreNames||f9.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return jl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function NZ(n){yA=n(yA)}function MZ(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(vE(this),e,...t);return f9.set(r,e.sort?e.sort():[e]),jl(r)}:DZ().includes(n)?function(...e){return n.apply(vE(this),e),jl(u9.get(this))}:function(...e){return jl(n.apply(vE(this),e))}}function PZ(n){return typeof n=="function"?MZ(n):(n instanceof IDBTransaction&&OZ(n),CZ(n,IZ())?new Proxy(n,yA):n)}function jl(n){if(n instanceof IDBRequest)return RZ(n);if(mE.has(n))return mE.get(n);const e=PZ(n);return e!==n&&(mE.set(n,e),MT.set(e,n)),e}const vE=n=>MT.get(n);function kZ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(n,e),o=jl(a);return r&&a.addEventListener("upgradeneeded",l=>{r(jl(a.result),l.oldVersion,l.newVersion,jl(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const LZ=["get","getKey","getAll","getAllKeys","count"],VZ=["put","add","delete","clear"],yE=new Map;function qM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(yE.get(e))return yE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=VZ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LZ.includes(t)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[t](...o),i&&l.done]))[0]};return yE.set(e,s),s}NZ(n=>({...n,get:(e,t,r)=>qM(e,t)||n.get(e,t,r),has:(e,t)=>!!qM(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FZ(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function FZ(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _A="@firebase/app",KM="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new H_("@firebase/app"),UZ="@firebase/app-compat",jZ="@firebase/analytics-compat",HZ="@firebase/analytics",zZ="@firebase/app-check-compat",WZ="@firebase/app-check",YZ="@firebase/auth",$Z="@firebase/auth-compat",GZ="@firebase/database",qZ="@firebase/data-connect",KZ="@firebase/database-compat",XZ="@firebase/functions",QZ="@firebase/functions-compat",ZZ="@firebase/installations",JZ="@firebase/installations-compat",eJ="@firebase/messaging",tJ="@firebase/messaging-compat",nJ="@firebase/performance",rJ="@firebase/performance-compat",iJ="@firebase/remote-config",sJ="@firebase/remote-config-compat",aJ="@firebase/storage",oJ="@firebase/storage-compat",lJ="@firebase/firestore",cJ="@firebase/ai",uJ="@firebase/firestore-compat",fJ="firebase",hJ="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="[DEFAULT]",dJ={[_A]:"fire-core",[UZ]:"fire-core-compat",[HZ]:"fire-analytics",[jZ]:"fire-analytics-compat",[WZ]:"fire-app-check",[zZ]:"fire-app-check-compat",[YZ]:"fire-auth",[$Z]:"fire-auth-compat",[GZ]:"fire-rtdb",[qZ]:"fire-data-connect",[KZ]:"fire-rtdb-compat",[XZ]:"fire-fn",[QZ]:"fire-fn-compat",[ZZ]:"fire-iid",[JZ]:"fire-iid-compat",[eJ]:"fire-fcm",[tJ]:"fire-fcm-compat",[nJ]:"fire-perf",[rJ]:"fire-perf-compat",[iJ]:"fire-rc",[sJ]:"fire-rc-compat",[aJ]:"fire-gcs",[oJ]:"fire-gcs-compat",[lJ]:"fire-fst",[uJ]:"fire-fst-compat",[cJ]:"fire-vertex","fire-js":"fire-js",[fJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=new Map,pJ=new Map,xA=new Map;function XM(n,e){try{n.container.addComponent(e)}catch(t){Po.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ba(n){const e=n.name;if(xA.has(e))return Po.debug(`There were multiple attempts to register component ${e}.`),!1;xA.set(e,n);for(const t of jy.values())XM(t,n);for(const t of pJ.values())XM(t,n);return!0}function of(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hl=new af("app","Firebase",gJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=hJ;function h9(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:wA,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Hl.create("bad-app-name",{appName:String(i)});if(t||(t=n9()),!t)throw Hl.create("no-options");const s=jy.get(i);if(s){if(ec(t,s.options)&&ec(r,s.config))return s;throw Hl.create("duplicate-app",{appName:i})}const a=new bZ(i);for(const l of xA.values())a.addComponent(l);const o=new mJ(t,r,a);return jy.set(i,o),o}function d9(n=wA){const e=jy.get(n);if(!e&&n===wA&&n9())return h9();if(!e)throw Hl.create("no-app",{appName:n});return e}function ms(n,e,t){let r=dJ[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Po.warn(a.join(" "));return}Ba(new js(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vJ="firebase-heartbeat-database",yJ=1,Tm="firebase-heartbeat-store";let _E=null;function p9(){return _E||(_E=kZ(vJ,yJ,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Tm)}catch(t){console.warn(t)}}}}).catch(n=>{throw Hl.create("idb-open",{originalErrorMessage:n.message})})),_E}async function _J(n){try{const t=(await p9()).transaction(Tm),r=await t.objectStore(Tm).get(g9(n));return await t.done,r}catch(e){if(e instanceof Ys)Po.warn(e.message);else{const t=Hl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Po.warn(t.message)}}}async function QM(n,e){try{const r=(await p9()).transaction(Tm,"readwrite");await r.objectStore(Tm).put(e,g9(n)),await r.done}catch(t){if(t instanceof Ys)Po.warn(t.message);else{const r=Hl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Po.warn(r.message)}}}function g9(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wJ=1024,xJ=30;class bJ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AJ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ZM();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>xJ){const a=SJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Po.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ZM(),{heartbeatsToSend:r,unsentEntries:i}=EJ(this._heartbeatsCache.heartbeats),s=J5(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Po.warn(t),""}}}function ZM(){return new Date().toISOString().substring(0,10)}function EJ(n,e=wJ){const t=[];let r=n.slice();for(const i of n){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),JM(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),JM(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class AJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NT()?c9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _J(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return QM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return QM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function JM(n){return J5(JSON.stringify({version:2,heartbeats:n})).length}function SJ(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TJ(n){Ba(new js("platform-logger",e=>new BZ(e),"PRIVATE")),Ba(new js("heartbeat",e=>new bJ(e),"PRIVATE")),ms(_A,KM,n),ms(_A,KM,"esm2020"),ms("fire-js","")}TJ("");var CJ="firebase",IJ="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(CJ,IJ,"app");const DJ=(n,e)=>e.some(t=>n instanceof t);let eP,tP;function RJ(){return eP||(eP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OJ(){return tP||(tP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m9=new WeakMap,bA=new WeakMap,v9=new WeakMap,wE=new WeakMap,PT=new WeakMap;function NJ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(zl(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&m9.set(t,n)}).catch(()=>{}),PT.set(e,n),e}function MJ(n){if(bA.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});bA.set(n,e)}let EA={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return bA.get(n);if(e==="objectStoreNames")return n.objectStoreNames||v9.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function PJ(n){EA=n(EA)}function kJ(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(xE(this),e,...t);return v9.set(r,e.sort?e.sort():[e]),zl(r)}:OJ().includes(n)?function(...e){return n.apply(xE(this),e),zl(m9.get(this))}:function(...e){return zl(n.apply(xE(this),e))}}function LJ(n){return typeof n=="function"?kJ(n):(n instanceof IDBTransaction&&MJ(n),DJ(n,RJ())?new Proxy(n,EA):n)}function zl(n){if(n instanceof IDBRequest)return NJ(n);if(wE.has(n))return wE.get(n);const e=LJ(n);return e!==n&&(wE.set(n,e),PT.set(e,n)),e}const xE=n=>PT.get(n);function VJ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(n,e),o=zl(a);return r&&a.addEventListener("upgradeneeded",l=>{r(zl(a.result),l.oldVersion,l.newVersion,zl(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const BJ=["get","getKey","getAll","getAllKeys","count"],FJ=["put","add","delete","clear"],bE=new Map;function nP(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bE.get(e))return bE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=FJ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BJ.includes(t)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[t](...o),i&&l.done]))[0]};return bE.set(e,s),s}PJ(n=>({...n,get:(e,t,r)=>nP(e,t)||n.get(e,t,r),has:(e,t)=>!!nP(e,t)||n.has(e,t)}));const y9="@firebase/installations",kT="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=1e4,w9=`w:${kT}`,x9="FIS_v2",UJ="https://firebaseinstallations.googleapis.com/v1",jJ=60*60*1e3,HJ="installations",zJ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WJ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Hu=new af(HJ,zJ,WJ);function b9(n){return n instanceof Ys&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9({projectId:n}){return`${UJ}/projects/${n}/installations`}function A9(n){return{token:n.token,requestStatus:2,expiresIn:$J(n.expiresIn),creationTime:Date.now()}}async function S9(n,e){const r=(await e.json()).error;return Hu.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function T9({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function YJ(n,{refreshToken:e}){const t=T9(n);return t.append("Authorization",GJ(e)),t}async function C9(n){const e=await n();return e.status>=500&&e.status<600?n():e}function $J(n){return Number(n.replace("s","000"))}function GJ(n){return`${x9} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qJ({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=E9(n),i=T9(n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:t,authVersion:x9,appId:n.appId,sdkVersion:w9},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await C9(()=>fetch(r,o));if(l.ok){const u=await l.json();return{fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:A9(u.authToken)}}else throw await S9("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KJ(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XJ=/^[cdef][\w-]{21}$/,AA="";function QJ(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=ZJ(n);return XJ.test(t)?t:AA}catch{return AA}}function ZJ(n){return KJ(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=new Map;function R9(n,e){const t=z_(n);O9(t,e),JJ(t,e)}function O9(n,e){const t=D9.get(n);if(t)for(const r of t)r(e)}function JJ(n,e){const t=eee();t&&t.postMessage({key:n,fid:e}),tee()}let _u=null;function eee(){return!_u&&"BroadcastChannel"in self&&(_u=new BroadcastChannel("[Firebase] FID Change"),_u.onmessage=n=>{O9(n.data.key,n.data.fid)}),_u}function tee(){D9.size===0&&_u&&(_u.close(),_u=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nee="firebase-installations-database",ree=1,zu="firebase-installations-store";let EE=null;function LT(){return EE||(EE=VJ(nee,ree,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(zu)}}})),EE}async function Hy(n,e){const t=z_(n),i=(await LT()).transaction(zu,"readwrite"),s=i.objectStore(zu),a=await s.get(t);return await s.put(e,t),await i.done,(!a||a.fid!==e.fid)&&R9(n,e.fid),e}async function N9(n){const e=z_(n),r=(await LT()).transaction(zu,"readwrite");await r.objectStore(zu).delete(e),await r.done}async function W_(n,e){const t=z_(n),i=(await LT()).transaction(zu,"readwrite"),s=i.objectStore(zu),a=await s.get(t),o=e(a);return o===void 0?await s.delete(t):await s.put(o,t),await i.done,o&&(!a||a.fid!==o.fid)&&R9(n,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VT(n){let e;const t=await W_(n.appConfig,r=>{const i=iee(r),s=see(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===AA?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function iee(n){const e=n||{fid:QJ(),registrationStatus:0};return M9(e)}function see(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Hu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=aee(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:oee(n)}:{installationEntry:e}}async function aee(n,e){try{const t=await qJ(n,e);return Hy(n.appConfig,t)}catch(t){throw b9(t)&&t.customData.serverCode===409?await N9(n.appConfig):await Hy(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function oee(n){let e=await rP(n.appConfig);for(;e.registrationStatus===1;)await I9(100),e=await rP(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await VT(n);return r||t}return e}function rP(n){return W_(n,e=>{if(!e)throw Hu.create("installation-not-found");return M9(e)})}function M9(n){return lee(n)?{fid:n.fid,registrationStatus:0}:n}function lee(n){return n.registrationStatus===1&&n.registrationTime+_9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cee({appConfig:n,heartbeatServiceProvider:e},t){const r=uee(n,t),i=YJ(n,t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:w9,appId:n.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await C9(()=>fetch(r,o));if(l.ok){const u=await l.json();return A9(u)}else throw await S9("Generate Auth Token",l)}function uee(n,{fid:e}){return`${E9(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(n,e=!1){let t;const r=await W_(n.appConfig,s=>{if(!P9(s))throw Hu.create("not-registered");const a=s.authToken;if(!e&&dee(a))return s;if(a.requestStatus===1)return t=fee(n,e),s;{if(!navigator.onLine)throw Hu.create("app-offline");const o=gee(s);return t=hee(n,o),o}});return t?await t:r.authToken}async function fee(n,e){let t=await iP(n.appConfig);for(;t.authToken.requestStatus===1;)await I9(100),t=await iP(n.appConfig);const r=t.authToken;return r.requestStatus===0?BT(n,e):r}function iP(n){return W_(n,e=>{if(!P9(e))throw Hu.create("not-registered");const t=e.authToken;return mee(t)?{...e,authToken:{requestStatus:0}}:e})}async function hee(n,e){try{const t=await cee(n,e),r={...e,authToken:t};return await Hy(n.appConfig,r),t}catch(t){if(b9(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await N9(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Hy(n.appConfig,r)}throw t}}function P9(n){return n!==void 0&&n.registrationStatus===2}function dee(n){return n.requestStatus===2&&!pee(n)}function pee(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+jJ}function gee(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function mee(n){return n.requestStatus===1&&n.requestTime+_9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vee(n){const e=n,{installationEntry:t,registrationPromise:r}=await VT(e);return r?r.catch(console.error):BT(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yee(n,e=!1){const t=n;return await _ee(t),(await BT(t,e)).token}async function _ee(n){const{registrationPromise:e}=await VT(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wee(n){if(!n||!n.options)throw AE("App Configuration");if(!n.name)throw AE("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw AE(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function AE(n){return Hu.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9="installations",xee="installations-internal",bee=n=>{const e=n.getProvider("app").getImmediate(),t=wee(e),r=of(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Eee=n=>{const e=n.getProvider("app").getImmediate(),t=of(e,k9).getImmediate();return{getId:()=>vee(t),getToken:i=>yee(t,i)}};function Aee(){Ba(new js(k9,bee,"PUBLIC")),Ba(new js(xee,Eee,"PRIVATE"))}Aee();ms(y9,kT);ms(y9,kT,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="analytics",See="firebase_id",Tee="origin",Cee=60*1e3,Iee="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",FT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new H_("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dee={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Fi=new af("analytics","Analytics",Dee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ree(n){if(!n.startsWith(FT)){const e=Fi.create("invalid-gtag-resource",{gtagURL:n});return Si.warn(e.message),""}return n}function L9(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Oee(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function Nee(n,e){const t=Oee("firebase-js-sdk-policy",{createScriptURL:Ree}),r=document.createElement("script"),i=`${FT}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Mee(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Pee(n,e,t,r,i,s){const a=r[i];try{if(a)await e[a];else{const l=(await L9(t)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(o){Si.error(o)}n("config",i,s)}async function kee(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=await L9(t);for(const l of a){const u=o.find(p=>p.measurementId===l),h=u&&e[u.appId];if(h)s.push(h);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){Si.error(s)}}function Lee(n,e,t,r){async function i(s,...a){try{if(s==="event"){const[o,l]=a;await kee(n,e,t,o,l)}else if(s==="config"){const[o,l]=a;await Pee(n,e,t,r,o,l)}else if(s==="consent"){const[o,l]=a;n("consent",o,l)}else if(s==="get"){const[o,l,u]=a;n("get",o,l,u)}else if(s==="set"){const[o]=a;n("set",o)}else n(s,...a)}catch(o){Si.error(o)}}return i}function Vee(n,e,t,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Lee(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function Bee(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(FT)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fee=30,Uee=1e3;class jee{constructor(e={},t=Uee){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const V9=new jee;function Hee(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function zee(n){var a;const{appId:e,apiKey:t}=n,r={method:"GET",headers:Hee(t)},i=Iee.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let o="";try{const l=await s.json();(a=l.error)!=null&&a.message&&(o=l.error.message)}catch{}throw Fi.create("config-fetch-failed",{httpStatus:s.status,responseMessage:o})}return s.json()}async function Wee(n,e=V9,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Fi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Fi.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Gee;return setTimeout(async()=>{o.abort()},Cee),B9({appId:r,apiKey:i,measurementId:s},a,o,e)}async function B9(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=V9){var o;const{appId:s,measurementId:a}=n;try{await Yee(r,e)}catch(l){if(a)return Si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await zee(n);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!$ee(u)){if(i.deleteThrottleMetadata(s),a)return Si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw l}const h=Number((o=u==null?void 0:u.customData)==null?void 0:o.httpStatus)===503?YM(t,i.intervalMillis,Fee):YM(t,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:t+1};return i.setThrottleMetadata(s,p),Si.debug(`Calling attemptFetch again in ${h} millis`),B9(n,p,r,i)}}function Yee(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Fi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $ee(n){if(!(n instanceof Ys)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class Gee{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function qee(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,a={...r,send_to:s};n("event",t,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kee(){if(NT())try{await c9()}catch(n){return Si.warn(Fi.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Si.warn(Fi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Xee(n,e,t,r,i,s,a){const o=Wee(n);o.then(g=>{t[g.measurementId]=g.appId,n.options.measurementId&&g.measurementId!==n.options.measurementId&&Si.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Si.error(g)),e.push(o);const l=Kee().then(g=>{if(g)return r.getId()}),[u,h]=await Promise.all([o,l]);Bee(s)||Nee(s,u.measurementId),i("js",new Date);const p=(a==null?void 0:a.config)??{};return p[Tee]="firebase",p.update=!0,h!=null&&(p[See]=h),i("config",u.measurementId,p),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(e){this.app=e}_delete(){return delete Qg[this.app.options.appId],Promise.resolve()}}let Qg={},sP=[];const aP={};let SE="dataLayer",Zee="gtag",oP,F9,lP=!1;function Jee(){const n=[];if(a9()&&n.push("This is a browser extension environment."),oZ()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Fi.create("invalid-analytics-context",{errorInfo:e});Si.warn(t.message)}}function ete(n,e,t){Jee();const r=n.options.appId;if(!r)throw Fi.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Fi.create("no-api-key");if(Qg[r]!=null)throw Fi.create("already-exists",{id:r});if(!lP){Mee(SE);const{wrappedGtag:s,gtagCore:a}=Vee(Qg,sP,aP,SE,Zee);F9=s,oP=a,lP=!0}return Qg[r]=Xee(n,sP,aP,e,oP,SE,t),new Qee(n)}function tte(n=d9()){n=An(n);const e=of(n,zy);return e.isInitialized()?e.getImmediate():nte(n)}function nte(n,e={}){const t=of(n,zy);if(t.isInitialized()){const i=t.getImmediate();if(ec(e,t.getOptions()))return i;throw Fi.create("already-initialized")}return t.initialize({options:e})}function rte(n,e,t,r){n=An(n),qee(F9,Qg[n.app.options.appId],e,t,r).catch(i=>Si.error(i))}const cP="@firebase/analytics",uP="0.10.18";function ite(){Ba(new js(zy,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return ete(r,i,t)},"PUBLIC")),Ba(new js("analytics-internal",n,"PRIVATE")),ms(cP,uP),ms(cP,uP,"esm2020");function n(e){try{const t=e.getProvider(zy).getImmediate();return{logEvent:(r,i,s)=>rte(t,r,i,s)}}catch(t){throw Fi.create("interop-component-reg-failed",{reason:t})}}}ite();function U9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ste=U9,j9=new af("auth","Firebase",U9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=new H_("@firebase/auth");function ate(n,...e){Wy.logLevel<=yt.WARN&&Wy.warn(`Auth (${Md}): ${n}`,...e)}function Jv(n,...e){Wy.logLevel<=yt.ERROR&&Wy.error(`Auth (${Md}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(n,...e){throw UT(n,...e)}function Ia(n,...e){return UT(n,...e)}function H9(n,e,t){const r={...ste(),[e]:t};return new af("auth","Firebase",r).create(e,{appName:n.name})}function Da(n){return H9(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UT(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return j9.create(n,...e)}function Qe(n,e,...t){if(!n)throw UT(e,...t)}function bo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Jv(e),new Error(e)}function ko(n,e){n||bo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function ote(){return fP()==="http:"||fP()==="https:"}function fP(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lte(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ote()||a9()||"connection"in navigator)?navigator.onLine:!0}function cte(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t){this.shortDelay=e,this.longDelay=t,ko(t>e,"Short delay should be less than long delay!"),this.isMobile=rZ()||sZ()}get(){return lte()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(n,e){ko(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ute={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fte=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hte=new t0(3e4,6e4);function dc(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Uo(n,e,t,r,i={}){return W9(n,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=e0({key:n.config.apiKey,...a}).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const u={method:e,headers:l,...s};return iZ()||(u.referrerPolicy="no-referrer"),n.emulatorConfig&&Nd(n.emulatorConfig.host)&&(u.credentials="include"),z9.fetch()(await Y9(n,n.config.apiHost,t,o),u)})}async function W9(n,e,t){n._canInitEmulator=!1;const r={...ute,...e};try{const i=new pte(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw dv(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw dv(n,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw dv(n,"email-already-in-use",a);if(l==="USER_DISABLED")throw dv(n,"user-disabled",a);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw H9(n,h,u);Hs(n,h)}}catch(i){if(i instanceof Ys)throw i;Hs(n,"network-request-failed",{message:String(i)})}}async function n0(n,e,t,r,i={}){const s=await Uo(n,e,t,r,i);return"mfaPendingCredential"in s&&Hs(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function Y9(n,e,t,r){const i=`${e}${t}?${r}`,s=n,a=s.config.emulator?jT(n.config,i):`${n.config.apiScheme}://${i}`;return fte.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function dte(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pte{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ia(this.auth,"network-request-failed")),hte.get())})}}function dv(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ia(n,e,r);return i.customData._tokenResponse=t,i}function hP(n){return n!==void 0&&n.enterprise!==void 0}class gte{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return dte(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mte(n,e){return Uo(n,"GET","/v2/recaptchaConfig",dc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vte(n,e){return Uo(n,"POST","/v1/accounts:delete",e)}async function Yy(n,e){return Uo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yte(n,e=!1){const t=An(n),r=await t.getIdToken(e),i=HT(r);Qe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Zg(TE(i.auth_time)),issuedAtTime:Zg(TE(i.iat)),expirationTime:Zg(TE(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function TE(n){return Number(n)*1e3}function HT(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Jv("JWT malformed, contained fewer than 3 sections"),null;try{const i=e9(t);return i?JSON.parse(i):(Jv("Failed to decode base64 JWT payload"),null)}catch(i){return Jv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dP(n){const e=HT(n);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ys&&_te(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function _te({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zg(this.lastLoginAt),this.creationTime=Zg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $y(n){var p;const e=n.auth,t=await n.getIdToken(),r=await qh(n,Yy(e,{idToken:t}));Qe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=(p=i.providerUserInfo)!=null&&p.length?$9(i.providerUserInfo):[],a=bte(n.providerData,s),o=n.isAnonymous,l=!(n.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new TA(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(n,h)}async function xte(n){const e=An(n);await $y(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bte(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $9(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ete(n,e){const t=await W9(n,{},async()=>{const r=e0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=await Y9(n,i,"/v1/token",`key=${s}`),o=await n._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return n.emulatorConfig&&Nd(n.emulatorConfig.host)&&(l.credentials="include"),z9.fetch()(a,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ate(n,e){return Uo(n,"POST","/v2/accounts:revokeToken",dc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const t=dP(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await Ete(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new Bh;return r&&(Qe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Qe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Qe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bh,this.toJSON())}_performRefresh(){return bo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(n,e){Qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Fs{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new wte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new TA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await qh(this,this.stsTokenManager.getToken(this.auth,e));return Qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return yte(this,e)}reload(){return xte(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await $y(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vi(this.auth.app))return Promise.reject(Da(this.auth));const e=await this.getIdToken();return await qh(this,vte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,a=t.photoURL??void 0,o=t.tenantId??void 0,l=t._redirectEventId??void 0,u=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:v,providerData:w,stsTokenManager:x}=t;Qe(p&&x,e,"internal-error");const E=Bh.fromJSON(this.name,x);Qe(typeof p=="string",e,"internal-error"),_l(r,e.name),_l(i,e.name),Qe(typeof g=="boolean",e,"internal-error"),Qe(typeof v=="boolean",e,"internal-error"),_l(s,e.name),_l(a,e.name),_l(o,e.name),_l(l,e.name),_l(u,e.name),_l(h,e.name);const A=new Fs({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:v,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:E,createdAt:u,lastLoginAt:h});return w&&Array.isArray(w)&&(A.providerData=w.map(T=>({...T}))),l&&(A._redirectEventId=l),A}static async _fromIdTokenResponse(e,t,r=!1){const i=new Bh;i.updateFromServerResponse(t);const s=new Fs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $y(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Qe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?$9(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Bh;o.updateFromIdToken(r);const l=new Fs({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new TA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new Map;function Eo(n){ko(n instanceof Function,"Expected a class definition");let e=pP.get(n);return e?(ko(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pP.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}G9.type="NONE";const gP=G9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(n,e,t){return`firebase:${n}:${e}:${t}`}class Fh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ey(this.userKey,i.apiKey,s),this.fullPersistenceKey=ey("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Yy(this.auth,{idToken:e}).catch(()=>{});return t?Fs._fromGetAccountInfoResponse(this.auth,t,e):null}return Fs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Fh(Eo(gP),e,r);const i=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Eo(gP);const a=ey(r,e.config.apiKey,e.name);let o=null;for(const u of t)try{const h=await u._get(a);if(h){let p;if(typeof h=="string"){const g=await Yy(e,{idToken:h}).catch(()=>{});if(!g)break;p=await Fs._fromGetAccountInfoResponse(e,g,h)}else p=Fs._fromJSON(e,h);u!==s&&(o=p),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Fh(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Fh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(q9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(J9(e))return"Blackberry";if(e7(e))return"Webos";if(K9(e))return"Safari";if((e.includes("chrome/")||X9(e))&&!e.includes("edge/"))return"Chrome";if(Z9(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function q9(n=or()){return/firefox\//i.test(n)}function K9(n=or()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X9(n=or()){return/crios\//i.test(n)}function Q9(n=or()){return/iemobile/i.test(n)}function Z9(n=or()){return/android/i.test(n)}function J9(n=or()){return/blackberry/i.test(n)}function e7(n=or()){return/webos/i.test(n)}function zT(n=or()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ste(n=or()){var e;return zT(n)&&!!((e=window.navigator)!=null&&e.standalone)}function Tte(){return aZ()&&document.documentMode===10}function t7(n=or()){return zT(n)||Z9(n)||e7(n)||J9(n)||/windows phone/i.test(n)||Q9(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(n,e=[]){let t;switch(n){case"Browser":t=mP(or());break;case"Worker":t=`${mP(or())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Md}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ite(n,e={}){return Uo(n,"GET","/v2/passwordPolicy",dc(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dte=6;class Rte{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Dte,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vP(this),this.idTokenSubscription=new vP(this),this.beforeStateQueue=new Cte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Eo(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Fh.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Yy(this,{idToken:e}),r=await Fs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Vi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $y(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cte()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vi(this.app))return Promise.reject(Da(this));const t=e?An(e):null;return t&&Qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vi(this.app)?Promise.reject(Da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vi(this.app)?Promise.reject(Da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Eo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ite(this),t=new Rte(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new af("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ate(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Eo(e)||this._popupRedirectResolver;Qe(t,this,"argument-error"),this.redirectPersistenceManager=await Fh.create(this,[Eo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(t);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&ate(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function lf(n){return An(n)}class vP{constructor(e){this.auth=e,this.observer=null,this.addObserver=hZ(t=>this.observer=t)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nte(n){Y_=n}function r7(n){return Y_.loadJS(n)}function Mte(){return Y_.recaptchaEnterpriseScript}function Pte(){return Y_.gapiScript}function kte(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Lte{constructor(){this.enterprise=new Vte}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Vte{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Bte="recaptcha-enterprise",i7="NO_RECAPTCHA";class Fte{constructor(e){this.type=Bte,this.auth=lf(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{mte(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new gte(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;hP(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(i7)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Lte().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!t&&hP(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Mte();l.length!==0&&(l+=o),r7(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function yP(n,e,t,r=!1,i=!1){const s=new Fte(n);let a;if(i)a=i7;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const o={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function CA(n,e,t,r,i){var s;if((s=n._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await yP(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await yP(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ute(n,e){const t=of(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(ec(s,e??{}))return i;Hs(i,"already-initialized")}return t.initialize({options:e})}function jte(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Eo);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Hte(n,e,t){const r=lf(n);Qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=s7(e),{host:a,port:o}=zte(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},h=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Qe(ec(u,r.config.emulator)&&ec(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Nd(a)?(i9(`${s}//${a}${l}`),nZ("Auth",!0)):Wte()}function s7(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function zte(n){const e=s7(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_P(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:_P(a)}}}function _P(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Wte(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bo("not implemented")}_getIdTokenResponse(e){return bo("not implemented")}_linkToIdToken(e,t){return bo("not implemented")}_getReauthenticationResolver(e){return bo("not implemented")}}async function Yte(n,e){return Uo(n,"POST","/v1/accounts:update",e)}async function $te(n,e){return Uo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gte(n,e){return n0(n,"POST","/v1/accounts:signInWithPassword",dc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qte(n,e){return n0(n,"POST","/v1/accounts:signInWithEmailLink",dc(n,e))}async function Kte(n,e){return n0(n,"POST","/v1/accounts:signInWithEmailLink",dc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends WT{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Cm(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Cm(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CA(e,t,"signInWithPassword",Gte);case"emailLink":return qte(e,{email:this._email,oobCode:this._password});default:Hs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CA(e,r,"signUpPassword",$te);case"emailLink":return Kte(e,{idToken:t,email:this._email,oobCode:this._password});default:Hs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(n,e){return n0(n,"POST","/v1/accounts:signInWithIdp",dc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xte="http://localhost";class Wu extends WT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=t;if(!r||!i)return null;const a=new Wu(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Uh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Uh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Uh(e,t)}buildRequest(){const e={requestUri:Xte,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=e0(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qte(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Zte(n){const e=Tg(Cg(n)).link,t=e?Tg(Cg(e)).deep_link_id:null,r=Tg(Cg(n)).deep_link_id;return(r?Tg(Cg(r)).link:null)||r||t||e||n}class YT{constructor(e){const t=Tg(Cg(e)),r=t.apiKey??null,i=t.oobCode??null,s=Qte(t.mode??null);Qe(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Zte(e);try{return new YT(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this.providerId=cf.PROVIDER_ID}static credential(e,t){return Cm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=YT.parseLink(t);return Qe(r,"argument-error"),Cm._fromEmailAndCode(e,r.code,r.tenantId)}}cf.PROVIDER_ID="password";cf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0 extends a7{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends r0{constructor(){super("facebook.com")}static credential(e){return Wu._fromParams({providerId:Rl.PROVIDER_ID,signInMethod:Rl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rl.credentialFromTaggedObject(e)}static credentialFromError(e){return Rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rl.credential(e.oauthAccessToken)}catch{return null}}}Rl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends r0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wu._fromParams({providerId:Ol.PROVIDER_ID,signInMethod:Ol.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ol.credentialFromTaggedObject(e)}static credentialFromError(e){return Ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ol.credential(t,r)}catch{return null}}}Ol.GOOGLE_SIGN_IN_METHOD="google.com";Ol.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends r0{constructor(){super("github.com")}static credential(e){return Wu._fromParams({providerId:Nl.PROVIDER_ID,signInMethod:Nl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nl.credentialFromTaggedObject(e)}static credentialFromError(e){return Nl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nl.credential(e.oauthAccessToken)}catch{return null}}}Nl.GITHUB_SIGN_IN_METHOD="github.com";Nl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends r0{constructor(){super("twitter.com")}static credential(e,t){return Wu._fromParams({providerId:Ml.PROVIDER_ID,signInMethod:Ml.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ml.credentialFromTaggedObject(e)}static credentialFromError(e){return Ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ml.credential(t,r)}catch{return null}}}Ml.TWITTER_SIGN_IN_METHOD="twitter.com";Ml.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jte(n,e){return n0(n,"POST","/v1/accounts:signUp",dc(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Fs._fromIdTokenResponse(e,r,i),a=wP(r);return new Yu({user:s,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=wP(r);return new Yu({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function wP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy extends Ys{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Gy(e,t,r,i)}}function o7(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gy._fromErrorAndOperation(n,s,e,r):s})}async function ene(n,e,t=!1){const r=await qh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Yu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l7(n,e,t=!1){const{auth:r}=n;if(Vi(r.app))return Promise.reject(Da(r));const i="reauthenticate";try{const s=await qh(n,o7(r,i,e,n),t);Qe(s.idToken,r,"internal-error");const a=HT(s.idToken);Qe(a,r,"internal-error");const{sub:o}=a;return Qe(n.uid===o,r,"user-mismatch"),Yu._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Hs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c7(n,e,t=!1){if(Vi(n.app))return Promise.reject(Da(n));const r="signIn",i=await o7(n,r,e),s=await Yu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function tne(n,e){return c7(lf(n),e)}async function nne(n,e){return l7(An(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u7(n){const e=lf(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rne(n,e,t){if(Vi(n.app))return Promise.reject(Da(n));const r=lf(n),a=await CA(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Jte).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&u7(n),l}),o=await Yu._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function ine(n,e,t){return Vi(n.app)?Promise.reject(Da(n)):tne(An(n),cf.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&u7(n),r})}function sne(n,e){const t=An(n);return Vi(t.auth.app)?Promise.reject(Da(t.auth)):f7(t,e,null)}function ane(n,e){return f7(An(n),null,e)}async function f7(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const a=await qh(n,Yte(r,s));await n._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function one(n,e){return An(n).setPersistence(e)}function lne(n,e,t,r){return An(n).onIdTokenChanged(e,t,r)}function cne(n,e,t){return An(n).beforeAuthStateChanged(e,t)}function une(n){return An(n).signOut()}const qy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qy,"1"),this.storage.removeItem(qy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fne=1e3,hne=10;class d7 extends h7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Tte()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,hne):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},fne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}d7.type="LOCAL";const p7=d7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7 extends h7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}g7.type="SESSION";const $T=g7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dne(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new $_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(t.origin,s)),l=await dne(o);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=GT("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(g.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(){return window}function gne(n){Ra().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(){return typeof Ra().WorkerGlobalScope<"u"&&typeof Ra().importScripts=="function"}async function mne(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vne(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function yne(){return m7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7="firebaseLocalStorageDb",_ne=1,Ky="firebaseLocalStorage",y7="fbase_key";class i0{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function G_(n,e){return n.transaction([Ky],e?"readwrite":"readonly").objectStore(Ky)}function wne(){const n=indexedDB.deleteDatabase(v7);return new i0(n).toPromise()}function IA(){const n=indexedDB.open(v7,_ne);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ky,{keyPath:y7})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ky)?e(r):(r.close(),await wne(),e(await IA()))})})}async function xP(n,e,t){const r=G_(n,!0).put({[y7]:e,value:t});return new i0(r).toPromise()}async function xne(n,e){const t=G_(n,!1).get(e),r=await new i0(t).toPromise();return r===void 0?null:r.value}function bP(n,e){const t=G_(n,!0).delete(e);return new i0(t).toPromise()}const bne=800,Ene=3;class _7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await IA(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Ene)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$_._getInstance(yne()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await mne(),!this.activeServiceWorker)return;this.sender=new pne(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await IA();return await xP(e,qy,"1"),await bP(e,qy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>xP(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>xne(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>bP(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=G_(i,!1).getAll();return new i0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_7.type="LOCAL";const Ane=_7;new t0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sne(n,e){return e?Eo(e):(Qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends WT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Uh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Uh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Tne(n){return c7(n.auth,new qT(n),n.bypassAuthState)}function Cne(n){const{auth:e,user:t}=n;return Qe(t,e,"internal-error"),l7(t,new qT(n),n.bypassAuthState)}async function Ine(n){const{auth:e,user:t}=n;return Qe(t,e,"internal-error"),ene(t,new qT(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tne;case"linkViaPopup":case"linkViaRedirect":return Ine;case"reauthViaPopup":case"reauthViaRedirect":return Cne;default:Hs(this.auth,"internal-error")}}resolve(e){ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dne=new t0(2e3,1e4);class Nh extends w7{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Nh.currentPopupAction&&Nh.currentPopupAction.cancel(),Nh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){ko(this.filter.length===1,"Popup operations only handle one event");const e=GT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ia(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ia(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ia(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Dne.get())};e()}}Nh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rne="pendingRedirect",ty=new Map;class One extends w7{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ty.get(this.auth._key());if(!e){try{const r=await Nne(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ty.set(this.auth._key(),e)}return this.bypassAuthState||ty.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nne(n,e){const t=kne(e),r=Pne(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function Mne(n,e){ty.set(n._key(),e)}function Pne(n){return Eo(n._redirectPersistence)}function kne(n){return ey(Rne,n.config.apiKey,n.name)}async function Lne(n,e,t=!1){if(Vi(n.app))return Promise.reject(Da(n));const r=lf(n),i=Sne(r,e),a=await new One(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vne=10*60*1e3;class Bne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Fne(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!x7(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ia(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Vne&&this.cachedEventUids.clear(),this.cachedEventUids.has(EP(e))}saveEventToCache(e){this.cachedEventUids.add(EP(e)),this.lastProcessedEventTime=Date.now()}}function EP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function x7({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Fne(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x7(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Une(n,e={}){return Uo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hne=/^https?/;async function zne(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Une(n);for(const t of e)try{if(Wne(t))return}catch{}Hs(n,"unauthorized-domain")}function Wne(n){const e=SA(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!Hne.test(t))return!1;if(jne.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yne=new t0(3e4,6e4);function AP(){const n=Ra().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function $ne(n){return new Promise((e,t)=>{var i,s,a;function r(){AP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AP(),t(Ia(n,"network-request-failed"))},timeout:Yne.get()})}if((s=(i=Ra().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Ra().gapi)!=null&&a.load)r();else{const o=kte("iframefcb");return Ra()[o]=()=>{gapi.load?r():t(Ia(n,"network-request-failed"))},r7(`${Pte()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw ny=null,e})}let ny=null;function Gne(n){return ny=ny||$ne(n),ny}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qne=new t0(5e3,15e3),Kne="__/auth/iframe",Xne="emulator/auth/iframe",Qne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jne(n){const e=n.config;Qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?jT(e,Xne):`https://${n.config.authDomain}/${Kne}`,r={apiKey:e.apiKey,appName:n.name,v:Md},i=Zne.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${e0(r).slice(1)}`}async function ere(n){const e=await Gne(n),t=Ra().gapi;return Qe(t,n,"internal-error"),e.open({where:document.body,url:Jne(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qne,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Ia(n,"network-request-failed"),o=Ra().setTimeout(()=>{s(a)},qne.get());function l(){Ra().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tre={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nre=500,rre=600,ire="_blank",sre="http://localhost";class SP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function are(n,e,t,r=nre,i=rre){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...tre,width:r.toString(),height:i.toString(),top:s,left:a},u=or().toLowerCase();t&&(o=X9(u)?ire:t),q9(u)&&(e=e||sre,l.scrollbars="yes");const h=Object.entries(l).reduce((g,[v,w])=>`${g}${v}=${w},`,"");if(Ste(u)&&o!=="_self")return ore(e||"",o),new SP(null);const p=window.open(e||"",o,h);Qe(p,n,"popup-blocked");try{p.focus()}catch{}return new SP(p)}function ore(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lre="__/auth/handler",cre="emulator/auth/handler",ure=encodeURIComponent("fac");async function TP(n,e,t,r,i,s){Qe(n.config.authDomain,n,"auth-domain-config-required"),Qe(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Md,eventId:i};if(e instanceof a7){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",fZ(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof r0){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}n.tenantId&&(a.tid=n.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await n._getAppCheckToken(),u=l?`#${ure}=${encodeURIComponent(l)}`:"";return`${fre(n)}?${e0(o).slice(1)}${u}`}function fre({config:n}){return n.emulator?jT(n,cre):`https://${n.authDomain}/${lre}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="webStorageSupport";class hre{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$T,this._completeRedirectFn=Lne,this._overrideRedirectResult=Mne}async _openPopup(e,t,r,i){var a;ko((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await TP(e,t,r,SA(),i);return are(e,s,GT())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await TP(e,t,r,SA(),i);return gne(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ko(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ere(e),r=new Bne(e);return t.register("authEvent",i=>(Qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(CE,{type:CE},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[CE];s!==void 0&&t(!!s),Hs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zne(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return t7()||K9()||zT()}}const dre=hre;var CP="@firebase/auth",IP="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gre(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mre(n){Ba(new js("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Qe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n7(n)},u=new Ote(r,i,s,l);return jte(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ba(new js("auth-internal",e=>{const t=lf(e.getProvider("auth").getImmediate());return(r=>new pre(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(CP,IP,gre(n)),ms(CP,IP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vre=5*60,yre=r9("authIdTokenMaxAge")||vre;let DP=null;const _re=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>yre)return;const i=t==null?void 0:t.token;DP!==i&&(DP=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function KT(n=d9()){const e=of(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Ute(n,{popupRedirectResolver:dre,persistence:[Ane,p7,$T]}),r=r9("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=_re(s.toString());cne(t,a,()=>a(t.currentUser)),lne(t,o=>a(o))}}const i=ZQ("auth");return i&&Hte(t,`http://${i}`),t}function wre(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}Nte({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ia("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",wre().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mre("Browser");var RP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wl,b7;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function N(){}N.prototype=C.prototype,R.D=C.prototype,R.prototype=new N,R.prototype.constructor=R,R.C=function(L,F,H){for(var B=Array(arguments.length-2),he=2;he<arguments.length;he++)B[he-2]=arguments[he];return C.prototype[F].apply(L,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,C,N){N||(N=0);var L=Array(16);if(typeof C=="string")for(var F=0;16>F;++F)L[F]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(F=0;16>F;++F)L[F]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=R.g[0],N=R.g[1],F=R.g[2];var H=R.g[3],B=C+(H^N&(F^H))+L[0]+3614090360&4294967295;C=N+(B<<7&4294967295|B>>>25),B=H+(F^C&(N^F))+L[1]+3905402710&4294967295,H=C+(B<<12&4294967295|B>>>20),B=F+(N^H&(C^N))+L[2]+606105819&4294967295,F=H+(B<<17&4294967295|B>>>15),B=N+(C^F&(H^C))+L[3]+3250441966&4294967295,N=F+(B<<22&4294967295|B>>>10),B=C+(H^N&(F^H))+L[4]+4118548399&4294967295,C=N+(B<<7&4294967295|B>>>25),B=H+(F^C&(N^F))+L[5]+1200080426&4294967295,H=C+(B<<12&4294967295|B>>>20),B=F+(N^H&(C^N))+L[6]+2821735955&4294967295,F=H+(B<<17&4294967295|B>>>15),B=N+(C^F&(H^C))+L[7]+4249261313&4294967295,N=F+(B<<22&4294967295|B>>>10),B=C+(H^N&(F^H))+L[8]+1770035416&4294967295,C=N+(B<<7&4294967295|B>>>25),B=H+(F^C&(N^F))+L[9]+2336552879&4294967295,H=C+(B<<12&4294967295|B>>>20),B=F+(N^H&(C^N))+L[10]+4294925233&4294967295,F=H+(B<<17&4294967295|B>>>15),B=N+(C^F&(H^C))+L[11]+2304563134&4294967295,N=F+(B<<22&4294967295|B>>>10),B=C+(H^N&(F^H))+L[12]+1804603682&4294967295,C=N+(B<<7&4294967295|B>>>25),B=H+(F^C&(N^F))+L[13]+4254626195&4294967295,H=C+(B<<12&4294967295|B>>>20),B=F+(N^H&(C^N))+L[14]+2792965006&4294967295,F=H+(B<<17&4294967295|B>>>15),B=N+(C^F&(H^C))+L[15]+1236535329&4294967295,N=F+(B<<22&4294967295|B>>>10),B=C+(F^H&(N^F))+L[1]+4129170786&4294967295,C=N+(B<<5&4294967295|B>>>27),B=H+(N^F&(C^N))+L[6]+3225465664&4294967295,H=C+(B<<9&4294967295|B>>>23),B=F+(C^N&(H^C))+L[11]+643717713&4294967295,F=H+(B<<14&4294967295|B>>>18),B=N+(H^C&(F^H))+L[0]+3921069994&4294967295,N=F+(B<<20&4294967295|B>>>12),B=C+(F^H&(N^F))+L[5]+3593408605&4294967295,C=N+(B<<5&4294967295|B>>>27),B=H+(N^F&(C^N))+L[10]+38016083&4294967295,H=C+(B<<9&4294967295|B>>>23),B=F+(C^N&(H^C))+L[15]+3634488961&4294967295,F=H+(B<<14&4294967295|B>>>18),B=N+(H^C&(F^H))+L[4]+3889429448&4294967295,N=F+(B<<20&4294967295|B>>>12),B=C+(F^H&(N^F))+L[9]+568446438&4294967295,C=N+(B<<5&4294967295|B>>>27),B=H+(N^F&(C^N))+L[14]+3275163606&4294967295,H=C+(B<<9&4294967295|B>>>23),B=F+(C^N&(H^C))+L[3]+4107603335&4294967295,F=H+(B<<14&4294967295|B>>>18),B=N+(H^C&(F^H))+L[8]+1163531501&4294967295,N=F+(B<<20&4294967295|B>>>12),B=C+(F^H&(N^F))+L[13]+2850285829&4294967295,C=N+(B<<5&4294967295|B>>>27),B=H+(N^F&(C^N))+L[2]+4243563512&4294967295,H=C+(B<<9&4294967295|B>>>23),B=F+(C^N&(H^C))+L[7]+1735328473&4294967295,F=H+(B<<14&4294967295|B>>>18),B=N+(H^C&(F^H))+L[12]+2368359562&4294967295,N=F+(B<<20&4294967295|B>>>12),B=C+(N^F^H)+L[5]+4294588738&4294967295,C=N+(B<<4&4294967295|B>>>28),B=H+(C^N^F)+L[8]+2272392833&4294967295,H=C+(B<<11&4294967295|B>>>21),B=F+(H^C^N)+L[11]+1839030562&4294967295,F=H+(B<<16&4294967295|B>>>16),B=N+(F^H^C)+L[14]+4259657740&4294967295,N=F+(B<<23&4294967295|B>>>9),B=C+(N^F^H)+L[1]+2763975236&4294967295,C=N+(B<<4&4294967295|B>>>28),B=H+(C^N^F)+L[4]+1272893353&4294967295,H=C+(B<<11&4294967295|B>>>21),B=F+(H^C^N)+L[7]+4139469664&4294967295,F=H+(B<<16&4294967295|B>>>16),B=N+(F^H^C)+L[10]+3200236656&4294967295,N=F+(B<<23&4294967295|B>>>9),B=C+(N^F^H)+L[13]+681279174&4294967295,C=N+(B<<4&4294967295|B>>>28),B=H+(C^N^F)+L[0]+3936430074&4294967295,H=C+(B<<11&4294967295|B>>>21),B=F+(H^C^N)+L[3]+3572445317&4294967295,F=H+(B<<16&4294967295|B>>>16),B=N+(F^H^C)+L[6]+76029189&4294967295,N=F+(B<<23&4294967295|B>>>9),B=C+(N^F^H)+L[9]+3654602809&4294967295,C=N+(B<<4&4294967295|B>>>28),B=H+(C^N^F)+L[12]+3873151461&4294967295,H=C+(B<<11&4294967295|B>>>21),B=F+(H^C^N)+L[15]+530742520&4294967295,F=H+(B<<16&4294967295|B>>>16),B=N+(F^H^C)+L[2]+3299628645&4294967295,N=F+(B<<23&4294967295|B>>>9),B=C+(F^(N|~H))+L[0]+4096336452&4294967295,C=N+(B<<6&4294967295|B>>>26),B=H+(N^(C|~F))+L[7]+1126891415&4294967295,H=C+(B<<10&4294967295|B>>>22),B=F+(C^(H|~N))+L[14]+2878612391&4294967295,F=H+(B<<15&4294967295|B>>>17),B=N+(H^(F|~C))+L[5]+4237533241&4294967295,N=F+(B<<21&4294967295|B>>>11),B=C+(F^(N|~H))+L[12]+1700485571&4294967295,C=N+(B<<6&4294967295|B>>>26),B=H+(N^(C|~F))+L[3]+2399980690&4294967295,H=C+(B<<10&4294967295|B>>>22),B=F+(C^(H|~N))+L[10]+4293915773&4294967295,F=H+(B<<15&4294967295|B>>>17),B=N+(H^(F|~C))+L[1]+2240044497&4294967295,N=F+(B<<21&4294967295|B>>>11),B=C+(F^(N|~H))+L[8]+1873313359&4294967295,C=N+(B<<6&4294967295|B>>>26),B=H+(N^(C|~F))+L[15]+4264355552&4294967295,H=C+(B<<10&4294967295|B>>>22),B=F+(C^(H|~N))+L[6]+2734768916&4294967295,F=H+(B<<15&4294967295|B>>>17),B=N+(H^(F|~C))+L[13]+1309151649&4294967295,N=F+(B<<21&4294967295|B>>>11),B=C+(F^(N|~H))+L[4]+4149444226&4294967295,C=N+(B<<6&4294967295|B>>>26),B=H+(N^(C|~F))+L[11]+3174756917&4294967295,H=C+(B<<10&4294967295|B>>>22),B=F+(C^(H|~N))+L[2]+718787259&4294967295,F=H+(B<<15&4294967295|B>>>17),B=N+(H^(F|~C))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(F+(B<<21&4294967295|B>>>11))&4294967295,R.g[2]=R.g[2]+F&4294967295,R.g[3]=R.g[3]+H&4294967295}r.prototype.u=function(R,C){C===void 0&&(C=R.length);for(var N=C-this.blockSize,L=this.B,F=this.h,H=0;H<C;){if(F==0)for(;H<=N;)i(this,R,H),H+=this.blockSize;if(typeof R=="string"){for(;H<C;)if(L[F++]=R.charCodeAt(H++),F==this.blockSize){i(this,L),F=0;break}}else for(;H<C;)if(L[F++]=R[H++],F==this.blockSize){i(this,L),F=0;break}}this.h=F,this.o+=C},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;var N=8*this.o;for(C=R.length-8;C<R.length;++C)R[C]=N&255,N/=256;for(this.u(R),R=Array(16),C=N=0;4>C;++C)for(var L=0;32>L;L+=8)R[N++]=this.g[C]>>>L&255;return R};function s(R,C){var N=o;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=C(R)}function a(R,C){this.h=C;for(var N=[],L=!0,F=R.length-1;0<=F;F--){var H=R[F]|0;L&&H==C||(N[F]=H,L=!1)}this.g=N}var o={};function l(R){return-128<=R&&128>R?s(R,function(C){return new a([C|0],0>C?-1:0)}):new a([R|0],0>R?-1:0)}function u(R){if(isNaN(R)||!isFinite(R))return p;if(0>R)return E(u(-R));for(var C=[],N=1,L=0;R>=N;L++)C[L]=R/N|0,N*=4294967296;return new a(C,0)}function h(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return E(h(R.substring(1),C));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(C,8)),L=p,F=0;F<R.length;F+=8){var H=Math.min(8,R.length-F),B=parseInt(R.substring(F,F+H),C);8>H?(H=u(Math.pow(C,H)),L=L.j(H).add(u(B))):(L=L.j(N),L=L.add(u(B)))}return L}var p=l(0),g=l(1),v=l(16777216);n=a.prototype,n.m=function(){if(x(this))return-E(this).m();for(var R=0,C=1,N=0;N<this.g.length;N++){var L=this.i(N);R+=(0<=L?L:4294967296+L)*C,C*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(w(this))return"0";if(x(this))return"-"+E(this).toString(R);for(var C=u(Math.pow(R,6)),N=this,L="";;){var F=P(N,C).g;N=A(N,F.j(C));var H=((0<N.g.length?N.g[0]:N.h)>>>0).toString(R);if(N=F,w(N))return H+L;for(;6>H.length;)H="0"+H;L=H+L}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function w(R){if(R.h!=0)return!1;for(var C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function x(R){return R.h==-1}n.l=function(R){return R=A(this,R),x(R)?-1:w(R)?0:1};function E(R){for(var C=R.g.length,N=[],L=0;L<C;L++)N[L]=~R.g[L];return new a(N,~R.h).add(g)}n.abs=function(){return x(this)?E(this):this},n.add=function(R){for(var C=Math.max(this.g.length,R.g.length),N=[],L=0,F=0;F<=C;F++){var H=L+(this.i(F)&65535)+(R.i(F)&65535),B=(H>>>16)+(this.i(F)>>>16)+(R.i(F)>>>16);L=B>>>16,H&=65535,B&=65535,N[F]=B<<16|H}return new a(N,N[N.length-1]&-2147483648?-1:0)};function A(R,C){return R.add(E(C))}n.j=function(R){if(w(this)||w(R))return p;if(x(this))return x(R)?E(this).j(E(R)):E(E(this).j(R));if(x(R))return E(this.j(E(R)));if(0>this.l(v)&&0>R.l(v))return u(this.m()*R.m());for(var C=this.g.length+R.g.length,N=[],L=0;L<2*C;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(var F=0;F<R.g.length;F++){var H=this.i(L)>>>16,B=this.i(L)&65535,he=R.i(F)>>>16,fe=R.i(F)&65535;N[2*L+2*F]+=B*fe,T(N,2*L+2*F),N[2*L+2*F+1]+=H*fe,T(N,2*L+2*F+1),N[2*L+2*F+1]+=B*he,T(N,2*L+2*F+1),N[2*L+2*F+2]+=H*he,T(N,2*L+2*F+2)}for(L=0;L<C;L++)N[L]=N[2*L+1]<<16|N[2*L];for(L=C;L<2*C;L++)N[L]=0;return new a(N,0)};function T(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function I(R,C){this.g=R,this.h=C}function P(R,C){if(w(C))throw Error("division by zero");if(w(R))return new I(p,p);if(x(R))return C=P(E(R),C),new I(E(C.g),E(C.h));if(x(C))return C=P(R,E(C)),new I(E(C.g),C.h);if(30<R.g.length){if(x(R)||x(C))throw Error("slowDivide_ only works with positive integers.");for(var N=g,L=C;0>=L.l(R);)N=O(N),L=O(L);var F=V(N,1),H=V(L,1);for(L=V(L,2),N=V(N,2);!w(L);){var B=H.add(L);0>=B.l(R)&&(F=F.add(N),H=B),L=V(L,1),N=V(N,1)}return C=A(R,F.j(C)),new I(F,C)}for(F=p;0<=R.l(C);){for(N=Math.max(1,Math.floor(R.m()/C.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),H=u(N),B=H.j(C);x(B)||0<B.l(R);)N-=L,H=u(N),B=H.j(C);w(H)&&(H=g),F=F.add(H),R=A(R,B)}return new I(F,R)}n.A=function(R){return P(this,R).h},n.and=function(R){for(var C=Math.max(this.g.length,R.g.length),N=[],L=0;L<C;L++)N[L]=this.i(L)&R.i(L);return new a(N,this.h&R.h)},n.or=function(R){for(var C=Math.max(this.g.length,R.g.length),N=[],L=0;L<C;L++)N[L]=this.i(L)|R.i(L);return new a(N,this.h|R.h)},n.xor=function(R){for(var C=Math.max(this.g.length,R.g.length),N=[],L=0;L<C;L++)N[L]=this.i(L)^R.i(L);return new a(N,this.h^R.h)};function O(R){for(var C=R.g.length+1,N=[],L=0;L<C;L++)N[L]=R.i(L)<<1|R.i(L-1)>>>31;return new a(N,R.h)}function V(R,C){var N=C>>5;C%=32;for(var L=R.g.length-N,F=[],H=0;H<L;H++)F[H]=0<C?R.i(H+N)>>>C|R.i(H+N+1)<<32-C:R.i(H+N);return new a(F,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,b7=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,Wl=a}).apply(typeof RP<"u"?RP:typeof self<"u"?self:typeof window<"u"?window:{});var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E7,Ig,A7,ry,DA,S7,T7,C7;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,S,M){return y==Array.prototype||y==Object.prototype||(y[S]=M.value),y};function t(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof pv=="object"&&pv];for(var S=0;S<y.length;++S){var M=y[S];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=t(this);function i(y,S){if(S)e:{var M=r;y=y.split(".");for(var z=0;z<y.length-1;z++){var J=y[z];if(!(J in M))break e;M=M[J]}y=y[y.length-1],z=M[y],S=S(z),S!=z&&S!=null&&e(M,y,{configurable:!0,writable:!0,value:S})}}function s(y,S){y instanceof String&&(y+="");var M=0,z=!1,J={next:function(){if(!z&&M<y.length){var ue=M++;return{value:S(ue,y[ue]),done:!1}}return z=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(y){return y||function(){return s(this,function(S,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(y){var S=typeof y;return S=S!="object"?S:y?Array.isArray(y)?"array":S:"null",S=="array"||S=="object"&&typeof y.length=="number"}function u(y){var S=typeof y;return S=="object"&&y!=null||S=="function"}function h(y,S,M){return y.call.apply(y.bind,arguments)}function p(y,S,M){if(!y)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,z),y.apply(S,J)}}return function(){return y.apply(S,arguments)}}function g(y,S,M){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function v(y,S){var M=Array.prototype.slice.call(arguments,1);return function(){var z=M.slice();return z.push.apply(z,arguments),y.apply(this,z)}}function w(y,S){function M(){}M.prototype=S.prototype,y.aa=S.prototype,y.prototype=new M,y.prototype.constructor=y,y.Qb=function(z,J,ue){for(var Se=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)Se[xt-2]=arguments[xt];return S.prototype[J].apply(z,Se)}}function x(y){const S=y.length;if(0<S){const M=Array(S);for(let z=0;z<S;z++)M[z]=y[z];return M}return[]}function E(y,S){for(let M=1;M<arguments.length;M++){const z=arguments[M];if(l(z)){const J=y.length||0,ue=z.length||0;y.length=J+ue;for(let Se=0;Se<ue;Se++)y[J+Se]=z[Se]}else y.push(z)}}class A{constructor(S,M){this.i=S,this.j=M,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function T(y){return/^[\s\xa0]*$/.test(y)}function I(){var y=o.navigator;return y&&(y=y.userAgent)?y:""}function P(y){return P[" "](y),y}P[" "]=function(){};var O=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function V(y,S,M){for(const z in y)S.call(M,y[z],z,y)}function R(y,S){for(const M in y)S.call(void 0,y[M],M,y)}function C(y){const S={};for(const M in y)S[M]=y[M];return S}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(y,S){let M,z;for(let J=1;J<arguments.length;J++){z=arguments[J];for(M in z)y[M]=z[M];for(let ue=0;ue<N.length;ue++)M=N[ue],Object.prototype.hasOwnProperty.call(z,M)&&(y[M]=z[M])}}function F(y){var S=1;y=y.split(":");const M=[];for(;0<S&&y.length;)M.push(y.shift()),S--;return y.length&&M.push(y.join(":")),M}function H(y){o.setTimeout(()=>{throw y},0)}function B(){var y=Q;let S=null;return y.g&&(S=y.g,y.g=y.g.next,y.g||(y.h=null),S.next=null),S}class he{constructor(){this.h=this.g=null}add(S,M){const z=fe.get();z.set(S,M),this.h?this.h.next=z:this.g=z,this.h=z}}var fe=new A(()=>new Y,y=>y.reset());class Y{constructor(){this.next=this.g=this.h=null}set(S,M){this.h=S,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let X,oe=!1,Q=new he,U=()=>{const y=o.Promise.resolve(void 0);X=()=>{y.then(q)}};var q=()=>{for(var y;y=B();){try{y.h.call(y.g)}catch(M){H(M)}var S=fe;S.j(y),100>S.h&&(S.h++,y.next=S.g,S.g=y)}oe=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(y,S){this.type=y,this.g=this.target=S,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,S=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const M=()=>{};o.addEventListener("test",M,S),o.removeEventListener("test",M,S)}catch{}return y}();function xe(y,S){if(ne.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var M=this.type=y.type,z=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=S,S=y.relatedTarget){if(O){e:{try{P(S.nodeName);var J=!0;break e}catch{}J=!1}J||(S=null)}}else M=="mouseover"?S=y.fromElement:M=="mouseout"&&(S=y.toElement);this.relatedTarget=S,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:Ae[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&xe.aa.h.call(this)}}w(xe,ne);var Ae={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Pe(y,S,M,z,J){this.listener=y,this.proxy=null,this.src=S,this.type=M,this.capture=!!z,this.ha=J,this.key=++Ve,this.da=this.fa=!1}function We(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function rt(y){this.src=y,this.g={},this.h=0}rt.prototype.add=function(y,S,M,z,J){var ue=y.toString();y=this.g[ue],y||(y=this.g[ue]=[],this.h++);var Se=Lt(y,S,z,J);return-1<Se?(S=y[Se],M||(S.fa=!1)):(S=new Pe(S,this.src,ue,!!z,J),S.fa=M,y.push(S)),S};function kt(y,S){var M=S.type;if(M in y.g){var z=y.g[M],J=Array.prototype.indexOf.call(z,S,void 0),ue;(ue=0<=J)&&Array.prototype.splice.call(z,J,1),ue&&(We(S),y.g[M].length==0&&(delete y.g[M],y.h--))}}function Lt(y,S,M,z){for(var J=0;J<y.length;++J){var ue=y[J];if(!ue.da&&ue.listener==S&&ue.capture==!!M&&ue.ha==z)return J}return-1}var on="closure_lm_"+(1e6*Math.random()|0),kr={};function Ne(y,S,M,z,J){if(Array.isArray(S)){for(var ue=0;ue<S.length;ue++)Ne(y,S[ue],M,z,J);return null}return M=_t(M),y&&y[et]?y.K(S,M,u(z)?!!z.capture:!1,J):ke(y,S,M,!1,z,J)}function ke(y,S,M,z,J,ue){if(!S)throw Error("Invalid event type");var Se=u(J)?!!J.capture:!!J,xt=Vt(y);if(xt||(y[on]=xt=new rt(y)),M=xt.add(S,M,z,Se,ue),M.proxy)return M;if(z=ye(),M.proxy=z,z.src=y,z.listener=M,y.addEventListener)we||(J=Se),J===void 0&&(J=!1),y.addEventListener(S.toString(),z,J);else if(y.attachEvent)y.attachEvent(it(S.toString()),z);else if(y.addListener&&y.removeListener)y.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return M}function ye(){function y(M){return S.call(y.src,y.listener,M)}const S=nt;return y}function Ue(y,S,M,z,J){if(Array.isArray(S))for(var ue=0;ue<S.length;ue++)Ue(y,S[ue],M,z,J);else z=u(z)?!!z.capture:!!z,M=_t(M),y&&y[et]?(y=y.i,S=String(S).toString(),S in y.g&&(ue=y.g[S],M=Lt(ue,M,z,J),-1<M&&(We(ue[M]),Array.prototype.splice.call(ue,M,1),ue.length==0&&(delete y.g[S],y.h--)))):y&&(y=Vt(y))&&(S=y.g[S.toString()],y=-1,S&&(y=Lt(S,M,z,J)),(M=-1<y?S[y]:null)&&Ke(M))}function Ke(y){if(typeof y!="number"&&y&&!y.da){var S=y.src;if(S&&S[et])kt(S.i,y);else{var M=y.type,z=y.proxy;S.removeEventListener?S.removeEventListener(M,z,y.capture):S.detachEvent?S.detachEvent(it(M),z):S.addListener&&S.removeListener&&S.removeListener(z),(M=Vt(S))?(kt(M,y),M.h==0&&(M.src=null,S[on]=null)):We(y)}}}function it(y){return y in kr?kr[y]:kr[y]="on"+y}function nt(y,S){if(y.da)y=!0;else{S=new xe(S,this);var M=y.listener,z=y.ha||y.src;y.fa&&Ke(y),y=M.call(z,S)}return y}function Vt(y){return y=y[on],y instanceof rt?y:null}var De="__closure_events_fn_"+(1e9*Math.random()>>>0);function _t(y){return typeof y=="function"?y:(y[De]||(y[De]=function(S){return y.handleEvent(S)}),y[De])}function pt(){ce.call(this),this.i=new rt(this),this.M=this,this.F=null}w(pt,ce),pt.prototype[et]=!0,pt.prototype.removeEventListener=function(y,S,M,z){Ue(this,y,S,M,z)};function at(y,S){var M,z=y.F;if(z)for(M=[];z;z=z.F)M.push(z);if(y=y.M,z=S.type||S,typeof S=="string")S=new ne(S,y);else if(S instanceof ne)S.target=S.target||y;else{var J=S;S=new ne(z,y),L(S,J)}if(J=!0,M)for(var ue=M.length-1;0<=ue;ue--){var Se=S.g=M[ue];J=cr(Se,z,!0,S)&&J}if(Se=S.g=y,J=cr(Se,z,!0,S)&&J,J=cr(Se,z,!1,S)&&J,M)for(ue=0;ue<M.length;ue++)Se=S.g=M[ue],J=cr(Se,z,!1,S)&&J}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var y=this.i,S;for(S in y.g){for(var M=y.g[S],z=0;z<M.length;z++)We(M[z]);delete y.g[S],y.h--}}this.F=null},pt.prototype.K=function(y,S,M,z){return this.i.add(String(y),S,!1,M,z)},pt.prototype.L=function(y,S,M,z){return this.i.add(String(y),S,!0,M,z)};function cr(y,S,M,z){if(S=y.i.g[String(S)],!S)return!0;S=S.concat();for(var J=!0,ue=0;ue<S.length;++ue){var Se=S[ue];if(Se&&!Se.da&&Se.capture==M){var xt=Se.listener,Xn=Se.ha||Se.src;Se.fa&&kt(y.i,Se),J=xt.call(Xn,z)!==!1&&J}}return J&&!z.defaultPrevented}function jn(y,S,M){if(typeof y=="function")M&&(y=g(y,M));else if(y&&typeof y.handleEvent=="function")y=g(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:o.setTimeout(y,S||0)}function Lr(y){y.g=jn(()=>{y.g=null,y.i&&(y.i=!1,Lr(y))},y.l);const S=y.h;y.h=null,y.m.apply(null,S)}class br extends ce{constructor(S,M){super(),this.m=S,this.l=M,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Lr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(y){ce.call(this),this.h=y,this.g={}}w(Er,ce);var ui=[];function fi(y){V(y.g,function(S,M){this.g.hasOwnProperty(M)&&Ke(S)},y),y.g={}}Er.prototype.N=function(){Er.aa.N.call(this),fi(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=o.JSON.stringify,Wa=o.JSON.parse,Gs=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function $d(){}$d.prototype.h=null;function Gd(y){return y.h||(y.h=y.i())}function qd(){}var Ya={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $a(){ne.call(this,"d")}w($a,ne);function Kd(){ne.call(this,"c")}w(Kd,ne);var qs={},Xd=null;function Yo(){return Xd=Xd||new pt}qs.La="serverreachability";function pf(y){ne.call(this,qs.La,y)}w(pf,ne);function $o(y){const S=Yo();at(S,new pf(S))}qs.STAT_EVENT="statevent";function D0(y,S){ne.call(this,qs.STAT_EVENT,y),this.stat=S}w(D0,ne);function pn(y){const S=Yo();at(S,new D0(S,y))}qs.Ma="timingevent";function Kn(y,S){ne.call(this,qs.Ma,y),this.size=S}w(Kn,ne);function Hn(y,S){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},S)}function Gi(){this.g=!0}Gi.prototype.xa=function(){this.g=!1};function Qd(y,S,M,z,J,ue){y.info(function(){if(y.g)if(ue)for(var Se="",xt=ue.split("&"),Xn=0;Xn<xt.length;Xn++){var bt=xt[Xn].split("=");if(1<bt.length){var fr=bt[0];bt=bt[1];var Qn=fr.split("_");Se=2<=Qn.length&&Qn[1]=="type"?Se+(fr+"="+bt+"&"):Se+(fr+"=redacted&")}}else Se=null;else Se=ue;return"XMLHTTP REQ ("+z+") [attempt "+J+"]: "+S+`
`+M+`
`+Se})}function Uw(y,S,M,z,J,ue,Se){y.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+J+"]: "+S+`
`+M+`
`+ue+" "+Se})}function Go(y,S,M,z){y.info(function(){return"XMLHTTP TEXT ("+S+"): "+xc(y,M)+(z?" "+z:"")})}function R0(y,S){y.info(function(){return"TIMEOUT: "+S})}Gi.prototype.info=function(){};function xc(y,S){if(!y.g)return S;if(!S)return null;try{var M=JSON.parse(S);if(M){for(y=0;y<M.length;y++)if(Array.isArray(M[y])){var z=M[y];if(!(2>z.length)){var J=z[1];if(Array.isArray(J)&&!(1>J.length)){var ue=J[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var Se=1;Se<J.length;Se++)J[Se]=""}}}}return hi(M)}catch{return S}}var qo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ga={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ks;function Xs(){}w(Xs,$d),Xs.prototype.g=function(){return new XMLHttpRequest},Xs.prototype.i=function(){return{}},Ks=new Xs;function Qr(y,S,M,z){this.j=y,this.i=S,this.l=M,this.R=z||1,this.U=new Er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new On}function On(){this.i=null,this.g="",this.h=!1}var Zd={},gf={};function Cs(y,S,M){y.L=1,y.v=Tc(Ci(S)),y.m=M,y.P=!0,qa(y,null)}function qa(y,S){y.F=Date.now(),bc(y),y.A=Ci(y.v);var M=y.A,z=y.R;Array.isArray(z)||(z=[String(z)]),ip(M.i,"t",z),y.C=0,M=y.j.J,y.h=new On,y.g=$0(y.j,M?S:null,!y.m),0<y.O&&(y.M=new br(g(y.Y,y,y.g),y.O)),S=y.U,M=y.g,z=y.ca;var J="readystatechange";Array.isArray(J)||(J&&(ui[0]=J.toString()),J=ui);for(var ue=0;ue<J.length;ue++){var Se=Ne(M,J[ue],z||S.handleEvent,!1,S.h||S);if(!Se)break;S.g[Se.key]=Se}S=y.H?C(y.H):{},y.m?(y.u||(y.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,S)):(y.u="GET",y.g.ea(y.A,y.u,null,S)),$o(),Qd(y.i,y.u,y.A,y.l,y.R,y.m)}Qr.prototype.ca=function(y){y=y.target;const S=this.M;S&&Qi(y)==3?S.j():this.Y(y)},Qr.prototype.Y=function(y){try{if(y==this.g)e:{const Qn=Qi(this.g);var S=this.g.Ba();const no=this.g.Z();if(!(3>Qn)&&(Qn!=3||this.g&&(this.h.h||this.g.oa()||B0(this.g)))){this.J||Qn!=4||S==7||(S==8||0>=no?$o(3):$o(2)),Ko(this);var M=this.g.Z();this.X=M;t:if(O0(this)){var z=B0(this.g);y="";var J=z.length,ue=Qi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),Qs(this);var Se="";break t}this.h.i=new o.TextDecoder}for(S=0;S<J;S++)this.h.h=!0,y+=this.h.i.decode(z[S],{stream:!(ue&&S==J-1)});z.length=0,this.h.g+=y,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=M==200,Uw(this.i,this.u,this.A,this.l,this.R,Qn,M),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,Xn=this.g;if((xt=Xn.g?Xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(xt)){var bt=xt;break t}}bt=null}if(M=bt)Go(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ec(this,M);else{this.o=!1,this.s=3,pn(12),Ar(this),Qs(this);break e}}if(this.P){M=!0;let Sr;for(;!this.J&&this.C<Se.length;)if(Sr=N0(this,Se),Sr==gf){Qn==4&&(this.s=4,pn(14),M=!1),Go(this.i,this.l,null,"[Incomplete Response]");break}else if(Sr==Zd){this.s=4,pn(15),Go(this.i,this.l,Se,"[Invalid Chunk]"),M=!1;break}else Go(this.i,this.l,Sr,null),Ec(this,Sr);if(O0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qn!=4||Se.length!=0||this.h.h||(this.s=1,pn(16),M=!1),this.o=this.o&&M,!M)Go(this.i,this.l,Se,"[Invalid Chunked Response]"),Ar(this),Qs(this);else if(0<Se.length&&!this.W){this.W=!0;var fr=this.j;fr.g==this&&fr.ba&&!fr.M&&(fr.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),Pc(fr),fr.M=!0,pn(11))}}else Go(this.i,this.l,Se,null),Ec(this,Se);Qn==4&&Ar(this),this.o&&!this.J&&(Qn==4?z0(this.j,this):(this.o=!1,bc(this)))}else Yw(this.g),M==400&&0<Se.indexOf("Unknown SID")?(this.s=3,pn(12)):(this.s=0,pn(13)),Ar(this),Qs(this)}}}catch{}finally{}};function O0(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function N0(y,S){var M=y.C,z=S.indexOf(`
`,M);return z==-1?gf:(M=Number(S.substring(M,z)),isNaN(M)?Zd:(z+=1,z+M>S.length?gf:(S=S.slice(z,z+M),y.C=z+M,S)))}Qr.prototype.cancel=function(){this.J=!0,Ar(this)};function bc(y){y.S=Date.now()+y.I,M0(y,y.I)}function M0(y,S){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Hn(g(y.ba,y),S)}function Ko(y){y.B&&(o.clearTimeout(y.B),y.B=null)}Qr.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(R0(this.i,this.A),this.L!=2&&($o(),pn(17)),Ar(this),this.s=2,Qs(this)):M0(this,this.S-y)};function Qs(y){y.j.G==0||y.J||z0(y.j,y)}function Ar(y){Ko(y);var S=y.M;S&&typeof S.ma=="function"&&S.ma(),y.M=null,fi(y.U),y.g&&(S=y.g,y.g=null,S.abort(),S.ma())}function Ec(y,S){try{var M=y.j;if(M.G!=0&&(M.g==y||Jd(M.h,y))){if(!y.K&&Jd(M.h,y)&&M.G==3){try{var z=M.Da.g.parse(S)}catch{z=null}if(Array.isArray(z)&&z.length==3){var J=z;if(J[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<y.F)Cf(M),Sf(M);else break e;cp(M),pn(18)}}else M.za=J[1],0<M.za-M.T&&37500>J[2]&&M.F&&M.v==0&&!M.C&&(M.C=Hn(g(M.Za,M),6e3));if(1>=vf(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else to(M,11)}else if((y.K||M.g==y)&&Cf(M),!T(S))for(J=M.Da.g.parse(S),S=0;S<J.length;S++){let bt=J[S];if(M.T=bt[0],bt=bt[1],M.G==2)if(bt[0]=="c"){M.K=bt[1],M.ia=bt[2];const fr=bt[3];fr!=null&&(M.la=fr,M.j.info("VER="+M.la));const Qn=bt[4];Qn!=null&&(M.Aa=Qn,M.j.info("SVER="+M.Aa));const no=bt[5];no!=null&&typeof no=="number"&&0<no&&(z=1.5*no,M.L=z,M.j.info("backChannelRequestTimeoutMs_="+z)),z=M;const Sr=y.g;if(Sr){const ia=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var ue=z.h;ue.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(yf(ue,ue.h),ue.h=null))}if(z.D){const fp=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;fp&&(z.ya=fp,Zt(z.I,z.D,fp))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-y.F,M.j.info("Handshake RTT: "+M.R+"ms")),z=M;var Se=y;if(z.qa=Y0(z,z.J?z.ia:null,z.W),Se.K){Zr(z.h,Se);var xt=Se,Xn=z.L;Xn&&(xt.I=Xn),xt.B&&(Ko(xt),bc(xt)),z.g=Se}else j0(z);0<M.i.length&&Tf(M)}else bt[0]!="stop"&&bt[0]!="close"||to(M,7);else M.G==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?to(M,7):op(M):bt[0]!="noop"&&M.l&&M.l.ta(bt),M.v=0)}}$o(4)}catch{}}var P0=class{constructor(y,S){this.g=y,this.map=S}};function Ka(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mf(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function vf(y){return y.h?1:y.g?y.g.size:0}function Jd(y,S){return y.h?y.h==S:y.g?y.g.has(S):!1}function yf(y,S){y.g?y.g.add(S):y.h=S}function Zr(y,S){y.h&&y.h==S?y.h=null:y.g&&y.g.has(S)&&y.g.delete(S)}Ka.prototype.cancel=function(){if(this.i=ep(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function ep(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let S=y.i;for(const M of y.g.values())S=S.concat(M.D);return S}return x(y.i)}function jw(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(l(y)){for(var S=[],M=y.length,z=0;z<M;z++)S.push(y[z]);return S}S=[],M=0;for(z in y)S[M++]=y[z];return S}function _f(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(l(y)||typeof y=="string"){var S=[];y=y.length;for(var M=0;M<y;M++)S.push(M);return S}S=[],M=0;for(const z in y)S[M++]=z;return S}}}function tp(y,S){if(y.forEach&&typeof y.forEach=="function")y.forEach(S,void 0);else if(l(y)||typeof y=="string")Array.prototype.forEach.call(y,S,void 0);else for(var M=_f(y),z=jw(y),J=z.length,ue=0;ue<J;ue++)S.call(void 0,z[ue],M&&M[ue],y)}var Ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hw(y,S){if(y){y=y.split("&");for(var M=0;M<y.length;M++){var z=y[M].indexOf("="),J=null;if(0<=z){var ue=y[M].substring(0,z);J=y[M].substring(z+1)}else ue=y[M];S(ue,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function zn(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof zn){this.h=y.h,Sc(this,y.j),this.o=y.o,this.g=y.g,Xo(this,y.s),this.l=y.l;var S=y.i,M=new Qa;M.i=S.i,S.g&&(M.g=new Map(S.g),M.h=S.h),Xa(this,M),this.m=y.m}else y&&(S=String(y).match(Ac))?(this.h=!1,Sc(this,S[1]||"",!0),this.o=qi(S[2]||""),this.g=qi(S[3]||"",!0),Xo(this,S[4]),this.l=qi(S[5]||"",!0),Xa(this,S[6]||"",!0),this.m=qi(S[7]||"")):(this.h=!1,this.i=new Qa(null,this.h))}zn.prototype.toString=function(){var y=[],S=this.j;S&&y.push(Cc(S,np,!0),":");var M=this.g;return(M||S=="file")&&(y.push("//"),(S=this.o)&&y.push(Cc(S,np,!0),"@"),y.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&y.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&y.push("/"),y.push(Cc(M,M.charAt(0)=="/"?zw:rp,!0))),(M=this.i.toString())&&y.push("?",M),(M=this.m)&&y.push("#",Cc(M,wf)),y.join("")};function Ci(y){return new zn(y)}function Sc(y,S,M){y.j=M?qi(S,!0):S,y.j&&(y.j=y.j.replace(/:$/,""))}function Xo(y,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);y.s=S}else y.s=null}function Xa(y,S,M){S instanceof Qa?(y.i=S,L0(y.i,y.h)):(M||(S=Cc(S,Ww)),y.i=new Qa(S,y.h))}function Zt(y,S,M){y.i.set(S,M)}function Tc(y){return Zt(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function qi(y,S){return y?S?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Cc(y,S,M){return typeof y=="string"?(y=encodeURI(y).replace(S,k0),M&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function k0(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var np=/[#\/\?@]/g,rp=/[#\?:]/g,zw=/[#\?]/g,Ww=/[#\?@]/g,wf=/#/g;function Qa(y,S){this.h=this.g=null,this.i=y||null,this.j=!!S}function Ki(y){y.g||(y.g=new Map,y.h=0,y.i&&Hw(y.i,function(S,M){y.add(decodeURIComponent(S.replace(/\+/g," ")),M)}))}n=Qa.prototype,n.add=function(y,S){Ki(this),this.i=null,y=Zs(this,y);var M=this.g.get(y);return M||this.g.set(y,M=[]),M.push(S),this.h+=1,this};function Za(y,S){Ki(y),S=Zs(y,S),y.g.has(S)&&(y.i=null,y.h-=y.g.get(S).length,y.g.delete(S))}function Ja(y,S){return Ki(y),S=Zs(y,S),y.g.has(S)}n.forEach=function(y,S){Ki(this),this.g.forEach(function(M,z){M.forEach(function(J){y.call(S,J,z,this)},this)},this)},n.na=function(){Ki(this);const y=Array.from(this.g.values()),S=Array.from(this.g.keys()),M=[];for(let z=0;z<S.length;z++){const J=y[z];for(let ue=0;ue<J.length;ue++)M.push(S[z])}return M},n.V=function(y){Ki(this);let S=[];if(typeof y=="string")Ja(this,y)&&(S=S.concat(this.g.get(Zs(this,y))));else{y=Array.from(this.g.values());for(let M=0;M<y.length;M++)S=S.concat(y[M])}return S},n.set=function(y,S){return Ki(this),this.i=null,y=Zs(this,y),Ja(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[S]),this.h+=1,this},n.get=function(y,S){return y?(y=this.V(y),0<y.length?String(y[0]):S):S};function ip(y,S,M){Za(y,S),0<M.length&&(y.i=null,y.g.set(Zs(y,S),x(M)),y.h+=M.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],S=Array.from(this.g.keys());for(var M=0;M<S.length;M++){var z=S[M];const ue=encodeURIComponent(String(z)),Se=this.V(z);for(z=0;z<Se.length;z++){var J=ue;Se[z]!==""&&(J+="="+encodeURIComponent(String(Se[z]))),y.push(J)}}return this.i=y.join("&")};function Zs(y,S){return S=String(S),y.j&&(S=S.toLowerCase()),S}function L0(y,S){S&&!y.j&&(Ki(y),y.i=null,y.g.forEach(function(M,z){var J=z.toLowerCase();z!=J&&(Za(this,z),ip(this,J,M))},y)),y.j=S}function Ic(y,S){const M=new Gi;if(o.Image){const z=new Image;z.onload=v(Xi,M,"TestLoadImage: loaded",!0,S,z),z.onerror=v(Xi,M,"TestLoadImage: error",!1,S,z),z.onabort=v(Xi,M,"TestLoadImage: abort",!1,S,z),z.ontimeout=v(Xi,M,"TestLoadImage: timeout",!1,S,z),o.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=y}else S(!1)}function Is(y,S){const M=new Gi,z=new AbortController,J=setTimeout(()=>{z.abort(),Xi(M,"TestPingServer: timeout",!1,S)},1e4);fetch(y,{signal:z.signal}).then(ue=>{clearTimeout(J),ue.ok?Xi(M,"TestPingServer: ok",!0,S):Xi(M,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(J),Xi(M,"TestPingServer: error",!1,S)})}function Xi(y,S,M,z,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),z(M)}catch{}}function Dc(){this.g=new Gs}function Js(y,S,M){const z=M||"";try{tp(y,function(J,ue){let Se=J;u(J)&&(Se=hi(J)),S.push(z+ue+"="+encodeURIComponent(Se))})}catch(J){throw S.push(z+"type="+encodeURIComponent("_badmap")),J}}function Qo(y){this.l=y.Ub||null,this.j=y.eb||!1}w(Qo,$d),Qo.prototype.g=function(){return new eo(this.l,this.j)},Qo.prototype.i=function(y){return function(){return y}}({});function eo(y,S){pt.call(this),this.D=y,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(eo,pt),n=eo.prototype,n.open=function(y,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=S,this.readyState=1,ta(this)},n.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(S.body=y),(this.D||o).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},n.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ta(this)),this.g&&(this.readyState=3,ta(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sp(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function sp(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}n.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var S=y.value?y.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!y.done}))&&(this.response=this.responseText+=S)}y.done?ea(this):ta(this),this.readyState==3&&sp(this)}},n.Ra=function(y){this.g&&(this.response=this.responseText=y,ea(this))},n.Qa=function(y){this.g&&(this.response=y,ea(this))},n.ga=function(){this.g&&ea(this)};function ea(y){y.readyState=4,y.l=null,y.j=null,y.v=null,ta(y)}n.setRequestHeader=function(y,S){this.u.append(y,S)},n.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],S=this.h.entries();for(var M=S.next();!M.done;)M=M.value,y.push(M[0]+": "+M[1]),M=S.next();return y.join(`\r
`)};function ta(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(eo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function ap(y){let S="";return V(y,function(M,z){S+=z,S+=":",S+=M,S+=`\r
`}),S}function ur(y,S,M){e:{for(z in M){var z=!1;break e}z=!0}z||(M=ap(M),typeof y=="string"?M!=null&&encodeURIComponent(String(M)):Zt(y,S,M))}function Bt(y){pt.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Bt,pt);var xf=/^https?$/i,Rc=["POST","PUT"];n=Bt.prototype,n.Ha=function(y){this.J=y},n.ea=function(y,S,M,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);S=S?S.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ks.g(),this.v=this.o?Gd(this.o):Gd(Ks),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(S,String(y),!0),this.B=!1}catch(ue){V0(this,ue);return}if(y=M||"",M=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var J in z)M.set(J,z[J]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ue of z.keys())M.set(ue,z.get(ue));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(M.keys()).find(ue=>ue.toLowerCase()=="content-type"),J=o.FormData&&y instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Rc,S,void 0))||z||J||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Se]of M)this.g.setRequestHeader(ue,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oc(this),this.u=!0,this.g.send(y),this.u=!1}catch(ue){V0(this,ue)}};function V0(y,S){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=S,y.m=5,bf(y),na(y)}function bf(y){y.A||(y.A=!0,at(y,"complete"),at(y,"error"))}n.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,at(this,"complete"),at(this,"abort"),na(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),na(this,!0)),Bt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ef(this):this.bb())},n.bb=function(){Ef(this)};function Ef(y){if(y.h&&typeof a<"u"&&(!y.v[1]||Qi(y)!=4||y.Z()!=2)){if(y.u&&Qi(y)==4)jn(y.Ea,0,y);else if(at(y,"readystatechange"),Qi(y)==4){y.h=!1;try{const Se=y.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var M;if(!(M=S)){var z;if(z=Se===0){var J=String(y.D).match(Ac)[1]||null;!J&&o.self&&o.self.location&&(J=o.self.location.protocol.slice(0,-1)),z=!xf.test(J?J.toLowerCase():"")}M=z}if(M)at(y,"complete"),at(y,"success");else{y.m=6;try{var ue=2<Qi(y)?y.g.statusText:""}catch{ue=""}y.l=ue+" ["+y.Z()+"]",bf(y)}}finally{na(y)}}}}function na(y,S){if(y.g){Oc(y);const M=y.g,z=y.v[0]?()=>{}:null;y.g=null,y.v=null,S||at(y,"ready");try{M.onreadystatechange=z}catch{}}}function Oc(y){y.I&&(o.clearTimeout(y.I),y.I=null)}n.isActive=function(){return!!this.g};function Qi(y){return y.g?y.g.readyState:0}n.Z=function(){try{return 2<Qi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(y){if(this.g){var S=this.g.responseText;return y&&S.indexOf(y)==0&&(S=S.substring(y.length)),Wa(S)}};function B0(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Yw(y){const S={};y=(y.g&&2<=Qi(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<y.length;z++){if(T(y[z]))continue;var M=F(y[z]);const J=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ue=S[J]||[];S[J]=ue,ue.push(M)}R(S,function(z){return z.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nc(y,S,M){return M&&M.internalChannelParams&&M.internalChannelParams[y]||S}function Af(y){this.Aa=0,this.i=[],this.j=new Gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nc("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nc("baseRetryDelayMs",5e3,y),this.cb=Nc("retryDelaySeedMs",1e4,y),this.Wa=Nc("forwardChannelMaxRetries",2,y),this.wa=Nc("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new Ka(y&&y.concurrentRequestLimit),this.Da=new Dc,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Af.prototype,n.la=8,n.G=1,n.connect=function(y,S,M,z){pn(0),this.W=y,this.H=S||{},M&&z!==void 0&&(this.H.OSID=M,this.H.OAID=z),this.F=this.X,this.I=Y0(this,null,this.W),Tf(this)};function op(y){if(F0(y),y.G==3){var S=y.U++,M=Ci(y.I);if(Zt(M,"SID",y.K),Zt(M,"RID",S),Zt(M,"TYPE","terminate"),Mc(y,M),S=new Qr(y,y.j,S),S.L=2,S.v=Tc(Ci(M)),M=!1,o.navigator&&o.navigator.sendBeacon)try{M=o.navigator.sendBeacon(S.v.toString(),"")}catch{}!M&&o.Image&&(new Image().src=S.v,M=!0),M||(S.g=$0(S.j,null),S.g.ea(S.v)),S.F=Date.now(),bc(S)}W0(y)}function Sf(y){y.g&&(Pc(y),y.g.cancel(),y.g=null)}function F0(y){Sf(y),y.u&&(o.clearTimeout(y.u),y.u=null),Cf(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&o.clearTimeout(y.s),y.s=null)}function Tf(y){if(!mf(y.h)&&!y.s){y.s=!0;var S=y.Ga;X||U(),oe||(X(),oe=!0),Q.add(S,y),y.B=0}}function $w(y,S){return vf(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=S.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Hn(g(y.Ga,y,S),up(y,y.B)),y.B++,!0)}n.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const J=new Qr(this,this.j,y);let ue=this.o;if(this.S&&(ue?(ue=C(ue),L(ue,this.S)):ue=this.S),this.m!==null||this.O||(J.H=ue,ue=null),this.P)e:{for(var S=0,M=0;M<this.i.length;M++){t:{var z=this.i[M];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(S+=z,4096<S){S=M;break e}if(S===4096||M===this.i.length-1){S=M+1;break e}}S=1e3}else S=1e3;S=U0(this,J,S),M=Ci(this.I),Zt(M,"RID",y),Zt(M,"CVER",22),this.D&&Zt(M,"X-HTTP-Session-Id",this.D),Mc(this,M),ue&&(this.O?S="headers="+encodeURIComponent(String(ap(ue)))+"&"+S:this.m&&ur(M,this.m,ue)),yf(this.h,J),this.Ua&&Zt(M,"TYPE","init"),this.P?(Zt(M,"$req",S),Zt(M,"SID","null"),J.T=!0,Cs(J,M,null)):Cs(J,M,S),this.G=2}}else this.G==3&&(y?lp(this,y):this.i.length==0||mf(this.h)||lp(this))};function lp(y,S){var M;S?M=S.l:M=y.U++;const z=Ci(y.I);Zt(z,"SID",y.K),Zt(z,"RID",M),Zt(z,"AID",y.T),Mc(y,z),y.m&&y.o&&ur(z,y.m,y.o),M=new Qr(y,y.j,M,y.B+1),y.m===null&&(M.H=y.o),S&&(y.i=S.D.concat(y.i)),S=U0(y,M,1e3),M.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),yf(y.h,M),Cs(M,z,S)}function Mc(y,S){y.H&&V(y.H,function(M,z){Zt(S,z,M)}),y.l&&tp({},function(M,z){Zt(S,z,M)})}function U0(y,S,M){M=Math.min(y.i.length,M);var z=y.l?g(y.l.Na,y.l,y):null;e:{var J=y.i;let ue=-1;for(;;){const Se=["count="+M];ue==-1?0<M?(ue=J[0].g,Se.push("ofs="+ue)):ue=0:Se.push("ofs="+ue);let xt=!0;for(let Xn=0;Xn<M;Xn++){let bt=J[Xn].g;const fr=J[Xn].map;if(bt-=ue,0>bt)ue=Math.max(0,J[Xn].g-100),xt=!1;else try{Js(fr,Se,"req"+bt+"_")}catch{z&&z(fr)}}if(xt){z=Se.join("&");break e}}}return y=y.i.splice(0,M),S.D=y,z}function j0(y){if(!y.g&&!y.u){y.Y=1;var S=y.Fa;X||U(),oe||(X(),oe=!0),Q.add(S,y),y.v=0}}function cp(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Hn(g(y.Fa,y),up(y,y.v)),y.v++,!0)}n.Fa=function(){if(this.u=null,H0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Hn(g(this.ab,this),y)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pn(10),Sf(this),H0(this))};function Pc(y){y.A!=null&&(o.clearTimeout(y.A),y.A=null)}function H0(y){y.g=new Qr(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var S=Ci(y.qa);Zt(S,"RID","rpc"),Zt(S,"SID",y.K),Zt(S,"AID",y.T),Zt(S,"CI",y.F?"0":"1"),!y.F&&y.ja&&Zt(S,"TO",y.ja),Zt(S,"TYPE","xmlhttp"),Mc(y,S),y.m&&y.o&&ur(S,y.m,y.o),y.L&&(y.g.I=y.L);var M=y.g;y=y.ia,M.L=1,M.v=Tc(Ci(S)),M.m=null,M.P=!0,qa(M,y)}n.Za=function(){this.C!=null&&(this.C=null,Sf(this),cp(this),pn(19))};function Cf(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function z0(y,S){var M=null;if(y.g==S){Cf(y),Pc(y),y.g=null;var z=2}else if(Jd(y.h,S))M=S.D,Zr(y.h,S),z=1;else return;if(y.G!=0){if(S.o)if(z==1){M=S.m?S.m.length:0,S=Date.now()-S.F;var J=y.B;z=Yo(),at(z,new Kn(z,M)),Tf(y)}else j0(y);else if(J=S.s,J==3||J==0&&0<S.X||!(z==1&&$w(y,S)||z==2&&cp(y)))switch(M&&0<M.length&&(S=y.h,S.i=S.i.concat(M)),J){case 1:to(y,5);break;case 4:to(y,10);break;case 3:to(y,6);break;default:to(y,2)}}}function up(y,S){let M=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(M*=2),M*S}function to(y,S){if(y.j.info("Error code "+S),S==2){var M=g(y.fb,y),z=y.Xa;const J=!z;z=new zn(z||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Sc(z,"https"),Tc(z),J?Ic(z.toString(),M):Is(z.toString(),M)}else pn(2);y.G=0,y.l&&y.l.sa(S),W0(y),F0(y)}n.fb=function(y){y?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))};function W0(y){if(y.G=0,y.ka=[],y.l){const S=ep(y.h);(S.length!=0||y.i.length!=0)&&(E(y.ka,S),E(y.ka,y.i),y.h.i.length=0,x(y.i),y.i.length=0),y.l.ra()}}function Y0(y,S,M){var z=M instanceof zn?Ci(M):new zn(M);if(z.g!="")S&&(z.g=S+"."+z.g),Xo(z,z.s);else{var J=o.location;z=J.protocol,S=S?S+"."+J.hostname:J.hostname,J=+J.port;var ue=new zn(null);z&&Sc(ue,z),S&&(ue.g=S),J&&Xo(ue,J),M&&(ue.l=M),z=ue}return M=y.D,S=y.ya,M&&S&&Zt(z,M,S),Zt(z,"VER",y.la),Mc(y,z),z}function $0(y,S,M){if(S&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=y.Ca&&!y.pa?new Bt(new Qo({eb:M})):new Bt(y.pa),S.Ha(y.J),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function G0(){}n=G0.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function If(){}If.prototype.g=function(y,S){return new Jr(y,S)};function Jr(y,S){pt.call(this),this.g=new Af(S),this.l=y,this.h=S&&S.messageUrlParams||null,y=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(y?y["X-WebChannel-Content-Type"]=S.messageContentType:y={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(y?y["X-WebChannel-Client-Profile"]=S.va:y={"X-WebChannel-Client-Profile":S.va}),this.g.S=y,(y=S&&S.Sb)&&!T(y)&&(this.g.m=y),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!T(S)&&(this.g.D=S,y=this.h,y!==null&&S in y&&(y=this.h,S in y&&delete y[S])),this.j=new ra(this)}w(Jr,pt),Jr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jr.prototype.close=function(){op(this.g)},Jr.prototype.o=function(y){var S=this.g;if(typeof y=="string"){var M={};M.__data__=y,y=M}else this.u&&(M={},M.__data__=hi(y),y=M);S.i.push(new P0(S.Ya++,y)),S.G==3&&Tf(S)},Jr.prototype.N=function(){this.g.l=null,delete this.j,op(this.g),delete this.g,Jr.aa.N.call(this)};function q0(y){$a.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var S=y.__sm__;if(S){e:{for(const M in S){y=M;break e}y=void 0}(this.i=y)&&(y=this.i,S=S!==null&&y in S?S[y]:void 0),this.data=S}else this.data=y}w(q0,$a);function K0(){Kd.call(this),this.status=1}w(K0,Kd);function ra(y){this.g=y}w(ra,G0),ra.prototype.ua=function(){at(this.g,"a")},ra.prototype.ta=function(y){at(this.g,new q0(y))},ra.prototype.sa=function(y){at(this.g,new K0)},ra.prototype.ra=function(){at(this.g,"b")},If.prototype.createWebChannel=If.prototype.g,Jr.prototype.send=Jr.prototype.o,Jr.prototype.open=Jr.prototype.m,Jr.prototype.close=Jr.prototype.close,C7=function(){return new If},T7=function(){return Yo()},S7=qs,DA={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qo.NO_ERROR=0,qo.TIMEOUT=8,qo.HTTP_ERROR=6,ry=qo,Ga.COMPLETE="complete",A7=Ga,qd.EventType=Ya,Ya.OPEN="a",Ya.CLOSE="b",Ya.ERROR="c",Ya.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Ig=qd,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,E7=Bt}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});const OP="@firebase/firestore",NP="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new H_("@firebase/firestore");function mh(){return $u.logLevel}function be(n,...e){if($u.logLevel<=yt.DEBUG){const t=e.map(XT);$u.debug(`Firestore (${Pd}): ${n}`,...t)}}function kn(n,...e){if($u.logLevel<=yt.ERROR){const t=e.map(XT);$u.error(`Firestore (${Pd}): ${n}`,...t)}}function Im(n,...e){if($u.logLevel<=yt.WARN){const t=e.map(XT);$u.warn(`Firestore (${Pd}): ${n}`,...t)}}function XT(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,I7(n,r,t)}function I7(n,e,t){let r=`FIRESTORE (${Pd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw kn(r),new Error(r)}function je(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||I7(e,i,r)}function Fe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Ys{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jr.UNAUTHENTICATED))}shutdown(){}}class Ere{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new Oa;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Oa,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Oa)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string",31837,{l:r}),new xre(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new jr(e)}}class Are{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=jr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Sre{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Are(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tre{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){je(this.o===void 0,3512);const r=s=>{s.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,be("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new MP(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new MP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cre(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Cre(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function tt(n,e){return n<e?-1:n>e?1:0}function RA(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),s=e.charAt(r);if(i!==s)return IE(i)===IE(s)?tt(i,s):IE(i)?1:-1}return tt(n.length,e.length)}const Ire=55296,Dre=57343;function IE(n){const e=n.charCodeAt(0);return e>=Ire&&e<=Dre}function Kh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function D7(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="__name__";class da{constructor(e,t,r){t===void 0?t=0:t>e.length&&Me(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Me(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return da.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof da?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=da.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return tt(e.length,t.length)}static compareSegments(e,t){const r=da.isNumericId(e),i=da.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?da.extractNumericId(e).compare(da.extractNumericId(t)):RA(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wl.fromString(e.substring(4,e.length-2))}}class Ut extends da{construct(e,t,r){return new Ut(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ut(t)}static emptyPath(){return new Ut([])}}const Rre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends da{construct(e,t,r){return new bn(e,t,r)}static isValidIdentifier(e){return Rre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PP}static keyField(){return new bn([PP])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ce(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Ce(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ce(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new Ce(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Ut.fromString(e))}static fromName(e){return new Ie(Ut.fromString(e).popFirst(5))}static empty(){return new Ie(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(n,e,t){if(!t)throw new Ce(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Ore(n,e,t,r){if(e===!0&&r===!0)throw new Ce(ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kP(n){if(!Ie.isDocumentKey(n))throw new Ce(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function LP(n){if(Ie.isDocumentKey(n))throw new Ce(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function O7(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ZT(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Me(12329,{type:typeof n})}function Ui(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ZT(n);throw new Ce(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(n,e){const t={typeString:n};return e&&(t.value=e),t}function s0(n,e){if(!O7(n))throw new Ce(ve.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const a=n[r];if(i&&typeof a!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new Ce(ve.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=-62135596800,BP=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*BP);return new Kt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<VP)throw new Ce(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BP}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(s0(e,Kt._jsonSchema))return new Kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kt._jsonSchemaVersion="firestore/timestamp/1.0",Kt._jsonSchema={type:qn("string",Kt._jsonSchemaVersion),seconds:qn("number"),nanoseconds:qn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Kt(0,0))}static max(){return new ze(new Kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=-1;class Xy{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function OA(n){return n.fields.find(e=>e.kind===2)}function ou(n){return n.fields.filter(e=>e.kind!==2)}Xy.UNKNOWN_ID=-1;class iy{constructor(e,t){this.fieldPath=e,this.kind=t}}class Dm{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Dm(0,zi.min())}}function N7(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ze.fromTimestamp(r===1e9?new Kt(t+1,0):new Kt(t,r));return new zi(i,Ie.empty(),e)}function M7(n){return new zi(n.readTime,n.key,Xh)}class zi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new zi(ze.min(),Ie.empty(),Xh)}static max(){return new zi(ze.max(),Ie.empty(),Xh)}}function JT(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:tt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==P7)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&t()},l=>r(l))}),a=!0,s===i&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(i=>i?ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;t(e[u]).next(h=>{a[u]=h,++o,o===s&&r(a)},h=>i(h))}})}static doWhile(e,t){return new ee((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="SimpleDb";class q_{static open(e,t,r,i){try{return new q_(t,e.transaction(i,r))}catch(s){throw new Jg(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Oa,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Jg(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=eC(r.target.error);this.S.reject(new Jg(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(be(Li,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Mre(t)}}class Yl{static delete(e){return be(Li,"Removing database:",e),hu(t9().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!NT())return!1;if(Yl.F())return!0;const e=or(),t=Yl.M(e),r=0<t&&t<10,i=L7(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Yl.M(or())===12.2&&kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(be(Li,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;t(a)},i.onblocked=()=>{r(new Jg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new Ce(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Ce(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Jg(e,a))},i.onupgradeneeded=s=>{be(Li,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next(()=>{be(Li,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const o=q_.open(this.db,e,s?"readonly":"readwrite",r),l=i(o).next(u=>(o.C(),u)).catch(u=>(o.abort(u),ee.reject(u))).toPromise();return l.catch(()=>{}),await o.D,l}catch(o){const l=o,u=l.name!=="FirebaseError"&&a<3;if(be(Li,"Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function L7(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class Nre{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return hu(this.U.delete())}}class Jg extends Ce{constructor(e,t){super(ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function gc(n){return n.name==="IndexedDbTransactionError"}class Mre{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(be(Li,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(be(Li,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),hu(r)}add(e){return be(Li,"ADD",this.store.name,e,e),hu(this.store.add(e))}get(e){return hu(this.store.get(e)).next(t=>(t===void 0&&(t=null),be(Li,"GET",this.store.name,e,t),t))}delete(e){return be(Li,"DELETE",this.store.name,e),hu(this.store.delete(e))}count(){return be(Li,"COUNT",this.store.name),hu(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new ee((a,o)=>{s.onerror=l=>{o(l.target.error)},s.onsuccess=l=>{a(l.target.result)}})}{const s=this.cursor(r),a=[];return this.H(s,(o,l)=>{a.push(l)}).next(()=>a)}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new ee((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}Z(e,t){be(Li,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(s,a,o)=>o.delete())}ee(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}te(e){const t=this.cursor({});return new ee((r,i)=>{t.onerror=s=>{const a=eC(s.target.error);i(a)},t.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(o=>{o?a.continue():r()}):r()}})}H(e,t){const r=[];return new ee((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const l=new Nre(o),u=t(o.primaryKey,o.value,l);if(u instanceof ee){const h=u.catch(p=>(l.done(),ee.reject(p)));r.push(h)}l.isDone?i():l.G===null?o.continue():o.continue(l.G)}}).next(()=>ee.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function hu(n){return new ee((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=eC(r.target.error);t(i)}})}let FP=!1;function eC(n){const e=Yl.M(or());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return FP||(FP=!0,setTimeout(()=>{throw r},0)),r}}return n}const em="IndexBackfiller";class Pre{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){be(em,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ne.ie();be(em,`Documents written: ${t}`)}catch(t){gc(t)?be(em,"Ignoring IndexedDB error during index backfill: ",t):await pc(t)}await this.re(6e4)})}}class kre{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){const r=new Set;let i=t,s=!0;return ee.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return be(em,`Processing collection: ${a}`),this.oe(e,a,i).next(o=>{i-=o,r.add(a)});s=!1})).next(()=>t-i)}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this._e(i,s)).next(o=>(be(em,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,t,o))).next(()=>a.size)}))}_e(e,t){let r=e;return t.changes.forEach((i,s)=>{const a=M7(s);JT(a,r)>0&&(r=a)}),new zi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ei.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=-1;function K_(n){return n==null}function Rm(n){return n===0&&1/n==-1/0}function V7(n){return typeof n=="number"&&Number.isInteger(n)&&!Rm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="";function qr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=UP(e)),e=Lre(n.get(t),e);return UP(e)}function Lre(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case Qy:t+="";break;default:t+=s}}return t}function UP(n){return n+Qy+""}function wa(n){const e=n.length;if(je(e>=2,64408,{path:n}),e===2)return je(n.charAt(0)===Qy&&n.charAt(1)==="",56145,{path:n}),Ut.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const a=n.indexOf(Qy,s);switch((a<0||a>t)&&Me(50515,{path:n}),n.charAt(a+1)){case"":const o=n.substring(s,a);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=n.substring(s,a),i+="\0";break;case"":i+=n.substring(s,a+1);break;default:Me(61167,{path:n})}s=a+2}return new Ut(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu="remoteDocuments",a0="owner",sh="owner",Om="mutationQueues",Vre="userId",Ls="mutations",jP="batchId",wu="userMutationsIndex",HP=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(n,e){return[n,qr(e)]}function B7(n,e,t){return[n,qr(e),t]}const Bre={},Qh="documentMutations",Zy="remoteDocumentsV14",Fre=["prefixPath","collectionGroup","readTime","documentId"],ay="documentKeyIndex",Ure=["prefixPath","collectionGroup","documentId"],F7="collectionGroupIndex",jre=["collectionGroup","readTime","prefixPath","documentId"],Nm="remoteDocumentGlobal",NA="remoteDocumentGlobalKey",Zh="targets",U7="queryTargetsIndex",Hre=["canonicalId","targetId"],Jh="targetDocuments",zre=["targetId","path"],tC="documentTargetsIndex",Wre=["path","targetId"],Jy="targetGlobalKey",Ou="targetGlobal",Mm="collectionParents",Yre=["collectionId","parent"],ed="clientMetadata",$re="clientId",X_="bundles",Gre="bundleId",Q_="namedQueries",qre="name",nC="indexConfiguration",Kre="indexId",MA="collectionGroupIndex",Xre="collectionGroup",tm="indexState",Qre=["indexId","uid"],j7="sequenceNumberIndex",Zre=["uid","sequenceNumber"],nm="indexEntries",Jre=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],H7="documentKeyIndex",eie=["indexId","uid","orderedDocumentKey"],Z_="documentOverlays",tie=["userId","collectionPath","documentId"],PA="collectionPathOverlayIndex",nie=["userId","collectionPath","largestBatchId"],z7="collectionGroupOverlayIndex",rie=["userId","collectionGroup","largestBatchId"],rC="globals",iie="name",W7=[Om,Ls,Qh,lu,Zh,a0,Ou,Jh,ed,Nm,Mm,X_,Q_],sie=[...W7,Z_],Y7=[Om,Ls,Qh,Zy,Zh,a0,Ou,Jh,ed,Nm,Mm,X_,Q_,Z_],$7=Y7,iC=[...$7,nC,tm,nm],aie=iC,G7=[...iC,rC],oie=G7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA extends k7{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function lr(n,e){const t=Fe(n);return Yl.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function q7(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t){this.comparator=e,this.root=t||Nr.EMPTY}insert(e,t){return new un(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nr.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gv(this.root,e,this.comparator,!1)}getReverseIterator(){return new gv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gv(this.root,e,this.comparator,!0)}}class gv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Nr.RED,this.left=i??Nr.EMPTY,this.right=s??Nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Nr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Nr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Nr.EMPTY=null,Nr.RED=!0,Nr.BLACK=!1;Nr.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Nr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new WP(this.data.getIterator())}getIteratorFrom(e){return new WP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xt(this.comparator);return t.data=e,t}}class WP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ah(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Ai([])}unionWith(e){let t=new Xt(bn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Kh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new K7("Invalid base64 string: "+s):s}}(e);return new Un(t)}static fromUint8Array(e){const t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Un.EMPTY_BYTE_STRING=new Un("");const lie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(n){if(je(!!n,39018),typeof n=="string"){let e=0;const t=lie.exec(n);if(je(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mn(n.seconds),nanos:mn(n.nanos)}}function mn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vo(n){return typeof n=="string"?Un.fromBase64String(n):Un.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7="server_timestamp",Q7="__type__",Z7="__previous_value__",J7="__local_write_time__";function sC(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Q7])==null?void 0:r.stringValue)===X7}function J_(n){const e=n.mapValue.fields[Z7];return sC(e)?J_(e):e}function Pm(n){const e=Lo(n.mapValue.fields[J7].timestampValue);return new Kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cie{constructor(e,t,r,i,s,a,o,l,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const e_="(default)";class Gu{constructor(e,t){this.projectId=e,this.database=t||e_}static empty(){return new Gu("","")}get isDefaultDatabase(){return this.database===e_}isEqual(e){return e instanceof Gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="__type__",eV="__max__",Fl={mapValue:{fields:{__type__:{stringValue:eV}}}},oC="__vector__",td="value",oy={nullValue:"NULL_VALUE"};function tc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sC(n)?4:tV(n)?9007199254740991:ew(n)?10:11:Me(28295,{value:n})}function Fa(n,e){if(n===e)return!0;const t=tc(n);if(t!==tc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pm(n).isEqual(Pm(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Lo(i.timestampValue),o=Lo(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Vo(i.bytesValue).isEqual(Vo(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return mn(i.geoPointValue.latitude)===mn(s.geoPointValue.latitude)&&mn(i.geoPointValue.longitude)===mn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return mn(i.integerValue)===mn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=mn(i.doubleValue),o=mn(s.doubleValue);return a===o?Rm(a)===Rm(o):isNaN(a)&&isNaN(o)}return!1}(n,e);case 9:return Kh(n.arrayValue.values||[],e.arrayValue.values||[],Fa);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(zP(a)!==zP(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Fa(a[l],o[l])))return!1;return!0}(n,e);default:return Me(52216,{left:n})}}function km(n,e){return(n.values||[]).find(t=>Fa(t,e))!==void 0}function nc(n,e){if(n===e)return 0;const t=tc(n),r=tc(e);if(t!==r)return tt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return tt(n.booleanValue,e.booleanValue);case 2:return function(s,a){const o=mn(s.integerValue||s.doubleValue),l=mn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(n,e);case 3:return YP(n.timestampValue,e.timestampValue);case 4:return YP(Pm(n),Pm(e));case 5:return RA(n.stringValue,e.stringValue);case 6:return function(s,a){const o=Vo(s),l=Vo(a);return o.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const h=tt(o[u],l[u]);if(h!==0)return h}return tt(o.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const o=tt(mn(s.latitude),mn(a.latitude));return o!==0?o:tt(mn(s.longitude),mn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $P(n.arrayValue,e.arrayValue);case 10:return function(s,a){var g,v,w,x;const o=s.fields||{},l=a.fields||{},u=(g=o[td])==null?void 0:g.arrayValue,h=(v=l[td])==null?void 0:v.arrayValue,p=tt(((w=u==null?void 0:u.values)==null?void 0:w.length)||0,((x=h==null?void 0:h.values)==null?void 0:x.length)||0);return p!==0?p:$P(u,h)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===Fl.mapValue&&a===Fl.mapValue)return 0;if(s===Fl.mapValue)return 1;if(a===Fl.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const g=RA(l[p],h[p]);if(g!==0)return g;const v=nc(o[l[p]],u[h[p]]);if(v!==0)return v}return tt(l.length,h.length)}(n.mapValue,e.mapValue);default:throw Me(23264,{he:t})}}function YP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return tt(n,e);const t=Lo(n),r=Lo(e),i=tt(t.seconds,r.seconds);return i!==0?i:tt(t.nanos,r.nanos)}function $P(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=nc(t[i],r[i]);if(s)return s}return tt(t.length,r.length)}function nd(n){return LA(n)}function LA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Lo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Vo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=LA(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${LA(t.fields[a])}`;return i+"}"}(n.mapValue):Me(61005,{value:n})}function ly(n){switch(tc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=J_(n);return e?16+ly(e):16;case 5:return 2*n.stringValue.length;case 6:return Vo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ly(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return mc(r.fields,(s,a)=>{i+=s.length+ly(a)}),i}(n.mapValue);default:throw Me(13486,{value:n})}}function lC(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function VA(n){return!!n&&"integerValue"in n}function Lm(n){return!!n&&"arrayValue"in n}function GP(n){return!!n&&"nullValue"in n}function qP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cy(n){return!!n&&"mapValue"in n}function ew(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[aC])==null?void 0:r.stringValue)===oC}function rm(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return mc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=rm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rm(n.arrayValue.values[t]);return e}return{...n}}function tV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===eV}const nV={mapValue:{fields:{[aC]:{stringValue:oC},[td]:{arrayValue:{}}}}};function uie(n){return"nullValue"in n?oy:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lC(Gu.empty(),Ie.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?ew(n)?nV:{mapValue:{}}:Me(35942,{value:n})}function fie(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lC(Gu.empty(),Ie.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?nV:"mapValue"in n?ew(n)?{mapValue:{}}:Fl:Me(61959,{value:n})}function KP(n,e){const t=nc(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function XP(n,e){const t=nc(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rm(t)}setAll(e){let t=bn.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=o.popLast()}a?r[o.lastSegment()]=rm(a):i.push(o.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());cy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];cy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){mc(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zr(rm(this.value))}}function rV(n){const e=[];return mc(n.fields,(t,r)=>{const i=new bn([t]);if(cy(r)){const s=rV(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,t,r,i,s,a,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new In(e,0,ze.min(),ze.min(),ze.min(),zr.empty(),0)}static newFoundDocument(e,t,r,i){return new In(e,1,t,ze.min(),r,i,0)}static newNoDocument(e,t){return new In(e,2,t,ze.min(),ze.min(),zr.empty(),0)}static newUnknownDocument(e,t){return new In(e,3,t,ze.min(),ze.min(),zr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t){this.position=e,this.inclusive=t}}function QP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],a=n.position[i];if(s.field.isKeyField()?r=Ie.comparator(Ie.fromName(a.referenceValue),t.key):r=nc(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fa(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,t="asc"){this.field=e,this.dir=t}}function hie(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{}class wt extends iV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new die(e,t,r):t==="array-contains"?new mie(e,r):t==="in"?new uV(e,r):t==="not-in"?new vie(e,r):t==="array-contains-any"?new yie(e,r):new wt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new pie(e,r):new gie(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(nc(t,this.value)):t!==null&&tc(this.value)===tc(t)&&this.matchesComparison(nc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rn extends iV{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new rn(e,t)}matches(e){return id(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function id(n){return n.op==="and"}function BA(n){return n.op==="or"}function cC(n){return sV(n)&&id(n)}function sV(n){for(const e of n.filters)if(e instanceof rn)return!1;return!0}function FA(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+nd(n.value);if(cC(n))return n.filters.map(e=>FA(e)).join(",");{const e=n.filters.map(t=>FA(t)).join(",");return`${n.op}(${e})`}}function aV(n,e){return n instanceof wt?function(r,i){return i instanceof wt&&r.op===i.op&&r.field.isEqual(i.field)&&Fa(r.value,i.value)}(n,e):n instanceof rn?function(r,i){return i instanceof rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&aV(a,i.filters[o]),!0):!1}(n,e):void Me(19439)}function oV(n,e){const t=n.filters.concat(e);return rn.create(t,n.op)}function lV(n){return n instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${nd(t.value)}`}(n):n instanceof rn?function(t){return t.op.toString()+" {"+t.getFilters().map(lV).join(" ,")+"}"}(n):"Filter"}class die extends wt{constructor(e,t,r){super(e,t,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class pie extends wt{constructor(e,t){super(e,"in",t),this.keys=cV("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gie extends wt{constructor(e,t){super(e,"not-in",t),this.keys=cV("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cV(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class mie extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lm(t)&&km(t.arrayValue,this.value)}}class uV extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&km(this.value.arrayValue,t)}}class vie extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(km(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!km(this.value.arrayValue,t)}}class yie extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>km(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ie{constructor(e,t=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function UA(n,e=null,t=[],r=[],i=null,s=null,a=null){return new _ie(n,e,t,r,i,s,a)}function qu(n){const e=Fe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>FA(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),K_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>nd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>nd(r)).join(",")),e.Te=t}return e.Te}function o0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!hie(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ZP(n.startAt,e.startAt)&&ZP(n.endAt,e.endAt)}function n_(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function r_(n,e){return n.filters.filter(t=>t instanceof wt&&t.field.isEqual(e))}function JP(n,e,t){let r=oy,i=!0;for(const s of r_(n,e)){let a=oy,o=!0;switch(s.op){case"<":case"<=":a=uie(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=oy}KP({value:r,inclusive:i},{value:a,inclusive:o})<0&&(r=a,i=o)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];KP({value:r,inclusive:i},{value:a,inclusive:t.inclusive})<0&&(r=a,i=t.inclusive);break}}return{value:r,inclusive:i}}function e4(n,e,t){let r=Fl,i=!0;for(const s of r_(n,e)){let a=Fl,o=!0;switch(s.op){case">=":case">":a=fie(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=Fl}XP({value:r,inclusive:i},{value:a,inclusive:o})>0&&(r=a,i=o)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];XP({value:r,inclusive:i},{value:a,inclusive:t.inclusive})>0&&(r=a,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,t=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fV(n,e,t,r,i,s,a,o){return new tw(n,e,t,r,i,s,a,o)}function l0(n){return new tw(n)}function t4(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function wie(n){return n.collectionGroup!==null}function im(n){const e=Fe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Xt(bn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new t_(s,r))}),t.has(bn.keyField().canonicalString())||e.Ie.push(new t_(bn.keyField(),r))}return e.Ie}function ji(n){const e=Fe(n);return e.Ee||(e.Ee=xie(e,im(n))),e.Ee}function xie(n,e){if(n.limitType==="F")return UA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new t_(i.field,s)});const t=n.endAt?new rd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new rd(n.startAt.position,n.startAt.inclusive):null;return UA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function jA(n,e,t){return new tw(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nw(n,e){return o0(ji(n),ji(e))&&n.limitType===e.limitType}function hV(n){return`${qu(ji(n))}|lt:${n.limitType}`}function vh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>lV(i)).join(", ")}]`),K_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>nd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>nd(i)).join(",")),`Target(${r})`}(ji(n))}; limitType=${n.limitType})`}function c0(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of im(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const u=QP(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,im(r),i)||r.endAt&&!function(a,o,l){const u=QP(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,im(r),i))}(n,e)}function dV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pV(n){return(e,t)=>{let r=!1;for(const i of im(n)){const s=bie(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function bie(n,e,t){const r=n.field.isKeyField()?Ie.comparator(e.key,t.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?nc(l,u):Me(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mc(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return q7(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eie=new un(Ie.comparator);function Bi(){return Eie}const gV=new un(Ie.comparator);function Dg(...n){let e=gV;for(const t of n)e=e.insert(t.key,t);return e}function mV(n){let e=gV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xa(){return sm()}function vV(){return sm()}function sm(){return new jo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Aie=new un(Ie.comparator),Sie=new Xt(Ie.comparator);function ft(...n){let e=Sie;for(const t of n)e=e.add(t);return e}const Tie=new Xt(tt);function uC(){return Tie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rm(e)?"-0":e}}function yV(n){return{integerValue:""+n}}function Cie(n,e){return V7(e)?yV(e):fC(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this._=void 0}}function Iie(n,e,t){return n instanceof Vm?function(i,s){const a={fields:{[Q7]:{stringValue:X7},[J7]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&sC(s)&&(s=J_(s)),s&&(a.fields[Z7]=s),{mapValue:a}}(t,e):n instanceof sd?wV(n,e):n instanceof ad?xV(n,e):function(i,s){const a=_V(i,s),o=n4(a)+n4(i.Ae);return VA(a)&&VA(i.Ae)?yV(o):fC(i.serializer,o)}(n,e)}function Die(n,e,t){return n instanceof sd?wV(n,e):n instanceof ad?xV(n,e):t}function _V(n,e){return n instanceof Bm?function(r){return VA(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Vm extends rw{}class sd extends rw{constructor(e){super(),this.elements=e}}function wV(n,e){const t=bV(e);for(const r of n.elements)t.some(i=>Fa(i,r))||t.push(r);return{arrayValue:{values:t}}}class ad extends rw{constructor(e){super(),this.elements=e}}function xV(n,e){let t=bV(e);for(const r of n.elements)t=t.filter(i=>!Fa(i,r));return{arrayValue:{values:t}}}class Bm extends rw{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function n4(n){return mn(n.integerValue||n.doubleValue)}function bV(n){return Lm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(e,t){this.field=e,this.transform=t}}function Oie(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof sd&&i instanceof sd||r instanceof ad&&i instanceof ad?Kh(r.elements,i.elements,Fa):r instanceof Bm&&i instanceof Bm?Fa(r.Ae,i.Ae):r instanceof Vm&&i instanceof Vm}(n.transform,e.transform)}class Nie{constructor(e,t){this.version=e,this.transformResults=t}}class Gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uy(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class iw{}function EV(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sw(n.key,Gr.none()):new kd(n.key,n.data,Gr.none());{const t=n.data,r=zr.empty();let i=new Xt(bn.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Ho(n.key,r,new Ai(i.toArray()),Gr.none())}}function Mie(n,e,t){n instanceof kd?function(i,s,a){const o=i.value.clone(),l=i4(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ho?function(i,s,a){if(!uy(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=i4(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(AV(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function am(n,e,t,r){return n instanceof kd?function(s,a,o,l){if(!uy(s.precondition,a))return o;const u=s.value.clone(),h=s4(s.fieldTransforms,l,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ho?function(s,a,o,l){if(!uy(s.precondition,a))return o;const u=s4(s.fieldTransforms,l,a),h=a.data;return h.setAll(AV(s)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(s,a,o){return uy(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(n,e,t)}function Pie(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=_V(r.transform,i||null);s!=null&&(t===null&&(t=zr.empty()),t.set(r.field,s))}return t||null}function r4(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Kh(r,i,(s,a)=>Oie(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class kd extends iw{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ho extends iw{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function i4(n,e,t){const r=new Map;je(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const s=n[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,Die(a,o,t[i]))}return r}function s4(n,e,t){const r=new Map;for(const i of n){const s=i.transform,a=t.data.field(i.field);r.set(i.field,Iie(s,a,e))}return r}class sw extends iw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SV extends iw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Mie(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=am(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=am(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=vV();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=t.has(i.key)?null:o;const l=EV(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ft())}isEqual(e){return this.batchId===e.batchId&&Kh(this.mutations,e.mutations,(t,r)=>r4(t,r))&&Kh(this.baseMutations,e.baseMutations,(t,r)=>r4(t,r))}}class dC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return Aie}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new dC(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n,At;function Lie(n){switch(n){case ve.OK:return Me(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return Me(15467,{code:n})}}function TV(n){if(n===void 0)return kn("GRPC error has no .code"),ve.UNKNOWN;switch(n){case $n.OK:return ve.OK;case $n.CANCELLED:return ve.CANCELLED;case $n.UNKNOWN:return ve.UNKNOWN;case $n.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case $n.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case $n.INTERNAL:return ve.INTERNAL;case $n.UNAVAILABLE:return ve.UNAVAILABLE;case $n.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case $n.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case $n.NOT_FOUND:return ve.NOT_FOUND;case $n.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case $n.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case $n.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case $n.ABORTED:return ve.ABORTED;case $n.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case $n.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case $n.DATA_LOSS:return ve.DATA_LOSS;default:return Me(39323,{code:n})}}(At=$n||($n={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vie(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bie=new Wl([4294967295,4294967295],0);function a4(n){const e=Vie().encode(n),t=new b7;return t.update(e),new Uint8Array(t.digest())}function o4(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wl([t,r],0),new Wl([i,s],0)]}class gC{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Rg(`Invalid padding: ${t}`);if(r<0)throw new Rg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rg(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Rg(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Wl.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Wl.fromNumber(r)));return i.compare(Bie)===1&&(i=new Wl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=a4(e),[r,i]=o4(t);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new gC(s,i,t);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const t=a4(e),[r,i]=o4(t);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Rg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,f0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new u0(ze.min(),i,new un(tt),Bi(),ft())}}class f0{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new f0(r,t,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class CV{constructor(e,t){this.targetId=e,this.Ce=t}}class IV{constructor(e,t,r=Un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class l4{constructor(){this.ve=0,this.Fe=c4(),this.Me=Un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ft(),t=ft(),r=ft();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Me(38017,{changeType:s})}}),new f0(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=c4()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Fie{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bi(),this.Je=mv(),this.He=mv(),this.Ye=new un(tt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(n_(s))if(r===0){const a=new Ie(s.path);this.et(t,a,In.newNoDocument(a,ze.min()))}else je(r===1,20013,{expectedCount:r});else{const a=this._t(t);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,u)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let a,o;try{a=Vo(r).toUint8Array()}catch(l){if(l instanceof K7)return Im("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new gC(a,i,s)}catch(l){return Im(l instanceof Rg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(t,s,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&n_(o.target)){const l=new Ie(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,In.newNoDocument(l,e))}s.Be&&(t.set(a,s.ke()),s.qe())}});let r=ft();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new u0(e,t,this.Ye,this.je,r);return this.je=Bi(),this.Je=mv(),this.He=mv(),this.Ye=new un(tt),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new l4,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Xt(tt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Xt(tt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new l4),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function mv(){return new un(Ie.comparator)}function c4(){return new un(Ie.comparator)}const Uie={asc:"ASCENDING",desc:"DESCENDING"},jie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hie={and:"AND",or:"OR"};class zie{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function HA(n,e){return n.useProto3Json||K_(e)?e:{value:e}}function od(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Wie(n,e){return od(n,e.toTimestamp())}function oi(n){return je(!!n,49232),ze.fromTimestamp(function(t){const r=Lo(t);return new Kt(r.seconds,r.nanos)}(n))}function mC(n,e){return zA(n,e).canonicalString()}function zA(n,e){const t=function(i){return new Ut(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function RV(n){const e=Ut.fromString(n);return je(FV(e),10190,{key:e.toString()}),e}function i_(n,e){return mC(n.databaseId,e.path)}function Nu(n,e){const t=RV(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(MV(t))}function OV(n,e){return mC(n.databaseId,e)}function NV(n){const e=RV(n);return e.length===4?Ut.emptyPath():MV(e)}function WA(n){return new Ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MV(n){return je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function u4(n,e,t){return{name:i_(n,e),fields:t.value.mapValue.fields}}function Yie(n,e,t){const r=Nu(n,e.name),i=oi(e.updateTime),s=e.createTime?oi(e.createTime):ze.min(),a=new zr({mapValue:{fields:e.fields}}),o=In.newFoundDocument(r,i,s,a);return t&&o.setHasCommittedMutations(),t?o.setHasCommittedMutations():o}function $ie(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Me(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(je(h===void 0||typeof h=="string",58123),Un.fromBase64String(h||"")):(je(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Un.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const h=u.code===void 0?ve.UNKNOWN:TV(u.code);return new Ce(h,u.message||"")}(a);t=new IV(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Nu(n,r.document.name),s=oi(r.document.updateTime),a=r.document.createTime?oi(r.document.createTime):ze.min(),o=new zr({mapValue:{fields:r.document.fields}}),l=In.newFoundDocument(i,s,a,o),u=r.targetIds||[],h=r.removedTargetIds||[];t=new fy(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Nu(n,r.document),s=r.readTime?oi(r.readTime):ze.min(),a=In.newNoDocument(i,s),o=r.removedTargetIds||[];t=new fy([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Nu(n,r.document),s=r.removedTargetIds||[];t=new fy([],s,i,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new kie(i,s),o=r.targetId;t=new CV(o,a)}}return t}function s_(n,e){let t;if(e instanceof kd)t={update:u4(n,e.key,e.value)};else if(e instanceof sw)t={delete:i_(n,e.key)};else if(e instanceof Ho)t={update:u4(n,e.key,e.data),updateMask:Zie(e.fieldMask)};else{if(!(e instanceof SV))return Me(16599,{Vt:e.type});t={verify:i_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Vm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof sd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ad)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Bm)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Me(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Wie(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Me(27497)}(n,e.precondition)),t}function YA(n,e){const t=e.currentDocument?function(s){return s.updateTime!==void 0?Gr.updateTime(oi(s.updateTime)):s.exists!==void 0?Gr.exists(s.exists):Gr.none()}(e.currentDocument):Gr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,o){let l=null;if("setToServerValue"in o)je(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),l=new Vm;else if("appendMissingElements"in o){const h=o.appendMissingElements.values||[];l=new sd(h)}else if("removeAllFromArray"in o){const h=o.removeAllFromArray.values||[];l=new ad(h)}else"increment"in o?l=new Bm(a,o.increment):Me(16584,{proto:o});const u=bn.fromServerFormat(o.fieldPath);return new Rie(u,l)}(n,i)):[];if(e.update){e.update.name;const i=Nu(n,e.update.name),s=new zr({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(l){const u=l.fieldPaths||[];return new Ai(u.map(h=>bn.fromServerFormat(h)))}(e.updateMask);return new Ho(i,s,a,t,r)}return new kd(i,s,t,r)}if(e.delete){const i=Nu(n,e.delete);return new sw(i,t)}if(e.verify){const i=Nu(n,e.verify);return new SV(i,t)}return Me(1463,{proto:e})}function Gie(n,e){return n&&n.length>0?(je(e!==void 0,14353),n.map(t=>function(i,s){let a=i.updateTime?oi(i.updateTime):oi(s);return a.isEqual(ze.min())&&(a=oi(s)),new Nie(a,i.transformResults||[])}(t,e))):[]}function PV(n,e){return{documents:[OV(n,e.path)]}}function kV(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=OV(n,i);const s=function(u){if(u.length!==0)return BV(rn.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:yh(g.field),direction:Kie(g.dir)}}(h))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=HA(n,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:t,parent:i}}function LV(n){let e=NV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){je(r===1,65062);const h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(p){const g=VV(p);return g instanceof rn&&cC(g)?g.getFilters():[g]}(t.where));let a=[];t.orderBy&&(a=function(p){return p.map(g=>function(w){return new t_(_h(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(t.orderBy));let o=null;t.limit&&(o=function(p){let g;return g=typeof p=="object"?p.value:p,K_(g)?null:g}(t.limit));let l=null;t.startAt&&(l=function(p){const g=!!p.before,v=p.values||[];return new rd(v,g)}(t.startAt));let u=null;return t.endAt&&(u=function(p){const g=!p.before,v=p.values||[];return new rd(v,g)}(t.endAt)),fV(e,i,a,s,o,"F",l,u)}function qie(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function VV(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=_h(t.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_h(t.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_h(t.unaryFilter.field);return wt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=_h(t.unaryFilter.field);return wt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(n):n.fieldFilter!==void 0?function(t){return wt.create(_h(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return rn.create(t.compositeFilter.filters.map(r=>VV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(t.compositeFilter.op))}(n):Me(30097,{filter:n})}function Kie(n){return Uie[n]}function Xie(n){return jie[n]}function Qie(n){return Hie[n]}function yh(n){return{fieldPath:n.canonicalString()}}function _h(n){return bn.fromServerFormat(n.fieldPath)}function BV(n){return n instanceof wt?function(t){if(t.op==="=="){if(qP(t.value))return{unaryFilter:{field:yh(t.field),op:"IS_NAN"}};if(GP(t.value))return{unaryFilter:{field:yh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(qP(t.value))return{unaryFilter:{field:yh(t.field),op:"IS_NOT_NAN"}};if(GP(t.value))return{unaryFilter:{field:yh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yh(t.field),op:Xie(t.op),value:t.value}}}(n):n instanceof rn?function(t){const r=t.getFilters().map(i=>BV(i));return r.length===1?r[0]:{compositeFilter:{op:Qie(t.op),filters:r}}}(n):Me(54877,{filter:n})}function Zie(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function FV(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,t,r,i,s=ze.min(),a=ze.min(),o=Un.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.yt=e}}function Jie(n,e){let t;if(e.document)t=Yie(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ie.fromSegments(e.noDocument.path),i=Xu(e.noDocument.readTime);t=In.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Me(56709);{const r=Ie.fromSegments(e.unknownDocument.path),i=Xu(e.unknownDocument.version);t=In.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new Kt(i[0],i[1]);return ze.fromTimestamp(s)}(e.readTime)),t}function f4(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:a_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,a){return{name:i_(s,a.key),fields:a.data.value.mapValue.fields,updateTime:od(s,a.version.toTimestamp()),createTime:od(s,a.createTime.toTimestamp())}}(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ku(e.version)};else{if(!e.isUnknownDocument())return Me(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Ku(e.version)}}return r}function a_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ku(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xu(n){const e=new Kt(n.seconds,n.nanoseconds);return ze.fromTimestamp(e)}function du(n,e){const t=(e.baseMutations||[]).map(s=>YA(n.yt,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>YA(n.yt,s)),i=Kt.fromMillis(e.localWriteTimeMs);return new hC(e.batchId,i,t,r)}function Og(n){const e=Xu(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Xu(n.lastLimboFreeSnapshotVersion):ze.min();let r;return r=function(s){return s.documents!==void 0}(n.query)?function(s){const a=s.documents.length;return je(a===1,1966,{count:a}),ji(l0(NV(s.documents[0])))}(n.query):function(s){return ji(LV(s))}(n.query),new Ao(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Un.fromBase64String(n.resumeToken))}function jV(n,e){const t=Ku(e.snapshotVersion),r=Ku(e.lastLimboFreeSnapshotVersion);let i;i=n_(e.target)?PV(n.yt,e.target):kV(n.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qu(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function HV(n){const e=LV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?jA(e,e.limit,"L"):e}function DE(n,e){return new pC(e.largestBatchId,YA(n.yt,e.overlayMutation))}function h4(n,e){const t=e.path.lastSegment();return[n,qr(e.path.popLast()),t]}function d4(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Ku(r.readTime),documentKey:qr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ese{getBundleMetadata(e,t){return p4(e).get(t).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Xu(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,t){return p4(e).put(function(i){return{bundleId:i.id,createTime:Ku(oi(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return g4(e).get(t).next(r=>{if(r)return function(s){return{name:s.name,query:HV(s.bundledQuery),readTime:Xu(s.readTime)}}(r)})}saveNamedQuery(e,t){return g4(e).put(function(i){return{name:i.name,readTime:Ku(oi(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function p4(n){return lr(n,X_)}function g4(n){return lr(n,Q_)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new aw(e,r)}getOverlay(e,t){return sg(e).get(h4(this.userId,t)).next(r=>r?DE(this.serializer,r):null)}getOverlays(e,t){const r=xa();return ee.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,a)=>{const o=new pC(t,a);i.push(this.St(e,o))}),ee.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(a=>i.add(qr(a.getCollectionPath())));const s=[];return i.forEach(a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(sg(e).Z(PA,o))}),ee.waitFor(s)}getOverlaysForCollection(e,t,r){const i=xa(),s=qr(t),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return sg(e).J(PA,a).next(o=>{for(const l of o){const u=DE(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=xa();let a;const o=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sg(e).ee({index:z7,range:o},(l,u,h)=>{const p=DE(this.serializer,u);s.size()<i||p.largestBatchId===a?(s.set(p.getKey(),p),a=p.largestBatchId):h.done()}).next(()=>s)}St(e,t){return sg(e).put(function(i,s,a){const[o,l,u]=h4(s,a.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:s_(i.yt,a.mutation)}}(this.serializer,this.userId,t))}}function sg(n){return lr(n,Z_)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{bt(e){return lr(e,rC)}getSessionToken(e){return this.bt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Un.fromUint8Array(r):Un.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(mn(e.integerValue));else if("doubleValue"in e){const r=mn(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Rm(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Lo(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Vo(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?tV(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):ew(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Me(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){var a,o;const r=e.fields||{};this.Ft(t,53);const i=td,s=((o=(a=r[i].arrayValue)==null?void 0:a.values)==null?void 0:o.length)||0;this.Ft(t,15),t.Mt(mn(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),Ie.fromName(e).path.forEach(r=>{this.Ft(t,60),this.Ut(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}pu.Kt=new pu;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=255;function nse(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function m4(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const a=nse(255&r[s]);if(i+=a,a!==8)break}return i}(n);return Math.ceil(e/8)}class rse{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const t=this.en(e),r=m4(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){const t=this.en(e),r=m4(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(oh),this.sn(255)}_n(){this.an(oh),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===oh?(this.sn(oh),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===oh?(this.an(oh),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class ise{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class sse{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class ag{constructor(){this.cn=new rse,this.ln=new ise(this.cn),this.hn=new sse(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t,r,i){this.Tn=e,this.In=t,this.En=r,this.dn=i}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new gu(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:hy(this.En),directionalValue:hy(this.dn),orderedDocumentKey:hy(t),documentKey:r.path.toArray()}}Vn(e,t,r){const i=this.Rn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function wl(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=v4(n.En,e.En),t!==0?t:(t=v4(n.dn,e.dn),t!==0?t:Ie.comparator(n.In,e.In)))}function v4(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function hy(n){return l9()?function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r}(n):n}function y4(n){return typeof n!="string"?n:function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(n)}class _4{constructor(e){this.mn=new Xt((t,r)=>bn.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(je(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=OA(e);if(t!==void 0&&!this.wn(t))return!1;const r=ou(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=r[s];if(!this.Sn(o,l)||!this.bn(this.fn[a++],l))return!1}++s}for(;s<r.length;++s){const o=r[s];if(a>=this.fn.length||!this.bn(this.fn[a++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new Xt(bn.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new iy(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new iy(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new iy(r.field,r.dir==="asc"?0:1)));return new Xy(Xy.UNKNOWN_ID,this.collectionId,t,Dm.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(n){var t,r;if(je(n instanceof wt||n instanceof rn,20012),n instanceof wt){if(n instanceof uV){const i=((r=(t=n.value.arrayValue)==null?void 0:t.values)==null?void 0:r.map(s=>wt.create(n.field,"==",s)))||[];return rn.create(i,"or")}return n}const e=n.filters.map(i=>zV(i));return rn.create(e,n.op)}function ase(n){if(n.getFilters().length===0)return[];const e=qA(zV(n));return je(WV(e),7391),$A(e)||GA(e)?[e]:e.getFilters()}function $A(n){return n instanceof wt}function GA(n){return n instanceof rn&&cC(n)}function WV(n){return $A(n)||GA(n)||function(t){if(t instanceof rn&&BA(t)){for(const r of t.getFilters())if(!$A(r)&&!GA(r))return!1;return!0}return!1}(n)}function qA(n){if(je(n instanceof wt||n instanceof rn,34018),n instanceof wt)return n;if(n.filters.length===1)return qA(n.filters[0]);const e=n.filters.map(r=>qA(r));let t=rn.create(e,n.op);return t=o_(t),WV(t)?t:(je(t instanceof rn,64498),je(id(t),40251),je(t.filters.length>1,57927),t.filters.reduce((r,i)=>vC(r,i)))}function vC(n,e){let t;return je(n instanceof wt||n instanceof rn,38388),je(e instanceof wt||e instanceof rn,25473),t=n instanceof wt?e instanceof wt?function(i,s){return rn.create([i,s],"and")}(n,e):w4(n,e):e instanceof wt?w4(e,n):function(i,s){if(je(i.filters.length>0&&s.filters.length>0,48005),id(i)&&id(s))return oV(i,s.getFilters());const a=BA(i)?i:s,o=BA(i)?s:i,l=a.filters.map(u=>vC(u,o));return rn.create(l,"or")}(n,e),o_(t)}function w4(n,e){if(id(e))return oV(e,n.getFilters());{const t=e.filters.map(r=>vC(n,r));return rn.create(t,"or")}}function o_(n){if(je(n instanceof wt||n instanceof rn,11850),n instanceof wt)return n;const e=n.getFilters();if(e.length===1)return o_(e[0]);if(sV(n))return n;const t=e.map(i=>o_(i)),r=[];return t.forEach(i=>{i instanceof wt?r.push(i):i instanceof rn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:rn.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ose{constructor(){this.Cn=new yC}addToCollectionParentIndex(e,t){return this.Cn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(zi.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class yC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Xt(Ut.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xt(Ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="IndexedDbIndexManager",vv=new Uint8Array(0);class lse{constructor(e,t){this.databaseId=t,this.vn=new yC,this.Fn=new jo(r=>qu(r),(r,i)=>o0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.vn.add(t)});const s={collectionId:r,parent:qr(i)};return b4(e).put(s)}return ee.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[D7(t),""],!1,!0);return b4(e).J(i).next(s=>{for(const a of s){if(a.collectionId!==t)break;r.push(wa(a.parent))}return r})}addFieldIndex(e,t){const r=og(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(t);delete i.indexId;const s=r.add(i);if(t.indexState){const a=ch(e);return s.next(o=>{a.put(d4(o,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=og(e),i=ch(e),s=lh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=og(e),r=lh(e),i=ch(e);return t.Z().next(()=>r.Z()).next(()=>i.Z())}createTargetIndexes(e,t){return ee.forEach(this.Mn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new _4(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=lh(e);let i=!0;const s=new Map;return ee.forEach(this.Mn(t),a=>this.xn(e,a).next(o=>{i&&(i=!!o),s.set(a,o)})).next(()=>{if(i){let a=ft();const o=[];return ee.forEach(s,(l,u)=>{be(x4,`Using index ${function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(P=>`${P.fieldPath}:${P.kind}`).join(",")}`}(l)} to execute ${qu(t)}`);const h=function(I,P){const O=OA(P);if(O===void 0)return null;for(const V of r_(I,O.fieldPath))switch(V.op){case"array-contains-any":return V.value.arrayValue.values||[];case"array-contains":return[V.value]}return null}(u,l),p=function(I,P){const O=new Map;for(const V of ou(P))for(const R of r_(I,V.fieldPath))switch(R.op){case"==":case"in":O.set(V.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return O.set(V.fieldPath.canonicalString(),R.value),Array.from(O.values())}return null}(u,l),g=function(I,P){const O=[];let V=!0;for(const R of ou(P)){const C=R.kind===0?JP(I,R.fieldPath,I.startAt):e4(I,R.fieldPath,I.startAt);O.push(C.value),V&&(V=C.inclusive)}return new rd(O,V)}(u,l),v=function(I,P){const O=[];let V=!0;for(const R of ou(P)){const C=R.kind===0?e4(I,R.fieldPath,I.endAt):JP(I,R.fieldPath,I.endAt);O.push(C.value),V&&(V=C.inclusive)}return new rd(O,V)}(u,l),w=this.On(l,u,g),x=this.On(l,u,v),E=this.Nn(l,u,p),A=this.Bn(l.indexId,h,w,g.inclusive,x,v.inclusive,E);return ee.forEach(A,T=>r.Y(T,t.limit).next(I=>{I.forEach(P=>{const O=Ie.fromSegments(P.documentKey);a.has(O)||(a=a.add(O),o.push(O))})}))}).next(()=>o)}return ee.resolve(null)})}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=ase(rn.create(e.filters,"and")).map(r=>UA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,t),t)}Bn(e,t,r,i,s,a,o){const l=(t!=null?t.length:1)*Math.max(r.length,s.length),u=l/(t!=null?t.length:1),h=[];for(let p=0;p<l;++p){const g=t?this.Ln(t[p/u]):vv,v=this.kn(e,g,r[p%u],i),w=this.qn(e,g,s[p%u],a),x=o.map(E=>this.kn(e,g,E,!0));h.push(...this.createRange(v,w,x))}return h}kn(e,t,r,i){const s=new gu(e,Ie.empty(),t,r);return i?s:s.An()}qn(e,t,r,i){const s=new gu(e,Ie.empty(),t,r);return i?s.An():s}xn(e,t){const r=new _4(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let a=null;for(const o of s)r.yn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a})}getIndexType(e,t){let r=2;const i=this.Mn(t);return ee.forEach(i,s=>this.xn(e,s).next(a=>{a?r!==0&&a.fields.length<function(l){let u=new Xt(bn.comparator),h=!1;for(const p of l.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?h=!0:u=u.add(g.field));for(const p of l.orderBy)p.field.isKeyField()||(u=u.add(p.field));return u.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(t)&&i.length>1&&r===2?1:r)}Qn(e,t){const r=new ag;for(const i of ou(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const a=r.Pn(i.kind);pu.Kt.Dt(s,a)}return r.un()}Ln(e){const t=new ag;return pu.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new ag;return pu.Kt.Dt(lC(this.databaseId,t),r.Pn(function(s){const a=ou(s);return a.length===0?0:a[a.length-1].kind}(e))),r.un()}Nn(e,t,r){if(r===null)return[];let i=[];i.push(new ag);let s=0;for(const a of ou(e)){const o=r[s++];for(const l of i)if(this.Un(t,a.fieldPath)&&Lm(o))i=this.Kn(i,a,o);else{const u=l.Pn(a.kind);pu.Kt.Dt(o,u)}}return this.Wn(i)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const o of i){const l=new ag;l.seed(o.un()),pu.Kt.Dt(a,l.Pn(t.kind)),s.push(l)}return s}Un(e,t){return!!e.filters.find(r=>r instanceof wt&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=og(e),i=ch(e);return(t?r.J(MA,IDBKeyRange.bound(t,t)):r.J()).next(s=>{const a=[];return ee.forEach(s,o=>i.get([o.indexId,this.uid]).next(l=>{a.push(function(h,p){const g=p?new Dm(p.sequenceNumber,new zi(Xu(p.readTime),new Ie(wa(p.documentKey)),p.largestBatchId)):Dm.empty(),v=h.fields.map(([w,x])=>new iy(bn.fromServerFormat(w),x));return new Xy(h.indexId,h.collectionGroup,v,g)}(o,l))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:tt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=og(e),s=ch(e);return this.Gn(e).next(a=>i.J(MA,IDBKeyRange.bound(t,t)).next(o=>ee.forEach(o,l=>s.put(d4(l.indexId,this.uid,a,r)))))}updateIndexEntries(e,t){const r=new Map;return ee.forEach(t,(i,s)=>{const a=r.get(i.collectionGroup);return(a?ee.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(r.set(i.collectionGroup,o),ee.forEach(o,l=>this.zn(e,i,l).next(u=>{const h=this.jn(s,l);return u.isEqual(h)?ee.resolve():this.Jn(e,s,l,u,h)}))))})}Hn(e,t,r,i){return lh(e).put(i.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,i){return lh(e).delete(i.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const i=lh(e);let s=new Xt(wl);return i.ee({index:H7,range:IDBKeyRange.only([r.indexId,this.uid,hy(this.$n(r,t))])},(a,o)=>{s=s.add(new gu(r.indexId,t,y4(o.arrayValue),y4(o.directionalValue)))}).next(()=>s)}jn(e,t){let r=new Xt(wl);const i=this.Qn(t,e);if(i==null)return r;const s=OA(t);if(s!=null){const a=e.data.field(s.fieldPath);if(Lm(a))for(const o of a.arrayValue.values||[])r=r.add(new gu(t.indexId,e.key,this.Ln(o),i))}else r=r.add(new gu(t.indexId,e.key,vv,i));return r}Jn(e,t,r,i,s){be(x4,"Updating index entries for document '%s'",t.key);const a=[];return function(l,u,h,p,g){const v=l.getIterator(),w=u.getIterator();let x=ah(v),E=ah(w);for(;x||E;){let A=!1,T=!1;if(x&&E){const I=h(x,E);I<0?T=!0:I>0&&(A=!0)}else x!=null?T=!0:A=!0;A?(p(E),E=ah(w)):T?(g(x),x=ah(v)):(x=ah(v),E=ah(w))}}(i,s,wl,o=>{a.push(this.Hn(e,t,r,o))},o=>{a.push(this.Yn(e,t,r,o))}),ee.waitFor(a)}Gn(e){let t=1;return ch(e).ee({index:j7,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((a,o)=>wl(a,o)).filter((a,o,l)=>!o||wl(a,l[o-1])!==0);const i=[];i.push(e);for(const a of r){const o=wl(a,e),l=wl(a,t);if(o===0)i[0]=e.An();else if(o>0&&l<0)i.push(a),i.push(a.An());else if(l>0)break}i.push(t);const s=[];for(let a=0;a<i.length;a+=2){if(this.Zn(i[a],i[a+1]))return[];const o=i[a].Vn(this.uid,vv,Ie.empty()),l=i[a+1].Vn(this.uid,vv,Ie.empty());s.push(IDBKeyRange.bound(o,l))}return s}Zn(e,t){return wl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(E4)}getMinOffset(e,t){return ee.mapArray(this.Mn(t),r=>this.xn(e,r).next(i=>i||Me(44426))).next(E4)}}function b4(n){return lr(n,Mm)}function lh(n){return lr(n,nm)}function og(n){return lr(n,nC)}function ch(n){return lr(n,tm)}function E4(n){je(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;JT(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new zi(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YV=41943040;class Hr{static withCacheSize(e){return new Hr(e,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(n,e,t){const r=n.store(Ls),i=n.store(Qh),s=[],a=IDBKeyRange.only(t.batchId);let o=0;const l=r.ee({range:a},(h,p,g)=>(o++,g.delete()));s.push(l.next(()=>{je(o===1,47070,{batchId:t.batchId})}));const u=[];for(const h of t.mutations){const p=B7(e,h.key.path,t.batchId);s.push(i.delete(p)),u.push(h.key)}return ee.waitFor(s).next(()=>u)}function l_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Me(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(YV,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);class ow{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,t,r,i){je(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new ow(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).ee({index:wu,range:r},(i,s,a)=>{t=!1,a.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=wh(e),a=xl(e);return a.add({}).next(o=>{je(typeof o=="number",49019);const l=new hC(o,t,r,i),u=function(v,w,x){const E=x.baseMutations.map(T=>s_(v.yt,T)),A=x.mutations.map(T=>s_(v.yt,T));return{userId:w,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:E,mutations:A}}(this.serializer,this.userId,l),h=[];let p=new Xt((g,v)=>tt(g.canonicalString(),v.canonicalString()));for(const g of i){const v=B7(this.userId,g.key.path,o);p=p.add(g.key.path.popLast()),h.push(a.put(u)),h.push(s.put(v,Bre))}return p.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Xn[o]=l.keys()}),ee.waitFor(h).next(()=>l)})}lookupMutationBatch(e,t){return xl(e).get(t).next(r=>r?(je(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),du(this.serializer,r)):null)}er(e,t){return this.Xn[t]?ee.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Xn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return xl(e).ee({index:wu,range:i},(a,o,l)=>{o.userId===this.userId&&(je(o.batchId>=r,47524,{tr:r}),s=du(this.serializer,o)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ru;return xl(e).ee({index:wu,range:t,reverse:!0},(i,s,a)=>{r=s.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ru],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).J(wu,t).next(r=>r.map(i=>du(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=sy(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return wh(e).ee({range:i},(a,o,l)=>{const[u,h,p]=a,g=wa(h);if(u===this.userId&&t.path.isEqual(g))return xl(e).get(p).next(v=>{if(!v)throw Me(61480,{nr:a,batchId:p});je(v.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:v.userId,batchId:p}),s.push(du(this.serializer,v))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xt(tt);const i=[];return t.forEach(s=>{const a=sy(this.userId,s.path),o=IDBKeyRange.lowerBound(a),l=wh(e).ee({range:o},(u,h,p)=>{const[g,v,w]=u,x=wa(v);g===this.userId&&s.path.isEqual(x)?r=r.add(w):p.done()});i.push(l)}),ee.waitFor(i).next(()=>this.rr(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=sy(this.userId,r),a=IDBKeyRange.lowerBound(s);let o=new Xt(tt);return wh(e).ee({range:a},(l,u,h)=>{const[p,g,v]=l,w=wa(g);p===this.userId&&r.isPrefixOf(w)?w.length===i&&(o=o.add(v)):h.done()}).next(()=>this.rr(e,o))}rr(e,t){const r=[],i=[];return t.forEach(s=>{i.push(xl(e).get(s).next(a=>{if(a===null)throw Me(35274,{batchId:s});je(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(du(this.serializer,a))}))}),ee.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return $V(e.le,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ir(t.batchId)}),ee.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ee.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return wh(e).ee({range:r},(s,a,o)=>{if(s[0]===this.userId){const l=wa(s[1]);i.push(l)}else o.done()}).next(()=>{je(i.length===0,56720,{sr:i.map(s=>s.canonicalString())})})})}containsKey(e,t){return GV(e,this.userId,t)}_r(e){return qV(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ru,lastStreamToken:""})}}function GV(n,e,t){const r=sy(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return wh(n).ee({range:s,X:!0},(o,l,u)=>{const[h,p,g]=o;h===e&&p===i&&(a=!0),u.done()}).next(()=>a)}function xl(n){return lr(n,Ls)}function wh(n){return lr(n,Qh)}function qV(n){return lr(n,Om)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qu(0)}static cr(){return new Qu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next(t=>{const r=new Qu(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(t=>ze.fromTimestamp(new Kt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.lr(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.hr(e,i)))}addTargetData(e,t){return this.Pr(e,t).next(()=>this.lr(e).next(r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>uh(e).delete(t.targetId)).next(()=>this.lr(e)).next(r=>(je(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return uh(e).ee((a,o)=>{const l=Og(o);l.sequenceNumber<=t&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>ee.waitFor(s)).next(()=>i)}forEachTarget(e,t){return uh(e).ee((r,i)=>{const s=Og(i);t(s)})}lr(e){return S4(e).get(Jy).next(t=>(je(t!==null,2888),t))}hr(e,t){return S4(e).put(Jy,t)}Pr(e,t){return uh(e).put(jV(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next(t=>t.targetCount)}getTargetData(e,t){const r=qu(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return uh(e).ee({range:i,index:U7},(a,o,l)=>{const u=Og(o);o0(t,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Pl(e);return t.forEach(a=>{const o=qr(a.path);i.push(s.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,a))}),ee.waitFor(i)}removeMatchingKeys(e,t,r){const i=Pl(e);return ee.forEach(t,s=>{const a=qr(s.path);return ee.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Pl(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Pl(e);let s=ft();return i.ee({range:r,X:!0},(a,o,l)=>{const u=wa(a[1]),h=new Ie(u);s=s.add(h)}).next(()=>s)}containsKey(e,t){const r=qr(t.path),i=IDBKeyRange.bound([r],[D7(r)],!1,!0);let s=0;return Pl(e).ee({index:tC,X:!0,range:i},([a,o],l,u)=>{a!==0&&(s++,u.done())}).next(()=>s>0)}At(e,t){return uh(e).get(t).next(r=>r?Og(r):null)}}function uh(n){return lr(n,Zh)}function S4(n){return lr(n,Ou)}function Pl(n){return lr(n,Jh)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="LruGarbageCollector",KV=1048576;function C4([n,e],[t,r]){const i=tt(n,t);return i===0?tt(e,r):i}class use{constructor(e){this.Ir=e,this.buffer=new Xt(C4),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();C4(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){be(T4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){gc(t)?be(T4,"Ignoring IndexedDB error during garbage collection: ",t):await pc(t)}await this.Vr(3e5)})}}class fse{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(Ei.ce);const r=new use(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(A4)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A4):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,s,a,o,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,o=Date.now(),this.removeTargets(e,r,t))).next(p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),mh()<=yt.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function QV(n,e){return new fse(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hse{constructor(e,t){this.db=e,this.garbageCollector=QV(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,(r,i)=>t(i))}addReference(e,t,r){return yv(e,r)}removeReference(e,t,r){return yv(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return yv(e,t)}br(e,t){return function(i,s){let a=!1;return qV(i).te(o=>GV(i,o,s).next(l=>(l&&(a=!0),ee.resolve(!l)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,(a,o)=>{if(o<=t){const l=this.br(e,a).next(u=>{if(!u)return s++,r.getEntry(e,a).next(()=>(r.removeEntry(a,ze.min()),Pl(e).delete(function(p){return[0,qr(p.path)]}(a))))});i.push(l)}}).next(()=>ee.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return yv(e,t)}Sr(e,t){const r=Pl(e);let i,s=Ei.ce;return r.ee({index:tC},([a,o],{path:l,sequenceNumber:u})=>{a===0?(s!==Ei.ce&&t(new Ie(wa(i)),s),s=u,i=l):s=Ei.ce}).next(()=>{s!==Ei.ce&&t(new Ie(wa(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yv(n,e){return Pl(n).put(function(r,i){return{targetId:0,path:qr(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.changes=new jo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dse{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return eu(e).put(r)}removeEntry(e,t,r){return eu(e).delete(function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],a_(a),o[o.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Dr(e,r)))}getEntry(e,t){let r=In.newInvalidDocument(t);return eu(e).ee({index:ay,range:IDBKeyRange.only(lg(t))},(i,s)=>{r=this.Cr(t,s)}).next(()=>r)}vr(e,t){let r={size:0,document:In.newInvalidDocument(t)};return eu(e).ee({index:ay,range:IDBKeyRange.only(lg(t))},(i,s)=>{r={document:this.Cr(t,s),size:l_(s)}}).next(()=>r)}getEntries(e,t){let r=Bi();return this.Fr(e,t,(i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)}).next(()=>r)}Mr(e,t){let r=Bi(),i=new un(Ie.comparator);return this.Fr(e,t,(s,a)=>{const o=this.Cr(s,a);r=r.insert(s,o),i=i.insert(s,l_(a))}).next(()=>({documents:r,Or:i}))}Fr(e,t,r){if(t.isEmpty())return ee.resolve();let i=new Xt(R4);t.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(lg(i.first()),lg(i.last())),a=i.getIterator();let o=a.getNext();return eu(e).ee({index:ay,range:s},(l,u,h)=>{const p=Ie.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;o&&R4(o,p)<0;)r(o,null),o=a.getNext();o&&o.isEqual(p)&&(r(o,u),o=a.hasNext()?a.getNext():null),o?h.j(lg(o)):h.done()}).next(()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const a=t.path,o=[a.popLast().toArray(),a.lastSegment(),a_(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return eu(e).J(IDBKeyRange.bound(o,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let h=Bi();for(const p of u){const g=this.Cr(Ie.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(c0(t,g)||i.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,r,i){let s=Bi();const a=D4(t,r),o=D4(t,zi.max());return eu(e).ee({index:F7,range:IDBKeyRange.bound(a,o,!0)},(l,u,h)=>{const p=this.Cr(Ie.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(p.key,p),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new pse(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return I4(e).get(NA).next(t=>(je(!!t,20021),t))}Dr(e,t){return I4(e).put(NA,t)}Cr(e,t){if(t){const r=Jie(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(ze.min())))return r}return In.newInvalidDocument(e)}}function JV(n){return new dse(n)}class pse extends ZV{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new jo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Xt((s,a)=>tt(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const o=this.Br.get(s);if(t.push(this.Nr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const l=f4(this.Nr.serializer,a);i=i.add(s.path.popLast());const u=l_(l);r+=u-o.size,t.push(this.Nr.addEntry(e,s,l))}else if(r-=o.size,this.trackRemovals){const l=f4(this.Nr.serializer,a.convertToNoDocument(ze.min()));t.push(this.Nr.addEntry(e,s,l))}}),i.forEach(s=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Nr.updateMetadata(e,r)),ee.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next(r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next(({documents:r,Or:i})=>(i.forEach((s,a)=>{this.Br.set(s,{size:a,readTime:r.get(s).readTime})}),r))}}function I4(n){return lr(n,Nm)}function eu(n){return lr(n,Zy)}function lg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function D4(n,e){const t=e.documentKey.path.toArray();return[n,a_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function R4(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=tt(t[s],r[s]),i)return i;return i=tt(t.length,r.length),i||(i=tt(t[t.length-2],r[r.length-2]),i||tt(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&am(r.mutation,i,Ai.empty(),Kt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ft()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ft()){const i=xa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let a=Dg();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=xa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ft()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{t.set(a,o)})})}computeViews(e,t,r,i){let s=Bi();const a=sm(),o=function(){return sm()}();return t.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Ho)?s=s.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),am(h.mutation,u,h.mutation.getFieldMask(),Kt.now())):a.set(u.key,Ai.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>a.set(u,h)),t.forEach((u,h)=>o.set(u,new gse(h,a.get(u)??null))),o))}recalculateAndSaveOverlays(e,t){const r=sm();let i=new un((a,o)=>a-o),s=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=t.get(l);if(u===null)return;let h=r.get(l)||Ai.empty();h=o.applyToLocalView(u,h),r.set(l,h);const p=(i.get(o.batchId)||ft()).add(l);i=i.insert(o.batchId,p)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,h=l.value,p=vV();h.forEach(g=>{if(!s.has(g)){const v=EV(t.get(g),r.get(g));v!==null&&p.set(g,v),s=s.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,p))}return ee.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(a){return Ie.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wie(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ee.resolve(xa());let o=Xh,l=s;return a.next(u=>ee.forEach(u,(h,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(h)?ee.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ft())).next(h=>({batchId:o,changes:mV(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(r=>{let i=Dg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let a=Dg();return this.indexManager.getCollectionParents(e,s).next(o=>ee.forEach(o,l=>{const u=function(p,g){return new tw(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((p,g)=>{a=a.insert(p,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(a=>{s.forEach((l,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,In.newInvalidDocument(h)))});let o=Dg();return a.forEach((l,u)=>{const h=s.get(l);h!==void 0&&am(h.mutation,u,Ai.empty(),Kt.now()),c0(t,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:oi(i.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:HV(i.bundledQuery),readTime:oi(i.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vse{constructor(){this.overlays=new un(Ie.comparator),this.qr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=xa();return ee.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.St(e,t,s)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const i=xa(),s=t.length+1,a=new Ie(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new un((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=xa(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const o=xa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>o.set(u,h)),!(o.size()>=i)););return ee.resolve(o)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new pC(t,r));let s=this.qr.get(t);s===void 0&&(s=ft(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(){this.sessionToken=Un.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.Qr=new Xt(vr.$r),this.Ur=new Xt(vr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new vr(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new vr(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new Ie(new Ut([])),r=new vr(t,e),i=new vr(t,e+1),s=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ie(new Ut([])),r=new vr(t,e),i=new vr(t,e+1);let s=ft();return this.Ur.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new vr(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class vr{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ie.comparator(e.key,t.key)||tt(e.Yr,t.Yr)}static Kr(e,t){return tt(e.Yr,t.Yr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _se{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(vr.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new hC(s,t,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new vr(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ee.resolve(a)}lookupMutationBatch(e,t){return ee.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),s=i<0?0:i;return ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Ru:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new vr(t,0),i=new vr(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xt(tt);return t.forEach(i=>{const s=new vr(i,0),a=new vr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{r=r.add(o.Yr)})}),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Ie.isDocumentKey(s)||(s=s.child(""));const a=new vr(new Ie(s),0);let o=new Xt(tt);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},a),ee.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){je(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(t.mutations,i=>{const s=new vr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new vr(t,0),i=this.Zr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wse{constructor(e){this.ri=e,this.docs=function(){return new un(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():In.newInvalidDocument(t))}getEntries(e,t){let r=Bi();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():In.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Bi();const a=t.path,o=new Ie(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||JT(M7(h),r)<=0||(i.has(h.key)||c0(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return ee.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Me(9500)}ii(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xse(this)}getSize(e){return ee.resolve(this.size)}}class xse extends ZV{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{constructor(e){this.persistence=e,this.si=new jo(t=>qu(t),o0),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.oi=0,this._i=new _C,this.targetCount=0,this.ai=Qu.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ee.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Qu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Pr(t),ee.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=t&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ee.waitFor(s).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),ee.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ei(0),this.li=!1,this.li=!0,this.hi=new yse,this.referenceDelegate=e(this),this.Pi=new bse(this),this.indexManager=new ose,this.remoteDocumentCache=function(i){return new wse(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new UV(t),this.Ii=new mse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vse,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new _se(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const i=new Ese(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,t){return ee.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class Ese extends k7{constructor(e){super(),this.currentSequenceNumber=e}}class lw{constructor(e){this.persistence=e,this.Ri=new _C,this.Vi=null}static mi(e){return new lw(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,r=>{const i=Ie.fromPath(r);return this.gi(e,i).next(s=>{s||t.removeEntry(i,ze.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ee.or([()=>ee.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class c_{constructor(e,t){this.persistence=e,this.pi=new jo(r=>qr(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=QV(this,t)}static mi(e,t){return new c_(e,t)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return ee.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?ee.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,t).next(o=>{o||(r++,s.removeEntry(a,ze.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ee.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ly(e.data.value)),t}br(e,t,r){return ee.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(e){this.serializer=e}k(e,t,r,i){const s=new q_("createOrUpgrade",t);r<1&&i>=1&&(function(l){l.createObjectStore(a0)}(e),function(l){l.createObjectStore(Om,{keyPath:Vre}),l.createObjectStore(Ls,{keyPath:jP,autoIncrement:!0}).createIndex(wu,HP,{unique:!0}),l.createObjectStore(Qh)}(e),O4(e),function(l){l.createObjectStore(lu)}(e));let a=ee.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(Jh),l.deleteObjectStore(Zh),l.deleteObjectStore(Ou)}(e),O4(e)),a=a.next(()=>function(l){const u=l.store(Ou),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ze.min().toTimestamp(),targetCount:0};return u.put(Jy,h)}(s))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(l,u){return u.store(Ls).J().next(p=>{l.deleteObjectStore(Ls),l.createObjectStore(Ls,{keyPath:jP,autoIncrement:!0}).createIndex(wu,HP,{unique:!0});const g=u.store(Ls),v=p.map(w=>g.put(w));return ee.waitFor(v)})}(e,s))),a=a.next(()=>{(function(l){l.createObjectStore(ed,{keyPath:$re})})(e)})),r<5&&i>=5&&(a=a.next(()=>this.yi(s))),r<6&&i>=6&&(a=a.next(()=>(function(l){l.createObjectStore(Nm)}(e),this.wi(s)))),r<7&&i>=7&&(a=a.next(()=>this.Si(s))),r<8&&i>=8&&(a=a.next(()=>this.bi(e,s))),r<9&&i>=9&&(a=a.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.Di(s))),r<11&&i>=11&&(a=a.next(()=>{(function(l){l.createObjectStore(X_,{keyPath:Gre})})(e),function(l){l.createObjectStore(Q_,{keyPath:qre})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(l){const u=l.createObjectStore(Z_,{keyPath:tie});u.createIndex(PA,nie,{unique:!1}),u.createIndex(z7,rie,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(l){const u=l.createObjectStore(Zy,{keyPath:Fre});u.createIndex(ay,Ure),u.createIndex(F7,jre)}(e)).next(()=>this.Ci(e,s)).next(()=>e.deleteObjectStore(lu))),r<14&&i>=14&&(a=a.next(()=>this.Fi(e,s))),r<15&&i>=15&&(a=a.next(()=>function(l){l.createObjectStore(nC,{keyPath:Kre,autoIncrement:!0}).createIndex(MA,Xre,{unique:!1}),l.createObjectStore(tm,{keyPath:Qre}).createIndex(j7,Zre,{unique:!1}),l.createObjectStore(nm,{keyPath:Jre}).createIndex(H7,eie,{unique:!1})}(e))),r<16&&i>=16&&(a=a.next(()=>{t.objectStore(tm).clear()}).next(()=>{t.objectStore(nm).clear()})),r<17&&i>=17&&(a=a.next(()=>{(function(l){l.createObjectStore(rC,{keyPath:iie})})(e)})),r<18&&i>=18&&l9()&&(a=a.next(()=>{t.objectStore(tm).clear()}).next(()=>{t.objectStore(nm).clear()})),a}wi(e){let t=0;return e.store(lu).ee((r,i)=>{t+=l_(i)}).next(()=>{const r={byteSize:t};return e.store(Nm).put(NA,r)})}yi(e){const t=e.store(Om),r=e.store(Ls);return t.J().next(i=>ee.forEach(i,s=>{const a=IDBKeyRange.bound([s.userId,Ru],[s.userId,s.lastAcknowledgedBatchId]);return r.J(wu,a).next(o=>ee.forEach(o,l=>{je(l.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const u=du(this.serializer,l);return $V(e,s.userId,u).next(()=>{})}))}))}Si(e){const t=e.store(Jh),r=e.store(lu);return e.store(Ou).get(Jy).next(i=>{const s=[];return r.ee((a,o)=>{const l=new Ut(a),u=function(p){return[0,qr(p)]}(l);s.push(t.get(u).next(h=>h?ee.resolve():(p=>t.put({targetId:0,path:qr(p),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>ee.waitFor(s))})}bi(e,t){e.createObjectStore(Mm,{keyPath:Yre});const r=t.store(Mm),i=new yC,s=a=>{if(i.add(a)){const o=a.lastSegment(),l=a.popLast();return r.put({collectionId:o,parent:qr(l)})}};return t.store(lu).ee({X:!0},(a,o)=>{const l=new Ut(a);return s(l.popLast())}).next(()=>t.store(Qh).ee({X:!0},([a,o,l],u)=>{const h=wa(o);return s(h.popLast())}))}Di(e){const t=e.store(Zh);return t.ee((r,i)=>{const s=Og(i),a=jV(this.serializer,s);return t.put(a)})}Ci(e,t){const r=t.store(lu),i=[];return r.ee((s,a)=>{const o=t.store(Zy),l=function(p){return p.document?new Ie(Ut.fromString(p.document.name).popFirst(5)):p.noDocument?Ie.fromSegments(p.noDocument.path):p.unknownDocument?Ie.fromSegments(p.unknownDocument.path):Me(36783)}(a).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(u))}).next(()=>ee.waitFor(i))}Fi(e,t){const r=t.store(Ls),i=JV(this.serializer),s=new wC(lw.mi,this.serializer.yt);return r.J().next(a=>{const o=new Map;return a.forEach(l=>{let u=o.get(l.userId)??ft();du(this.serializer,l).keys().forEach(h=>u=u.add(h)),o.set(l.userId,u)}),ee.forEach(o,(l,u)=>{const h=new jr(u),p=aw.wt(this.serializer,h),g=s.getIndexManager(h),v=ow.wt(h,this.serializer,g,s.referenceDelegate);return new eB(i,v,p,g).recalculateAndSaveOverlaysForDocumentKeys(new kA(t,Ei.ce),l).next()})})}}function O4(n){n.createObjectStore(Jh,{keyPath:zre}).createIndex(tC,Wre,{unique:!0}),n.createObjectStore(Zh,{keyPath:"targetId"}).createIndex(U7,Hre,{unique:!0}),n.createObjectStore(Ou)}const bl="IndexedDbPersistence",RE=18e5,OE=5e3,NE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Sse="main";class xC{constructor(e,t,r,i,s,a,o,l,u,h,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=s,this.window=a,this.document=o,this.xi=u,this.Oi=h,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=g=>Promise.resolve(),!xC.v())throw new Ce(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new hse(this,i),this.$i=t+Sse,this.serializer=new UV(l),this.Ui=new Yl(this.$i,this.Ni,new Ase(this.serializer)),this.hi=new tse,this.Pi=new cse(this.referenceDelegate,this.serializer),this.remoteDocumentCache=JV(this.serializer),this.Ii=new ese,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,h===!1&&kn(bl,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ce(ve.FAILED_PRECONDITION,NE);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Ei(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_v(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(t=>this.isPrimary&&!t?this.Zi(e).next(()=>!1):!!t&&this.Xi(e).next(()=>!0))).catch(e=>{if(gc(e))return be(bl,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return be(bl,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return cg(e).get(sh).next(t=>ee.resolve(this.es(t)))}ts(e){return _v(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,RE)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=lr(t,ed);return r.J().next(i=>{const s=this.ss(i,RE),a=i.filter(o=>s.indexOf(o)===-1);return ee.forEach(a,o=>r.delete(o.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?ee.resolve(!0):cg(e).get(sh).next(t=>{if(t!==null&&this.rs(t.leaseTimestampMs,OE)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new Ce(ve.FAILED_PRECONDITION,NE);return!1}}return!(!this.networkEnabled||!this.inForeground)||_v(e).J().next(r=>this.ss(r,OE).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&be(bl,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[a0,ed],e=>{const t=new kA(e,Ei.ce);return this.Zi(t).next(()=>this.ts(t))}),this.Ui.close(),this.Ps()}ss(e,t){return e.filter(r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>_v(e).J().next(t=>this.ss(t,RE).map(r=>r.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return ow.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lse(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return aw.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){be(bl,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=function(l){return l===18?oie:l===17?G7:l===16?aie:l===15?iC:l===14?$7:l===13?Y7:l===12?sie:l===11?W7:void Me(60245)}(this.Ni);let a;return this.Ui.runTransaction(e,i,s,o=>(a=new kA(o,this.ci?this.ci.next():Ei.ce),t==="readwrite-primary"?this.Hi(a).next(l=>!!l||this.Yi(a)).next(l=>{if(!l)throw kn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new Ce(ve.FAILED_PRECONDITION,P7);return r(a)}).next(l=>this.Xi(a).next(()=>l)):this.Is(a).next(()=>r(a)))).then(o=>(a.raiseOnCommittedEvent(),o))}Is(e){return cg(e).get(sh).next(t=>{if(t!==null&&this.rs(t.leaseTimestampMs,OE)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ce(ve.FAILED_PRECONDITION,NE)})}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cg(e).put(sh,t)}static v(){return Yl.v()}Zi(e){const t=cg(e);return t.get(sh).next(r=>this.es(r)?(be(bl,"Releasing primary lease."),t.delete(sh)):ee.resolve())}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(kn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;o9()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var t;try{const r=((t=this.Ki)==null?void 0:t.getItem(this._s(e)))!==null;return be(bl,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return kn(bl,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){kn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cg(n){return lr(n,a0)}function _v(n){return lr(n,ed)}function tB(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=ft(),i=ft();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new bC(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tse{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return o9()?8:L7(or())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ys(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,t,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Tse;return this.Ss(e,t,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,t,a,o.size)})}).next(()=>s.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(mh()<=yt.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",vh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(mh()<=yt.DEBUG&&be("QueryEngine","Query:",vh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(mh()<=yt.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",vh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(t))):ee.resolve())}ys(e,t){if(t4(t))return ee.resolve(null);let r=ji(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=jA(t,null,"F"),r=ji(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=ft(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(t,o);return this.Cs(t,u,a,l.readTime)?this.ys(e,jA(t,null,"F")):this.vs(e,u,t,l)}))})))}ws(e,t,r,i){return t4(t)||i.isEqual(ze.min())?ee.resolve(null):this.ps.getDocuments(e,r).next(s=>{const a=this.Ds(t,s);return this.Cs(t,a,r,i)?ee.resolve(null):(mh()<=yt.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vh(t)),this.vs(e,a,t,N7(i,Xh)).next(o=>o))})}Ds(e,t){let r=new Xt(pV(e));return t.forEach((i,s)=>{c0(e,s)&&(r=r.add(s))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return mh()<=yt.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",vh(t)),this.ps.getDocumentsMatchingQuery(e,t,zi.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="LocalStore",Cse=3e8;class Ise{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new un(tt),this.xs=new jo(s=>qu(s),o0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function rB(n,e,t,r){return new Ise(n,e,t,r)}async function iB(n,e){const t=Fe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=ft();for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:o}))})})}function Dse(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,h){const p=u.batch,g=p.keys();let v=ee.resolve();return g.forEach(w=>{v=v.next(()=>h.getEntry(l,w)).next(x=>{const E=u.docVersions.get(w);je(E!==null,48541),x.version.compareTo(E)<0&&(p.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),h.addEntry(x)))})}),v.next(()=>o.mutationQueue.removeMutationBatch(l,p))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ft();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function sB(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function Rse(n,e){const t=Fe(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const o=[];e.targetChanges.forEach((h,p)=>{const g=i.get(p);if(!g)return;o.push(t.Pi.removeMatchingKeys(s,h.removedDocuments,p).next(()=>t.Pi.addMatchingKeys(s,h.addedDocuments,p)));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Un.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(x,E,A){return x.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Cse?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(g,v,h)&&o.push(t.Pi.updateTargetData(s,v))});let l=Bi(),u=ft();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),o.push(Ose(s,a,e.documentUpdates).next(h=>{l=h.ks,u=h.qs})),!r.isEqual(ze.min())){const h=t.Pi.getLastRemoteSnapshotVersion(s).next(p=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(h)}return ee.waitFor(o).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(t.Ms=i,s))}function Ose(n,e,t){let r=ft(),i=ft();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let a=Bi();return t.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ze.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):be(EC,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:a,qs:i}})}function Nse(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ru),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function u_(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(s=>s?(i=s,ee.resolve(i)):t.Pi.allocateTargetId(r).next(a=>(i=new Ao(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function ld(n,e,t){const r=Fe(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!gc(a))throw a;be(EC,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function KA(n,e,t){const r=Fe(n);let i=ze.min(),s=ft();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,h){const p=Fe(l),g=p.xs.get(h);return g!==void 0?ee.resolve(p.Ms.get(g)):p.Pi.getTargetData(u,h)}(r,a,ji(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,t?i:ze.min(),t?s:ft())).next(o=>(lB(r,dV(e),o),{documents:o,Qs:s})))}function aB(n,e){const t=Fe(n),r=Fe(t.Pi),i=t.Ms.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.At(s,e).next(a=>a?a.target:null))}function oB(n,e){const t=Fe(n),r=t.Os.get(e)||ze.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ns.getAllFromCollectionGroup(i,e,N7(r,Xh),Number.MAX_SAFE_INTEGER)).then(i=>(lB(t,e,i),i))}function lB(n,e,t){let r=n.Os.get(e)||ze.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Os.set(e,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB="firestore_clients";function N4(n,e){return`${cB}_${n}_${e}`}const uB="firestore_mutations";function M4(n,e,t){let r=`${uB}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const fB="firestore_targets";function ME(n,e){return`${fB}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="SharedClientState";class f_{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ws(e,t,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new Ce(i.error.code,i.error.message))),a?new f_(e,t,i.state,s):(kn(ga,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class om{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ws(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new Ce(r.error.code,r.error.message))),s?new om(e,r.state,i):(kn(ga,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class h_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=uC();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=V7(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new h_(e,s):(kn(ga,`Failed to parse client data for instance '${e}': ${t}`),null)}}class AC{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new AC(t.clientId,t.onlineState):(kn(ga,`Failed to parse online state: ${e}`),null)}}class XA{constructor(){this.activeTargetIds=uC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PE{constructor(e,t,r,i,s){this.window=e,this.Mi=t,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new un(tt),this.started=!1,this.Xs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=N4(this.persistenceKey,this.Js),this.no=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new XA),this.ro=new RegExp(`^${cB}_${a}_([^_]*)$`),this.io=new RegExp(`^${uB}_${a}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${fB}_${a}_(\\d+)$`),this.oo=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this._o=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(N4(this.persistenceKey,r));if(i){const s=h_.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const r=this.uo(t);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,r){this.ho(e,t,r),this.Po(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ME(this.persistenceKey,e));if(i){const s=om.Ws(e,i);s&&(r=s.state)}}return t&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ME(this.persistenceKey,e))}updateQueryState(e,t,r){this.Io(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Po(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return be(ga,"READ",e,t),t}setItem(e,t){be(ga,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){be(ga,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(be(ga,"EVENT",t.key,t.newValue),t.key===this.eo)return void kn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const r=this.Ro(t.key);return this.Vo(r,null)}{const r=this.mo(t.key,t.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.yo(t.key,t.newValue);if(r)return this.wo(r)}}else if(t.key===this.oo){if(t.newValue!==null){const r=this.uo(t.newValue);if(r)return this.co(r)}}else if(t.key===this.no){const r=function(s){let a=Ei.ce;if(s!=null)try{const o=JSON.parse(s);je(typeof o=="number",30636,{So:s}),a=o}catch(o){kn(ga,"Failed to read sequence number from WebStorage",o)}return a}(t.newValue);r!==Ei.ce&&this.sequenceNumberHandler(r)}else if(t.key===this._o){const r=this.bo(t.newValue);await Promise.all(r.map(i=>this.syncEngine.Do(i)))}}}else this.Xs.push(t)})}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,r){const i=new f_(this.currentUser,e,t,r),s=M4(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const t=M4(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,r){const i=ME(this.persistenceKey,e),s=new om(e,t,r);this.setItem(i,s.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const r=this.Ro(e);return h_.Ws(r,t)}fo(e,t){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return f_.Ws(new jr(s),i,t)}yo(e,t){const r=this.so.exec(e),i=Number(r[1]);return om.Ws(i,t)}uo(e){return AC.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);be(ga,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const r=t?this.Zs.insert(e,t):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),a=[],o=[];return s.forEach(l=>{i.has(l)||a.push(l)}),i.forEach(l=>{s.has(l)||o.push(l)}),this.syncEngine.Fo(a,o).then(()=>{this.Zs=r})}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=uC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class hB{constructor(){this.Mo=new XA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new XA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="ConnectivityMonitor";class k4{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){be(P4,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){be(P4,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wv=null;function QA(){return wv===null?wv=function(){return 268435456+Math.round(2147483648*Math.random())}():wv++,"0x"+wv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="RestConnection",Pse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kse{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===e_?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,s){const a=QA(),o=this.zo(e,t.toUriEncodedString());be(kE,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(o),h=Nd(u);return this.Jo(e,o,l,r,h).then(p=>(be(kE,`Received RPC '${e}' ${a}: `,p),p),p=>{throw Im(kE,`RPC '${e}' ${a} failed with error: `,p,"url: ",o,"request:",r),p})}Ho(e,t,r,i,s,a){return this.Go(e,t,r,i,s)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,t){const r=Pse[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lse{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="WebChannelConnection";class Vse extends kse{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const a=QA();return new Promise((o,l)=>{const u=new E7;u.setWithCredentials(!0),u.listenOnce(A7.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ry.NO_ERROR:const p=u.getResponseJson();be(Fr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),o(p);break;case ry.TIMEOUT:be(Fr,`RPC '${e}' ${a} timed out`),l(new Ce(ve.DEADLINE_EXCEEDED,"Request time out"));break;case ry.HTTP_ERROR:const g=u.getStatus();if(be(Fr,`RPC '${e}' ${a} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const x=function(A){const T=A.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(T)>=0?T:ve.UNKNOWN}(w.status);l(new Ce(x,w.message))}else l(new Ce(ve.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Ce(ve.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{be(Fr,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);be(Fr,`RPC '${e}' ${a} sending request:`,i),u.send(t,"POST",h,r,15)})}T_(e,t,r){const i=QA(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=C7(),o=T7(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const h=s.join("");be(Fr,`Creating RPC '${e}' stream ${i}: ${h}`,l);const p=a.createWebChannel(h,l);this.I_(p);let g=!1,v=!1;const w=new Lse({Yo:E=>{v?be(Fr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(g||(be(Fr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),be(Fr,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Zo:()=>p.close()}),x=(E,A,T)=>{E.listen(A,I=>{try{T(I)}catch(P){setTimeout(()=>{throw P},0)}})};return x(p,Ig.EventType.OPEN,()=>{v||(be(Fr,`RPC '${e}' stream ${i} transport opened.`),w.o_())}),x(p,Ig.EventType.CLOSE,()=>{v||(v=!0,be(Fr,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(p))}),x(p,Ig.EventType.ERROR,E=>{v||(v=!0,Im(Fr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),w.a_(new Ce(ve.UNAVAILABLE,"The operation could not be completed")))}),x(p,Ig.EventType.MESSAGE,E=>{var A;if(!v){const T=E.data[0];je(!!T,16349);const I=T,P=(I==null?void 0:I.error)||((A=I[0])==null?void 0:A.error);if(P){be(Fr,`RPC '${e}' stream ${i} received error:`,P);const O=P.status;let V=function(N){const L=$n[N];if(L!==void 0)return TV(L)}(O),R=P.message;V===void 0&&(V=ve.INTERNAL,R="Unknown error status: "+O+" with message "+P.message),v=!0,w.a_(new Ce(V,R)),p.close()}else be(Fr,`RPC '${e}' stream ${i} received:`,T),w.u_(T)}}),x(o,S7.STAT_EVENT,E=>{E.stat===DA.PROXY?be(Fr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===DA.NOPROXY&&be(Fr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(){return typeof window<"u"?window:null}function dy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n){return new zie(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="PersistentStream";class gB{constructor(e,t,r,i,s,a,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pB(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(kn(t.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{const i=new Ce(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return be(L4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(be(L4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bse extends gB{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=$ie(this.serializer,e),r=function(s){if(!("targetChange"in s))return ze.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ze.min():a.readTime?oi(a.readTime):ze.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=WA(this.serializer),t.addTarget=function(s,a){let o;const l=a.target;if(o=n_(l)?{documents:PV(s,l)}:{query:kV(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=DV(s,a.resumeToken);const u=HA(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(ze.min())>0){o.readTime=od(s,a.snapshotVersion.toTimestamp());const u=HA(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=qie(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=WA(this.serializer),t.removeTarget=e,this.q_(t)}}class Fse extends gB{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Gie(e.writeResults,e.commitTime),r=oi(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=WA(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>s_(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Use{}class jse extends Use{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ce(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,zA(t,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ce(ve.UNKNOWN,s.toString())})}Ho(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,zA(t,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(ve.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Hse{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kn(t),this.aa=!1):be("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu="RemoteStore";class zse{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{uf(this)&&(be(Zu,"Restarting streams for network reachability change."),await async function(l){const u=Fe(l);u.Ea.add(4),await h0(u),u.Ra.set("Unknown"),u.Ea.delete(4),await uw(u)}(this))})}),this.Ra=new Hse(r,i)}}async function uw(n){if(uf(n))for(const e of n.da)await e(!0)}async function h0(n){for(const e of n.da)await e(!1)}function fw(n,e){const t=Fe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),CC(t)?TC(t):Vd(t).O_()&&SC(t,e))}function cd(n,e){const t=Fe(n),r=Vd(t);t.Ia.delete(e),r.O_()&&mB(t,e),t.Ia.size===0&&(r.O_()?r.L_():uf(t)&&t.Ra.set("Unknown"))}function SC(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vd(n).Y_(e)}function mB(n,e){n.Va.Ue(e),Vd(n).Z_(e)}function TC(n){n.Va=new Fie({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Vd(n).start(),n.Ra.ua()}function CC(n){return uf(n)&&!Vd(n).x_()&&n.Ia.size>0}function uf(n){return Fe(n).Ea.size===0}function vB(n){n.Va=void 0}async function Wse(n){n.Ra.set("Online")}async function Yse(n){n.Ia.forEach((e,t)=>{SC(n,e)})}async function $se(n,e){vB(n),CC(n)?(n.Ra.ha(e),TC(n)):n.Ra.set("Unknown")}async function Gse(n,e,t){if(n.Ra.set("Online"),e instanceof IV&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(n,e)}catch(r){be(Zu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await d_(n,r)}else if(e instanceof fy?n.Va.Ze(e):e instanceof CV?n.Va.st(e):n.Va.tt(e),!t.isEqual(ze.min()))try{const r=await sB(n.localStore);t.compareTo(r)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(u);h&&s.Ia.set(u,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(Un.EMPTY_BYTE_STRING,h.snapshotVersion)),mB(s,l);const p=new Ao(h.target,l,u,h.sequenceNumber);SC(s,p)}),s.remoteSyncer.applyRemoteEvent(o)}(n,t)}catch(r){be(Zu,"Failed to raise snapshot:",r),await d_(n,r)}}async function d_(n,e,t){if(!gc(e))throw e;n.Ea.add(1),await h0(n),n.Ra.set("Offline"),t||(t=()=>sB(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{be(Zu,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await uw(n)})}function yB(n,e){return e().catch(t=>d_(n,t,e))}async function Ld(n){const e=Fe(n),t=rc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ru;for(;qse(e);)try{const i=await Nse(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,Kse(e,i)}catch(i){await d_(e,i)}_B(e)&&wB(e)}function qse(n){return uf(n)&&n.Ta.length<10}function Kse(n,e){n.Ta.push(e);const t=rc(n);t.O_()&&t.X_&&t.ea(e.mutations)}function _B(n){return uf(n)&&!rc(n).x_()&&n.Ta.length>0}function wB(n){rc(n).start()}async function Xse(n){rc(n).ra()}async function Qse(n){const e=rc(n);for(const t of n.Ta)e.ea(t.mutations)}async function Zse(n,e,t){const r=n.Ta.shift(),i=dC.from(r,e,t);await yB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Ld(n)}async function Jse(n,e){e&&rc(n).X_&&await async function(r,i){if(function(a){return Lie(a)&&a!==ve.ABORTED}(i.code)){const s=r.Ta.shift();rc(r).B_(),await yB(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ld(r)}}(n,e),_B(n)&&wB(n)}async function V4(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),be(Zu,"RemoteStore received new credentials");const r=uf(t);t.Ea.add(3),await h0(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await uw(t)}async function ZA(n,e){const t=Fe(n);e?(t.Ea.delete(2),await uw(t)):e||(t.Ea.add(2),await h0(t),t.Ra.set("Unknown"))}function Vd(n){return n.ma||(n.ma=function(t,r,i){const s=Fe(t);return s.sa(),new Bse(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Xo:Wse.bind(null,n),t_:Yse.bind(null,n),r_:$se.bind(null,n),H_:Gse.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),CC(n)?TC(n):n.Ra.set("Unknown")):(await n.ma.stop(),vB(n))})),n.ma}function rc(n){return n.fa||(n.fa=function(t,r,i){const s=Fe(t);return s.sa(),new Fse(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Xse.bind(null,n),r_:Jse.bind(null,n),ta:Qse.bind(null,n),na:Zse.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Ld(n)):(await n.fa.stop(),n.Ta.length>0&&(be(Zu,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const a=Date.now()+r,o=new IC(e,t,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function DC(n,e){if(kn("AsyncQueue",`${e}: ${n}`),gc(n))return new Ce(ve.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{static emptySet(e){return new jh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ie.comparator(t.key,r.key):(t,r)=>Ie.comparator(t.key,r.key),this.keyedMap=Dg(),this.sortedSet=new un(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new jh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.ga=new un(Ie.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class ud{constructor(e,t,r,i,s,a,o,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){const a=[];return t.forEach(o=>{a.push({type:0,doc:o})}),new ud(e,t,jh.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eae{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class tae{constructor(){this.queries=F4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Fe(t),s=i.queries;i.queries=F4(),s.forEach((a,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new Ce(ve.ABORTED,"Firestore shutting down"))}}function F4(){return new jo(n=>hV(n),nw)}async function RC(n,e){const t=Fe(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new eae,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const o=DC(a,`Initialization of query '${vh(e.query)}' failed`);return void e.onError(o)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&NC(t)}async function OC(n,e){const t=Fe(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function nae(n,e){const t=Fe(n);let r=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&NC(t)}function rae(n,e,t){const r=Fe(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function NC(n){n.Ca.forEach(e=>{e.next()})}var JA,U4;(U4=JA||(JA={})).Ma="default",U4.Cache="cache";class MC{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ud(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ud.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==JA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.key=e}}class bB{constructor(e){this.key=e}}class iae{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ft(),this.mutatedKeys=ft(),this.eu=pV(e),this.tu=new jh(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new B4,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const g=i.get(h),v=c0(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;g&&v?g.data.isEqual(v.data)?w!==x&&(r.track({type:3,doc:v}),E=!0):this.su(g,v)||(r.track({type:2,doc:v}),E=!0,(l&&this.eu(v,l)>0||u&&this.eu(v,u)<0)&&(o=!0)):!g&&v?(r.track({type:0,doc:v}),E=!0):g&&!v&&(r.track({type:1,doc:g}),E=!0,(l||u)&&(o=!0)),E&&(v?(a=a.add(v),s=x?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((h,p)=>function(v,w){const x=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:E})}};return x(v)-x(w)}(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(r),i=i??!1;const o=t&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,a.length!==0||u?{snapshot:new ud(this.query,e.tu,s,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ft(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new bB(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new xB(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=ft();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ud.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bd="SyncEngine";class sae{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class aae{constructor(e){this.key=e,this.hu=!1}}class oae{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new jo(o=>hV(o),nw),this.Iu=new Map,this.Eu=new Set,this.du=new un(Ie.comparator),this.Au=new Map,this.Ru=new _C,this.Vu={},this.mu=new Map,this.fu=Qu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lae(n,e,t=!0){const r=hw(n);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await EB(r,e,t,!0),i}async function cae(n,e){const t=hw(n);await EB(t,e,!0,!1)}async function EB(n,e,t,r){const i=await u_(n.localStore,ji(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let o;return r&&(o=await PC(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&fw(n.remoteStore,i),o}async function PC(n,e,t,r,i){n.pu=(p,g,v)=>async function(x,E,A,T){let I=E.view.ru(A);I.Cs&&(I=await KA(x.localStore,E.query,!1).then(({documents:R})=>E.view.ru(R,I)));const P=T&&T.targetChanges.get(E.targetId),O=T&&T.targetMismatches.get(E.targetId)!=null,V=E.view.applyChanges(I,x.isPrimaryClient,P,O);return eS(x,E.targetId,V.au),V.snapshot}(n,p,g,v);const s=await KA(n.localStore,e,!0),a=new iae(e,s.Qs),o=a.ru(s.documents),l=f0.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=a.applyChanges(o,n.isPrimaryClient,l);eS(n,t,u.au);const h=new sae(e,t,a);return n.Tu.set(e,h),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),u.snapshot}async function uae(n,e,t){const r=Fe(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!nw(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ld(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&cd(r.remoteStore,i.targetId),fd(r,i.targetId)}).catch(pc)):(fd(r,i.targetId),await ld(r.localStore,i.targetId,!0))}async function fae(n,e){const t=Fe(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),cd(t.remoteStore,r.targetId))}async function hae(n,e,t){const r=BC(n);try{const i=await function(a,o){const l=Fe(a),u=Kt.now(),h=o.reduce((v,w)=>v.add(w.key),ft());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let w=Bi(),x=ft();return l.Ns.getEntries(v,h).next(E=>{w=E,w.forEach((A,T)=>{T.isValidDocument()||(x=x.add(A))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,w)).next(E=>{p=E;const A=[];for(const T of o){const I=Pie(T,p.get(T.key).overlayedDocument);I!=null&&A.push(new Ho(T.key,I,rV(I.value.mapValue),Gr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,A,o)}).next(E=>{g=E;const A=E.applyToLocalDocumentSet(p,x);return l.documentOverlayCache.saveOverlays(v,E.batchId,A)})}).then(()=>({batchId:g.batchId,changes:mV(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Vu[a.currentUser.toKey()];u||(u=new un(tt)),u=u.insert(o,l),a.Vu[a.currentUser.toKey()]=u}(r,i.batchId,t),await vc(r,i.changes),await Ld(r.remoteStore)}catch(i){const s=DC(i,"Failed to persist write");t.reject(s)}}async function AB(n,e){const t=Fe(n);try{const r=await Rse(t.localStore,e);e.targetChanges.forEach((i,s)=>{const a=t.Au.get(s);a&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?je(a.hu,14607):i.removedDocuments.size>0&&(je(a.hu,42227),a.hu=!1))}),await vc(t,r,e)}catch(r){await pc(r)}}function j4(n,e,t){const r=Fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Fe(a);l.onlineState=o;let u=!1;l.queries.forEach((h,p)=>{for(const g of p.Sa)g.va(o)&&(u=!0)}),u&&NC(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dae(n,e,t){const r=Fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new un(Ie.comparator);a=a.insert(s,In.newNoDocument(s,ze.min()));const o=ft().add(s),l=new u0(ze.min(),new Map,new un(tt),a,o);await AB(r,l),r.du=r.du.remove(s),r.Au.delete(e),VC(r)}else await ld(r.localStore,e,!1).then(()=>fd(r,e,t)).catch(pc)}async function pae(n,e){const t=Fe(n),r=e.batch.batchId;try{const i=await Dse(t.localStore,e);LC(t,r,null),kC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await vc(t,i)}catch(i){await pc(i)}}async function gae(n,e,t){const r=Fe(n);try{const i=await function(a,o){const l=Fe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,o).next(p=>(je(p!==null,37113),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);LC(r,e,t),kC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await vc(r,i)}catch(i){await pc(i)}}function kC(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function LC(n,e,t){const r=Fe(n);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function fd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||SB(n,r)})}function SB(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(cd(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),VC(n))}function eS(n,e,t){for(const r of t)r instanceof xB?(n.Ru.addReference(r.key,e),mae(n,r)):r instanceof bB?(be(Bd,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||SB(n,r.key)):Me(19791,{wu:r})}function mae(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(be(Bd,"New document in limbo: "+t),n.Eu.add(r),VC(n))}function VC(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ie(Ut.fromString(e)),r=n.fu.next();n.Au.set(r,new aae(t)),n.du=n.du.insert(t,r),fw(n.remoteStore,new Ao(ji(l0(t.path)),r,"TargetPurposeLimboResolution",Ei.ce))}}async function vc(n,e,t){const r=Fe(n),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{a.push(r.pu(l,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=t==null?void 0:t.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);const p=bC.As(l.targetId,u);s.push(p)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(l,u){const h=Fe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>ee.forEach(u,g=>ee.forEach(g.Es,v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>ee.forEach(g.ds,v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!gc(p))throw p;be(EC,"Failed to update sequence numbers: "+p)}for(const p of u){const g=p.targetId;if(!p.fromCache){const v=h.Ms.get(g),w=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(w);h.Ms=h.Ms.insert(g,x)}}}(r.localStore,s))}async function vae(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){be(Bd,"User change. New user:",e.toKey());const r=await iB(t.localStore,e);t.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new Ce(ve.CANCELLED,a))})}),s.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vc(t,r.Ls)}}function yae(n,e){const t=Fe(n),r=t.Au.get(e);if(r&&r.hu)return ft().add(r.key);{let i=ft();const s=t.Iu.get(e);if(!s)return i;for(const a of s){const o=t.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}async function _ae(n,e){const t=Fe(n),r=await KA(t.localStore,e.query,!0),i=e.view.cu(r);return t.isPrimaryClient&&eS(t,e.targetId,i.au),i}async function wae(n,e){const t=Fe(n);return oB(t.localStore,e).then(r=>vc(t,r))}async function xae(n,e,t,r){const i=Fe(n),s=await function(o,l){const u=Fe(o),h=Fe(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.er(p,l).next(g=>g?u.localDocuments.getDocuments(p,g):ee.resolve(null)))}(i.localStore,e);s!==null?(t==="pending"?await Ld(i.remoteStore):t==="acknowledged"||t==="rejected"?(LC(i,e,r||null),kC(i,e),function(o,l){Fe(Fe(o).mutationQueue).ir(l)}(i.localStore,e)):Me(6720,"Unknown batchState",{Su:t}),await vc(i,s)):be(Bd,"Cannot apply mutation batch with id: "+e)}async function bae(n,e){const t=Fe(n);if(hw(t),BC(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await H4(t,r.toArray());t.gu=!0,await ZA(t.remoteStore,!0);for(const s of i)fw(t.remoteStore,s)}else if(e===!1&&t.gu!==!1){const r=[];let i=Promise.resolve();t.Iu.forEach((s,a)=>{t.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then(()=>(fd(t,a),ld(t.localStore,a,!0))),cd(t.remoteStore,a)}),await i,await H4(t,r),function(a){const o=Fe(a);o.Au.forEach((l,u)=>{cd(o.remoteStore,u)}),o.Ru.Jr(),o.Au=new Map,o.du=new un(Ie.comparator)}(t),t.gu=!1,await ZA(t.remoteStore,!1)}}async function H4(n,e,t){const r=Fe(n),i=[],s=[];for(const a of e){let o;const l=r.Iu.get(a);if(l&&l.length!==0){o=await u_(r.localStore,ji(l[0]));for(const u of l){const h=r.Tu.get(u),p=await _ae(r,h);p.snapshot&&s.push(p.snapshot)}}else{const u=await aB(r.localStore,a);o=await u_(r.localStore,u),await PC(r,TB(u),a,!1,o.resumeToken)}i.push(o)}return r.Pu.H_(s),i}function TB(n){return fV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Eae(n){return function(t){return Fe(Fe(t).persistence).Ts()}(Fe(n).localStore)}async function Aae(n,e,t,r){const i=Fe(n);if(i.gu)return void be(Bd,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const a=await oB(i.localStore,dV(s[0])),o=u0.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Un.EMPTY_BYTE_STRING);await vc(i,a,o);break}case"rejected":await ld(i.localStore,e,!0),fd(i,e,r);break;default:Me(64155,t)}}async function Sae(n,e,t){const r=hw(n);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){be(Bd,"Adding an already active target "+i);continue}const s=await aB(r.localStore,i),a=await u_(r.localStore,s);await PC(r,TB(s),a.targetId,!1,a.resumeToken),fw(r.remoteStore,a)}for(const i of t)r.Iu.has(i)&&await ld(r.localStore,i,!1).then(()=>{cd(r.remoteStore,i),fd(r,i)}).catch(pc)}}function hw(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dae.bind(null,e),e.Pu.H_=nae.bind(null,e.eventManager),e.Pu.yu=rae.bind(null,e.eventManager),e}function BC(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gae.bind(null,e),e}class Fm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return rB(this.persistence,new nB,e.initialUser,this.serializer)}Cu(e){return new wC(lw.mi,this.serializer)}Du(e){return new hB}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fm.provider={build:()=>new Fm};class Tae extends Fm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){je(this.persistence.referenceDelegate instanceof c_,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XV(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Hr.withCacheSize(this.cacheSizeBytes):Hr.DEFAULT;return new wC(r=>c_.mi(r,t),this.serializer)}}class CB extends Fm{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await BC(this.xu.syncEngine),await Ld(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return rB(this.persistence,new nB,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new XV(r,e.asyncQueue,t)}Mu(e,t){const r=new kre(t,this.persistence);return new Pre(e.asyncQueue,r)}Cu(e){const t=tB(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Hr.withCacheSize(this.cacheSizeBytes):Hr.DEFAULT;return new xC(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,dB(),dy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new hB}}class Cae extends CB{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof PE&&(this.sharedClientState.syncEngine={Co:xae.bind(null,t),vo:Aae.bind(null,t),Fo:Sae.bind(null,t),Ts:Eae.bind(null,t),Do:wae.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await bae(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Du(e){const t=dB();if(!PE.v(t))throw new Ce(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=tB(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new PE(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Um{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>j4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vae.bind(null,this.syncEngine),await ZA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tae}()}createDatastore(e){const t=cw(e.databaseInfo.databaseId),r=function(s){return new Vse(s)}(e.databaseInfo);return function(s,a,o,l){return new jse(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,a,o){return new zse(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,t=>j4(this.syncEngine,t,0),function(){return k4.v()?new k4:new Mse}())}createSyncEngine(e,t){return function(i,s,a,o,l,u,h){const p=new oae(i,s,a,o,l,u);return h&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Fe(i);be(Zu,"RemoteStore shutting down."),s.Ea.add(5),await h0(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):kn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic="FirestoreClient";class Iae{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=jr.UNAUTHENTICATED,this.clientId=QT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{be(ic,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(be(ic,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=DC(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function LE(n,e){n.asyncQueue.verifyOperationInProgress(),be(ic,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await iB(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function z4(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Dae(n);be(ic,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>V4(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>V4(e.remoteStore,i)),n._onlineComponents=e}async function Dae(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(ic,"Using user provided OfflineComponentProvider");try{await LE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Im("Error using user provided cache. Falling back to memory cache: "+t),await LE(n,new Fm)}}else be(ic,"Using default OfflineComponentProvider"),await LE(n,new Tae(void 0));return n._offlineComponents}async function IB(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(ic,"Using user provided OnlineComponentProvider"),await z4(n,n._uninitializedComponentsProvider._online)):(be(ic,"Using default OnlineComponentProvider"),await z4(n,new Um))),n._onlineComponents}function Rae(n){return IB(n).then(e=>e.syncEngine)}async function p_(n){const e=await IB(n),t=e.eventManager;return t.onListen=lae.bind(null,e.syncEngine),t.onUnlisten=uae.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cae.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fae.bind(null,e.syncEngine),t}function Oae(n,e,t={}){const r=new Oa;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const h=new FC({next:g=>{h.Nu(),a.enqueueAndForget(()=>OC(s,p));const v=g.docs.has(o);!v&&g.fromCache?u.reject(new Ce(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&l&&l.source==="server"?u.reject(new Ce(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new MC(l0(o.path),h,{includeMetadataChanges:!0,qa:!0});return RC(s,p)}(await p_(n),n.asyncQueue,e,t,r)),r.promise}function Nae(n,e,t={}){const r=new Oa;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const h=new FC({next:g=>{h.Nu(),a.enqueueAndForget(()=>OC(s,p)),g.fromCache&&l.source==="server"?u.reject(new Ce(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new MC(o,h,{includeMetadataChanges:!0,qa:!0});return RC(s,p)}(await p_(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mae="firestore.googleapis.com",Y4=!0;class $4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mae,this.ssl=Y4}else this.host=e.host,this.ssl=e.ssl??Y4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KV)throw new Ce(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ore("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DB(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ce(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ce(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ce(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class UC{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bre;switch(r.type){case"firstParty":return new Sre(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=W4.get(t);r&&(be("ComponentProvider","Removing Datastore"),W4.delete(t),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new d0(this.firestore,e,this._query)}}class Vn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}toJSON(){return{type:Vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(s0(t,Vn._jsonSchema))return new Vn(e,r||null,new Ie(Ut.fromString(t.referencePath)))}}Vn._jsonSchemaVersion="firestore/documentReference/1.0",Vn._jsonSchema={type:qn("string",Vn._jsonSchemaVersion),referencePath:qn("string")};class $l extends d0{constructor(e,t,r){super(e,t,l0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new Ie(e))}withConverter(e){return new $l(this.firestore,e,this._path)}}function Fd(n,e,...t){if(n=An(n),R7("collection","path",e),n instanceof UC){const r=Ut.fromString(e,...t);return LP(r),new $l(n,null,r)}{if(!(n instanceof Vn||n instanceof $l))throw new Ce(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ut.fromString(e,...t));return LP(r),new $l(n.firestore,null,r)}}function zs(n,e,...t){if(n=An(n),arguments.length===1&&(e=QT.newId()),R7("doc","path",e),n instanceof UC){const r=Ut.fromString(e,...t);return kP(r),new Vn(n,null,new Ie(r))}{if(!(n instanceof Vn||n instanceof $l))throw new Ce(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ut.fromString(e,...t));return kP(r),new Vn(n.firestore,n instanceof $l?n.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="AsyncQueue";class q4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pB(this,"async_queue_retry"),this._c=()=>{const r=dy();r&&be(G4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=dy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=dy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Oa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gc(e))throw e;be(G4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,kn("INTERNAL UNHANDLED ERROR: ",K4(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=IC.createAndSchedule(this,e,t,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Me(47125,{Pc:K4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function K4(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class Bo extends UC{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new q4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q4(e),this._firestoreClient=void 0,await e}}}function Pae(n,e,t){t||(t=e_);const r=of(n,"firestore");if(r.isInitialized(t)){const i=r.getImmediate({identifier:t}),s=r.getOptions(t);if(ec(s,e))return i;throw new Ce(ve.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Ce(ve.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KV)throw new Ce(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Nd(e.host)&&i9(e.host),r.initialize({options:e,instanceIdentifier:t})}function dw(n){if(n._terminated)throw new Ce(ve.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||kae(n),n._firestoreClient}function kae(n){var r,i,s;const e=n._freezeSettings(),t=function(o,l,u,h){return new cie(o,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,DB(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Iae(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ds(Un.fromBase64String(e))}catch(t){throw new Ce(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ds(Un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ds._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(s0(e,ds._jsonSchema))return ds.fromBase64String(e.bytes)}}ds._jsonSchemaVersion="firestore/bytes/1.0",ds._jsonSchema={type:qn("string",ds._jsonSchemaVersion),bytes:qn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Na._jsonSchemaVersion}}static fromJSON(e){if(s0(e,Na._jsonSchema))return new Na(e.latitude,e.longitude)}}Na._jsonSchemaVersion="firestore/geoPoint/1.0",Na._jsonSchema={type:qn("string",Na._jsonSchemaVersion),latitude:qn("number"),longitude:qn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ma._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(s0(e,Ma._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Ma(e.vectorValues);throw new Ce(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ma._jsonSchemaVersion="firestore/vectorValue/1.0",Ma._jsonSchema={type:qn("string",Ma._jsonSchemaVersion),vectorValues:qn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lae=/^__.*__$/;class Vae{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ho(e,this.data,this.fieldMask,t,this.fieldTransforms):new kd(e,this.data,t,this.fieldTransforms)}}class RB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ho(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function OB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:n})}}class HC{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new HC({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return g_(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(OB(this.Ac)&&Lae.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Bae{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||cw(e)}Cc(e,t,r,i=!1){return new HC({Ac:e,methodName:t,Dc:r,path:bn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zC(n){const e=n._freezeSettings(),t=cw(n._databaseId);return new Bae(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NB(n,e,t,r,i,s={}){const a=n.Cc(s.merge||s.mergeFields?2:0,e,t,i);WC("Data must be an object, but it was:",a,r);const o=MB(r,a);let l,u;if(s.merge)l=new Ai(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const g=tS(e,p,t);if(!a.contains(g))throw new Ce(ve.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);kB(h,g)||h.push(g)}l=new Ai(h),u=a.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=a.fieldTransforms;return new Vae(new zr(o),l,u)}class gw extends jC{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gw}}function Fae(n,e,t,r){const i=n.Cc(1,e,t);WC("Data must be an object, but it was:",i,r);const s=[],a=zr.empty();mc(r,(l,u)=>{const h=YC(e,l,t);u=An(u);const p=i.yc(h);if(u instanceof gw)s.push(h);else{const g=mw(u,p);g!=null&&(s.push(h),a.set(h,g))}});const o=new Ai(s);return new RB(a,o,i.fieldTransforms)}function Uae(n,e,t,r,i,s){const a=n.Cc(1,e,t),o=[tS(e,r,t)],l=[i];if(s.length%2!=0)throw new Ce(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)o.push(tS(e,s[g])),l.push(s[g+1]);const u=[],h=zr.empty();for(let g=o.length-1;g>=0;--g)if(!kB(u,o[g])){const v=o[g];let w=l[g];w=An(w);const x=a.yc(v);if(w instanceof gw)u.push(v);else{const E=mw(w,x);E!=null&&(u.push(v),h.set(v,E))}}const p=new Ai(u);return new RB(h,p,a.fieldTransforms)}function mw(n,e){if(PB(n=An(n)))return WC("Unsupported field value:",e,n),MB(n,e);if(n instanceof jC)return function(r,i){if(!OB(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=mw(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=An(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Cie(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Kt.fromDate(r);return{timestampValue:od(i.serializer,s)}}if(r instanceof Kt){const s=new Kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:od(i.serializer,s)}}if(r instanceof Na)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ds)return{bytesValue:DV(i.serializer,r._byteString)};if(r instanceof Vn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:mC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ma)return function(a,o){return{mapValue:{fields:{[aC]:{stringValue:oC},[td]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return fC(o.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${ZT(r)}`)}(n,e)}function MB(n,e){const t={};return q7(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mc(n,(r,i)=>{const s=mw(i,e.mc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function PB(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Kt||n instanceof Na||n instanceof ds||n instanceof Vn||n instanceof jC||n instanceof Ma)}function WC(n,e,t){if(!PB(t)||!O7(t)){const r=ZT(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function tS(n,e,t){if((e=An(e))instanceof pw)return e._internalPath;if(typeof e=="string")return YC(n,e);throw g_("Field path arguments must be of type string or ",n,!1,void 0,t)}const jae=new RegExp("[~\\*/\\[\\]]");function YC(n,e,t){if(e.search(jae)>=0)throw g_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pw(...e.split("."))._internalPath}catch{throw g_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function g_(n,e,t,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Ce(ve.INVALID_ARGUMENT,o+n+l)}function kB(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(VB("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Hae extends LB{data(){return super.data()}}function VB(n,e){return typeof e=="string"?YC(n,e):e instanceof pw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ce(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zae{convertValue(e,t="none"){switch(tc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return mc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var r,i,s;const t=(s=(i=(r=e.fields)==null?void 0:r[td].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>mn(a.doubleValue));return new Ma(t)}convertGeoPoint(e){return new Na(mn(e.latitude),mn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=J_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pm(e));default:return null}}convertTimestamp(e){const t=Lo(e);return new Kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ut.fromString(e);je(FV(r),9688,{name:e});const i=new Gu(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return i.isEqual(t)||kn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Ng{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mu extends LB{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new py(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(VB("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Mu._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Mu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mu._jsonSchema={type:qn("string",Mu._jsonSchemaVersion),bundleSource:qn("string","DocumentSnapshot"),bundleName:qn("string"),bundle:qn("string")};class py extends Mu{data(e={}){return super.data(e)}}class Pu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ng(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new py(this._firestore,this._userDataWriter,r.key,r,new Ng(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new py(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ng(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new py(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ng(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:Wae(o.type),doc:l,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=QT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Wae(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(n){n=Ui(n,Vn);const e=Ui(n.firestore,Bo);return Oae(dw(e),n._key).then(t=>HB(e,n,t))}Pu._jsonSchemaVersion="firestore/querySnapshot/1.0",Pu._jsonSchema={type:qn("string",Pu._jsonSchemaVersion),bundleSource:qn("string","QuerySnapshot"),bundleName:qn("string"),bundle:qn("string")};class $C extends zae{constructor(e){super(),this.firestore=e}convertBytes(e){return new ds(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}function yw(n){n=Ui(n,d0);const e=Ui(n.firestore,Bo),t=dw(e),r=new $C(e);return BB(n._query),Nae(t,n._query).then(i=>new Pu(e,r,n,i))}function UB(n,e,t){n=Ui(n,Vn);const r=Ui(n.firestore,Bo),i=FB(n.converter,e);return _w(r,[NB(zC(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Gr.none())])}function p0(n,e,t,...r){n=Ui(n,Vn);const i=Ui(n.firestore,Bo),s=zC(i);let a;return a=typeof(e=An(e))=="string"||e instanceof pw?Uae(s,"updateDoc",n._key,e,t,r):Fae(s,"updateDoc",n._key,e),_w(i,[a.toMutation(n._key,Gr.exists(!0))])}function jB(n){return _w(Ui(n.firestore,Bo),[new sw(n._key,Gr.none())])}function Yae(n,e){const t=Ui(n.firestore,Bo),r=zs(n),i=FB(n.converter,e);return _w(t,[NB(zC(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Gr.exists(!1))]).then(()=>r)}function Q4(n,...e){var l,u,h;n=An(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||X4(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(X4(e[r])){const p=e[r];e[r]=(l=p.next)==null?void 0:l.bind(p),e[r+1]=(u=p.error)==null?void 0:u.bind(p),e[r+2]=(h=p.complete)==null?void 0:h.bind(p)}let s,a,o;if(n instanceof Vn)a=Ui(n.firestore,Bo),o=l0(n._key.path),s={next:p=>{e[r]&&e[r](HB(a,n,p))},error:e[r+1],complete:e[r+2]};else{const p=Ui(n,d0);a=Ui(p.firestore,Bo),o=p._query;const g=new $C(a);s={next:v=>{e[r]&&e[r](new Pu(a,g,p,v))},error:e[r+1],complete:e[r+2]},BB(n._query)}return function(g,v,w,x){const E=new FC(x),A=new MC(v,E,w);return g.asyncQueue.enqueueAndForget(async()=>RC(await p_(g),A)),()=>{E.Nu(),g.asyncQueue.enqueueAndForget(async()=>OC(await p_(g),A))}}(dw(a),o,i,s)}function _w(n,e){return function(r,i){const s=new Oa;return r.asyncQueue.enqueueAndForget(async()=>hae(await Rae(r),i,s)),s.promise}(dw(n),e)}function HB(n,e,t){const r=t.docs.get(e._key),i=new $C(n);return new Mu(n,i,e._key,r,new Ng(t.hasPendingWrites,t.fromCache),e.converter)}class $ae{constructor(e){let t;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=Xae(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function Gae(n){return new $ae(n)}class qae{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Um.provider,this._offlineComponentProvider={build:t=>new CB(t,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class Kae{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Um.provider,this._offlineComponentProvider={build:t=>new Cae(t,e==null?void 0:e.cacheSizeBytes)}}}function Xae(n){return new qae(n==null?void 0:n.forceOwnership)}function Qae(){return new Kae}(function(e,t=!0){(function(i){Pd=i})(Md),Ba(new js("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Bo(new Ere(r.getProvider("auth-internal")),new Tre(a,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ce(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(u.options.projectId,h)}(a,i),a);return s={useFetchStreams:t,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),ms(OP,NP,e),ms(OP,NP,"esm2020")})();const Zae={apiKey:"AIzaSyBc4CZnGGOTDvfPvEwaA0dXFOwbocdwCa8",authDomain:"knowurfood-d2b78.firebaseapp.com",projectId:"knowurfood-d2b78",storageBucket:"knowurfood-d2b78.firebasestorage.app",messagingSenderId:"643565214463",appId:"1:643565214463:web:8681aadcc4f49c6afdcaca",measurementId:"G-HB4L7NXGNE"},GC=h9(Zae);tte(GC);const qC=KT(GC),Kr=Pae(GC,{localCache:Gae({tabManager:Qae()})}),zB=n=>Math.floor(n/100)+1,Jae=async(n,e)=>{await Yae(Fd(Kr,"users",e,"meals"),n);const t=zs(Kr,"users",e),r=await vw(t);if(r.exists()){const s=(r.data().xp||0)+10,a=zB(s);await p0(t,{xp:s,level:a})}},VE=async n=>(await yw(Fd(Kr,"users",n,"meals"))).docs.map(t=>({id:t.id,...t.data()})),eoe=async(n,e)=>{const t=zs(Kr,"users",e,"meals",n.id),{id:r,...i}=n;await p0(t,i)},toe=async(n,e)=>{const t=zs(Kr,"users",e,"meals",n);await jB(t)},noe=async n=>{const e=Fd(Kr,"users",n,"meals"),r=(await yw(e)).docs.map(i=>jB(i.ref));await Promise.all(r)},Z4=async(n,e)=>{const t=zs(Kr,"users",n);await p0(t,e)},roe=async(n,e,t)=>{const r=zs(Kr,"users",n,"weightLogs",e);await UB(r,{date:e,weight:t});const i=zs(Kr,"users",n),s=await vw(i);if(s.exists()){const o=(s.data().xp||0)+10,l=Math.floor(o/100)+1;await p0(i,{xp:o,level:l})}},m_=async n=>(await yw(Fd(Kr,"users",n,"weightLogs"))).docs.map(t=>t.data()),ioe=async({email:n,password:e,...t})=>{const i=(await rne(qC,n,e)).user,{firstName:s,lastName:a,mealOrder:o,unit:l,currentWeight:u,goalWeight:h,height:p,goalDate:g,breakfastTime:v,lunchTime:w,dinnerTime:x,calorieGoal:E,age:A=25,gender:T="male"}=t,I=Math.max(1,Math.ceil((new Date(g)-new Date)/(1e3*60*60*24))),P=T==="male"?10*u+6.25*p-5*A+5:10*u+6.25*p-5*A-161,O=(h-u)*7700/I,V=Math.round(P+O),R=isNaN(E)?V:Number(E);return await UB(zs(Kr,"users",i.uid),{firstName:s,lastName:a,mealOrder:o,unit:l,currentWeight:u,goalWeight:h,goalDate:g,height:p,breakfastTime:v,lunchTime:w,dinnerTime:x,xp:0,level:1,streak:1,lastLogin:new Date().toISOString().split("T")[0],badges:[],calorieGoal:R,age:A,gender:T}),{...i,...t,calorieGoal:R}},soe=async()=>{await une(qC)},J4=async()=>new Promise(n=>{const e=qC.onAuthStateChanged(async t=>{if(e(),!t)return n(null);const r=zs(Kr,"users",t.uid),i=await vw(r);if(!i.exists())return n(t);const s=i.data(),a=new Date().toISOString().split("T")[0],o=s.lastLogin||a,l=aoe(o,a);let u={};u.streak=l===1?(s.streak||0)+1:l>1?1:s.streak||1,u.lastLogin=a;const h=[5,15,30,60,100],p=s.badges||[];if(h.includes(u.streak)){const g=`${u.streak}-Day Streak`;p.includes(g)||(p.push(g),u.badges=p)}try{const v=(await yw(Fd(Kr,"users",t.uid,"weightLogs"))).docs.map(w=>w.data());if(v.length>0&&s.goalWeight&&s.goalDate&&!p.includes(" Goal Achieved")){const w=v.reduce((A,T)=>A.date>T.date?A:T),x=s.goalWeight>=s.currentWeight&&w.weight>=s.goalWeight||s.goalWeight<s.currentWeight&&w.weight<=s.goalWeight,E=new Date(w.date)<=new Date(s.goalDate);if(x&&E){p.push(" Goal Achieved");const A=(s.xp||0)+50,T=zB(A);u.badges=p,u.xp=A,u.level=T}}}catch(g){console.error("Error checking goal badge:",g)}(u.streak!==s.streak||u.lastLogin!==o||u.badges||u.xp)&&(await p0(r,u),Object.assign(s,u)),n({...t,...s})})}),aoe=(n,e)=>{const t=new Date(n),r=new Date(e);return Math.floor((r-t)/(1e3*60*60*24))},WB=G.createContext(),ooe=({children:n})=>{const[e,t]=G.useState({message:"",type:"",visible:!1}),r=G.useCallback((i,s="info")=>{t({message:i,type:s,visible:!0}),setTimeout(()=>t({...e,visible:!1}),4e3)},[]);return D.jsxs(WB.Provider,{value:{showToast:r},children:[n,e.visible&&D.jsx("div",{className:"toast-container position-fixed top-0 start-50 translate-middle-x p-3",style:{zIndex:9999},children:D.jsx("div",{className:`toast show text-white bg-${e.type}`,children:D.jsx("div",{className:"toast-body fw-bold text-center",children:e.message})})})]})},KC=()=>G.useContext(WB);function loe({user:n,onWeightLogged:e,onClose:t}){const r=g=>{const v=g.getFullYear(),w=String(g.getMonth()+1).padStart(2,"0"),x=String(g.getDate()).padStart(2,"0");return`${v}-${w}-${x}`},[i,s]=G.useState(""),[a,o]=G.useState([]),[l,u]=G.useState(r(new Date)),{showToast:h}=KC();G.useEffect(()=>{n!=null&&n.uid&&m_(n.uid).then(o)},[n]);const p=async()=>{if(!i||isNaN(i))return;await roe(n.uid,l,parseFloat(i));const g=await m_(n.uid);o(g),h(" Weight logged! +10 XP ","success"),s(""),e&&e(g),t&&t()};return D.jsxs("div",{className:"card bg-dark p-3 mb-3 text-white shadow-sm",children:[D.jsx("h6",{className:"fw-bold mb-2 SubTitleName",children:"Weight Tracker"}),D.jsxs("div",{className:"d-flex gap-2 mb-2",children:[D.jsx("input",{type:"date",className:"form-control",value:l,max:r(new Date),onChange:g=>u(g.target.value)}),D.jsx("input",{type:"number",placeholder:"Weight (kg)",className:"form-control",value:i,onChange:g=>s(g.target.value)}),D.jsx("button",{className:"btn btn-primary",onClick:()=>{p(),t()},children:"Save"})]})]})}const YB=6048e5,coe=864e5,g0=6e4,m0=36e5,uoe=1e3,ek=Symbol.for("constructDateFrom");function Qt(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&ek in n?n[ek](e):n instanceof Date?new n.constructor(e):new Date(e)}function Oe(n,e){return Qt(e||n,n)}function vs(n,e,t){const r=Oe(n,t==null?void 0:t.in);return isNaN(e)?Qt((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function xs(n,e,t){const r=Oe(n,t==null?void 0:t.in);if(isNaN(e))return Qt(n,NaN);if(!e)return r;const i=r.getDate(),s=Qt(n,r.getTime());s.setMonth(r.getMonth()+e+1,0);const a=s.getDate();return i>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function XC(n,e,t){return Qt(n,+Oe(n)+e)}function $B(n,e,t){return XC(n,e*m0)}let foe={};function ff(){return foe}function Ws(n,e){var o,l,u,h;const t=ff(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((h=(u=t.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,i=Oe(n,e==null?void 0:e.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function hd(n,e){return Ws(n,{...e,weekStartsOn:1})}function GB(n,e){const t=Oe(n,e==null?void 0:e.in),r=t.getFullYear(),i=Qt(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=hd(i),a=Qt(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=hd(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function v_(n){const e=Oe(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Ss(n,...e){const t=Qt.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function sc(n,e){const t=Oe(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function dd(n,e,t){const[r,i]=Ss(t==null?void 0:t.in,n,e),s=sc(r),a=sc(i),o=+s-v_(s),l=+a-v_(a);return Math.round((o-l)/coe)}function hoe(n,e){const t=GB(n,e),r=Qt(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),hd(r)}function y_(n,e,t){const r=Oe(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*g0),r}function ww(n,e,t){return xs(n,e*3,t)}function qB(n,e,t){return XC(n,e*1e3)}function jm(n,e,t){return vs(n,e*7,t)}function Pa(n,e,t){return xs(n,e*12,t)}function tk(n,e){let t,r=e==null?void 0:e.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=Qt.bind(null,i));const s=Oe(i,r);(!t||t<s||isNaN(+s))&&(t=s)}),Qt(r,t||NaN)}function nk(n,e){let t,r=e==null?void 0:e.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=Qt.bind(null,i));const s=Oe(i,r);(!t||t>s||isNaN(+s))&&(t=s)}),Qt(r,t||NaN)}function lm(n,e){const t=+Oe(n)-+Oe(e);return t<0?-1:t>0?1:t}function doe(n,e,t){const[r,i]=Ss(t==null?void 0:t.in,n,e);return+sc(r)==+sc(i)}function To(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Hm(n){return!(!To(n)&&typeof n!="number"||isNaN(+Oe(n)))}function zm(n,e,t){const[r,i]=Ss(t==null?void 0:t.in,n,e),s=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return s*12+a}function ku(n,e){const t=Oe(n,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function __(n,e,t){const[r,i]=Ss(t==null?void 0:t.in,n,e),s=r.getFullYear()-i.getFullYear(),a=ku(r)-ku(i);return s*4+a}function Wm(n,e,t){const[r,i]=Ss(t==null?void 0:t.in,n,e);return r.getFullYear()-i.getFullYear()}function QC(n,e,t){const[r,i]=Ss(t==null?void 0:t.in,n,e),s=rk(r,i),a=Math.abs(dd(r,i));r.setDate(r.getDate()-s*a);const o=+(rk(r,i)===-s),l=s*(a-o);return l===0?0:l}function rk(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function v0(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function poe(n,e,t){const[r,i]=Ss(t==null?void 0:t.in,n,e),s=(+r-+i)/m0;return v0(t==null?void 0:t.roundingMethod)(s)}function ZC(n,e){return+Oe(n)-+Oe(e)}function goe(n,e,t){const r=ZC(n,e)/g0;return v0(t==null?void 0:t.roundingMethod)(r)}function xw(n,e){const t=Oe(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function bw(n,e){const t=Oe(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function moe(n,e){const t=Oe(n,e==null?void 0:e.in);return+xw(t,e)==+bw(t,e)}function KB(n,e,t){const[r,i,s]=Ss(t==null?void 0:t.in,n,n,e),a=lm(i,s),o=Math.abs(zm(i,s));if(o<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*o);let l=lm(i,s)===-a;moe(r)&&o===1&&lm(r,s)===1&&(l=!1);const u=a*(o-+l);return u===0?0:u}function voe(n,e,t){const r=KB(n,e,t)/3;return v0(t==null?void 0:t.roundingMethod)(r)}function yoe(n,e,t){const r=ZC(n,e)/1e3;return v0(t==null?void 0:t.roundingMethod)(r)}function _oe(n,e,t){const r=QC(n,e,t)/7;return v0(t==null?void 0:t.roundingMethod)(r)}function woe(n,e,t){const[r,i]=Ss(t==null?void 0:t.in,n,e),s=lm(r,i),a=Math.abs(Wm(r,i));r.setFullYear(1584),i.setFullYear(1584);const o=lm(r,i)===-s,l=s*(a-+o);return l===0?0:l}function w_(n,e){const t=Oe(n,e==null?void 0:e.in),r=t.getMonth(),i=r-r%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function JC(n,e){const t=Oe(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function eI(n,e){const t=Oe(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function y0(n,e){const t=Oe(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function xoe(n,e){const t=Oe(n,e==null?void 0:e.in);return t.setMinutes(59,59,999),t}function XB(n,e){var o,l;const t=ff(),r=t.weekStartsOn??((l=(o=t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??0,i=Oe(n,e==null?void 0:e.in),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function boe(n,e){const t=Oe(n,e==null?void 0:e.in);return t.setSeconds(59,999),t}function Eoe(n,e){const t=Oe(n,e==null?void 0:e.in),r=t.getMonth(),i=r-r%3+3;return t.setMonth(i,0),t.setHours(23,59,59,999),t}function Aoe(n,e){const t=Oe(n,e==null?void 0:e.in);return t.setMilliseconds(999),t}const Soe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Toe=(n,e,t)=>{let r;const i=Soe[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function BE(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const Coe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ioe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Doe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Roe={date:BE({formats:Coe,defaultWidth:"full"}),time:BE({formats:Ioe,defaultWidth:"full"}),dateTime:BE({formats:Doe,defaultWidth:"full"})},Ooe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Noe=(n,e,t,r)=>Ooe[n];function ug(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const a=n.defaultFormattingWidth||n.defaultWidth,o=t!=null&&t.width?String(t.width):a;i=n.formattingValues[o]||n.formattingValues[a]}else{const a=n.defaultWidth,o=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[o]||n.values[a]}const s=n.argumentCallback?n.argumentCallback(e):e;return i[s]}}const Moe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Poe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},koe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Loe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Voe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Boe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Foe=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Uoe={ordinalNumber:Foe,era:ug({values:Moe,defaultWidth:"wide"}),quarter:ug({values:Poe,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ug({values:koe,defaultWidth:"wide"}),day:ug({values:Loe,defaultWidth:"wide"}),dayPeriod:ug({values:Voe,defaultWidth:"wide",formattingValues:Boe,defaultFormattingWidth:"wide"})};function fg(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(o)?Hoe(o,p=>p.test(a)):joe(o,p=>p.test(a));let u;u=n.valueCallback?n.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;const h=e.slice(a.length);return{value:u,rest:h}}}function joe(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Hoe(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function zoe(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],s=e.match(n.parsePattern);if(!s)return null;let a=n.valueCallback?n.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const Woe=/^(\d+)(th|st|nd|rd)?/i,Yoe=/\d+/i,$oe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Goe={any:[/^b/i,/^(a|c)/i]},qoe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Koe={any:[/1/i,/2/i,/3/i,/4/i]},Xoe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Qoe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zoe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Joe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ele={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nle={ordinalNumber:zoe({matchPattern:Woe,parsePattern:Yoe,valueCallback:n=>parseInt(n,10)}),era:fg({matchPatterns:$oe,defaultMatchWidth:"wide",parsePatterns:Goe,defaultParseWidth:"any"}),quarter:fg({matchPatterns:qoe,defaultMatchWidth:"wide",parsePatterns:Koe,defaultParseWidth:"any",valueCallback:n=>n+1}),month:fg({matchPatterns:Xoe,defaultMatchWidth:"wide",parsePatterns:Qoe,defaultParseWidth:"any"}),day:fg({matchPatterns:Zoe,defaultMatchWidth:"wide",parsePatterns:Joe,defaultParseWidth:"any"}),dayPeriod:fg({matchPatterns:ele,defaultMatchWidth:"any",parsePatterns:tle,defaultParseWidth:"any"})},QB={code:"en-US",formatDistance:Toe,formatLong:Roe,formatRelative:Noe,localize:Uoe,match:nle,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rle(n,e){const t=Oe(n,e==null?void 0:e.in);return dd(t,y0(t))+1}function tI(n,e){const t=Oe(n,e==null?void 0:e.in),r=+hd(t)-+hoe(t);return Math.round(r/YB)+1}function nI(n,e){var h,p,g,v;const t=Oe(n,e==null?void 0:e.in),r=t.getFullYear(),i=ff(),s=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(g=i.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,a=Qt((e==null?void 0:e.in)||n,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=Ws(a,e),l=Qt((e==null?void 0:e.in)||n,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=Ws(l,e);return+t>=+o?r+1:+t>=+u?r:r-1}function ile(n,e){var o,l,u,h;const t=ff(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((h=(u=t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,i=nI(n,e),s=Qt((e==null?void 0:e.in)||n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ws(s,e)}function ZB(n,e){const t=Oe(n,e==null?void 0:e.in),r=+Ws(t,e)-+ile(t,e);return Math.round(r/YB)+1}function Gt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const El={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Gt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Gt(t+1,2)},d(n,e){return Gt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Gt(n.getHours()%12||12,e.length)},H(n,e){return Gt(n.getHours(),e.length)},m(n,e){return Gt(n.getMinutes(),e.length)},s(n,e){return Gt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Gt(i,e.length)}},fh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ik={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return El.y(n,e)},Y:function(n,e,t,r){const i=nI(n,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Gt(a,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Gt(s,e.length)},R:function(n,e){const t=GB(n);return Gt(t,e.length)},u:function(n,e){const t=n.getFullYear();return Gt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Gt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Gt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return El.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Gt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=ZB(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Gt(i,e.length)},I:function(n,e,t){const r=tI(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Gt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):El.d(n,e)},D:function(n,e,t){const r=rle(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Gt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Gt(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Gt(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Gt(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=fh.noon:r===0?i=fh.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=fh.evening:r>=12?i=fh.afternoon:r>=4?i=fh.morning:i=fh.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return El.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):El.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Gt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Gt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):El.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):El.s(n,e)},S:function(n,e){return El.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return ak(r);case"XXXX":case"XX":return cu(r);case"XXXXX":case"XXX":default:return cu(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return ak(r);case"xxxx":case"xx":return cu(r);case"xxxxx":case"xxx":default:return cu(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sk(r,":");case"OOOO":default:return"GMT"+cu(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sk(r,":");case"zzzz":default:return"GMT"+cu(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Gt(r,e.length)},T:function(n,e,t){return Gt(+n,e.length)}};function sk(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+Gt(s,2)}function ak(n,e){return n%60===0?(n>0?"-":"+")+Gt(Math.abs(n)/60,2):cu(n,e)}function cu(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Gt(Math.trunc(r/60),2),s=Gt(r%60,2);return t+i+e+s}const ok=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},JB=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},sle=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return ok(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",ok(r,e)).replace("{{time}}",JB(i,e))},nS={p:JB,P:sle},ale=/^D+$/,ole=/^Y+$/,lle=["D","DD","YY","YYYY"];function eF(n){return ale.test(n)}function tF(n){return ole.test(n)}function rS(n,e,t){const r=cle(n,e,t);if(console.warn(r),lle.includes(n))throw new RangeError(r)}function cle(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ule=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hle=/^'([^]*?)'?$/,dle=/''/g,ple=/[a-zA-Z]/;function iS(n,e,t){var h,p,g,v,w,x,E,A;const r=ff(),i=(t==null?void 0:t.locale)??r.locale??QB,s=(t==null?void 0:t.firstWeekContainsDate)??((p=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,a=(t==null?void 0:t.weekStartsOn)??((x=(w=t==null?void 0:t.locale)==null?void 0:w.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((A=(E=r.locale)==null?void 0:E.options)==null?void 0:A.weekStartsOn)??0,o=Oe(n,t==null?void 0:t.in);if(!Hm(o))throw new RangeError("Invalid time value");let l=e.match(fle).map(T=>{const I=T[0];if(I==="p"||I==="P"){const P=nS[I];return P(T,i.formatLong)}return T}).join("").match(ule).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const I=T[0];if(I==="'")return{isToken:!1,value:gle(T)};if(ik[I])return{isToken:!0,value:T};if(I.match(ple))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:T}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(T=>{if(!T.isToken)return T.value;const I=T.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&tF(I)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&eF(I))&&rS(I,e,String(n));const P=ik[I[0]];return P(o,I,i.localize,u)}).join("")}function gle(n){const e=n.match(hle);return e?e[1].replace(dle,"'"):n}function lk(n,e){return Oe(n,e==null?void 0:e.in).getDate()}function mle(n,e){return Oe(n,e==null?void 0:e.in).getDay()}function vle(n,e){const t=Oe(n,e==null?void 0:e.in),r=t.getFullYear(),i=t.getMonth(),s=Qt(t,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function yle(){return Object.assign({},ff())}function Co(n,e){return Oe(n,e==null?void 0:e.in).getHours()}function _le(n,e){const t=Oe(n,e==null?void 0:e.in).getDay();return t===0?7:t}function Io(n,e){return Oe(n,e==null?void 0:e.in).getMinutes()}function Wr(n,e){return Oe(n,e==null?void 0:e.in).getMonth()}function Gl(n){return Oe(n).getSeconds()}function sS(n){return+Oe(n)}function ct(n,e){return Oe(n,e==null?void 0:e.in).getFullYear()}function ac(n,e){return+Oe(n)>+Oe(e)}function Ju(n,e){return+Oe(n)<+Oe(e)}function wle(n,e){return+Oe(n)==+Oe(e)}function xle(n,e){const t=ble(e)?new e(0):Qt(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function ble(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const Ele=10;class nF{constructor(){de(this,"subPriority",0)}validate(e,t){return!0}}class Ale extends nF{constructor(e,t,r,i,s){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class Sle extends nF{constructor(t,r){super();de(this,"priority",Ele);de(this,"subPriority",-1);this.context=t||(i=>Qt(r,i))}set(t,r){return r.timestampIsSet?t:Qt(t,xle(t,this.context))}}class Pt{run(e,t,r,i){const s=this.parse(e,t,r,i);return s?{setter:new Ale(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,r){return!0}}class Tle extends Pt{constructor(){super(...arguments);de(this,"priority",140);de(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const Bn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},va={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Fn(n,e){return n&&{value:e(n.value),rest:n.rest}}function En(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ya(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:r*(i*m0+s*g0+a*uoe),rest:e.slice(t[0].length)}}function rF(n){return En(Bn.anyDigitsSigned,n)}function Rn(n,e){switch(n){case 1:return En(Bn.singleDigit,e);case 2:return En(Bn.twoDigits,e);case 3:return En(Bn.threeDigits,e);case 4:return En(Bn.fourDigits,e);default:return En(new RegExp("^\\d{1,"+n+"}"),e)}}function x_(n,e){switch(n){case 1:return En(Bn.singleDigitSigned,e);case 2:return En(Bn.twoDigitsSigned,e);case 3:return En(Bn.threeDigitsSigned,e);case 4:return En(Bn.fourDigitsSigned,e);default:return En(new RegExp("^-?\\d{1,"+n+"}"),e)}}function rI(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function iF(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const s=r+50,a=Math.trunc(s/100)*100,o=n>=s%100;i=n+a-(o?100:0)}return t?i:1-i}function sF(n){return n%400===0||n%4===0&&n%100!==0}class Cle extends Pt{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const s=a=>({year:a,isTwoDigitYear:r==="yy"});switch(r){case"y":return Fn(Rn(4,t),s);case"yo":return Fn(i.ordinalNumber(t,{unit:"year"}),s);default:return Fn(Rn(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const s=t.getFullYear();if(i.isTwoDigitYear){const o=iF(i.year,s);return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}const a=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class Ile extends Pt{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const s=a=>({year:a,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Fn(Rn(4,t),s);case"Yo":return Fn(i.ordinalNumber(t,{unit:"year"}),s);default:return Fn(Rn(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,s){const a=nI(t,s);if(i.isTwoDigitYear){const l=iF(i.year,a);return t.setFullYear(l,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Ws(t,s)}const o=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(o,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Ws(t,s)}}class Dle extends Pt{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return x_(r==="R"?4:r.length,t)}set(t,r,i){const s=Qt(t,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),hd(s)}}class Rle extends Pt{constructor(){super(...arguments);de(this,"priority",130);de(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return x_(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class Ole extends Pt{constructor(){super(...arguments);de(this,"priority",120);de(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return Rn(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class Nle extends Pt{constructor(){super(...arguments);de(this,"priority",120);de(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return Rn(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class Mle extends Pt{constructor(){super(...arguments);de(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);de(this,"priority",110)}parse(t,r,i){const s=a=>a-1;switch(r){case"M":return Fn(En(Bn.month,t),s);case"MM":return Fn(Rn(2,t),s);case"Mo":return Fn(i.ordinalNumber(t,{unit:"month"}),s);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class Ple extends Pt{constructor(){super(...arguments);de(this,"priority",110);de(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const s=a=>a-1;switch(r){case"L":return Fn(En(Bn.month,t),s);case"LL":return Fn(Rn(2,t),s);case"Lo":return Fn(i.ordinalNumber(t,{unit:"month"}),s);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function kle(n,e,t){const r=Oe(n,t==null?void 0:t.in),i=ZB(r,t)-e;return r.setDate(r.getDate()-i*7),Oe(r,t==null?void 0:t.in)}class Lle extends Pt{constructor(){super(...arguments);de(this,"priority",100);de(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return En(Bn.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Rn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,s){return Ws(kle(t,i,s),s)}}function Vle(n,e,t){const r=Oe(n,t==null?void 0:t.in),i=tI(r,t)-e;return r.setDate(r.getDate()-i*7),r}class Ble extends Pt{constructor(){super(...arguments);de(this,"priority",100);de(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return En(Bn.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Rn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return hd(Vle(t,i))}}const Fle=[31,28,31,30,31,30,31,31,30,31,30,31],Ule=[31,29,31,30,31,30,31,31,30,31,30,31];class jle extends Pt{constructor(){super(...arguments);de(this,"priority",90);de(this,"subPriority",1);de(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return En(Bn.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Rn(r.length,t)}}validate(t,r){const i=t.getFullYear(),s=sF(i),a=t.getMonth();return s?r>=1&&r<=Ule[a]:r>=1&&r<=Fle[a]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class Hle extends Pt{constructor(){super(...arguments);de(this,"priority",90);de(this,"subpriority",1);de(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return En(Bn.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Rn(r.length,t)}}validate(t,r){const i=t.getFullYear();return sF(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function iI(n,e,t){var p,g,v,w;const r=ff(),i=(t==null?void 0:t.weekStartsOn)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((w=(v=r.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,s=Oe(n,t==null?void 0:t.in),a=s.getDay(),l=(e%7+7)%7,u=7-i,h=e<0||e>6?e-(a+u)%7:(l+u)%7-(a+u)%7;return vs(s,h,t)}class zle extends Pt{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=iI(t,i,s),t.setHours(0,0,0,0),t}}class Wle extends Pt{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,s){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Fn(Rn(r.length,t),a);case"eo":return Fn(i.ordinalNumber(t,{unit:"day"}),a);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=iI(t,i,s),t.setHours(0,0,0,0),t}}class Yle extends Pt{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,s){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Fn(Rn(r.length,t),a);case"co":return Fn(i.ordinalNumber(t,{unit:"day"}),a);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=iI(t,i,s),t.setHours(0,0,0,0),t}}function $le(n,e,t){const r=Oe(n,t==null?void 0:t.in),i=_le(r,t),s=e-i;return vs(r,s,t)}class Gle extends Pt{constructor(){super(...arguments);de(this,"priority",90);de(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const s=a=>a===0?7:a;switch(r){case"i":case"ii":return Rn(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Fn(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return Fn(i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Fn(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Fn(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=$le(t,i),t.setHours(0,0,0,0),t}}class qle extends Pt{constructor(){super(...arguments);de(this,"priority",80);de(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(rI(i),0,0,0),t}}class Kle extends Pt{constructor(){super(...arguments);de(this,"priority",80);de(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(rI(i),0,0,0),t}}class Xle extends Pt{constructor(){super(...arguments);de(this,"priority",80);de(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(rI(i),0,0,0),t}}class Qle extends Pt{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return En(Bn.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Rn(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const s=t.getHours()>=12;return s&&i<12?t.setHours(i+12,0,0,0):!s&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class Zle extends Pt{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return En(Bn.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Rn(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class Jle extends Pt{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return En(Bn.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Rn(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class ece extends Pt{constructor(){super(...arguments);de(this,"priority",70);de(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return En(Bn.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Rn(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const s=i<=24?i%24:i;return t.setHours(s,0,0,0),t}}class tce extends Pt{constructor(){super(...arguments);de(this,"priority",60);de(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return En(Bn.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Rn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class nce extends Pt{constructor(){super(...arguments);de(this,"priority",50);de(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return En(Bn.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Rn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class rce extends Pt{constructor(){super(...arguments);de(this,"priority",30);de(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Fn(Rn(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class ice extends Pt{constructor(){super(...arguments);de(this,"priority",10);de(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return ya(va.basicOptionalMinutes,t);case"XX":return ya(va.basic,t);case"XXXX":return ya(va.basicOptionalSeconds,t);case"XXXXX":return ya(va.extendedOptionalSeconds,t);case"XXX":default:return ya(va.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Qt(t,t.getTime()-v_(t)-i)}}class sce extends Pt{constructor(){super(...arguments);de(this,"priority",10);de(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return ya(va.basicOptionalMinutes,t);case"xx":return ya(va.basic,t);case"xxxx":return ya(va.basicOptionalSeconds,t);case"xxxxx":return ya(va.extendedOptionalSeconds,t);case"xxx":default:return ya(va.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Qt(t,t.getTime()-v_(t)-i)}}class ace extends Pt{constructor(){super(...arguments);de(this,"priority",40);de(this,"incompatibleTokens","*")}parse(t){return rF(t)}set(t,r,i){return[Qt(t,i*1e3),{timestampIsSet:!0}]}}class oce extends Pt{constructor(){super(...arguments);de(this,"priority",20);de(this,"incompatibleTokens","*")}parse(t){return rF(t)}set(t,r,i){return[Qt(t,i),{timestampIsSet:!0}]}}const lce={G:new Tle,y:new Cle,Y:new Ile,R:new Dle,u:new Rle,Q:new Ole,q:new Nle,M:new Mle,L:new Ple,w:new Lle,I:new Ble,d:new jle,D:new Hle,E:new zle,e:new Wle,c:new Yle,i:new Gle,a:new qle,b:new Kle,B:new Xle,h:new Qle,H:new Zle,K:new Jle,k:new ece,m:new tce,s:new nce,S:new rce,X:new ice,x:new sce,t:new ace,T:new oce},cce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fce=/^'([^]*?)'?$/,hce=/''/g,dce=/\S/,pce=/[a-zA-Z]/;function aF(n,e,t,r){var E,A,T,I,P,O,V,R;const i=()=>Qt((r==null?void 0:r.in)||t,NaN),s=yle(),a=(r==null?void 0:r.locale)??s.locale??QB,o=(r==null?void 0:r.firstWeekContainsDate)??((A=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:A.firstWeekContainsDate)??s.firstWeekContainsDate??((I=(T=s.locale)==null?void 0:T.options)==null?void 0:I.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((O=(P=r==null?void 0:r.locale)==null?void 0:P.options)==null?void 0:O.weekStartsOn)??s.weekStartsOn??((R=(V=s.locale)==null?void 0:V.options)==null?void 0:R.weekStartsOn)??0;if(!e)return n?i():Oe(t,r==null?void 0:r.in);const u={firstWeekContainsDate:o,weekStartsOn:l,locale:a},h=[new Sle(r==null?void 0:r.in,t)],p=e.match(uce).map(C=>{const N=C[0];if(N in nS){const L=nS[N];return L(C,a.formatLong)}return C}).join("").match(cce),g=[];for(let C of p){!(r!=null&&r.useAdditionalWeekYearTokens)&&tF(C)&&rS(C,e,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&eF(C)&&rS(C,e,n);const N=C[0],L=lce[N];if(L){const{incompatibleTokens:F}=L;if(Array.isArray(F)){const B=g.find(he=>F.includes(he.token)||he.token===N);if(B)throw new RangeError(`The format string mustn't contain \`${B.fullToken}\` and \`${C}\` at the same time`)}else if(L.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);g.push({token:N,fullToken:C});const H=L.run(n,C,a.match,u);if(!H)return i();h.push(H.setter),n=H.rest}else{if(N.match(pce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(C==="''"?C="'":N==="'"&&(C=gce(C)),n.indexOf(C)===0)n=n.slice(C.length);else return i()}}if(n.length>0&&dce.test(n))return i();const v=h.map(C=>C.priority).sort((C,N)=>N-C).filter((C,N,L)=>L.indexOf(C)===N).map(C=>h.filter(N=>N.priority===C).sort((N,L)=>L.subPriority-N.subPriority)).map(C=>C[0]);let w=Oe(t,r==null?void 0:r.in);if(isNaN(+w))return i();const x={};for(const C of v){if(!C.validate(w,u))return i();const N=C.set(w,x,u);Array.isArray(N)?(w=N[0],Object.assign(x,N[1])):w=N}return w}function gce(n){return n.match(fce)[1].replace(hce,"'")}function mce(n,e){const t=Oe(n,e==null?void 0:e.in);return t.setMinutes(0,0,0),t}function vce(n,e){const t=Oe(n,e==null?void 0:e.in);return t.setSeconds(0,0),t}function yce(n,e,t){const[r,i]=Ss(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function _ce(n,e,t){const[r,i]=Ss(t==null?void 0:t.in,n,e);return+w_(r)==+w_(i)}function wce(n,e){const t=Oe(n,e==null?void 0:e.in);return t.setMilliseconds(0),t}function xce(n,e,t){const[r,i]=Ss(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()}function Ym(n,e,t){const r=+Oe(n,t==null?void 0:t.in),[i,s]=[+Oe(e.start,t==null?void 0:t.in),+Oe(e.end,t==null?void 0:t.in)].sort((a,o)=>a-o);return r>=i&&r<=s}function bce(n,e,t){return vs(n,-1,t)}function oF(n,e){const t=()=>Qt(e==null?void 0:e.in,NaN),r=(e==null?void 0:e.additionalDigits)??2,i=Tce(n);let s;if(i.date){const u=Cce(i.date,r);s=Ice(u.restDateString,u.year)}if(!s||isNaN(+s))return t();const a=+s;let o=0,l;if(i.time&&(o=Dce(i.time),isNaN(o)))return t();if(i.timezone){if(l=Rce(i.timezone),isNaN(l))return t()}else{const u=new Date(a+o),h=Oe(0,e==null?void 0:e.in);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return Oe(a+o+l,e==null?void 0:e.in)}const xv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ece=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ace=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Sce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Tce(n){const e={},t=n.split(xv.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],xv.timeZoneDelimiter.test(e.date)&&(e.date=n.split(xv.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const i=xv.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function Cce(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function Ice(n,e){if(e===null)return new Date(NaN);const t=n.match(Ece);if(!t)return new Date(NaN);const r=!!t[4],i=hg(t[1]),s=hg(t[2])-1,a=hg(t[3]),o=hg(t[4]),l=hg(t[5])-1;if(r)return kce(e,o,l)?Oce(e,o,l):new Date(NaN);{const u=new Date(0);return!Mce(e,s,a)||!Pce(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,a)),u)}}function hg(n){return n?parseInt(n):1}function Dce(n){const e=n.match(Ace);if(!e)return NaN;const t=FE(e[1]),r=FE(e[2]),i=FE(e[3]);return Lce(t,r,i)?t*m0+r*g0+i*1e3:NaN}function FE(n){return n&&parseFloat(n.replace(",","."))||0}function Rce(n){if(n==="Z")return 0;const e=n.match(Sce);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Vce(r,i)?t*(r*m0+i*g0):NaN}function Oce(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const Nce=[31,null,31,30,31,30,31,31,30,31,30,31];function lF(n){return n%400===0||n%4===0&&n%100!==0}function Mce(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(Nce[e]||(lF(n)?29:28))}function Pce(n,e){return e>=1&&e<=(lF(n)?366:365)}function kce(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Lce(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function Vce(n,e){return e>=0&&e<=59}function us(n,e,t){const r=Oe(n,t==null?void 0:t.in),i=r.getFullYear(),s=r.getDate(),a=Qt(n,0);a.setFullYear(i,e,15),a.setHours(0,0,0,0);const o=vle(a);return r.setMonth(e,Math.min(s,o)),r}function gy(n,e,t){const r=Oe(n,t==null?void 0:t.in);return r.setHours(e),r}function my(n,e,t){const r=Oe(n,t==null?void 0:t.in);return r.setMinutes(e),r}function xh(n,e,t){const r=Oe(n,t==null?void 0:t.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return us(r,r.getMonth()+s*3)}function vy(n,e,t){const r=Oe(n,t==null?void 0:t.in);return r.setSeconds(e),r}function pa(n,e,t){const r=Oe(n,t==null?void 0:t.in);return isNaN(+r)?Qt(n,NaN):(r.setFullYear(e),r)}function Lu(n,e,t){return xs(n,-e,t)}function cF(n,e,t){return ww(n,-1,t)}function ck(n,e,t){return jm(n,-1,t)}function pd(n,e,t){return Pa(n,-e,t)}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const Bce={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};Z8._date.override({_id:"date-fns",formats:function(){return Bce},parse:function(n,e){if(n===null||typeof n>"u")return null;const t=typeof n;return t==="number"||n instanceof Date?n=Oe(n):t==="string"&&(typeof e=="string"?n=aF(n,e,new Date,this.options):n=oF(n,this.options)),Hm(n)?n.getTime():null},format:function(n,e){return iS(n,e,this.options)},add:function(n,e,t){switch(t){case"millisecond":return XC(n,e);case"second":return qB(n,e);case"minute":return y_(n,e);case"hour":return $B(n,e);case"day":return vs(n,e);case"week":return jm(n,e);case"month":return xs(n,e);case"quarter":return ww(n,e);case"year":return Pa(n,e);default:return n}},diff:function(n,e,t){switch(t){case"millisecond":return ZC(n,e);case"second":return yoe(n,e);case"minute":return goe(n,e);case"hour":return poe(n,e);case"day":return QC(n,e);case"week":return _oe(n,e);case"month":return KB(n,e);case"quarter":return voe(n,e);case"year":return woe(n,e);default:return 0}},startOf:function(n,e,t){switch(e){case"second":return wce(n);case"minute":return vce(n);case"hour":return mce(n);case"day":return sc(n);case"week":return Ws(n);case"isoWeek":return Ws(n,{weekStartsOn:+t});case"month":return JC(n);case"quarter":return w_(n);case"year":return y0(n);default:return n}},endOf:function(n,e){switch(e){case"second":return Aoe(n);case"minute":return boe(n);case"hour":return xoe(n);case"day":return xw(n);case"week":return XB(n);case"month":return bw(n);case"quarter":return Eoe(n);case"year":return eI(n);default:return n}}});function uF(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=uF(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Mr(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=uF(n))&&(r&&(r+=" "),r+=e);return r}function Ew(){return typeof window<"u"}function Ud(n){return fF(n)?(n.nodeName||"").toLowerCase():"#document"}function Hi(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function za(n){var e;return(e=(fF(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function fF(n){return Ew()?n instanceof Node||n instanceof Hi(n).Node:!1}function ai(n){return Ew()?n instanceof Element||n instanceof Hi(n).Element:!1}function Ua(n){return Ew()?n instanceof HTMLElement||n instanceof Hi(n).HTMLElement:!1}function uk(n){return!Ew()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Hi(n).ShadowRoot}const Fce=new Set(["inline","contents"]);function _0(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=bs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!Fce.has(i)}const Uce=new Set(["table","td","th"]);function jce(n){return Uce.has(Ud(n))}const Hce=[":popover-open",":modal"];function Aw(n){return Hce.some(e=>{try{return n.matches(e)}catch{return!1}})}const zce=["transform","translate","scale","rotate","perspective"],Wce=["transform","translate","scale","rotate","perspective","filter"],Yce=["paint","layout","strict","content"];function sI(n){const e=aI(),t=ai(n)?bs(n):n;return zce.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||Wce.some(r=>(t.willChange||"").includes(r))||Yce.some(r=>(t.contain||"").includes(r))}function $ce(n){let e=oc(n);for(;Ua(e)&&!gd(e);){if(sI(e))return e;if(Aw(e))return null;e=oc(e)}return null}function aI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Gce=new Set(["html","body","#document"]);function gd(n){return Gce.has(Ud(n))}function bs(n){return Hi(n).getComputedStyle(n)}function Sw(n){return ai(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function oc(n){if(Ud(n)==="html")return n;const e=n.assignedSlot||n.parentNode||uk(n)&&n.host||za(n);return uk(e)?e.host:e}function hF(n){const e=oc(n);return gd(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ua(e)&&_0(e)?e:hF(e)}function $m(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=hF(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),a=Hi(i);if(s){const o=aS(a);return e.concat(a,a.visualViewport||[],_0(i)?i:[],o&&t?$m(o):[])}return e.concat(i,$m(i,[],t))}function aS(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const md=Math.min,Vu=Math.max,b_=Math.round,bv=Math.floor,ka=n=>({x:n,y:n}),qce={left:"right",right:"left",bottom:"top",top:"bottom"},Kce={start:"end",end:"start"};function Xce(n,e,t){return Vu(n,md(e,t))}function Tw(n,e){return typeof n=="function"?n(e):n}function vd(n){return n.split("-")[0]}function w0(n){return n.split("-")[1]}function Qce(n){return n==="x"?"y":"x"}function oI(n){return n==="y"?"height":"width"}const Zce=new Set(["top","bottom"]);function xu(n){return Zce.has(vd(n))?"y":"x"}function lI(n){return Qce(xu(n))}function Jce(n,e,t){t===void 0&&(t=!1);const r=w0(n),i=lI(n),s=oI(i);let a=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=E_(a)),[a,E_(a)]}function eue(n){const e=E_(n);return[oS(n),e,oS(e)]}function oS(n){return n.replace(/start|end/g,e=>Kce[e])}const fk=["left","right"],hk=["right","left"],tue=["top","bottom"],nue=["bottom","top"];function rue(n,e,t){switch(n){case"top":case"bottom":return t?e?hk:fk:e?fk:hk;case"left":case"right":return e?tue:nue;default:return[]}}function iue(n,e,t,r){const i=w0(n);let s=rue(vd(n),t==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(oS)))),s}function E_(n){return n.replace(/left|right|bottom|top/g,e=>qce[e])}function sue(n){return{top:0,right:0,bottom:0,left:0,...n}}function dF(n){return typeof n!="number"?sue(n):{top:n,right:n,bottom:n,left:n}}function A_(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}var aue=typeof document<"u",oue=function(){},S_=aue?G.useLayoutEffect:oue;const lue={...S8},cue=lue.useInsertionEffect,uue=cue||(n=>n());function fue(n){const e=G.useRef(()=>{});return uue(()=>{e.current=n}),G.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var pF=A8();const Mg=MS(pF);function dk(n,e,t){let{reference:r,floating:i}=n;const s=xu(e),a=lI(e),o=oI(a),l=vd(e),u=s==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,g=r[o]/2-i[o]/2;let v;switch(l){case"top":v={x:h,y:r.y-i.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:p};break;case"left":v={x:r.x-i.width,y:p};break;default:v={x:r.x,y:r.y}}switch(w0(e)){case"start":v[a]-=g*(t&&u?-1:1);break;case"end":v[a]+=g*(t&&u?-1:1);break}return v}const hue=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=t,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:n,floating:e,strategy:i}),{x:h,y:p}=dk(u,r,l),g=r,v={},w=0;for(let x=0;x<o.length;x++){const{name:E,fn:A}=o[x],{x:T,y:I,data:P,reset:O}=await A({x:h,y:p,initialPlacement:r,placement:g,strategy:i,middlewareData:v,rects:u,platform:a,elements:{reference:n,floating:e}});h=T??h,p=I??p,v={...v,[E]:{...v[E],...P}},O&&w<=50&&(w++,typeof O=="object"&&(O.placement&&(g=O.placement),O.rects&&(u=O.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:i}):O.rects),{x:h,y:p}=dk(u,g,l)),x=-1)}return{x:h,y:p,placement:g,strategy:i,middlewareData:v}};async function due(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:v=0}=Tw(e,n),w=dF(v),E=o[g?p==="floating"?"reference":"floating":p],A=A_(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(E)))==null||t?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:h,strategy:l})),T=p==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),P=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},O=A_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:T,offsetParent:I,strategy:l}):T);return{top:(A.top-O.top+w.top)/P.y,bottom:(O.bottom-A.bottom+w.bottom)/P.y,left:(A.left-O.left+w.left)/P.x,right:(O.right-A.right+w.right)/P.x}}const pue=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:u,padding:h=0}=Tw(n,e)||{};if(u==null)return{};const p=dF(h),g={x:t,y:r},v=lI(i),w=oI(v),x=await a.getDimensions(u),E=v==="y",A=E?"top":"left",T=E?"bottom":"right",I=E?"clientHeight":"clientWidth",P=s.reference[w]+s.reference[v]-g[v]-s.floating[w],O=g[v]-s.reference[v],V=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let R=V?V[I]:0;(!R||!await(a.isElement==null?void 0:a.isElement(V)))&&(R=o.floating[I]||s.floating[w]);const C=P/2-O/2,N=R/2-x[w]/2-1,L=md(p[A],N),F=md(p[T],N),H=L,B=R-x[w]-F,he=R/2-x[w]/2+C,fe=Xce(H,he,B),Y=!l.arrow&&w0(i)!=null&&he!==fe&&s.reference[w]/2-(he<H?L:F)-x[w]/2<0,X=Y?he<H?he-H:he-B:0;return{[v]:g[v]+X,data:{[v]:fe,centerOffset:he-fe-X,...Y&&{alignmentOffset:X}},reset:Y}}}),gue=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...E}=Tw(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const A=vd(i),T=xu(o),I=vd(o)===o,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=g||(I||!x?[E_(o)]:eue(o)),V=w!=="none";!g&&V&&O.push(...iue(o,x,w,P));const R=[o,...O],C=await due(e,E),N=[];let L=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&N.push(C[A]),p){const he=Jce(i,a,P);N.push(C[he[0]],C[he[1]])}if(L=[...L,{placement:i,overflows:N}],!N.every(he=>he<=0)){var F,H;const he=(((F=s.flip)==null?void 0:F.index)||0)+1,fe=R[he];if(fe&&(!(p==="alignment"?T!==xu(fe):!1)||L.every(oe=>oe.overflows[0]>0&&xu(oe.placement)===T)))return{data:{index:he,overflows:L},reset:{placement:fe}};let Y=(H=L.filter(X=>X.overflows[0]<=0).sort((X,oe)=>X.overflows[1]-oe.overflows[1])[0])==null?void 0:H.placement;if(!Y)switch(v){case"bestFit":{var B;const X=(B=L.filter(oe=>{if(V){const Q=xu(oe.placement);return Q===T||Q==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(Q=>Q>0).reduce((Q,U)=>Q+U,0)]).sort((oe,Q)=>oe[1]-Q[1])[0])==null?void 0:B[0];X&&(Y=X);break}case"initialPlacement":Y=o;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}},mue=new Set(["left","top"]);async function vue(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=vd(t),o=w0(t),l=xu(t)==="y",u=mue.has(a)?-1:1,h=s&&l?-1:1,p=Tw(e,n);let{mainAxis:g,crossAxis:v,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return o&&typeof w=="number"&&(v=o==="end"?w*-1:w),l?{x:v*h,y:g*u}:{x:g*u,y:v*h}}const yue=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await vue(e,n);return a===((t=o.offset)==null?void 0:t.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}};function gF(n){const e=bs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ua(n),s=i?n.offsetWidth:t,a=i?n.offsetHeight:r,o=b_(t)!==s||b_(r)!==a;return o&&(t=s,r=a),{width:t,height:r,$:o}}function cI(n){return ai(n)?n:n.contextElement}function Hh(n){const e=cI(n);if(!Ua(e))return ka(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=gF(e);let a=(s?b_(t.width):t.width)/r,o=(s?b_(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const _ue=ka(0);function mF(n){const e=Hi(n);return!aI()||!e.visualViewport?_ue:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wue(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Hi(n)?!1:e}function ef(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=cI(n);let a=ka(1);e&&(r?ai(r)&&(a=Hh(r)):a=Hh(n));const o=wue(s,t,r)?mF(s):ka(0);let l=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,h=i.width/a.x,p=i.height/a.y;if(s){const g=Hi(s),v=r&&ai(r)?Hi(r):r;let w=g,x=aS(w);for(;x&&r&&v!==w;){const E=Hh(x),A=x.getBoundingClientRect(),T=bs(x),I=A.left+(x.clientLeft+parseFloat(T.paddingLeft))*E.x,P=A.top+(x.clientTop+parseFloat(T.paddingTop))*E.y;l*=E.x,u*=E.y,h*=E.x,p*=E.y,l+=I,u+=P,w=Hi(x),x=aS(w)}}return A_({width:h,height:p,x:l,y:u})}function uI(n,e){const t=Sw(n).scrollLeft;return e?e.left+t:ef(za(n)).left+t}function vF(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:uI(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function xue(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",a=za(r),o=e?Aw(e.floating):!1;if(r===a||o&&s)return t;let l={scrollLeft:0,scrollTop:0},u=ka(1);const h=ka(0),p=Ua(r);if((p||!p&&!s)&&((Ud(r)!=="body"||_0(a))&&(l=Sw(r)),Ua(r))){const v=ef(r);u=Hh(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const g=a&&!p&&!s?vF(a,l,!0):ka(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+h.x+g.x,y:t.y*u.y-l.scrollTop*u.y+h.y+g.y}}function bue(n){return Array.from(n.getClientRects())}function Eue(n){const e=za(n),t=Sw(n),r=n.ownerDocument.body,i=Vu(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Vu(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+uI(n);const o=-t.scrollTop;return bs(r).direction==="rtl"&&(a+=Vu(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function Aue(n,e){const t=Hi(n),r=za(n),i=t.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const u=aI();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}const Sue=new Set(["absolute","fixed"]);function Tue(n,e){const t=ef(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Ua(n)?Hh(n):ka(1),a=n.clientWidth*s.x,o=n.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:a,height:o,x:l,y:u}}function pk(n,e,t){let r;if(e==="viewport")r=Aue(n,t);else if(e==="document")r=Eue(za(n));else if(ai(e))r=Tue(e,t);else{const i=mF(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return A_(r)}function yF(n,e){const t=oc(n);return t===e||!ai(t)||gd(t)?!1:bs(t).position==="fixed"||yF(t,e)}function Cue(n,e){const t=e.get(n);if(t)return t;let r=$m(n,[],!1).filter(o=>ai(o)&&Ud(o)!=="body"),i=null;const s=bs(n).position==="fixed";let a=s?oc(n):n;for(;ai(a)&&!gd(a);){const o=bs(a),l=sI(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&Sue.has(i.position)||_0(a)&&!l&&yF(n,a))?r=r.filter(h=>h!==a):i=o,a=oc(a)}return e.set(n,r),r}function Iue(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const a=[...t==="clippingAncestors"?Aw(e)?[]:Cue(e,this._c):[].concat(t),r],o=a[0],l=a.reduce((u,h)=>{const p=pk(e,h,i);return u.top=Vu(p.top,u.top),u.right=md(p.right,u.right),u.bottom=md(p.bottom,u.bottom),u.left=Vu(p.left,u.left),u},pk(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Due(n){const{width:e,height:t}=gF(n);return{width:e,height:t}}function Rue(n,e,t){const r=Ua(e),i=za(e),s=t==="fixed",a=ef(n,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=ka(0);function u(){l.x=uI(i)}if(r||!r&&!s)if((Ud(e)!=="body"||_0(i))&&(o=Sw(e)),r){const v=ef(e,!0,s,e);l.x=v.x+e.clientLeft,l.y=v.y+e.clientTop}else i&&u();s&&!r&&i&&u();const h=i&&!r&&!s?vF(i,o):ka(0),p=a.left+o.scrollLeft-l.x-h.x,g=a.top+o.scrollTop-l.y-h.y;return{x:p,y:g,width:a.width,height:a.height}}function UE(n){return bs(n).position==="static"}function gk(n,e){if(!Ua(n)||bs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return za(n)===t&&(t=t.ownerDocument.body),t}function _F(n,e){const t=Hi(n);if(Aw(n))return t;if(!Ua(n)){let i=oc(n);for(;i&&!gd(i);){if(ai(i)&&!UE(i))return i;i=oc(i)}return t}let r=gk(n,e);for(;r&&jce(r)&&UE(r);)r=gk(r,e);return r&&gd(r)&&UE(r)&&!sI(r)?t:r||$ce(n)||t}const Oue=async function(n){const e=this.getOffsetParent||_F,t=this.getDimensions,r=await t(n.floating);return{reference:Rue(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Nue(n){return bs(n).direction==="rtl"}const Mue={convertOffsetParentRelativeRectToViewportRelativeRect:xue,getDocumentElement:za,getClippingRect:Iue,getOffsetParent:_F,getElementRects:Oue,getClientRects:bue,getDimensions:Due,getScale:Hh,isElement:ai,isRTL:Nue};function wF(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Pue(n,e){let t=null,r;const i=za(n);function s(){var o;clearTimeout(r),(o=t)==null||o.disconnect(),t=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const u=n.getBoundingClientRect(),{left:h,top:p,width:g,height:v}=u;if(o||e(),!g||!v)return;const w=bv(p),x=bv(i.clientWidth-(h+g)),E=bv(i.clientHeight-(p+v)),A=bv(h),I={rootMargin:-w+"px "+-x+"px "+-E+"px "+-A+"px",threshold:Vu(0,md(1,l))||1};let P=!0;function O(V){const R=V[0].intersectionRatio;if(R!==l){if(!P)return a();R?a(!1,R):r=setTimeout(()=>{a(!1,1e-7)},1e3)}R===1&&!wF(u,n.getBoundingClientRect())&&a(),P=!1}try{t=new IntersectionObserver(O,{...I,root:i.ownerDocument})}catch{t=new IntersectionObserver(O,I)}t.observe(n)}return a(!0),s}function kue(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=cI(n),h=i||s?[...u?$m(u):[],...$m(e)]:[];h.forEach(A=>{i&&A.addEventListener("scroll",t,{passive:!0}),s&&A.addEventListener("resize",t)});const p=u&&o?Pue(u,t):null;let g=-1,v=null;a&&(v=new ResizeObserver(A=>{let[T]=A;T&&T.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var I;(I=v)==null||I.observe(e)})),t()}),u&&!l&&v.observe(u),v.observe(e));let w,x=l?ef(n):null;l&&E();function E(){const A=ef(n);x&&!wF(x,A)&&t(),x=A,w=requestAnimationFrame(E)}return t(),()=>{var A;h.forEach(T=>{i&&T.removeEventListener("scroll",t),s&&T.removeEventListener("resize",t)}),p==null||p(),(A=v)==null||A.disconnect(),v=null,l&&cancelAnimationFrame(w)}}const Lue=yue,Vue=gue,mk=pue,Bue=(n,e,t)=>{const r=new Map,i={platform:Mue,...t},s={...i.platform,_c:r};return hue(n,e,{...i,platform:s})};var Fue=typeof document<"u",Uue=function(){},yy=Fue?G.useLayoutEffect:Uue;function T_(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!T_(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!T_(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function xF(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function vk(n,e){const t=xF(n);return Math.round(e*t)/t}function jE(n){const e=G.useRef(n);return yy(()=>{e.current=n}),e}function jue(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=n,[h,p]=G.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[g,v]=G.useState(r);T_(g,r)||v(r);const[w,x]=G.useState(null),[E,A]=G.useState(null),T=G.useCallback(oe=>{oe!==V.current&&(V.current=oe,x(oe))},[]),I=G.useCallback(oe=>{oe!==R.current&&(R.current=oe,A(oe))},[]),P=s||w,O=a||E,V=G.useRef(null),R=G.useRef(null),C=G.useRef(h),N=l!=null,L=jE(l),F=jE(i),H=jE(u),B=G.useCallback(()=>{if(!V.current||!R.current)return;const oe={placement:e,strategy:t,middleware:g};F.current&&(oe.platform=F.current),Bue(V.current,R.current,oe).then(Q=>{const U={...Q,isPositioned:H.current!==!1};he.current&&!T_(C.current,U)&&(C.current=U,pF.flushSync(()=>{p(U)}))})},[g,e,t,F,H]);yy(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,p(oe=>({...oe,isPositioned:!1})))},[u]);const he=G.useRef(!1);yy(()=>(he.current=!0,()=>{he.current=!1}),[]),yy(()=>{if(P&&(V.current=P),O&&(R.current=O),P&&O){if(L.current)return L.current(P,O,B);B()}},[P,O,B,L,N]);const fe=G.useMemo(()=>({reference:V,floating:R,setReference:T,setFloating:I}),[T,I]),Y=G.useMemo(()=>({reference:P,floating:O}),[P,O]),X=G.useMemo(()=>{const oe={position:t,left:0,top:0};if(!Y.floating)return oe;const Q=vk(Y.floating,h.x),U=vk(Y.floating,h.y);return o?{...oe,transform:"translate("+Q+"px, "+U+"px)",...xF(Y.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Q,top:U}},[t,o,Y.floating,h.x,h.y]);return G.useMemo(()=>({...h,update:B,refs:fe,elements:Y,floatingStyles:X}),[h,B,fe,Y,X])}const Hue=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?mk({element:r.current,padding:i}).fn(t):{}:r?mk({element:r,padding:i}).fn(t):{}}}},zue=(n,e)=>({...Lue(n),options:[n,e]}),Wue=(n,e)=>({...Vue(n),options:[n,e]}),Yue=(n,e)=>({...Hue(n),options:[n,e]}),$ue={...S8};let yk=!1,Gue=0;const _k=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Gue++;function que(){const[n,e]=G.useState(()=>yk?_k():void 0);return S_(()=>{n==null&&e(_k())},[]),G.useEffect(()=>{yk=!0},[]),n}const Kue=$ue.useId,bF=Kue||que,Xue=G.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:a}},width:o=14,height:l=7,tipRadius:u=0,strokeWidth:h=0,staticOffset:p,stroke:g,d:v,style:{transform:w,...x}={},...E}=e,A=bF(),[T,I]=G.useState(!1);if(S_(()=>{if(!i)return;bs(i).direction==="rtl"&&I(!0)},[i]),!i)return null;const[P,O]=r.split("-"),V=P==="top"||P==="bottom";let R=p;(V&&a!=null&&a.x||!V&&a!=null&&a.y)&&(R=null);const C=h*2,N=C/2,L=o/2*(u/-8+1),F=l/2*u/4,H=!!v,B=R&&O==="end"?"bottom":"top";let he=R&&O==="end"?"right":"left";R&&T&&(he=O==="end"?"left":"right");const fe=(s==null?void 0:s.x)!=null?R||s.x:"",Y=(s==null?void 0:s.y)!=null?R||s.y:"",X=v||"M0,0"+(" H"+o)+(" L"+(o-L)+","+(l-F))+(" Q"+o/2+","+l+" "+L+","+(l-F))+" Z",oe={top:H?"rotate(180deg)":"",left:H?"rotate(90deg)":"rotate(-90deg)",bottom:H?"":"rotate(180deg)",right:H?"rotate(-90deg)":"rotate(90deg)"}[P];return D.jsxs("svg",{...E,"aria-hidden":!0,ref:t,width:H?o:o+C,height:o,viewBox:"0 0 "+o+" "+(l>o?l:o),style:{position:"absolute",pointerEvents:"none",[he]:fe,[B]:Y,[P]:V||H?"100%":"calc(100% - "+C/2+"px)",transform:[oe,w].filter(Q=>!!Q).join(" "),...x},children:[C>0&&D.jsx("path",{clipPath:"url(#"+A+")",fill:"none",stroke:g,strokeWidth:C+(v?0:1),d:X}),D.jsx("path",{stroke:C&&!v?E.fill:"none",d:X}),D.jsx("clipPath",{id:A,children:D.jsx("rect",{x:-N,y:N*(H?-1:1),width:o+C,height:o})})]})});function Que(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const Zue=G.createContext(null),Jue=G.createContext(null),efe=()=>{var n;return((n=G.useContext(Zue))==null?void 0:n.id)||null},tfe=()=>G.useContext(Jue);function nfe(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=bF(),s=G.useRef({}),[a]=G.useState(()=>Que()),o=efe()!=null,[l,u]=G.useState(r.reference),h=fue((v,w,x)=>{s.current.openEvent=v?w:void 0,a.emit("openchange",{open:v,event:w,reason:x,nested:o}),t==null||t(v,w,x)}),p=G.useMemo(()=>({setPositionReference:u}),[]),g=G.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return G.useMemo(()=>({dataRef:s,open:e,onOpenChange:h,elements:g,events:a,floatingId:i,refs:p}),[e,h,g,a,i,p])}function rfe(n){n===void 0&&(n={});const{nodeId:e}=n,t=nfe({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,a]=G.useState(null),[o,l]=G.useState(null),h=(i==null?void 0:i.domReference)||s,p=G.useRef(null),g=tfe();S_(()=>{h&&(p.current=h)},[h]);const v=jue({...n,elements:{...i,...o&&{reference:o}}}),w=G.useCallback(I=>{const P=ai(I)?{getBoundingClientRect:()=>I.getBoundingClientRect(),getClientRects:()=>I.getClientRects(),contextElement:I}:I;l(P),v.refs.setReference(P)},[v.refs]),x=G.useCallback(I=>{(ai(I)||I===null)&&(p.current=I,a(I)),(ai(v.refs.reference.current)||v.refs.reference.current===null||I!==null&&!ai(I))&&v.refs.setReference(I)},[v.refs]),E=G.useMemo(()=>({...v.refs,setReference:x,setPositionReference:w,domReference:p}),[v.refs,x,w]),A=G.useMemo(()=>({...v.elements,domReference:h}),[v.elements,h]),T=G.useMemo(()=>({...v,...r,refs:E,elements:A,nodeId:e}),[v,E,A,e,r]);return S_(()=>{r.dataRef.current.floatingContext=T;const I=g==null?void 0:g.nodesRef.current.find(P=>P.id===e);I&&(I.context=T)}),G.useMemo(()=>({...v,context:T,refs:E,elements:A}),[v,E,A,T])}/*!
  react-datepicker v8.5.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var lS=function(e,t){return lS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},lS(e,t)};function xr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lS(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var vt=function(){return vt=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},vt.apply(this,arguments)};function ba(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var ife=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,i=r===void 0?!1:r,s=n.className,a=n.children,o=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return ae.createElement("div",{className:s,role:"dialog","aria-label":o,"aria-modal":"true"},a)},sfe=function(n,e){var t=G.useRef(null),r=G.useRef(n);r.current=n;var i=G.useCallback(function(s){var a,o=s.composed&&s.composedPath&&s.composedPath().find(function(l){return l instanceof Node})||s.target;t.current&&!t.current.contains(o)&&(e&&o instanceof HTMLElement&&o.classList.contains(e)||(a=r.current)===null||a===void 0||a.call(r,s))},[e]);return G.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Cw=function(n){var e=n.children,t=n.onClickOutside,r=n.className,i=n.containerRef,s=n.style,a=n.ignoreClass,o=sfe(t,a);return ae.createElement("div",{className:r,style:s,ref:function(l){o.current=l,i&&(i.current=l)}},e)},Re;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(Re||(Re={}));function EF(){var n=typeof window<"u"?window:globalThis;return n}var x0=12;function Ht(n){if(n==null)return new Date;var e=typeof n=="string"?oF(n):Oe(n);return Iw(e)?e:new Date}function HE(n,e,t,r,i){i===void 0&&(i=Ht());for(var s=yd(t)||yd(fI()),a=Array.isArray(e)?e:[e],o=0,l=a;o<l.length;o++){var u=l[o],h=aF(n,u,i,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(Iw(h)&&(!r||n===yn(h,u,t)))return h}return null}function Iw(n,e){return Hm(n)&&!Ju(n,new Date("1/1/1800"))}function yn(n,e,t){if(t==="en")return iS(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?yd(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||yd(fI()),iS(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function cs(n,e){var t=e.dateFormat,r=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return n&&yn(n,i,r)||""}var AF=" - ";function afe(n,e,t){if(!n&&!e)return"";var r=n?cs(n,t):"",i=e?cs(e,t):"",s=t.rangeSeparator||AF;return"".concat(r).concat(s).concat(i)}function ofe(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?cs(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=cs(n[1],e);return"".concat(t,", ").concat(r)}var i=n.length-1;return"".concat(t," (+").concat(i,")")}function zE(n,e){var t=e.hour,r=t===void 0?0:t,i=e.minute,s=i===void 0?0:i,a=e.second,o=a===void 0?0:a;return gy(my(vy(n,o),s),r)}function lfe(n){return tI(n)}function cfe(n,e){return yn(n,"ddd",e)}function _y(n){return sc(n)}function ql(n,e,t){var r=yd(e||fI());return Ws(n,{locale:r,weekStartsOn:t})}function Do(n){return JC(n)}function Pg(n){return y0(n)}function wk(n){return w_(n)}function xk(){return sc(Ht())}function bk(n){return xw(n)}function ufe(n){return XB(n)}function ffe(n){return bw(n)}function ma(n,e){return n&&e?xce(n,e):!n&&!e}function ii(n,e){return n&&e?yce(n,e):!n&&!e}function C_(n,e){return n&&e?_ce(n,e):!n&&!e}function Ct(n,e){return n&&e?doe(n,e):!n&&!e}function bu(n,e){return n&&e?wle(n,e):!n&&!e}function kg(n,e,t){var r,i=sc(e),s=xw(t);try{r=Ym(n,{start:i,end:s})}catch{r=!1}return r}function fI(){var n=EF();return n.__localeId__}function yd(n){if(typeof n=="string"){var e=EF();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function hfe(n,e,t){return e(yn(n,"EEEE",t))}function dfe(n,e){return yn(n,"EEEEEE",e)}function pfe(n,e){return yn(n,"EEE",e)}function hI(n,e){return yn(us(Ht(),n),"LLLL",e)}function SF(n,e){return yn(us(Ht(),n),"LLL",e)}function gfe(n,e){return yn(xh(Ht(),n),"QQQ",e)}function fs(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.excludeDateIntervals,o=t.includeDates,l=t.includeDateIntervals,u=t.filterDate;return b0(n,{minDate:r,maxDate:i})||s&&s.some(function(h){return h instanceof Date?Ct(n,h):Ct(n,h.date)})||a&&a.some(function(h){var p=h.start,g=h.end;return Ym(n,{start:p,end:g})})||o&&!o.some(function(h){return Ct(n,h)})||l&&!l.some(function(h){var p=h.start,g=h.end;return Ym(n,{start:p,end:g})})||u&&!u(Ht(n))||!1}function dI(n,e){var t=e===void 0?{}:e,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var a=s.start,o=s.end;return Ym(n,{start:a,end:o})}):r&&r.some(function(s){var a;return s instanceof Date?Ct(n,s):Ct(n,(a=s.date)!==null&&a!==void 0?a:new Date)})||!1}function TF(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,o=t.filterDate;return b0(n,{minDate:r?JC(r):void 0,maxDate:i?bw(i):void 0})||(s==null?void 0:s.some(function(l){return ii(n,l instanceof Date?l:l.date)}))||a&&!a.some(function(l){return ii(n,l)})||o&&!o(Ht(n))||!1}function Ev(n,e,t,r){var i=ct(n),s=Wr(n),a=ct(e),o=Wr(e),l=ct(r);return i===a&&i===l?s<=t&&t<=o:i<a?l===i&&s<=t||l===a&&o>=t||l<a&&l>i:!1}function mfe(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates;return b0(n,{minDate:r,maxDate:i})||s&&s.some(function(o){return ii(o instanceof Date?o:o.date,n)})||a&&!a.some(function(o){return ii(o,n)})||!1}function Av(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,o=t.filterDate;return b0(n,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(l){return C_(n,l instanceof Date?l:l.date)}))||a&&!a.some(function(l){return C_(n,l)})||o&&!o(Ht(n))||!1}function Sv(n,e,t){if(!e||!t||!Hm(e)||!Hm(t))return!1;var r=ct(e),i=ct(t);return r<=n&&i>=n}function wy(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,o=t.filterDate,l=new Date(n,0,1);return b0(l,{minDate:r?y0(r):void 0,maxDate:i?eI(i):void 0})||(s==null?void 0:s.some(function(u){return ma(l,u instanceof Date?u:u.date)}))||a&&!a.some(function(u){return ma(l,u)})||o&&!o(Ht(l))||!1}function Tv(n,e,t,r){var i=ct(n),s=ku(n),a=ct(e),o=ku(e),l=ct(r);return i===a&&i===l?s<=t&&t<=o:i<a?l===i&&s<=t||l===a&&o>=t||l<a&&l>i:!1}function b0(n,e){var t,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(t=i&&dd(n,i)<0||s&&dd(n,s)>0)!==null&&t!==void 0?t:!1}function Ek(n,e){return e.some(function(t){return Co(t)===Co(n)&&Io(t)===Io(n)&&Gl(t)===Gl(n)})}function Ak(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,i=t.includeTimes,s=t.filterTime;return r&&Ek(n,r)||i&&!Ek(n,i)||s&&!s(n)||!1}function Sk(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=Ht();i=gy(i,Co(n)),i=my(i,Io(n)),i=vy(i,Gl(n));var s=Ht();s=gy(s,Co(t)),s=my(s,Io(t)),s=vy(s,Gl(t));var a=Ht();a=gy(a,Co(r)),a=my(a,Io(r)),a=vy(a,Gl(r));var o;try{o=!Ym(i,{start:s,end:a})}catch{o=!1}return o}function Tk(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=Lu(n,1);return r&&zm(r,s)>0||i&&i.every(function(a){return zm(a,s)>0})||!1}function Ck(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=xs(n,1);return r&&zm(s,r)>0||i&&i.every(function(a){return zm(s,a)>0})||!1}function vfe(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=y0(n),a=cF(s);return r&&__(r,a)>0||i&&i.every(function(o){return __(o,a)>0})||!1}function yfe(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=eI(n),a=ww(s,1);return r&&__(a,r)>0||i&&i.every(function(o){return __(a,o)>0})||!1}function Ik(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=pd(n,1);return r&&Wm(r,s)>0||i&&i.every(function(a){return Wm(a,s)>0})||!1}function _fe(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.yearItemNumber,s=i===void 0?x0:i,a=Pg(pd(n,s)),o=So(a,s).endPeriod,l=r&&ct(r);return l&&l>o||!1}function Dk(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=Pa(n,1);return r&&Wm(s,r)>0||i&&i.every(function(a){return Wm(s,a)>0})||!1}function wfe(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.yearItemNumber,s=i===void 0?x0:i,a=Pa(n,s),o=So(a,s).startPeriod,l=r&&ct(r);return l&&l<o||!1}function CF(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return dd(i,e)>=0});return nk(r)}else return t?nk(t):e}function IF(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return dd(i,e)<=0});return tk(r)}else return t?tk(t):e}function Rk(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=n.length;i<s;i++){var a=n[i];if(To(a)){var o=yn(a,"MM.dd.yyyy"),l=r.get(o)||[];l.includes(e)||(l.push(e),r.set(o,l))}else if(typeof a=="object"){var u=Object.keys(a),h=(t=u[0])!==null&&t!==void 0?t:"",p=a[h];if(typeof h=="string"&&Array.isArray(p))for(var g=0,v=p.length;g<v;g++){var w=p[g];if(w){var o=yn(w,"MM.dd.yyyy"),l=r.get(o)||[];l.includes(h)||(l.push(h),r.set(o,l))}}}}return r}function xfe(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function bfe(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var i=r.date,s=r.holidayName;if(To(i)){var a=yn(i,"MM.dd.yyyy"),o=t.get(a)||{className:"",holidayNames:[]};if(!("className"in o&&o.className===e&&xfe(o.holidayNames,[s]))){o.className=e;var l=o.holidayNames;o.holidayNames=l?ba(ba([],l,!0),[s],!1):[s],t.set(a,o)}}}),t}function Efe(n,e,t,r,i){for(var s=i.length,a=[],o=0;o<s;o++){var l=n,u=i[o];u&&(l=$B(l,Co(u)),l=y_(l,Io(u)),l=qB(l,Gl(u)));var h=y_(n,(t+1)*r);ac(l,e)&&Ju(l,h)&&u!=null&&a.push(u)}return a}function Ok(n){return n<10?"0".concat(n):"".concat(n)}function So(n,e){e===void 0&&(e=x0);var t=Math.ceil(ct(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function Afe(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function Nk(n){var e=n.getSeconds(),t=n.getMilliseconds();return Oe(n.getTime()-e*1e3-t)}function Sfe(n,e){return Nk(n).getTime()===Nk(e).getTime()}function Mk(n){if(!To(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function WE(n,e){if(!To(n)||!To(e))throw new Error("Invalid date received");var t=Mk(n),r=Mk(e);return Ju(t,r)}function DF(n){return n.key===Re.Space}var Tfe=function(n){xr(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=ae.createRef(),r.onTimeChange=function(i){var s,a;r.setState({time:i});var o=r.props.date,l=o instanceof Date&&!isNaN(+o),u=l?o:new Date;if(i!=null&&i.includes(":")){var h=i.split(":"),p=h[0],g=h[1];u.setHours(Number(p)),u.setMinutes(Number(g))}(a=(s=r.props).onChange)===null||a===void 0||a.call(s,u)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,a=s.date,o=s.timeString,l=s.customTimeInput;return l?G.cloneElement(l,{date:a,value:i,onChange:r.onTimeChange}):ae.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var u;(u=r.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:i,onChange:function(u){r.onTimeChange(u.target.value||o)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return ae.createElement("div",{className:"react-datepicker__input-time-container"},ae.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ae.createElement("div",{className:"react-datepicker-time__input-container"},ae.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(G.Component),Cfe=function(n){xr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=G.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,s,a=r.key;a===Re.Space&&(r.preventDefault(),r.key=Re.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isSameDay=function(r){return Ct(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),fs(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return dI(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Ct(t.props.day,ql(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&Ct(r,ql(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,s=r.highlightDates;if(!s)return!1;var a=yn(i,"MM.dd.yyyy");return s.get(a)},t.getHolidaysClass=function(){var r,i=t.props,s=i.day,a=i.holidays;if(!a)return[void 0];var o=yn(s,"MM.dd.yyyy");return a.has(o)?[(r=a.get(o))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,s=r.startDate,a=r.endDate;return!s||!a?!1:kg(i,s,a)},t.isInSelectingRange=function(){var r,i=t.props,s=i.day,a=i.selectsStart,o=i.selectsEnd,l=i.selectsRange,u=i.selectsDisabledDaysInRange,h=i.startDate,p=i.endDate,g=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(a||o||l)||!g||!u&&t.isDisabled()?!1:a&&p&&(Ju(g,p)||bu(g,p))?kg(s,g,p):o&&h&&(ac(g,h)||bu(g,h))||l&&h&&!p&&(ac(g,h)||bu(g,h))?kg(s,h,g):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,a=i.startDate,o=i.selectsStart,l=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return o?Ct(s,l):Ct(s,a)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,a=i.endDate,o=i.selectsEnd,l=i.selectsRange,u=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return o||l?Ct(s,u):Ct(s,a)},t.isRangeStart=function(){var r=t.props,i=r.day,s=r.startDate,a=r.endDate;return!s||!a?!1:Ct(s,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,s=r.startDate,a=r.endDate;return!s||!a?!1:Ct(a,i)},t.isWeekend=function(){var r=mle(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Wr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Wr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Ht())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return Mr("react-datepicker__day",i,"react-datepicker__day--"+cfe(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,a=s===void 0?"Choose":s,o=r.ariaLabelPrefixWhenDisabled,l=o===void 0?"Not available":o,u=t.isDisabled()||t.isExcluded()?l:a;return"".concat(u," ").concat(yn(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,s=r.holidays,a=s===void 0?new Map:s,o=r.excludeDates,l=yn(i,"MM.dd.yyyy"),u=[];return a.has(l)&&u.push.apply(u,a.get(l).holidayNames),t.isExcluded()&&u.push(o==null?void 0:o.filter(function(h){return h instanceof Date?Ct(h,i):Ct(h==null?void 0:h.date,i)}).map(function(h){if(!(h instanceof Date))return h==null?void 0:h.message})),u.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&Ct(i,r))?0:-1;return s},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(lk(t.props.day),t.props.day):lk(t.props.day)},t.render=function(){return ae.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ae.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(G.Component),Ife=function(n){xr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=G.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,s,a=r.key;a===Re.Space&&(r.preventDefault(),r.key=Re.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ct(t.props.date,t.props.selected)&&Ct(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Ct(t.props.date,t.props.selected)&&Ct(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Ct(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,s=t.ariaLabelPrefix,a=s===void 0?e.defaultProps.ariaLabelPrefix:s,o=t.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!i,"react-datepicker__week-number--selected":!!o&&Ct(this.props.date,this.props.selected)};return ae.createElement("div",{ref:this.weekNumberEl,className:Mr(l),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(G.Component),Dfe=function(n){xr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return fs(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,s){for(var a,o,l,u=new Date(r),h=0;h<7;h++){var p=new Date(r);p.setDate(p.getDate()+h);var g=!t.isDisabled(p);if(g){u=p;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(u,i,s),t.props.showWeekPicker&&t.handleDayClick(u,s),((a=t.props.shouldCloseOnSelect)!==null&&a!==void 0?a:e.defaultProps.shouldCloseOnSelect)&&((l=(o=t.props).setOpen)===null||l===void 0||l.call(o,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):lfe(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=vs(r,6),s=new Date(r);s<=i;){if(!t.isDisabled(s))return!1;s=vs(s,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],s=t.formatWeekNumber(r);if(t.props.showWeekNumber){var a=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,s):void 0;i.push(ae.createElement(Ife,vt({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:a})))}return i.concat([0,1,2,3,4,5,6].map(function(o){var l=vs(r,o);return ae.createElement(Cfe,vt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:t.handleDayClick.bind(t,l),onMouseEnter:t.handleDayMouseEnter.bind(t,l)}))}))},t.startOfWeek=function(){return ql(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ct(t.startOfWeek(),t.props.selected)&&Ct(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Ct(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return ae.createElement("div",{className:Mr(t,r)},this.renderDays())},e}(G.Component),dg,Rfe=6,zh={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},YE=(dg={},dg[zh.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},dg[zh.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},dg[zh.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},dg),Cv=1;function Pk(n,e){return n?zh.FOUR_COLUMNS:e?zh.TWO_COLUMNS:zh.THREE_COLUMNS}var Ofe=function(n){xr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=ba([],Array(12),!0).map(function(){return G.createRef()}),t.QUARTER_REFS=ba([],Array(4),!0).map(function(){return G.createRef()}),t.isDisabled=function(r){return fs(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return dI(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var s,a;(a=(s=t.props).onDayClick)===null||a===void 0||a.call(s,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,s;(s=(i=t.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,s=i.day,a=i.startDate,o=i.endDate;return!a||!o?!1:ii(us(s,r),a)},t.isRangeStartQuarter=function(r){var i=t.props,s=i.day,a=i.startDate,o=i.endDate;return!a||!o?!1:C_(xh(s,r),a)},t.isRangeEndMonth=function(r){var i=t.props,s=i.day,a=i.startDate,o=i.endDate;return!a||!o?!1:ii(us(s,r),o)},t.isRangeEndQuarter=function(r){var i=t.props,s=i.day,a=i.startDate,o=i.endDate;return!a||!o?!1:C_(xh(s,r),o)},t.isInSelectingRangeMonth=function(r){var i,s=t.props,a=s.day,o=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,h=s.startDate,p=s.endDate,g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(o||l||u)||!g?!1:o&&p?Ev(g,p,r,a):l&&h||u&&h&&!p?Ev(h,g,r,a):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,a=s.day,o=s.startDate,l=s.selectsStart,u=us(a,r),h=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l?ii(u,h):ii(u,o)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,a=s.day,o=s.endDate,l=s.selectsEnd,u=s.selectsRange,h=us(a,r),p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l||u?ii(h,p):ii(h,o)},t.isInSelectingRangeQuarter=function(r){var i,s=t.props,a=s.day,o=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,h=s.startDate,p=s.endDate,g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(o||l||u)||!g?!1:o&&p?Tv(g,p,r,a):l&&h||u&&h&&!p?Tv(h,g,r,a):!1},t.isWeekInMonth=function(r){var i=t.props.day,s=vs(r,6);return ii(r,i)||ii(s,i)},t.isCurrentMonth=function(r,i){return ct(r)===ct(Ht())&&i===Wr(Ht())},t.isCurrentQuarter=function(r,i){return ct(r)===ct(Ht())&&i===ku(Ht())},t.isSelectedMonth=function(r,i,s){return Wr(s)===i&&ct(r)===ct(s)},t.isSelectMonthInList=function(r,i,s){return s.some(function(a){return t.isSelectedMonth(r,i,a)})},t.isSelectedQuarter=function(r,i,s){return ku(r)===i&&ct(r)===ct(s)},t.isMonthSelected=function(){var r=t.props,i=r.day,s=r.selected,a=r.selectedDates,o=r.selectsMultiple,l=Wr(i);return o?a==null?void 0:a.some(function(u){return t.isSelectedMonth(i,l,u)}):!!s&&t.isSelectedMonth(i,l,s)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,s=0,a=!1,o=ql(Do(t.props.day),t.props.locale,t.props.calendarStartDay),l=function(w){return t.props.showWeekPicker?ql(w,t.props.locale,t.props.calendarStartDay):t.props.preSelection},u=function(w){return t.props.showWeekPicker?ql(w,t.props.locale,t.props.calendarStartDay):t.props.selected},h=t.props.selected?u(t.props.selected):void 0,p=t.props.preSelection?l(t.props.preSelection):void 0;r.push(ae.createElement(Dfe,vt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:o,month:Wr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:h,preSelection:p,showWeekNumber:t.props.showWeekNumbers}))),!a;){s++,o=jm(o,1);var g=i&&s>=Rfe,v=!i&&!t.isWeekInMonth(o);if(g||v)if(t.props.peekNextMonth)a=!0;else break}return r},t.onMonthClick=function(r,i){var s=t.isMonthDisabledForLabelDate(i),a=s.isDisabled,o=s.labelDate;a||t.handleDayClick(Do(o),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),s=i.isDisabled,a=i.labelDate;s||t.handleDayMouseEnter(Do(a))},t.handleMonthNavigation=function(r,i){var s,a,o,l;(a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,i),(l=(o=t.MONTH_REFS[r])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()},t.handleKeyboardNavigation=function(r,i,s){var a,o=t.props,l=o.selected,u=o.preSelection,h=o.setPreSelection,p=o.minDate,g=o.maxDate,v=o.showFourColumnMonthYearPicker,w=o.showTwoColumnMonthYearPicker;if(u){var x=Pk(v,w),E=t.getVerticalOffset(x),A=(a=YE[x])===null||a===void 0?void 0:a.grid,T=function(R,C,N){var L,F,H=C,B=N;switch(R){case Re.ArrowRight:H=xs(C,Cv),B=N===11?0:N+Cv;break;case Re.ArrowLeft:H=Lu(C,Cv),B=N===0?11:N-Cv;break;case Re.ArrowUp:H=Lu(C,E),B=!((L=A==null?void 0:A[0])===null||L===void 0)&&L.includes(N)?N+12-E:N-E;break;case Re.ArrowDown:H=xs(C,E),B=!((F=A==null?void 0:A[A.length-1])===null||F===void 0)&&F.includes(N)?N-12+E:N+E;break}return{newCalculatedDate:H,newCalculatedMonth:B}},I=function(R,C,N){for(var L=40,F=R,H=!1,B=0,he=T(F,C,N),fe=he.newCalculatedDate,Y=he.newCalculatedMonth;!H;){if(B>=L){fe=C,Y=N;break}if(p&&fe<p){F=Re.ArrowRight;var X=T(F,fe,Y);fe=X.newCalculatedDate,Y=X.newCalculatedMonth}if(g&&fe>g){F=Re.ArrowLeft;var X=T(F,fe,Y);fe=X.newCalculatedDate,Y=X.newCalculatedMonth}if(mfe(fe,t.props)){var X=T(F,fe,Y);fe=X.newCalculatedDate,Y=X.newCalculatedMonth}else H=!0;B++}return{newCalculatedDate:fe,newCalculatedMonth:Y}};if(i===Re.Enter){t.isMonthDisabled(s)||(t.onMonthClick(r,s),h==null||h(l));return}var P=I(i,u,s),O=P.newCalculatedDate,V=P.newCalculatedMonth;switch(i){case Re.ArrowRight:case Re.ArrowLeft:case Re.ArrowUp:case Re.ArrowDown:t.handleMonthNavigation(V,O);break}}},t.getVerticalOffset=function(r){var i,s;return(s=(i=YE[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(r,i){var s=t.props,a=s.disabledKeyboardNavigation,o=s.handleOnMonthKeyDown,l=r.key;l!==Re.Tab&&r.preventDefault(),a||t.handleKeyboardNavigation(r,l,i),o&&o(r)},t.onQuarterClick=function(r,i){var s=xh(t.props.day,i);Av(s,t.props)||t.handleDayClick(wk(s),r)},t.onQuarterMouseEnter=function(r){var i=xh(t.props.day,r);Av(i,t.props)||t.handleDayMouseEnter(wk(i))},t.handleQuarterNavigation=function(r,i){var s,a,o,l;t.isDisabled(i)||t.isExcluded(i)||((a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,i),(l=(o=t.QUARTER_REFS[r-1])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus())},t.onQuarterKeyDown=function(r,i){var s,a,o=r.key;if(!t.props.disabledKeyboardNavigation)switch(o){case Re.Enter:t.onQuarterClick(r,i),(a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,t.props.selected);break;case Re.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,ww(t.props.preSelection,1));break;case Re.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,cF(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var i,s=t.props,a=s.day,o=s.minDate,l=s.maxDate,u=s.excludeDates,h=s.includeDates,p=us(a,r);return{isDisabled:(i=(o||l||u||h)&&TF(p,t.props))!==null&&i!==void 0?i:!1,labelDate:p}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,s=i.day,a=i.startDate,o=i.endDate,l=i.preSelection,u=i.monthClassName,h=u?u(us(s,r)):void 0,p=t.getSelection();return Mr("react-datepicker__month-text","react-datepicker__month-".concat(r),h,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":p?t.isSelectMonthInList(s,r,p):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&l&&t.isSelectedMonth(s,r,l)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":a&&o?Ev(a,o,r,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(s,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=Wr(t.props.preSelection),s=t.isMonthDisabledForLabelDate(i).isDisabled,a=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=ku(t.props.preSelection),s=Av(t.props.day,t.props),a=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getAriaLabel=function(r){var i=t.props,s=i.chooseDayAriaLabelPrefix,a=s===void 0?"Choose":s,o=i.disabledDayAriaLabelPrefix,l=o===void 0?"Not available":o,u=i.day,h=i.locale,p=us(u,r),g=t.isDisabled(p)||t.isExcluded(p)?l:a;return"".concat(g," ").concat(yn(p,"MMMM yyyy",h))},t.getQuarterClassNames=function(r){var i=t.props,s=i.day,a=i.startDate,o=i.endDate,l=i.selected,u=i.minDate,h=i.maxDate,p=i.excludeDates,g=i.includeDates,v=i.filterDate,w=i.preSelection,x=i.disabledKeyboardNavigation,E=(u||h||p||g||v)&&Av(xh(s,r),t.props);return Mr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":E,"react-datepicker__quarter-text--selected":l?t.isSelectedQuarter(s,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!x&&w&&t.isSelectedQuarter(s,r,w)&&!E,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":a&&o?Tv(a,o,r,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,r)})},t.getMonthContent=function(r){var i=t.props,s=i.showFullMonthYearPicker,a=i.renderMonthContent,o=i.locale,l=i.day,u=SF(r,o),h=hI(r,o);return a?a(r,u,h,l):s?h:u},t.getQuarterContent=function(r){var i,s=t.props,a=s.renderQuarterContent,o=s.locale,l=gfe(r,o);return(i=a==null?void 0:a(r,l))!==null&&i!==void 0?i:l},t.renderMonths=function(){var r,i=t.props,s=i.showTwoColumnMonthYearPicker,a=i.showFourColumnMonthYearPicker,o=i.day,l=i.selected,u=(r=YE[Pk(a,s)])===null||r===void 0?void 0:r.grid;return u==null?void 0:u.map(function(h,p){return ae.createElement("div",{className:"react-datepicker__month-wrapper",key:p},h.map(function(g,v){return ae.createElement("div",{ref:t.MONTH_REFS[g],key:v,onClick:function(w){t.onMonthClick(w,g)},onKeyDown:function(w){DF(w)&&(w.preventDefault(),w.key=Re.Enter),t.onMonthKeyDown(w,g)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(g)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(g)}:void 0,tabIndex:Number(t.getTabIndex(g)),className:t.getMonthClassNames(g),"aria-disabled":t.isMonthDisabled(g),role:"option","aria-label":t.getAriaLabel(g),"aria-current":t.isCurrentMonth(o,g)?"date":void 0,"aria-selected":l?t.isSelectedMonth(o,g,l):void 0},t.getMonthContent(g))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,s=r.selected,a=[1,2,3,4];return ae.createElement("div",{className:"react-datepicker__quarter-wrapper"},a.map(function(o,l){return ae.createElement("div",{key:l,ref:t.QUARTER_REFS[l],role:"option",onClick:function(u){t.onQuarterClick(u,o)},onKeyDown:function(u){t.onQuarterKeyDown(u,o)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(o)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(o)}:void 0,className:t.getQuarterClassNames(o),"aria-selected":s?t.isSelectedQuarter(i,o,s):void 0,tabIndex:Number(t.getQuarterTabIndex(o)),"aria-current":t.isCurrentQuarter(i,o)?"date":void 0},t.getQuarterContent(o))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,s=r.selectsStart,a=r.selectsEnd,o=r.showMonthYearPicker,l=r.showQuarterYearPicker,u=r.showWeekPicker;return Mr("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||a)},{"react-datepicker__monthPicker":o},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":u})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,s=t.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,s=t.day,a=t.ariaLabelPrefix,o=a===void 0?"Month ":a,l=o?o.trim()+" ":"";return ae.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(yn(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(G.Component),Nfe=function(n){xr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return ae.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?ae.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ae.createElement(Cw,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(G.Component),Mfe=function(n){xr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,s){return ae.createElement("option",{key:i,value:s},i)})},t.renderSelectMode=function(r){return ae.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return ae.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return ae.createElement(Nfe,vt({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,s=[t.renderReadView(!i,r)];return i&&s.unshift(t.renderDropdown(r)),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return SF(s,t.props.locale)}:function(s){return hI(s,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return ae.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(G.Component);function Pfe(n,e){for(var t=[],r=Do(n),i=Do(e);!ac(r,i);)t.push(Ht(r)),r=xs(r,1);return t}var kfe=function(n){xr(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=sS(i),a=ma(r.props.date,i)&&ii(r.props.date,i);return ae.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":a?"true":void 0},a?ae.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",yn(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:Pfe(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=Mr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ae.createElement(Cw,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(G.Component),Lfe=function(n){xr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Do(t.props.minDate),i=Do(t.props.maxDate),s=[];!ac(r,i);){var a=sS(r);s.push(ae.createElement("option",{key:a,value:a},yn(r,t.props.dateFormat,t.props.locale))),r=xs(r,1)}return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return ae.createElement("select",{value:sS(Do(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=yn(t.props.date,t.props.dateFormat,t.props.locale);return ae.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return ae.createElement(kfe,vt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=Ht(r);ma(t.props.date,i)&&ii(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(G.Component),Vfe=function(n){xr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(r){var i,s;(t.props.minTime||t.props.maxTime)&&Sk(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Ak(r,t.props)||(s=(i=t.props).onChange)===null||s===void 0||s.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&Sfe(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&Sk(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Ak(r,t.props)},t.liClasses=function(r){var i,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Co(r)*3600+Io(r)*60+Gl(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(r,i){var s,a;r.key===Re.Space&&(r.preventDefault(),r.key=Re.Enter),(r.key===Re.ArrowUp||r.key===Re.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Re.ArrowDown||r.key===Re.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Re.Enter&&t.handleClick(i),(a=(s=t.props).handleOnKeyDown)===null||a===void 0||a.call(s,r)},t.renderTimes=function(){for(var r,i=[],s=typeof t.props.format=="string"?t.props.format:"p",a=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,o=t.props.selected||t.props.openToDate||Ht(),l=_y(o),u=t.props.injectTimes&&t.props.injectTimes.sort(function(E,A){return E.getTime()-A.getTime()}),h=60*Afe(o),p=h/a,g=0;g<p;g++){var v=y_(l,g*a);if(i.push(v),u){var w=Efe(l,v,g,a,u);i=i.concat(w)}}var x=i.reduce(function(E,A){return A.getTime()<=o.getTime()?A:E},i[0]);return i.map(function(E){return ae.createElement("li",{key:E.valueOf(),onClick:t.handleClick.bind(t,E),className:t.liClasses(E),ref:function(A){E===x&&(t.centerLi=A)},onKeyDown:function(A){t.handleOnKeyDown(A,E)},tabIndex:E===x?0:-1,role:"option","aria-selected":t.isSelectedTime(E)?"true":void 0,"aria-disabled":t.isDisabledTime(E)?"true":void 0},yn(E,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ae.createElement(ae.Fragment,null):ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},ae.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,i=this.state.height;return ae.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ae.createElement("div",{className:"react-datepicker__time"},ae.createElement("div",{className:"react-datepicker__time-box"},ae.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(G.Component),kk=3,Bfe=function(n){xr(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=ba([],Array(r.props.yearItemNumber),!0).map(function(){return G.createRef()}),r.isDisabled=function(i){return fs(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return dI(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var a,o;(o=(a=r.YEAR_REFS[i])===null||a===void 0?void 0:a.current)===null||o===void 0||o.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var a,o,l,u,h=r.props,p=h.date,g=h.yearItemNumber;if(!(p===void 0||g===void 0)){var v=So(p,g).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((o=(a=r.props).setPreSelection)===null||o===void 0||o.call(a,s),i-v<0?r.updateFocusOnPaginate(g-(v-i)):i-v>=g?r.updateFocusOnPaginate(Math.abs(g-(i-v))):(u=(l=r.YEAR_REFS[i-v])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())}},r.isSameDay=function(i,s){return Ct(i,s)},r.isCurrentYear=function(i){return i===ct(Ht())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&ma(pa(Ht(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&ma(pa(Ht(),i),r.props.endDate)},r.isInRange=function(i){return Sv(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,a=s.selectsStart,o=s.selectsEnd,l=s.selectsRange,u=s.startDate,h=s.endDate;return!(a||o||l)||!r.selectingDate()?!1:a&&h?Sv(i,r.selectingDate(),h):o&&u||l&&u&&!h?Sv(i,u,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var a=r.props,o=a.startDate,l=a.selectsStart,u=pa(Ht(),i);return l?ma(u,(s=r.selectingDate())!==null&&s!==void 0?s:null):ma(u,o??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var a=r.props,o=a.endDate,l=a.selectsEnd,u=a.selectsRange,h=pa(Ht(),i);return l||u?ma(h,(s=r.selectingDate())!==null&&s!==void 0?s:null):ma(h,o??null)},r.isKeyboardSelected=function(i){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var s=r.props,a=s.minDate,o=s.maxDate,l=s.excludeDates,u=s.includeDates,h=s.filterDate,p=s.selected,g=Pg(pa(r.props.date,i)),v=(a||o||l||u||h)&&wy(i,r.props),w=!!p&&Ct(g,Pg(p)),x=Ct(g,Pg(r.props.preSelection));return!r.props.inline&&!w&&x&&!v}},r.isSelectedYear=function(i){var s=r.props,a=s.selectsMultiple,o=s.selected,l=s.selectedDates;return a?l==null?void 0:l.some(function(u){return i===ct(u)}):!!o&&i===ct(o)},r.onYearClick=function(i,s){var a=r.props.date;a!==void 0&&r.handleYearClick(Pg(pa(a,s)),i)},r.onYearKeyDown=function(i,s){var a,o,l=i.key,u=r.props,h=u.date,p=u.yearItemNumber,g=u.handleOnKeyDown;if(l!==Re.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case Re.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(o=(a=r.props).setPreSelection)===null||o===void 0||o.call(a,r.props.selected);break;case Re.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Pa(r.props.preSelection,1));break;case Re.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,pd(r.props.preSelection,1));break;case Re.ArrowUp:{if(h===void 0||p===void 0||r.props.preSelection==null)break;var v=So(h,p).startPeriod,w=kk,x=s-w;if(x<v){var E=p%w;s>=v&&s<v+E?w=E:w+=E,x=s-w}r.handleYearNavigation(x,pd(r.props.preSelection,w));break}case Re.ArrowDown:{if(h===void 0||p===void 0||r.props.preSelection==null)break;var A=So(h,p).endPeriod,w=kk,x=s+w;if(x>A){var E=p%w;s<=A&&s>A-E?w=E:w+=E,x=s+w}r.handleYearNavigation(x,Pa(r.props.preSelection,w));break}}g&&g(i)},r.getYearClassNames=function(i){var s=r.props,a=s.date,o=s.minDate,l=s.maxDate,u=s.excludeDates,h=s.includeDates,p=s.filterDate,g=s.yearClassName;return Mr("react-datepicker__year-text","react-datepicker__year-".concat(i),a?g==null?void 0:g(pa(a,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(o||l||u||h||p)&&wy(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=ct(r.props.preSelection),a=wy(i,r.props);return i===s&&!a?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var t=this,r=[],i=this.props,s=i.date,a=i.yearItemNumber,o=i.onYearMouseEnter,l=i.onYearMouseLeave;if(s===void 0)return null;for(var u=So(s,a),h=u.startPeriod,p=u.endPeriod,g=function(x){r.push(ae.createElement("div",{ref:v.YEAR_REFS[x-h],onClick:function(E){t.onYearClick(E,x)},onKeyDown:function(E){DF(E)&&(E.preventDefault(),E.key=Re.Enter),t.onYearKeyDown(E,x)},tabIndex:Number(v.getYearTabIndex(x)),className:v.getYearClassNames(x),onMouseEnter:v.props.usePointerEvent?void 0:function(E){return o(E,x)},onPointerEnter:v.props.usePointerEvent?function(E){return o(E,x)}:void 0,onMouseLeave:v.props.usePointerEvent?void 0:function(E){return l(E,x)},onPointerLeave:v.props.usePointerEvent?function(E){return l(E,x)}:void 0,key:x,"aria-current":v.isCurrentYear(x)?"date":void 0},v.getYearContent(x)))},v=this,w=h;w<=p;w++)g(w);return ae.createElement("div",{className:"react-datepicker__year"},ae.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(G.Component);function Ffe(n,e,t,r){for(var i=[],s=0;s<2*e+1;s++){var a=n+e-s,o=!0;t&&(o=ct(t)<=a),r&&o&&(o=ct(r)>=a),o&&i.push(a)}return i}var Ufe=function(n){xr(e,n);function e(t){var r=n.call(this,t)||this;r.renderOptions=function(){var o=r.props.year,l=r.state.yearsList.map(function(p){return ae.createElement("div",{className:o===p?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:p,onClick:r.onChange.bind(r,p),"aria-selected":o===p?"true":void 0},o===p?ae.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",p)}),u=r.props.minDate?ct(r.props.minDate):null,h=r.props.maxDate?ct(r.props.maxDate):null;return(!h||!r.state.yearsList.find(function(p){return p===h}))&&l.unshift(ae.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(p){return p===u}))&&l.push(ae.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(o){r.props.onChange(o)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(o){var l=r.state.yearsList.map(function(u){return u+o});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,a=i||(s?10:5);return r.state={yearsList:Ffe(r.props.year,a,r.props.minDate,r.props.maxDate)},r.dropdownRef=G.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Mr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ae.createElement(Cw,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(G.Component),jfe=function(n){xr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?ct(t.props.minDate):1900,i=t.props.maxDate?ct(t.props.maxDate):2100,s=[],a=r;a<=i;a++)s.push(ae.createElement("option",{key:a,value:a},a));return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return ae.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return ae.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},ae.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ae.createElement(Ufe,vt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var s;(s=t.onSelect)===null||s===void 0||s.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var s,a;(a=(s=t.props).onSelect)===null||a===void 0||a.call(s,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(G.Component),Hfe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],RF="react-datepicker-ignore-onclickoutside",zfe=function(n){var e=(n.className||"").split(/\s+/);return Hfe.some(function(t){return e.indexOf(t)>=0})},Wfe=function(n){xr(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,a;zfe(i.target)&&((a=(s=r.props).onDropdownFocus)===null||a===void 0||a.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,a=i.selected,o=i.openToDate,l=CF(r.props),u=IF(r.props),h=Ht(),p=o||a||s;return p||(l&&Ju(h,l)?l:u&&ac(h,u)?u:h)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:xs(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Lu(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,a){r.props.onSelect(i,s,a),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:pa(Ht(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,a,o,l;(a=(s=r.props).onYearChange)===null||a===void 0||a.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(o=r.props).setOpen)===null||l===void 0||l.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!fs(i,r.props))return i;for(var s=Do(i),a=ffe(i),o=QC(a,s),l=null,u=0;u<=o;u++){var h=vs(s,u);if(!fs(h,r.props)){l=h;break}}return l},r.handleMonthChange=function(i){var s,a,o,l=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(o=(a=r.props).setOpen)===null||o===void 0||o.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var s,a;(a=(s=r.props).onMonthChange)===null||a===void 0||a.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var a=s.date;return{date:pa(a,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var a=s.date;return{date:us(a,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var a=s.date;return{date:pa(us(a,Wr(i)),ct(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=ql(i,r.props.locale,r.props.calendarStartDay),a=[];return r.props.showWeekNumbers&&a.push(ae.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},ae.createElement("span",{className:"sr-only"},"Week number"),ae.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),a.concat([0,1,2,3,4,5,6].map(function(o){var l=vs(s,o),u=r.formatWeekday(l,r.props.locale),h=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return ae.createElement("div",{key:o,role:"columnheader",className:Mr("react-datepicker__day-name",h)},ae.createElement("span",{className:"sr-only"},yn(l,"EEEE",r.props.locale)),ae.createElement("span",{"aria-hidden":"true"},u))}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?hfe(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?pfe(i,s):dfe(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,a=i.date;return{date:pd(a,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,a;if(!r.props.renderCustomHeader){var o=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?o-1:0,u=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,h=Lu(r.state.date,u),p;switch(!0){case r.props.showMonthYearPicker:p=Ik(r.state.date,r.props);break;case r.props.showYearPicker:p=_fe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:p=vfe(r.state.date,r.props);break;default:p=Tk(h,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&p||r.props.showTimeSelectOnly)){var g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],v=["react-datepicker__navigation","react-datepicker__navigation--previous"],w=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(w=r.decreaseYear),p&&r.props.showDisabledMonthNavigation&&(v.push("react-datepicker__navigation--previous--disabled"),w=void 0);var x=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,E=r.props,A=E.previousMonthButtonLabel,T=A===void 0?e.defaultProps.previousMonthButtonLabel:A,I=E.previousYearButtonLabel,P=I===void 0?e.defaultProps.previousYearButtonLabel:I,O=r.props,V=O.previousMonthAriaLabel,R=V===void 0?typeof T=="string"?T:"Previous Month":V,C=O.previousYearAriaLabel,N=C===void 0?typeof P=="string"?P:"Previous Year":C;return ae.createElement("button",{type:"button",className:v.join(" "),onClick:w,onKeyDown:r.props.handleOnKeyDown,"aria-label":x?N:R},ae.createElement("span",{className:g.join(" ")},x?P:T))}}},r.increaseYear=function(){r.setState(function(i){var s,a=i.date;return{date:Pa(a,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=Dk(r.state.date,r.props);break;case r.props.showYearPicker:s=wfe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=yfe(r.state.date,r.props);break;default:s=Ck(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var a=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),l=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,h=r.props,p=h.nextMonthButtonLabel,g=p===void 0?e.defaultProps.nextMonthButtonLabel:p,v=h.nextYearButtonLabel,w=v===void 0?e.defaultProps.nextYearButtonLabel:v,x=r.props,E=x.nextMonthAriaLabel,A=E===void 0?typeof g=="string"?g:"Next Month":E,T=x.nextYearAriaLabel,I=T===void 0?typeof w=="string"?w:"Next Year":T;return ae.createElement("button",{type:"button",className:a.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?I:A},ae.createElement("span",{className:o.join(" ")},u?w:g))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),ae.createElement("h2",{className:s.join(" ")},yn(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return ae.createElement(jfe,vt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ct(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return ae.createElement(Mfe,vt({},e.defaultProps,r.props,{month:Wr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return ae.createElement(Lfe,vt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(xk(),i),r.props.setPreSelection&&r.props.setPreSelection(xk())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return ae.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,a=i.i;return ae.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),ae.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(a!==0),r.renderMonthYearDropdown(a!==0),r.renderYearDropdown(a!==0)),ae.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(s)))},r.renderCustomHeader=function(i){var s,a,o=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var u=r.props,h=u.showYearPicker,p=u.yearItemNumber,g;if(h){var v=So(o,p),w=v.startPeriod,x=v.endPeriod;g={startYear:w,endYear:x}}var E=Tk(r.state.date,r.props),A=Ck(r.state.date,r.props),T=Ik(r.state.date,r.props),I=Dk(r.state.date,r.props),P=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(a=(s=r.props).renderCustomHeader)===null||a===void 0?void 0:a.call(s,vt(vt(vt({},r.state),h&&{visibleYearsRange:g}),{customHeaderCount:l,monthDate:o,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:E,nextMonthButtonDisabled:A,prevYearButtonDisabled:T,nextYearButtonDisabled:I})),P&&ae.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderYearHeader=function(i){var s=i.monthDate,a=r.props,o=a.showYearPicker,l=a.yearItemNumber,u=l===void 0?e.defaultProps.yearItemNumber:l,h=So(s,u),p=h.startPeriod,g=h.endPeriod;return ae.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(p," - ").concat(g):ct(s))},r.renderHeader=function(i){var s=i.monthDate,a=i.i,o=a===void 0?0:a,l={monthDate:s,i:o};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var a=[],o=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?o-1:0,u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Pa(r.state.date,l):Lu(r.state.date,l),h=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,p=0;p<o;++p){var g=p-h+l,v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Pa(u,g):xs(u,g),w="month-".concat(p),x=p<o-1,E=p>0;a.push(ae.createElement("div",{key:w,ref:function(A){r.monthContainer=A??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:v,i:p}),ae.createElement(Ofe,vt({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:v,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:p,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:x,monthShowsDuplicateDaysStart:E}))))}return a}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return ae.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),ae.createElement(Bfe,vt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return ae.createElement(Vfe,vt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&Iw(i)&&!!r.props.selected,a=s?"".concat(Ok(i.getHours()),":").concat(Ok(i.getMinutes())):"";if(r.props.showTimeInput)return ae.createElement(Tfe,vt({},e.defaultProps,r.props,{date:i,timeString:a,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=So(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),a=s.startPeriod,o=s.endPeriod,l;return r.props.showYearPicker?l="".concat(a," - ").concat(o):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=ct(r.state.date):l="".concat(hI(Wr(r.state.date),r.props.locale)," ").concat(ct(r.state.date)),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return ae.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=G.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:RF,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:x0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!Ct(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!ii(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Ct(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||ife;return ae.createElement(Cw,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ae.createElement("div",{style:{display:"contents"},ref:this.containerRef},ae.createElement(t,{className:Mr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(G.Component),Yfe=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,i=n.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return ae.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i});if(ae.isValidElement(e)){var a=e;return ae.cloneElement(a,{className:"".concat(a.props.className||""," ").concat(s," ").concat(r),onClick:function(o){typeof a.props.onClick=="function"&&a.props.onClick(o),typeof i=="function"&&i(o)}})}return ae.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ae.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},OF=function(n){xr(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Mg.createPortal(this.props.children,this.el)},e}(G.Component),$fe="[tabindex], a, button, input, select, textarea",Gfe=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},NF=function(n){xr(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll($fe),1,-1).filter(Gfe)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=G.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ae.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ae.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ae.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(G.Component);function qfe(n){var e=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=G.useRef(null),a=rfe(vt({open:!i,whileElementsMounted:kue,placement:t.popperPlacement,middleware:ba([Wue({padding:15}),zue(10),Yue({element:s})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),o=vt(vt({},t),{hidePopper:i,popperProps:vt(vt({},a),{arrowRef:s})});return ae.createElement(n,vt({},o))};return e}var Kfe=function(n){xr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,s=t.hidePopper,a=s===void 0?e.defaultProps.hidePopper:s,o=t.popperComponent,l=t.targetComponent,u=t.enableTabLoop,h=t.popperOnKeyDown,p=t.portalId,g=t.portalHost,v=t.popperProps,w=t.showArrow,x=void 0;if(!a){var E=Mr("react-datepicker-popper",r);x=ae.createElement(NF,{enableTabLoop:u},ae.createElement("div",{ref:v.refs.setFloating,style:v.floatingStyles,className:E,"data-placement":v.placement,onKeyDown:h},o,w&&ae.createElement(Xue,{ref:v.arrowRef,context:v.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(x=G.createElement(this.props.popperContainer,{},x)),p&&!a&&(x=ae.createElement(OF,{portalId:p,portalHost:g},x));var A=Mr("react-datepicker-wrapper",i);return ae.createElement(ae.Fragment,null,ae.createElement("div",{ref:v.refs.setReference,className:A},l),x)},e}(G.Component),Xfe=qfe(Kfe);function Qfe(n,e){return n&&e?Wr(n)!==Wr(e)||ct(n)!==ct(e):n!==e}var $E="Date input not valid.",Zfe=function(n){xr(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ht()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,a){var o=new Date(a.date);return Iw(o)?ba(ba([],s,!0),[vt(vt({},a),{date:o})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),a=CF(r.props),o=IF(r.props),l=a&&Ju(s,_y(a))?a:o&&ac(s,bk(o))?o:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:Rk(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var i,s=r.props,a=s.locale,o=s.startDate,l=s.endDate,u=s.rangeSeparator,h=s.selected,p=s.selectedDates,g=s.selectsMultiple,v=s.selectsRange,w=s.value,x=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,E=r.state.inputValue;return typeof w=="string"?w:typeof E=="string"?E:v?afe(o,l,{dateFormat:x,locale:a,rangeSeparator:u}):g?ofe(p??[],{dateFormat:x,locale:a}):cs(h,{dateFormat:x,locale:a})},r.resetHiddenStatus=function(){r.setState(vt(vt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(vt(vt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},r.setBlur=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:GE},function(){i||r.setState(function(a){return{focused:s?a.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return To(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,a,o=r.state.wasHidden,l=o?r.state.open:!0;o&&r.resetHiddenStatus(),r.state.preventFocus||((a=(s=r.props).onFocus)===null||a===void 0||a.call(s,i),l&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(vt(vt({},r.state),{inputValue:null}))},r.handleBlur=function(i){var s,a;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((a=(s=r.props).onBlur)===null||a===void 0||a.call(s,i)),r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,a;r.props.inline||r.setOpen(!1),(a=(s=r.props).onClickOutside)===null||a===void 0||a.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,a,o,l,u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var p=u[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,u),!p||typeof p.isDefaultPrevented!="function"||p.isDefaultPrevented()))){r.setState({inputValue:(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:null,lastPreSelectChange:Jfe});var g=r.props,v=g.selectsRange,w=g.startDate,x=g.endDate,E=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,A=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,T=(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:"";if(v){var I=r.props.rangeSeparator,P=I.trim(),O=T.split(E.includes(P)?I:P,2).map(function(B){return B.trim()}),V=O[0],R=O[1],C=HE(V??"",E,r.props.locale,A),N=C?HE(R??"",E,r.props.locale,A):null,L=(w==null?void 0:w.getTime())!==(C==null?void 0:C.getTime()),F=(x==null?void 0:x.getTime())!==(N==null?void 0:N.getTime());if(!L&&!F||C&&fs(C,r.props)||N&&fs(N,r.props))return;(o=(a=r.props).onChange)===null||o===void 0||o.call(a,[C,N],p)}else{var H=HE(T,E,r.props.locale,A,(l=r.props.selected)!==null&&l!==void 0?l:void 0);(H||!T)&&r.setSelected(H,p,!0)}}},r.handleSelect=function(i,s,a){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,a),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var o=r.props,l=o.startDate,u=o.endDate;l&&!u&&(r.props.swapRange||!WE(i,l))&&r.setOpen(!1)}}},r.setSelected=function(i,s,a,o){var l,u,h=i;if(r.props.showYearPicker){if(h!==null&&wy(ct(h),r.props))return}else if(r.props.showMonthYearPicker){if(h!==null&&TF(h,r.props))return}else if(h!==null&&fs(h,r.props))return;var p=r.props,g=p.onChange,v=p.selectsRange,w=p.startDate,x=p.endDate,E=p.selectsMultiple,A=p.selectedDates,T=p.minTime,I=p.swapRange;if(!bu(r.props.selected,h)||r.props.allowSameDay||v||E)if(h!==null&&(r.props.selected&&(!a||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(h=zE(h,{hour:Co(r.props.selected),minute:Io(r.props.selected),second:Gl(r.props.selected)})),!a&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&T&&(h=zE(h,{hour:T.getHours(),minute:T.getMinutes(),second:T.getSeconds()})),r.props.inline||r.setState({preSelection:h}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:o})),v){var P=!w&&!x,O=w&&!x,V=!w&&!!x,R=w&&x;P?g==null||g([h,null],s):O?h===null?g==null||g([null,null],s):WE(h,w)?I?g==null||g([h,w],s):g==null||g([h,null],s):g==null||g([w,h],s):V&&(h&&WE(h,x)?g==null||g([h,x],s):g==null||g([h,null],s)),R&&(g==null||g([h,null],s))}else if(E){if(h!==null)if(!(A!=null&&A.length))g==null||g([h],s);else{var C=A.some(function(L){return Ct(L,h)});if(C){var N=A.filter(function(L){return!Ct(L,h)});g==null||g(N,s)}else g==null||g(ba(ba([],A,!0),[h],!1),s)}}else g==null||g(h,s);a||((u=(l=r.props).onSelect)===null||u===void 0||u.call(l,h,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var s=To(r.props.minDate),a=To(r.props.maxDate),o=!0;if(i){var l=_y(i);if(s&&a)o=kg(i,r.props.minDate,r.props.maxDate);else if(s){var u=_y(r.props.minDate);o=ac(i,u)||bu(l,u)}else if(a){var h=bk(r.props.maxDate);o=Ju(i,h)||bu(l,h)}}o&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,a;if(!(r.props.selectsRange||r.props.selectsMultiple)){var o=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:zE(o,{hour:Co(i),minute:Io(i)});r.setState({preSelection:l}),(a=(s=r.props).onChange)===null||a===void 0||a.call(s,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,a,o,l,u,h;(a=(s=r.props).onKeyDown)===null||a===void 0||a.call(s,i);var p=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(p===Re.ArrowDown||p===Re.ArrowUp||p===Re.Enter)&&((o=r.onInputClick)===null||o===void 0||o.call(r));return}if(r.state.open){if(p===Re.ArrowDown||p===Re.ArrowUp){i.preventDefault();var g=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',v=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(g);v instanceof HTMLElement&&v.focus({preventScroll:!0});return}var w=Ht(r.state.preSelection);p===Re.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===GE?(r.handleSelect(w,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(w)):r.setOpen(!1)):p===Re.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):p===Re.Tab&&r.setOpen(!1),r.inputOk()||(h=(u=r.props).onInputError)===null||h===void 0||h.call(u,{code:1,msg:$E})}},r.onPortalKeyDown=function(i){var s=i.key;s===Re.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,a,o,l,u,h,p=r.props,g=p.minDate,v=p.maxDate,w=p.disabledKeyboardNavigation,x=p.showWeekPicker,E=p.shouldCloseOnSelect,A=p.locale,T=p.calendarStartDay,I=p.adjustDateOnChange,P=p.inline;if((a=(s=r.props).onKeyDown)===null||a===void 0||a.call(s,i),!w){var O=i.key,V=i.shiftKey,R=Ht(r.state.preSelection),C=function(fe,Y){var X=Y;switch(fe){case Re.ArrowRight:X=x?jm(Y,1):vs(Y,1);break;case Re.ArrowLeft:X=x?ck(Y):bce(Y);break;case Re.ArrowUp:X=ck(Y);break;case Re.ArrowDown:X=jm(Y,1);break;case Re.PageUp:X=V?pd(Y,1):Lu(Y,1);break;case Re.PageDown:X=V?Pa(Y,1):xs(Y,1);break;case Re.Home:X=ql(Y,A,T);break;case Re.End:X=ufe(Y);break}return X},N=function(fe,Y){for(var X=40,oe=fe,Q=!1,U=0,q=C(fe,Y);!Q;){if(U>=X){q=Y;break}g&&q<g&&(oe=Re.ArrowRight,q=fs(g,r.props)?C(oe,q):g),v&&q>v&&(oe=Re.ArrowLeft,q=fs(v,r.props)?C(oe,q):v),fs(q,r.props)?((oe===Re.PageUp||oe===Re.Home)&&(oe=Re.ArrowRight),(oe===Re.PageDown||oe===Re.End)&&(oe=Re.ArrowLeft),q=C(oe,q)):Q=!0,U++}return q};if(O===Re.Enter){i.preventDefault(),r.handleSelect(R,i),!E&&r.setPreSelection(R);return}else if(O===Re.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(o=r.props).onInputError)===null||l===void 0||l.call(o,{code:1,msg:$E});return}var L=null;switch(O){case Re.ArrowLeft:case Re.ArrowRight:case Re.ArrowUp:case Re.ArrowDown:case Re.PageUp:case Re.PageDown:case Re.Home:case Re.End:L=N(O,R);break}if(!L){(h=(u=r.props).onInputError)===null||h===void 0||h.call(u,{code:1,msg:$E});return}if(i.preventDefault(),r.setState({lastPreSelectChange:GE}),I&&r.setSelected(L),r.setPreSelection(L),P){var F=Wr(R),H=Wr(L),B=ct(R),he=ct(L);F!==H||B!==he?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===Re.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,a=s.selectsRange,o=s.onChange;a?o==null||o([null,null],i):o==null||o(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:ae.createElement(Wfe,vt({showMonthYearDropdown:void 0,ref:function(a){r.calendar=a}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:bfe(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i,s=r.props.locale,a=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,o=r.props.showTimeInput||r.props.showTimeSelect,l=o?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(cs(r.props.startDate,{dateFormat:l,locale:s}),". ").concat(r.props.endDate?"End date: "+cs(r.props.endDate,{dateFormat:l,locale:s}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(cs(r.props.selected,{dateFormat:a,locale:s})):r.props.showYearPicker?u="Selected year: ".concat(cs(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?u="Selected month: ".concat(cs(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(cs(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):u="Selected date: ".concat(cs(r.props.selected,{dateFormat:l,locale:s})),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},r.renderDateInput=function(){var i,s,a=Mr(r.props.className,(i={},i[r.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=r.state.open,i)),o=r.props.customInput||ae.createElement("input",{type:"text"}),l=r.props.customInputRef||"ref";return G.cloneElement(o,(s={},s[l]=function(u){r.input=u},s.value=r.getInputValue(),s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=Mr(o.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,a=i.disabled,o=i.selected,l=i.startDate,u=i.endDate,h=i.clearButtonTitle,p=i.clearButtonClassName,g=p===void 0?"":p,v=i.ariaLabelClose,w=v===void 0?"Close":v,x=i.selectedDates,E=i.readOnly;return s&&!E&&(o!=null||l!=null||u!=null||x!=null&&x.length)?ae.createElement("button",{type:"button",className:Mr("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":a}),disabled:a,"aria-label":w,onClick:r.onClearClick,title:h,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:RF,readOnly:!1,rangeSeparator:AF,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:x0,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var i,s,a,o;t.inline&&Qfe(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Rk(this.props.highlightDates)}),!r.focused&&!bu(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((o=(a=this.props).onCalendarClose)===null||o===void 0||o.call(a)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,s=t.calendarIconClassname,a=t.calendarIconClassName,o=t.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ae.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&ae.createElement(Yfe,vt({icon:i,className:Mr(a,!a&&s,l&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?ae.createElement(NF,{enableTabLoop:this.props.enableTabLoop},ae.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=ae.createElement(OF,vt({portalId:this.props.portalId},this.props),r)),ae.createElement("div",null,this.renderInputContainer(),r)}return ae.createElement(Xfe,vt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(G.Component),Jfe="input",GE="navigate";sf.register(Eg,Gv,ky,ym,ZS,QS);function ehe({user:n,logs:e=[]}){if(!n.goalDate||!n.goalWeight)return null;const[t,r]=G.useState(!1),[i,s]=G.useState([null,null]),a=[...e].sort((h,p)=>new Date(h.date)-new Date(p.date));let o=a;!t&&!i[0]&&!i[1]&&(o=a.slice(-5)),i[0]&&i[1]&&(o=a.filter(h=>{const p=new Date(h.date);return p>=i[0]&&p<=i[1]}));const l={labels:o.map(h=>h.date),datasets:[{label:"Weight (kg)",data:o.map(h=>h.weight),borderColor:"deepskyblue",backgroundColor:"rgba(0, 191, 255, 0.2)",tension:.2},{label:`Goal (${n.goalWeight}kg by ${n.goalDate})`,data:o.map(()=>n.goalWeight),borderDash:[5,5],borderColor:"lime",pointRadius:0,borderWidth:1}]},u={responsive:!0,scales:{x:{type:"time",time:{unit:"day",tooltipFormat:"PP"},ticks:{color:"white"},grid:{color:"#444"}},y:{ticks:{color:"white"},grid:{color:"#444"},beginAtZero:!1}},plugins:{legend:{labels:{color:"white"}}}};return D.jsxs("div",{className:"card bg-dark text-white mb-2 shadow-sm",style:{padding:"15px"},children:[D.jsx("h6",{className:"fw-bold mb-2 SubTitleName",children:"Weight Progress"}),D.jsxs("div",{className:"d-flex align-items-center gap-3 mb-3",children:[D.jsx(Zfe,{selectsRange:!0,startDate:i[0],endDate:i[1],onChange:h=>s(h),isClearable:!0,dateFormat:"yyyy-MM-dd",className:"form-control",placeholderText:"Select date range"}),D.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>r(!0),children:"Show All"}),D.jsx("button",{className:"btn btn-sm btn-info",onClick:()=>{s([null,null]),r(!1)},children:"Last 5"})]}),D.jsx(Z$,{data:l,options:u})]})}const the=n=>{const e=Math.floor(n/100)+1,t=n%100,r=100,i=t/r*100;return{level:e,currentXP:t,nextXP:r,percent:i}};function nhe({meals:n,onEditMeal:e,onDeleteMeal:t,user:r}){const i=new Date().toISOString().split("T")[0],[s,a]=G.useState([]),[o,l]=G.useState(r),{level:u,currentXP:h,nextXP:p,percent:g}=the((o==null?void 0:o.xp)||0);G.useEffect(()=>{if(!(r!=null&&r.uid))return;const N=Q4(zs(Kr,"users",r.uid),L=>{L.exists()&&l(L.data())});return()=>N()},[r]),G.useEffect(()=>{if(!(r!=null&&r.uid))return;const N=Fd(Kr,"users",r.uid,"weightLogs"),L=Q4(N,F=>{const H=F.docs.map(B=>B.data());a(H)});return()=>L()},[r]);const v=N=>n.filter(L=>L.mealType===N&&L.date===i),w=N=>{const L=new Date(N),F=L.getDay(),H=L.getDate()-F+(F===0?-6:1);return new Date(L.setDate(H))},[x,E]=G.useState(w(new Date)),A=N=>{const L=new Date(x);L.setDate(x.getDate()+N),E(L)},T=N=>new Date(N).toLocaleDateString("en-GB"),I=(N,L)=>{if(!N||!L)return null;const F=L/100;return N/(F*F)},P=N=>N<18.5?"Underweight":N<25?"Normal":N<30?"Overweight":"Obese",O=s.length>0?s.sort((N,L)=>new Date(L.date)-new Date(N.date))[0].weight:null,V=I(O,o==null?void 0:o.height),R=P(V),C=Math.min(V/40*100,100);return D.jsxs("div",{className:"home-container",children:[D.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-wrap mb-3",children:[D.jsxs("p",{className:"TitleName mb-1",children:["Hello ",r.firstName]}),D.jsxs("div",{className:"text-end",children:[D.jsxs("span",{className:"small fw-bold",style:{color:"deepskyblue"},children:["Level ",u]}),D.jsx("div",{className:"progress",style:{height:"6px",width:"150px",background:"#444"},children:D.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${g}%`,backgroundColor:"deepskyblue"},"aria-valuenow":h,"aria-valuemin":0,"aria-valuemax":p})})]})]}),D.jsxs("div",{className:"CalBarCharSection bg-dark",children:[D.jsxs("div",{className:"d-flex col-md-12 mb-2 justify-content-between",children:[D.jsx("p",{className:"SubTitleName mb-0",children:"Calories Consumed"}),D.jsxs("div",{className:"d-flex align-items-center DateRangePicker",children:[D.jsx("span",{style:{cursor:"pointer",marginRight:"10px"},onClick:()=>A(-7),children:""}),T(x),"  ",T(new Date(x.getTime()+6*864e5)),D.jsx("span",{style:{cursor:"pointer",marginLeft:"10px"},onClick:()=>A(7),children:""})]})]}),D.jsx(vL,{meals:n,startOfWeek:x})]}),D.jsx(ehe,{user:r,logs:s}),V&&D.jsxs("div",{className:"card bg-dark text-white p-3 mb-3 shadow-sm text-center",children:[D.jsx("h6",{className:"fw-bold mb-2 SubTitleName",children:"Your BMI"}),D.jsxs("p",{className:"fs-5 mb-1",children:[V.toFixed(1),"  ",D.jsx("span",{className:"fw-bold text-info",children:R})]}),D.jsx("div",{className:"progress bmi-progress mb-1",style:{height:"15px"},children:D.jsx("div",{className:`progress-bar ${R.toLowerCase()}-bar`,role:"progressbar",style:{width:`${C}%`},"aria-valuenow":C,"aria-valuemin":0,"aria-valuemax":100})}),D.jsxs("div",{className:"d-flex justify-content-between text-muted small px-2",children:[D.jsx("span",{children:"Underweight"}),D.jsx("span",{children:"Normal"}),D.jsx("span",{children:"Overweight"}),D.jsx("span",{children:"Obese"})]})]}),D.jsxs("div",{className:"TodayChartsSection col-md-12",children:[D.jsxs("div",{className:"CalDonutSection bg-dark",children:[D.jsx("p",{className:"SubTitleName",children:"Calorie Intake"}),D.jsx(yL,{meals:n,selectedDate:i,goal:r.calorieGoal})]}),D.jsxs("div",{className:"NutriDonutSection bg-dark",children:[D.jsx("p",{className:"SubTitleName",children:"Nutrition Intake"}),D.jsx(_L,{meals:n,selectedDate:i})]})]}),n.some(N=>N.date===i)&&D.jsx("div",{className:"FoodItemList bg-dark",children:(r.mealOrder||["Breakfast","Lunch","Dinner"]).map(N=>{const L=v(N);return L.length===0?null:D.jsxs("div",{className:"mb-3",children:[D.jsx("p",{className:"SubTitleName",children:N}),L.map(F=>F.foodItems.map((H,B)=>D.jsx(X5,{name:H.name,nutrients:H.nutrients,kcal:F.kcal||null,onEdit:()=>e(F),onDelete:()=>t(F.id),unit:r.unit||"g"},`${N}-${F.id}-${B}`)))]},N)})})]})}function rhe({user:n,meals:e,onEditMeal:t,onDeleteMeal:r}){var P;const i=O=>{const V=O.getFullYear(),R=String(O.getMonth()+1).padStart(2,"0"),C=String(O.getDate()).padStart(2,"0");return`${V}-${R}-${C}`},[s,a]=G.useState(i(new Date)),[o,l]=G.useState(""),u=e.filter(O=>O.date===s),[h,p]=G.useState([]);G.useEffect(()=>{n!=null&&n.uid&&m_(n.uid).then(p)},[n]);const g=O=>{const V=new Date(s);V.setDate(V.getDate()+O);const R=new Date;R.setHours(0,0,0,0),!(V>R)&&a(i(V))},v=(O,V)=>{const R=new Blob([JSON.stringify(O,null,2)],{type:"application/json"}),C=document.createElement("a");C.href=URL.createObjectURL(R),C.download=`meals-${V}.json`,C.click()},w=(O,V)=>{const R=[["Food Name","Calories","Protein","Fat","Carbohydrate","Sugar","Salt","Fibre"]];O.forEach(F=>{F.foodItems.forEach(H=>{const B=[H.name,H.kcal||"",...["Protein","Fat","Carbohydrate","Sugar","Salt","Fibre"].map(he=>{const fe=H.nutrients.find(Y=>Y.type===he);return(fe==null?void 0:fe.total)||""})];R.push(B)})});const C=R.map(F=>F.join(",")).join(`
`),N=new Blob([C],{type:"text/csv"}),L=document.createElement("a");L.href=URL.createObjectURL(N),L.download=`meals-${V}.csv`,L.click()},x=u.filter(O=>O.foodItems.some(V=>V.name.toLowerCase().includes(o.toLowerCase())||V.nutrients.some(R=>R.type.toLowerCase().includes(o.toLowerCase())))),E={Protein:50,Carbohydrate:260,Fat:70,Sugar:30,Fibre:30,Salt:6},T=(()=>{const O={};return u.forEach(V=>V.foodItems.forEach(R=>R.nutrients.forEach(C=>{const N=parseFloat(C.total)||0;O[C.type]=(O[C.type]||0)+N}))),O})(),I=((P=h.find(O=>O.date===s))==null?void 0:P.weight)||null;return D.jsxs("div",{className:"home-container",children:[D.jsx("h5",{className:"TitleName mb-4",children:"History"}),D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:"10px"},children:[D.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2 DateRangePicker",children:[D.jsx("span",{style:{cursor:"pointer",marginRight:"10px"},onClick:()=>g(-1),children:""}),D.jsx("input",{type:"date",className:"form-control",value:s,max:i(new Date),onChange:O=>a(O.target.value),style:{maxWidth:"150px"}}),D.jsx("span",{style:{cursor:"pointer",marginLeft:"10px"},onClick:()=>g(1),children:""})]}),D.jsxs("div",{className:"d-flex gap-2 mb-2",children:[D.jsx("button",{className:"btn btn-outline-info btn-sm",style:{padding:"0 15px"},onClick:()=>v(u,s),children:D.jsx("i",{className:"bi bi-filetype-json"})}),D.jsx("button",{className:"btn btn-outline-info btn-sm",style:{padding:"0 15px"},onClick:()=>w(u,s),children:D.jsx("i",{className:"bi bi-filetype-csv"})})]})]}),D.jsx("input",{type:"text",className:"form-control mb-3",placeholder:" Search food or nutrient...",value:o,onChange:O=>l(O.target.value)}),I!==null&&D.jsxs("div",{className:"mb-2 text-white FoodItemList",children:[D.jsx("strong",{children:"Weight Logged:"})," ",I," kg"]}),u.length===0?D.jsxs("div",{className:"text-center text-white mt-4",children:[D.jsxs("p",{className:"fw-bold",children:["No data available for ",s]}),D.jsx("p",{className:"small ",children:"Try selecting a different date or log a meal to see your history."})]}):D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"TodayChartsSection mb-3",children:[D.jsx("div",{className:"CalDonutSection",children:D.jsx(yL,{meals:u,goal:n.calorieGoal,selectedDate:s})}),D.jsx("div",{className:"NutriDonutSection",children:D.jsx(_L,{meals:u,selectedDate:s})})]}),D.jsxs("div",{className:"bg-dark p-3 rounded mb-3",children:[D.jsx("p",{className:"SubTitleName mb-2",children:"Daily Goal Progress"}),Object.entries(E).map(([O,V])=>{const R=T[O]||0,C=Math.min(R/V*100,100);return D.jsxs("div",{className:"mb-2",children:[D.jsxs("div",{className:"d-flex justify-content-between small text-white",children:[D.jsx("span",{children:O}),D.jsxs("span",{children:[R.toFixed(1)," / ",V,"g"]})]}),D.jsx("div",{className:"progress",style:{height:"8px"},children:D.jsx("div",{className:`progress-bar ${R>=V?"bg-success":"bg-warning"} progress-bar-striped progress-bar-animated`,style:{width:`${C}%`}})})]},O)})]}),x.map((O,V)=>D.jsxs("div",{className:"FoodItemList",children:[D.jsx("h6",{className:"SubTitleName",children:O.mealType}),O.foodItems.map((R,C)=>D.jsx(X5,{name:R.name,nutrients:R.nutrients,kcal:O.kcal||null,unit:n.unit||"g",disableSwipe:!1,onEdit:()=>t(O),onDelete:()=>r(O.id)},`${O.id||V}-${C}`))]},V))]})]})}function ihe(n,e){var t=Object.setPrototypeOf;t?t(n,e):n.__proto__=e}function she(n,e){e===void 0&&(e=n.constructor);var t=Error.captureStackTrace;t&&t(n,e)}var ahe=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])},n(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ohe=function(n){ahe(e,n);function e(t,r){var i=this.constructor,s=n.call(this,t,r)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1,configurable:!0}),ihe(s,i.prototype),she(s),s}return e}(Error),lhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ti=function(n){lhe(e,n);function e(t){t===void 0&&(t=void 0);var r=n.call(this,t)||this;return r.message=t,r}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(ohe),che=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ms=function(n){che(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Ti),uhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ge=function(n){uhe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Ti),fhe=function(){function n(e){if(this.binarizer=e,e===null)throw new Ge("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},n.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(e,t,r,i){var s=this.binarizer.getLuminanceSource().crop(e,t,r,i);return new n(this.binarizer.createBinarizer(s))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(e))},n.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(e))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},n}(),hhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_r=function(n){hhe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Ti),dhe=function(){function n(e){this.source=e}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n}(),cn=function(){function n(){}return n.arraycopy=function(e,t,r,i,s){for(;s--;)r[i++]=e[t++]},n.currentTimeMillis=function(){return Date.now()},n}(),phe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pI=function(n){phe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Ti),ghe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Lk=function(n){ghe(e,n);function e(t,r){t===void 0&&(t=void 0),r===void 0&&(r=void 0);var i=n.call(this,r)||this;return i.index=t,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e}(pI),mhe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ir=function(){function n(){}return n.fill=function(e,t){for(var r=0,i=e.length;r<i;r++)e[r]=t},n.fillWithin=function(e,t,r,i){n.rangeCheck(e.length,t,r);for(var s=t;s<r;s++)e[s]=i},n.rangeCheck=function(e,t,r){if(t>r)throw new Ge("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new Lk(t);if(r>e)throw new Lk(r)},n.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},n.create=function(e,t,r){var i=Array.from({length:e});return i.map(function(s){return Array.from({length:t}).fill(r)})},n.createInt32Array=function(e,t,r){var i=Array.from({length:e});return i.map(function(s){return Int32Array.from({length:t}).fill(r)})},n.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0},n.hashCode=function(e){var t,r;if(e===null)return 0;var i=1;try{for(var s=mhe(e),a=s.next();!a.done;a=s.next()){var o=a.value;i=31*i+o}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},n.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},n.copyOf=function(e,t){return e.slice(0,t)},n.copyOfUint8Array=function(e,t){if(e.length<=t){var r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)},n.copyOfRange=function(e,t,r){var i=r-t,s=new Int32Array(i);return cn.arraycopy(e,t,s,0,i),s},n.binarySearch=function(e,t,r){r===void 0&&(r=n.numberComparator);for(var i=0,s=e.length-1;i<=s;){var a=s+i>>1,o=r(t,e[a]);if(o>0)i=a+1;else if(o<0)s=a-1;else return a}return-i-1},n.numberComparator=function(e,t){return e-t},n}(),dt=function(){function n(){}return n.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)},n.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},n.toHexString=function(e){return e.toString(16)},n.toBinaryString=function(e){return String(parseInt(String(e),2))},n.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},n.truncDivision=function(e,t){return Math.trunc(e/t)},n.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),wr=function(){function n(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=n.makeArray(e):this.bits=t)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=n.makeArray(e);cn.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},n.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},n.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},n.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},n.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),s=r[i];s&=~((1<<(e&31))-1);for(var a=r.length;s===0;){if(++i===a)return t;s=r[i]}var o=i*32+dt.numberOfTrailingZeros(s);return o>t?t:o},n.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),s=~r[i];s&=~((1<<(e&31))-1);for(var a=r.length;s===0;){if(++i===a)return t;s=~r[i]}var o=i*32+dt.numberOfTrailingZeros(s);return o>t?t:o},n.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},n.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new Ge;if(t!==e){t--;for(var r=Math.floor(e/32),i=Math.floor(t/32),s=this.bits,a=r;a<=i;a++){var o=a>r?0:e&31,l=a<i?31:t&31,u=(2<<l)-(1<<o);s[a]|=u}}},n.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},n.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new Ge;if(t===e)return!0;t--;for(var i=Math.floor(e/32),s=Math.floor(t/32),a=this.bits,o=i;o<=s;o++){var l=o>i?0:e&31,u=o<s?31:t&31,h=(2<<u)-(1<<l)&4294967295;if((a[o]&h)!==(r?h:0))return!1}return!0},n.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},n.prototype.appendBits=function(e,t){if(t<0||t>32)throw new Ge("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)},n.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var r=0;r<t;r++)this.appendBit(e.get(r))},n.prototype.xor=function(e){if(this.size!==e.size)throw new Ge("Sizes don't match");for(var t=this.bits,r=0,i=t.length;r<i;r++)t[r]^=e.bits[r]},n.prototype.toBytes=function(e,t,r,i){for(var s=0;s<i;s++){for(var a=0,o=0;o<8;o++)this.get(e)&&(a|=1<<7-o),e++;t[r+s]=a}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,i=this.bits,s=0;s<r;s++){var a=i[s];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[t-s]=a}if(this.size!==r*32){for(var o=r*32-this.size,l=e[0]>>>o,s=1;s<r;s++){var u=e[s];l|=u<<32-o,e[s-1]=l,l=u>>>o}e[r-1]=l}this.bits=e},n.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.size===t.size&&ir.equals(this.bits,t.bits)},n.prototype.hashCode=function(){return 31*this.size+ir.hashCode(this.bits)},n.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n.prototype.toArray=function(){for(var e=[],t=0,r=this.size;t<r;t++)e.push(this.get(t));return e},n}(),cS;(function(n){n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",n[n.ASSUME_GS1=8]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(cS||(cS={}));const _n=cS;var vhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Te=function(n){vhe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Ti),yhe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yt;(function(n){n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR"})(Yt||(Yt={}));var rr=function(){function n(e,t,r){for(var i,s,a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=a,n.VALUE_IDENTIFIER_TO_ECI.set(e,this),n.NAME_TO_ECI.set(r,this);for(var l=this.values,u=0,h=l.length;u!==h;u++){var p=l[u];n.VALUES_TO_ECI.set(p,this)}try{for(var g=yhe(a),v=g.next();!v.done;v=g.next()){var w=v.value;n.NAME_TO_ECI.set(w,this)}}catch(x){i={error:x}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Te("incorect value");var t=n.VALUES_TO_ECI.get(e);if(t===void 0)throw new Te("incorect value");return t},n.getCharacterSetECIByName=function(e){var t=n.NAME_TO_ECI.get(e);if(t===void 0)throw new Te("incorect value");return t},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.getName()===t.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(Yt.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(Yt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(Yt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(Yt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(Yt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(Yt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(Yt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(Yt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(Yt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(Yt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(Yt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(Yt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(Yt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(Yt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(Yt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(Yt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(Yt.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(Yt.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(Yt.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(Yt.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(Yt.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(Yt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(Yt.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(Yt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(Yt.Big5,28,"Big5"),n.GB18030=new n(Yt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(Yt.EUC_KR,30,"EUC_KR","EUC-KR"),n}(),_he=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xy=function(n){_he(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Ti),ys=function(){function n(){}return n.decode=function(e,t){var r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},n.shouldDecodeOnFallback=function(e){return!n.isBrowser()&&e==="ISO-8859-1"},n.encode=function(e,t){var r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},n.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},n.encodingName=function(e){return typeof e=="string"?e:e.getName()},n.encodingCharacterSet=function(e){return e instanceof rr?e:rr.getCharacterSetECIByName(e)},n.decodeFallback=function(e,t){var r=this.encodingCharacterSet(t);if(n.isDecodeFallbackSupported(r)){for(var i="",s=0,a=e.length;s<a;s++){var o=e[s].toString(16);o.length<2&&(o="0"+o),i+="%"+o}return decodeURIComponent(i)}if(r.equals(rr.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new xy("Encoding "+this.encodingName(t)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(e){return e.equals(rr.UTF8)||e.equals(rr.ISO8859_1)||e.equals(rr.ASCII)},n.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),r=t.split(""),i=[],s=0;s<r.length;s++)i.push(r[s].charCodeAt(0));return new Uint8Array(i)},n}(),St=function(){function n(){}return n.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var r=t?t.getName():this.ISO88591;return ys.decode(new Uint8Array([e]),r)},n.guessEncoding=function(e,t){if(t!=null&&t.get(_n.CHARACTER_SET)!==void 0)return t.get(_n.CHARACTER_SET).toString();for(var r=e.length,i=!0,s=!0,a=!0,o=0,l=0,u=0,h=0,p=0,g=0,v=0,w=0,x=0,E=0,A=0,T=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,I=0;I<r&&(i||s||a);I++){var P=e[I]&255;a&&(o>0?(P&128)===0?a=!1:o--:(P&128)!==0&&((P&64)===0?a=!1:(o++,(P&32)===0?l++:(o++,(P&16)===0?u++:(o++,(P&8)===0?h++:a=!1))))),i&&(P>127&&P<160?i=!1:P>159&&(P<192||P===215||P===247)&&A++),s&&(p>0?P<64||P===127||P>252?s=!1:p--:P===128||P===160||P>239?s=!1:P>160&&P<224?(g++,w=0,v++,v>x&&(x=v)):P>127?(p++,v=0,w++,w>E&&(E=w)):(v=0,w=0))}return a&&o>0&&(a=!1),s&&p>0&&(s=!1),a&&(T||l+u+h>0)?n.UTF8:s&&(n.ASSUME_SHIFT_JIS||x>=3||E>=3)?n.SHIFT_JIS:i&&s?x===2&&g===2||A*10>=r?n.SHIFT_JIS:n.ISO88591:i?n.ISO88591:s?n.SHIFT_JIS:a?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=-1;function s(o,l,u,h,p,g){if(o==="%%")return"%";if(t[++i]!==void 0){o=h?parseInt(h.substr(1)):void 0;var v=p?parseInt(p.substr(1)):void 0,w;switch(g){case"s":w=t[i];break;case"c":w=t[i][0];break;case"f":w=parseFloat(t[i]).toFixed(o);break;case"p":w=parseFloat(t[i]).toPrecision(o);break;case"e":w=parseFloat(t[i]).toExponential(o);break;case"x":w=parseInt(t[i]).toString(v||16);break;case"d":w=parseFloat(parseInt(t[i],v||10).toPrecision(o)).toFixed(0);break}w=typeof w=="object"?JSON.stringify(w):(+w).toString(v);for(var x=parseInt(u),E=u&&u[0]+""=="0"?"0":" ";w.length<x;)w=l!==void 0?w+E:E+w;return w}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,s)},n.getBytes=function(e,t){return ys.encode(e,t)},n.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},n.getCharAt=function(e){return String.fromCharCode(e)},n.SHIFT_JIS=rr.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=rr.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=rr.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n}(),lt=function(){function n(e){e===void 0&&(e=""),this.value=e}return n.prototype.enableDecoding=function(e){return this.encoding=e,this},n.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=St.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},n.prototype.appendChars=function(e,t,r){for(var i=t;t<t+r;i++)this.append(e[i]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(e){return this.value.charAt(e)},n.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},n.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},n.prototype.substring=function(e,t){return this.value.substring(e,t)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},n}(),ja=function(){function n(e,t,r,i){if(this.width=e,this.height=t,this.rowSize=r,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new Ge("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(e){for(var t=e.length,r=e[0].length,i=new n(r,t),s=0;s<t;s++)for(var a=e[s],o=0;o<r;o++)a[o]&&i.set(o,s);return i},n.parseFromString=function(e,t,r){if(e===null)throw new Ge("stringRepresentation cannot be null");for(var i=new Array(e.length),s=0,a=0,o=-1,l=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(s>a){if(o===-1)o=s-a;else if(s-a!==o)throw new Ge("row lengths do not match");a=s,l++}u++}else if(e.substring(u,u+t.length)===t)u+=t.length,i[s]=!0,s++;else if(e.substring(u,u+r.length)===r)u+=r.length,i[s]=!1,s++;else throw new Ge("illegal character encountered: "+e.substring(u));if(s>a){if(o===-1)o=s-a;else if(s-a!==o)throw new Ge("row lengths do not match");l++}for(var h=new n(o,l),p=0;p<s;p++)i[p]&&h.set(Math.floor(p%o),Math.floor(p/o));return h},n.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},n.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},n.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},n.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},n.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Ge("input matrix dimensions do not match");for(var t=new wr(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,s=0,a=this.height;s<a;s++)for(var o=s*r,l=e.getRow(s,t).getBitArray(),u=0;u<r;u++)i[o+u]^=l[u]},n.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},n.prototype.setRegion=function(e,t,r,i){if(t<0||e<0)throw new Ge("Left and top must be nonnegative");if(i<1||r<1)throw new Ge("Height and width must be at least 1");var s=e+r,a=t+i;if(a>this.height||s>this.width)throw new Ge("The region must fit inside the matrix");for(var o=this.rowSize,l=this.bits,u=t;u<a;u++)for(var h=u*o,p=e;p<s;p++)l[h+Math.floor(p/32)]|=1<<(p&31)&4294967295},n.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new wr(this.width):t.clear();for(var r=this.rowSize,i=this.bits,s=e*r,a=0;a<r;a++)t.setBulk(a*32,i[s+a]);return t},n.prototype.setRow=function(e,t){cn.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new wr(e),i=new wr(e),s=0,a=Math.floor((t+1)/2);s<a;s++)r=this.getRow(s,r),i=this.getRow(t-1-s,i),r.reverse(),i.reverse(),this.setRow(s,i),this.setRow(t-1-s,r)},n.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,r=this.rowSize,i=this.bits,s=e,a=t,o=-1,l=-1,u=0;u<t;u++)for(var h=0;h<r;h++){var p=i[u*r+h];if(p!==0){if(u<a&&(a=u),u>l&&(l=u),h*32<s){for(var g=0;(p<<31-g&4294967295)===0;)g++;h*32+g<s&&(s=h*32+g)}if(h*32+31>o){for(var g=31;!(p>>>g);)g--;h*32+g>o&&(o=h*32+g)}}}return o<s||l<a?null:Int32Array.from([s,a,o-s+1,l-a+1])},n.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;for(var i=r/e,s=r%e*32,a=t[r],o=0;(a<<31-o&4294967295)===0;)o++;return s+=o,Int32Array.from([s,i])},n.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&t[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),s=Math.floor(r%e)*32,a=t[r],o=31;!(a>>>o);)o--;return s+=o,Int32Array.from([s,i])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&ir.equals(this.bits,t.bits)},n.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ir.hashCode(this.bits),e},n.prototype.toString=function(e,t,r){return e===void 0&&(e="X "),t===void 0&&(t="  "),r===void 0&&(r=`
`),this.buildToString(e,t,r)},n.prototype.buildToString=function(e,t,r){for(var i=new lt,s=0,a=this.height;s<a;s++){for(var o=0,l=this.width;o<l;o++)i.append(this.get(o,s)?e:t);i.append(r)}return i.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n}(),whe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pe=function(n){whe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Ti),xhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bhe=function(n){xhe(e,n);function e(t){var r=n.call(this,t)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(t,r){var i=this.getLuminanceSource(),s=i.getWidth();r==null||r.getSize()<s?r=new wr(s):r.clear(),this.initArrays(s);for(var a=i.getRow(t,this.luminances),o=this.buckets,l=0;l<s;l++)o[(a[l]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(o);if(s<3)for(var l=0;l<s;l++)(a[l]&255)<u&&r.set(l);else for(var h=a[0]&255,p=a[1]&255,l=1;l<s-1;l++){var g=a[l+1]&255;(p*4-h-g)/2<u&&r.set(l),h=p,p=g}return r},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),s=new ja(r,i);this.initArrays(r);for(var a=this.buckets,o=1;o<5;o++)for(var l=Math.floor(i*o/5),u=t.getRow(l,this.luminances),h=Math.floor(r*4/5),p=Math.floor(r/5);p<h;p++){var g=u[p]&255;a[g>>e.LUMINANCE_SHIFT]++}for(var v=e.estimateBlackPoint(a),w=t.getMatrix(),o=0;o<i;o++)for(var x=o*r,p=0;p<r;p++){var g=w[x+p]&255;g<v&&s.set(p,o)}return s},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(t){for(var r=t.length,i=0,s=0,a=0,o=0;o<r;o++)t[o]>a&&(s=o,a=t[o]),t[o]>i&&(i=t[o]);for(var l=0,u=0,o=0;o<r;o++){var h=o-s,p=t[o]*h*h;p>u&&(l=o,u=p)}if(s>l){var g=s;s=l,l=g}if(l-s<=r/16)throw new pe;for(var v=l-1,w=-1,o=l-1;o>s;o--){var x=o-s,p=x*x*(l-o)*(i-t[o]);p>w&&(v=o,w=p)}return v<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(dhe),Ehe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ahe=function(n){Ehe(e,n);function e(t){var r=n.call(this,t)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var s=t.getMatrix(),a=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&a++;var o=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&o++;var l=e.calculateBlackPoints(s,a,o,r,i),u=new ja(r,i);e.calculateThresholdForBlock(s,a,o,r,i,l,u),this.matrix=u}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,r,i,s,a,o,l){for(var u=a-e.BLOCK_SIZE,h=s-e.BLOCK_SIZE,p=0;p<i;p++){var g=p<<e.BLOCK_SIZE_POWER;g>u&&(g=u);for(var v=e.cap(p,2,i-3),w=0;w<r;w++){var x=w<<e.BLOCK_SIZE_POWER;x>h&&(x=h);for(var E=e.cap(w,2,r-3),A=0,T=-2;T<=2;T++){var I=o[v+T];A+=I[E-2]+I[E-1]+I[E]+I[E+1]+I[E+2]}var P=A/25;e.thresholdBlock(t,x,g,P,s,l)}}},e.cap=function(t,r,i){return t<r?r:t>i?i:t},e.thresholdBlock=function(t,r,i,s,a,o){for(var l=0,u=i*a+r;l<e.BLOCK_SIZE;l++,u+=a)for(var h=0;h<e.BLOCK_SIZE;h++)(t[u+h]&255)<=s&&o.set(r+h,i+l)},e.calculateBlackPoints=function(t,r,i,s,a){for(var o=a-e.BLOCK_SIZE,l=s-e.BLOCK_SIZE,u=new Array(i),h=0;h<i;h++){u[h]=new Int32Array(r);var p=h<<e.BLOCK_SIZE_POWER;p>o&&(p=o);for(var g=0;g<r;g++){var v=g<<e.BLOCK_SIZE_POWER;v>l&&(v=l);for(var w=0,x=255,E=0,A=0,T=p*s+v;A<e.BLOCK_SIZE;A++,T+=s){for(var I=0;I<e.BLOCK_SIZE;I++){var P=t[T+I]&255;w+=P,P<x&&(x=P),P>E&&(E=P)}if(E-x>e.MIN_DYNAMIC_RANGE)for(A++,T+=s;A<e.BLOCK_SIZE;A++,T+=s)for(var I=0;I<e.BLOCK_SIZE;I++)w+=t[T+I]&255}var O=w>>e.BLOCK_SIZE_POWER*2;if(E-x<=e.MIN_DYNAMIC_RANGE&&(O=x/2,h>0&&g>0)){var V=(u[h-1][g]+2*u[h][g-1]+u[h-1][g-1])/4;x<V&&(O=V)}u[h][g]=O}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(bhe),Dw=function(){function n(e,t){this.width=e,this.height=t}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(e,t,r,i){throw new xy("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new xy("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new xy("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new lt,r=0;r<this.height;r++){for(var i=this.getRow(r,e),s=0;s<this.width;s++){var a=i[s]&255,o=void 0;a<64?o="#":a<128?o="+":a<192?o=".":o=" ",t.append(o)}t.append(`
`)}return t.toString()},n}(),She=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gI=function(n){She(e,n);function e(t){var r=n.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return e.prototype.getRow=function(t,r){for(var i=this.delegate.getRow(t,r),s=this.getWidth(),a=0;a<s;a++)i[a]=255-(i[a]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),s=0;s<r;s++)i[s]=255-(t[s]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,r,i,s){return new e(this.delegate.crop(t,r,i,s))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(Dw),The=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Che=function(n){The(e,n);function e(t,r){r===void 0&&(r=!1);var i=n.call(this,t.width,t.height)||this;return i.canvas=t,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(t,r),i}return e.makeBufferFromCanvasImageData=function(t,r){r===void 0&&(r=!1);var i=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height,r)},e.toGrayscaleBuffer=function(t,r,i,s){s===void 0&&(s=!1);var a=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!s)for(var o=0,l=0,u=t.length;o<u;o+=4,l++){var h=void 0,p=t[o+3];if(p===0)h=255;else{var g=t[o],v=t[o+1],w=t[o+2];h=306*g+601*v+117*w+512>>10}a[l]=h}else for(var o=0,l=0,x=t.length;o<x;o+=4,l++){var h=void 0,p=t[o+3];if(p===0)h=255;else{var g=t[o],v=t[o+1],w=t[o+2];h=306*g+601*v+117*w+512>>10}a[l]=255-h}return a},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Ge("Requested row is outside the image: "+t);var i=this.getWidth(),s=t*i;return r===null?r=this.buffer.slice(s,s+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(s,s+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,s){return n.prototype.crop.call(this,t,r,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement(),i=r.getContext("2d"),s=t*e.DEGREE_TO_RADIANS,a=this.canvas.width,o=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(s))*a+Math.abs(Math.sin(s))*o),u=Math.ceil(Math.abs(Math.sin(s))*a+Math.abs(Math.cos(s))*o);return r.width=l,r.height=u,i.translate(l/2,u/2),i.rotate(s),i.drawImage(this.canvas,a/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new gI(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(Dw),Ihe=function(){function n(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n}(),ti=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(h){try{u(r.next(h))}catch(p){a(p)}}function l(h){try{u(r.throw(h))}catch(p){a(p)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((r=r.apply(n,e||[])).next())})},ni=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(h){return l([u,h])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(h){u=[6,h],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Dhe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jd=function(){function n(e,t,r){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return ti(this,void 0,void 0,function(){var e,t,r,i,s,a,o,l,u,h,p,g;return ni(this,function(v){switch(v.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=v.sent(),t=[];try{for(r=Dhe(e),i=r.next();!i.done;i=r.next())s=i.value,a=s.kind==="video"?"videoinput":s.kind,a==="videoinput"&&(o=s.deviceId||s.id,l=s.label||"Video device "+(t.length+1),u=s.groupId,h={deviceId:o,label:l,kind:a,groupId:u},t.push(h))}catch(w){p={error:w}}finally{try{i&&!i.done&&(g=r.return)&&g.call(r)}finally{if(p)throw p.error}}return[2,t]}})})},n.prototype.getVideoInputDevices=function(){return ti(this,void 0,void 0,function(){var e;return ni(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(r){return new Ihe(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(e){return ti(this,void 0,void 0,function(){var t;return ni(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(e,t){return ti(this,void 0,void 0,function(){return ni(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return ti(this,void 0,void 0,function(){var r,i;return ni(this,function(s){switch(s.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,s.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return ti(this,void 0,void 0,function(){var r;return ni(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return ti(this,void 0,void 0,function(){var r,i;return ni(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=s.sent(),[4,this.decodeOnce(r)];case 2:return i=s.sent(),[2,i]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,r){return ti(this,void 0,void 0,function(){return ni(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return ti(this,void 0,void 0,function(){var i,s;return ni(this,function(a){switch(a.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,t,r)];case 1:return[2,a.sent()]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return ti(this,void 0,void 0,function(){var i;return ni(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=s.sent(),[4,this.decodeFromStream(i,t,r)];case 2:return[2,s.sent()]}})})},n.prototype.decodeFromStream=function(e,t,r){return ti(this,void 0,void 0,function(){var i;return ni(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=s.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,s.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(e,t){return ti(this,void 0,void 0,function(){var r;return ni(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(t),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(r,i){return t.playVideoOnLoad(e,function(){return r()})})},n.prototype.playVideoOnLoad=function(e,t){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},n.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},n.prototype.tryPlayVideo=function(e){return ti(this,void 0,void 0,function(){return ni(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new Ms("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new Ms("element with id '"+e+"' must be an "+t+" element");return r},n.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new Ms("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},n.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new Ms("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},n.prototype.decodeFromVideoContinuously=function(e,t,r){if(e===void 0&&t===void 0)throw new Ms("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)},n.prototype.decodeFromImageElement=function(e){if(!e)throw new Ms("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r},n.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},n.prototype.decodeFromVideoElementContinuously=function(e,t){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)},n.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Ms("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},n.prototype.decodeFromImageUrl=function(e){if(!e)throw new Ms("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var r=this._decodeOnLoadImage(t);return t.src=e,r},n.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Ms("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r},n.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new Ms("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,t);return r.src=e,i},n.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(r,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",t.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(e){return ti(this,void 0,void 0,function(){return ni(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(e,t){return ti(this,void 0,void 0,function(){return ni(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,t),[2]}})})},n.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},n.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.prototype.decodeOnce=function(e,t,r){var i=this;t===void 0&&(t=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var s=function(a,o){if(i._stopAsyncDecode){o(new pe("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);a(l)}catch(g){var u=t&&g instanceof pe,h=g instanceof _r||g instanceof Te,p=h&&r;if(u||p)return setTimeout(s,i._timeBetweenDecodingAttempts,a,o);o(g)}};return new Promise(function(a,o){return s(a,o)})},n.prototype.decodeContinuously=function(e,t){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var s=r.decode(e);t(s,null),setTimeout(i,r.timeBetweenScansMillis)}catch(l){t(null,l);var a=l instanceof _r||l instanceof Te,o=l instanceof pe;(a||o)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},n.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},n.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new Che(r,t),s=new Ahe(i);return new fhe(s)},n.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),r=void 0;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.drawImageOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},n.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=i+"px",t.width=r,t.height=i,t},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},n.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},n}(),Xr=function(){function n(e,t,r,i,s,a){r===void 0&&(r=t==null?0:8*t.length),a===void 0&&(a=cn.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=i,this.format=s,this.timestamp=a,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=i,this.format=s,this.resultMetadata=null,a==null?this.timestamp=cn.currentTimeMillis():this.timestamp=a}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},n.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},n.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(t.length+e.length);cn.arraycopy(t,0,r,0,t.length),cn.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n}(),uS;(function(n){n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(uS||(uS={}));const Ye=uS;var fS;(function(n){n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(fS||(fS={}));const Pr=fS;var Rw=function(){function n(e,t,r,i,s,a){s===void 0&&(s=-1),a===void 0&&(a=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(e){this.numBits=e},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(e){this.erasures=e},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(e){this.other=e},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n}(),Lg=function(){function n(){}return n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Ge;return this.logTable[e]},n.addOrSubtract=function(e,t){return e^t},n}(),Kl=function(){function n(e,t){if(t.length===0)throw new Ge;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),cn.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,r;if(e===1){r=0;for(var i=0,s=t.length;i!==s;i++){var a=t[i];r=Lg.addOrSubtract(r,a)}return r}r=t[0];for(var o=t.length,l=this.field,i=1;i<o;i++)r=Lg.addOrSubtract(l.multiply(e,r),t[i]);return r},n.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Ge("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var s=new Int32Array(r.length),a=r.length-t.length;cn.arraycopy(r,0,s,0,a);for(var o=a;o<r.length;o++)s[o]=Lg.addOrSubtract(t[o-a],r[o]);return new n(this.field,s)},n.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Ge("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,r=t.length,i=e.coefficients,s=i.length,a=new Int32Array(r+s-1),o=this.field,l=0;l<r;l++)for(var u=t[l],h=0;h<s;h++)a[l+h]=Lg.addOrSubtract(a[l+h],o.multiply(u,i[h]));return new n(o,a)},n.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,r=this.field,i=new Int32Array(t),s=this.coefficients,a=0;a<t;a++)i[a]=r.multiply(s[a],e);return new n(r,i)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Ge;if(t===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,s=new Int32Array(i+e),a=this.field,o=0;o<i;o++)s[o]=a.multiply(r[o],t);return new n(a,s)},n.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Ge("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Ge("Divide by 0");for(var t=this.field,r=t.getZero(),i=this,s=e.getCoefficient(e.getDegree()),a=t.inverse(s);i.getDegree()>=e.getDegree()&&!i.isZero();){var o=i.getDegree()-e.getDegree(),l=t.multiply(i.getCoefficient(i.getDegree()),a),u=e.multiplyByMonomial(o,l),h=t.buildMonomial(o,l);r=r.addOrSubtract(h),i=i.addOrSubtract(u)}return[r,i]},n.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},n}(),Rhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MF=function(n){Rhe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Ti),Ohe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_i=function(n){Ohe(e,n);function e(t,r,i){var s=n.call(this)||this;s.primitive=t,s.size=r,s.generatorBase=i;for(var a=new Int32Array(r),o=1,l=0;l<r;l++)a[l]=o,o*=2,o>=r&&(o^=t,o&=r-1);s.expTable=a;for(var u=new Int32Array(r),l=0;l<r-1;l++)u[a[l]]=l;return s.logTable=u,s.zero=new Kl(s,Int32Array.from([0])),s.one=new Kl(s,Int32Array.from([1])),s}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Ge;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new Kl(this,i)},e.prototype.inverse=function(t){if(t===0)throw new MF;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+dt.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Lg),Nhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Iv=function(n){Nhe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Ti),Mhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),E0=function(n){Mhe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Ti),Ow=function(){function n(e){this.field=e}return n.prototype.decode=function(e,t){for(var r=this.field,i=new Kl(r,e),s=new Int32Array(t),a=!0,o=0;o<t;o++){var l=i.evaluateAt(r.exp(o+r.getGeneratorBase()));s[s.length-1-o]=l,l!==0&&(a=!1)}if(!a)for(var u=new Kl(r,s),h=this.runEuclideanAlgorithm(r.buildMonomial(t,1),u,t),p=h[0],g=h[1],v=this.findErrorLocations(p),w=this.findErrorMagnitudes(g,v),o=0;o<v.length;o++){var x=e.length-1-r.log(v[o]);if(x<0)throw new Iv("Bad error location");e[x]=_i.addOrSubtract(e[x],w[o])}},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var s=this.field,a=e,o=t,l=s.getZero(),u=s.getOne();o.getDegree()>=(r/2|0);){var h=a,p=l;if(a=o,l=u,a.isZero())throw new Iv("r_{i-1} was zero");o=h;for(var g=s.getZero(),v=a.getCoefficient(a.getDegree()),w=s.inverse(v);o.getDegree()>=a.getDegree()&&!o.isZero();){var x=o.getDegree()-a.getDegree(),E=s.multiply(o.getCoefficient(o.getDegree()),w);g=g.addOrSubtract(s.buildMonomial(x,E)),o=o.addOrSubtract(a.multiplyByMonomial(x,E))}if(u=g.multiply(l).addOrSubtract(p),o.getDegree()>=a.getDegree())throw new E0("Division algorithm failed to reduce polynomial?")}var A=u.getCoefficient(0);if(A===0)throw new Iv("sigmaTilde(0) was zero");var T=s.inverse(A),I=u.multiplyScalar(T),P=o.multiplyScalar(T);return[I,P]},n.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),i=0,s=this.field,a=1;a<s.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(r[i]=s.inverse(a),i++);if(i!==t)throw new Iv("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,i=new Int32Array(r),s=this.field,a=0;a<r;a++){for(var o=s.inverse(t[a]),l=1,u=0;u<r;u++)if(a!==u){var h=s.multiply(t[u],o),p=(h&1)===0?h|1:h&-2;l=s.multiply(l,p)}i[a]=s.multiply(e.evaluateAt(o),s.inverse(l)),s.getGeneratorBase()!==0&&(i[a]=s.multiply(i[a],o))}return i},n}(),Dr;(function(n){n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY"})(Dr||(Dr={}));var Vk=function(){function n(){}return n.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),r=this.extractBits(t),i=this.correctBits(r),s=n.convertBoolArrayToByteArray(i),a=n.getEncodedData(i),o=new Rw(s,a,null,null);return o.setNumBits(i.length),o},n.highLevelDecode=function(e){return this.getEncodedData(e)},n.getEncodedData=function(e){for(var t=e.length,r=Dr.UPPER,i=Dr.UPPER,s="",a=0;a<t;)if(i===Dr.BINARY){if(t-a<5)break;var o=n.readCode(e,a,5);if(a+=5,o===0){if(t-a<11)break;o=n.readCode(e,a,11)+31,a+=11}for(var l=0;l<o;l++){if(t-a<8){a=t;break}var u=n.readCode(e,a,8);s+=St.castAsNonUtf8Char(u),a+=8}i=r}else{var h=i===Dr.DIGIT?4:5;if(t-a<h)break;var u=n.readCode(e,a,h);a+=h;var p=n.getCharacter(i,u);p.startsWith("CTRL_")?(r=i,i=n.getTable(p.charAt(5)),p.charAt(6)==="L"&&(r=i)):(s+=p,i=r)}return s},n.getTable=function(e){switch(e){case"L":return Dr.LOWER;case"P":return Dr.PUNCT;case"M":return Dr.MIXED;case"D":return Dr.DIGIT;case"B":return Dr.BINARY;case"U":default:return Dr.UPPER}},n.getCharacter=function(e,t){switch(e){case Dr.UPPER:return n.UPPER_TABLE[t];case Dr.LOWER:return n.LOWER_TABLE[t];case Dr.MIXED:return n.MIXED_TABLE[t];case Dr.PUNCT:return n.PUNCT_TABLE[t];case Dr.DIGIT:return n.DIGIT_TABLE[t];default:throw new E0("Bad table")}},n.prototype.correctBits=function(e){var t,r;this.ddata.getNbLayers()<=2?(r=6,t=_i.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=_i.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=_i.AZTEC_DATA_10):(r=12,t=_i.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),s=e.length/r;if(s<i)throw new Te;for(var a=e.length%r,o=new Int32Array(s),l=0;l<s;l++,a+=r)o[l]=n.readCode(e,a,r);try{var u=new Ow(t);u.decode(o,s-i)}catch(E){throw new Te(E)}for(var h=(1<<r)-1,p=0,l=0;l<i;l++){var g=o[l];if(g===0||g===h)throw new Te;(g===1||g===h-1)&&p++}for(var v=new Array(i*r-p),w=0,l=0;l<i;l++){var g=o[l];if(g===1||g===h-1)v.fill(g>1,w,w+r-1),w+=r-1;else for(var x=r-1;x>=0;--x)v[w++]=(g&1<<x)!==0}return v},n.prototype.extractBits=function(e){var t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(t?11:14)+r*4,s=new Int32Array(i),a=new Array(this.totalBitsInLayer(r,t));if(t)for(var o=0;o<s.length;o++)s[o]=o;else for(var l=i+1+2*dt.truncDivision(dt.truncDivision(i,2)-1,15),u=i/2,h=dt.truncDivision(l,2),o=0;o<u;o++){var p=o+dt.truncDivision(o,15);s[u-o-1]=h-p-1,s[u+o]=h+p+1}for(var o=0,g=0;o<r;o++){for(var v=(r-o)*4+(t?9:12),w=o*2,x=i-1-w,E=0;E<v;E++)for(var A=E*2,T=0;T<2;T++)a[g+A+T]=e.get(s[w+T],s[w+E]),a[g+2*v+A+T]=e.get(s[w+E],s[x-T]),a[g+4*v+A+T]=e.get(s[x-T],s[x-E]),a[g+6*v+A+T]=e.get(s[x-E],s[w+T]);g+=v*8}return a},n.readCode=function(e,t,r){for(var i=0,s=t;s<t+r;s++)i<<=1,e[s]&&(i|=1);return i},n.readByte=function(e,t){var r=e.length-t;return r>=8?n.readCode(e,t,8):n.readCode(e,t,r)<<8-r},n.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),r=0;r<t.length;r++)t[r]=n.readByte(e,8*r);return t},n.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n}(),Rt=function(){function n(){}return n.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},n.distance=function(e,t,r,i){var s=e-r,a=t-i;return Math.sqrt(s*s+a*a)},n.sum=function(e){for(var t=0,r=0,i=e.length;r!==i;r++){var s=e[r];t+=s}return t},n}(),hS=function(){function n(){}return n.floatToIntBits=function(e){return e},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),Be=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(e){if(e instanceof n){var t=e;return this.x===t.x&&this.y===t.y}return!1},n.prototype.hashCode=function(){return 31*hS.floatToIntBits(this.x)+hS.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),s,a,o;if(r>=t&&r>=i?(a=e[0],s=e[1],o=e[2]):i>=r&&i>=t?(a=e[1],s=e[0],o=e[2]):(a=e[2],s=e[0],o=e[1]),this.crossProductZ(s,a,o)<0){var l=s;s=o,o=l}e[0]=s,e[1]=a,e[2]=o},n.distance=function(e,t){return Rt.distance(e.x,e.y,t.x,t.y)},n.crossProductZ=function(e,t,r){var i=t.x,s=t.y;return(r.x-i)*(e.y-s)-(r.y-s)*(e.x-i)},n}(),mI=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),Phe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),khe=function(n){Phe(e,n);function e(t,r,i,s,a){var o=n.call(this,t,r)||this;return o.compact=i,o.nbDatablocks=s,o.nbLayers=a,o}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(mI),dS=function(){function n(e,t,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=n.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var s=t/2|0;if(this.leftInit=r-s,this.rightInit=r+s,this.upInit=i-s,this.downInit=i+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new pe}return n.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,i=this.downInit,s=!1,a=!0,o=!1,l=!1,u=!1,h=!1,p=!1,g=this.width,v=this.height;a;){a=!1;for(var w=!0;(w||!l)&&t<g;)w=this.containsBlackPoint(r,i,t,!1),w?(t++,a=!0,l=!0):l||t++;if(t>=g){s=!0;break}for(var x=!0;(x||!u)&&i<v;)x=this.containsBlackPoint(e,t,i,!0),x?(i++,a=!0,u=!0):u||i++;if(i>=v){s=!0;break}for(var E=!0;(E||!h)&&e>=0;)E=this.containsBlackPoint(r,i,e,!1),E?(e--,a=!0,h=!0):h||e--;if(e<0){s=!0;break}for(var A=!0;(A||!p)&&r>=0;)A=this.containsBlackPoint(e,t,r,!0),A?(r--,a=!0,p=!0):p||r--;if(r<0){s=!0;break}a&&(o=!0)}if(!s&&o){for(var T=t-e,I=null,P=1;I===null&&P<T;P++)I=this.getBlackPointOnSegment(e,i-P,e+P,i);if(I==null)throw new pe;for(var O=null,P=1;O===null&&P<T;P++)O=this.getBlackPointOnSegment(e,r+P,e+P,r);if(O==null)throw new pe;for(var V=null,P=1;V===null&&P<T;P++)V=this.getBlackPointOnSegment(t,r+P,t-P,r);if(V==null)throw new pe;for(var R=null,P=1;R===null&&P<T;P++)R=this.getBlackPointOnSegment(t,i-P,t-P,i);if(R==null)throw new pe;return this.centerEdges(R,I,V,O)}else throw new pe},n.prototype.getBlackPointOnSegment=function(e,t,r,i){for(var s=Rt.round(Rt.distance(e,t,r,i)),a=(r-e)/s,o=(i-t)/s,l=this.image,u=0;u<s;u++){var h=Rt.round(e+u*a),p=Rt.round(t+u*o);if(l.get(h,p))return new Be(h,p)}return null},n.prototype.centerEdges=function(e,t,r,i){var s=e.getX(),a=e.getY(),o=t.getX(),l=t.getY(),u=r.getX(),h=r.getY(),p=i.getX(),g=i.getY(),v=n.CORR;return s<this.width/2?[new Be(p-v,g+v),new Be(o+v,l+v),new Be(u-v,h-v),new Be(s+v,a-v)]:[new Be(p+v,g+v),new Be(o+v,l-v),new Be(u-v,h+v),new Be(s-v,a-v)]},n.prototype.containsBlackPoint=function(e,t,r,i){var s=this.image;if(i){for(var a=e;a<=t;a++)if(s.get(a,r))return!0}else for(var o=e;o<=t;o++)if(s.get(r,o))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n}(),Bk=function(){function n(){}return n.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),i=e.getHeight(),s=!0,a=0;a<t.length&&s;a+=2){var o=Math.floor(t[a]),l=Math.floor(t[a+1]);if(o<-1||o>r||l<-1||l>i)throw new pe;s=!1,o===-1?(t[a]=0,s=!0):o===r&&(t[a]=r-1,s=!0),l===-1?(t[a+1]=0,s=!0):l===i&&(t[a+1]=i-1,s=!0)}s=!0;for(var a=t.length-2;a>=0&&s;a-=2){var o=Math.floor(t[a]),l=Math.floor(t[a+1]);if(o<-1||o>r||l<-1||l>i)throw new pe;s=!1,o===-1?(t[a]=0,s=!0):o===r&&(t[a]=r-1,s=!0),l===-1?(t[a+1]=0,s=!0):l===i&&(t[a+1]=i-1,s=!0)}},n}(),PF=function(){function n(e,t,r,i,s,a,o,l,u){this.a11=e,this.a21=t,this.a31=r,this.a12=i,this.a22=s,this.a32=a,this.a13=o,this.a23=l,this.a33=u}return n.quadrilateralToQuadrilateral=function(e,t,r,i,s,a,o,l,u,h,p,g,v,w,x,E){var A=n.quadrilateralToSquare(e,t,r,i,s,a,o,l),T=n.squareToQuadrilateral(u,h,p,g,v,w,x,E);return T.times(A)},n.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,i=this.a12,s=this.a13,a=this.a21,o=this.a22,l=this.a23,u=this.a31,h=this.a32,p=this.a33,g=0;g<t;g+=2){var v=e[g],w=e[g+1],x=s*v+l*w+p;e[g]=(r*v+a*w+u)/x,e[g+1]=(i*v+o*w+h)/x}},n.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,i=this.a12,s=this.a13,a=this.a21,o=this.a22,l=this.a23,u=this.a31,h=this.a32,p=this.a33,g=e.length,v=0;v<g;v++){var w=e[v],x=t[v],E=s*w+l*x+p;e[v]=(r*w+a*x+u)/E,t[v]=(i*w+o*x+h)/E}},n.squareToQuadrilateral=function(e,t,r,i,s,a,o,l){var u=e-r+s-o,h=t-i+a-l;if(u===0&&h===0)return new n(r-e,s-r,e,i-t,a-i,t,0,0,1);var p=r-s,g=o-s,v=i-a,w=l-a,x=p*w-g*v,E=(u*w-g*h)/x,A=(p*h-u*v)/x;return new n(r-e+E*r,o-e+A*o,e,i-t+E*i,l-t+A*l,t,E,A,1)},n.quadrilateralToSquare=function(e,t,r,i,s,a,o,l){return n.squareToQuadrilateral(e,t,r,i,s,a,o,l).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(e){return new n(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},n}(),Lhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vhe=function(n){Lhe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,r,i,s,a,o,l,u,h,p,g,v,w,x,E,A,T,I,P){var O=PF.quadrilateralToQuadrilateral(s,a,o,l,u,h,p,g,v,w,x,E,A,T,I,P);return this.sampleGridWithTransform(t,r,i,O)},e.prototype.sampleGridWithTransform=function(t,r,i,s){if(r<=0||i<=0)throw new pe;for(var a=new ja(r,i),o=new Float32Array(2*r),l=0;l<i;l++){for(var u=o.length,h=l+.5,p=0;p<u;p+=2)o[p]=p/2+.5,o[p+1]=h;s.transformPoints(o),Bk.checkAndNudgePoints(t,o);try{for(var p=0;p<u;p+=2)t.get(Math.floor(o[p]),Math.floor(o[p+1]))&&a.set(p/2,l)}catch{throw new pe}}return a},e}(Bk),vI=function(){function n(){}return n.setGridSampler=function(e){n.gridSampler=e},n.getInstance=function(){return n.gridSampler},n.gridSampler=new Vhe,n}(),vi=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.toResultPoint=function(){return new Be(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n}(),Bhe=function(){function n(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),a=this.getMatrixCornerPoints(r);return new khe(s,a,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new pe;var t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);for(var i=0,s=0;s<4;s++){var a=r[(this.shift+s)%4];this.compact?(i<<=7,i+=a>>1&127):(i<<=10,i+=(a>>2&992)+(a>>1&31))}var o=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)},n.prototype.getRotation=function(e,t){var r=0;e.forEach(function(s,a,o){var l=(s>>t-2<<1)+(s&1);r=(r<<3)+l}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(dt.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new pe},n.prototype.getCorrectedParameterData=function(e,t){var r,i;t?(r=7,i=2):(r=10,i=4);for(var s=r-i,a=new Int32Array(r),o=r-1;o>=0;--o)a[o]=e&15,e>>=4;try{var l=new Ow(_i.AZTEC_PARAM);l.decode(a,s)}catch{throw new pe}for(var u=0,o=0;o<i;o++)u=(u<<4)+a[o];return u},n.prototype.getBullsEyeCorners=function(e){var t=e,r=e,i=e,s=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var o=this.getFirstDifferent(t,a,1,-1),l=this.getFirstDifferent(r,a,1,1),u=this.getFirstDifferent(i,a,-1,1),h=this.getFirstDifferent(s,a,-1,-1);if(this.nbCenterLayers>2){var p=this.distancePoint(h,o)*this.nbCenterLayers/(this.distancePoint(s,t)*(this.nbCenterLayers+2));if(p<.75||p>1.25||!this.isWhiteOrBlackRectangle(o,l,u,h))break}t=o,r=l,i=u,s=h,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new pe;this.compact=this.nbCenterLayers===5;var g=new Be(t.getX()+.5,t.getY()-.5),v=new Be(r.getX()+.5,r.getY()+.5),w=new Be(i.getX()-.5,i.getY()+.5),x=new Be(s.getX()-.5,s.getY()-.5);return this.expandSquare([g,v,w,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var e,t,r,i;try{var s=new dS(this.image).detect();e=s[0],t=s[1],r=s[2],i=s[3]}catch{var a=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new vi(a+7,o-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new vi(a+7,o+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new vi(a-7,o+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new vi(a-7,o-7),!1,-1,-1).toResultPoint()}var l=Rt.round((e.getX()+i.getX()+t.getX()+r.getX())/4),u=Rt.round((e.getY()+i.getY()+t.getY()+r.getY())/4);try{var s=new dS(this.image,15,l,u).detect();e=s[0],t=s[1],r=s[2],i=s[3]}catch{e=this.getFirstDifferent(new vi(l+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new vi(l+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new vi(l-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new vi(l-7,u-7),!1,-1,-1).toResultPoint()}return l=Rt.round((e.getX()+i.getX()+t.getX()+r.getX())/4),u=Rt.round((e.getY()+i.getY()+t.getY()+r.getY())/4),new vi(l,u)},n.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(e,t,r,i,s){var a=vI.getInstance(),o=this.getDimension(),l=o/2-this.nbCenterLayers,u=o/2+this.nbCenterLayers;return a.sampleGrid(e,o,o,l,l,u,l,u,u,l,u,t.getX(),t.getY(),r.getX(),r.getY(),i.getX(),i.getY(),s.getX(),s.getY())},n.prototype.sampleLine=function(e,t,r){for(var i=0,s=this.distanceResultPoint(e,t),a=s/r,o=e.getX(),l=e.getY(),u=a*(t.getX()-e.getX())/s,h=a*(t.getY()-e.getY())/s,p=0;p<r;p++)this.image.get(Rt.round(o+p*u),Rt.round(l+p*h))&&(i|=1<<r-p-1);return i},n.prototype.isWhiteOrBlackRectangle=function(e,t,r,i){var s=3;e=new vi(e.getX()-s,e.getY()+s),t=new vi(t.getX()-s,t.getY()-s),r=new vi(r.getX()+s,r.getY()-s),i=new vi(i.getX()+s,i.getY()+s);var a=this.getColor(i,e);if(a===0)return!1;var o=this.getColor(e,t);return o!==a||(o=this.getColor(t,r),o!==a)?!1:(o=this.getColor(r,i),o===a)},n.prototype.getColor=function(e,t){for(var r=this.distancePoint(e,t),i=(t.getX()-e.getX())/r,s=(t.getY()-e.getY())/r,a=0,o=e.getX(),l=e.getY(),u=this.image.get(e.getX(),e.getY()),h=Math.ceil(r),p=0;p<h;p++)o+=i,l+=s,this.image.get(Rt.round(o),Rt.round(l))!==u&&a++;var g=a/r;return g>.1&&g<.9?0:g<=.1===u?1:-1},n.prototype.getFirstDifferent=function(e,t,r,i){for(var s=e.getX()+r,a=e.getY()+i;this.isValid(s,a)&&this.image.get(s,a)===t;)s+=r,a+=i;for(s-=r,a-=i;this.isValid(s,a)&&this.image.get(s,a)===t;)s+=r;for(s-=r;this.isValid(s,a)&&this.image.get(s,a)===t;)a+=i;return a-=i,new vi(s,a)},n.prototype.expandSquare=function(e,t,r){var i=r/(2*t),s=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),o=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,u=new Be(o+i*s,l+i*a),h=new Be(o-i*s,l-i*a);s=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),o=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var p=new Be(o+i*s,l+i*a),g=new Be(o-i*s,l-i*a),v=[u,p,h,g];return v},n.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},n.prototype.isValidPoint=function(e){var t=Rt.round(e.getX()),r=Rt.round(e.getY());return this.isValid(t,r)},n.prototype.distancePoint=function(e,t){return Rt.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.distanceResultPoint=function(e,t){return Rt.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(dt.truncDivision(this.nbLayers-4,8)+1)+15},n}(),pS=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=null,i=new Bhe(e.getBlackMatrix()),s=null,a=null;try{var o=i.detectMirror(!1);s=o.getPoints(),this.reportFoundResultPoints(t,s),a=new Vk().decode(o)}catch(p){r=p}if(a==null)try{var o=i.detectMirror(!0);s=o.getPoints(),this.reportFoundResultPoints(t,s),a=new Vk().decode(o)}catch(p){throw r??p}var l=new Xr(a.getText(),a.getRawBytes(),a.getNumBits(),s,Ye.AZTEC,cn.currentTimeMillis()),u=a.getByteSegments();u!=null&&l.putMetadata(Pr.BYTE_SEGMENTS,u);var h=a.getECLevel();return h!=null&&l.putMetadata(Pr.ERROR_CORRECTION_LEVEL,h),l},n.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var r=e.get(_n.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach(function(i,s,a){r.foundPossibleResultPoint(i)})}},n.prototype.reset=function(){},n}(),Fhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){Fhe(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new pS,t)||this}return e})(jd);var ar=function(){function n(){}return n.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var r=t&&t.get(_n.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),s=this.doDecode(i,t),a=s.getResultMetadata(),o=270;a!==null&&a.get(Pr.ORIENTATION)===!0&&(o=o+a.get(Pr.ORIENTATION)%360),s.putMetadata(Pr.ORIENTATION,o);var l=s.getResultPoints();if(l!==null)for(var u=i.getHeight(),h=0;h<l.length;h++)l[h]=new Be(u-l[h].getY()-1,l[h].getX());return s}else throw new pe}},n.prototype.reset=function(){},n.prototype.doDecode=function(e,t){var r=e.getWidth(),i=e.getHeight(),s=new wr(r),a=t&&t.get(_n.TRY_HARDER)===!0,o=Math.max(1,i>>(a?8:5)),l;a?l=i:l=15;for(var u=Math.trunc(i/2),h=0;h<l;h++){var p=Math.trunc((h+1)/2),g=(h&1)===0,v=u+o*(g?p:-p);if(v<0||v>=i)break;try{s=e.getBlackRow(v,s)}catch{continue}for(var w=function(T){if(T===1&&(s.reverse(),t&&t.get(_n.NEED_RESULT_POINT_CALLBACK)===!0)){var I=new Map;t.forEach(function(V,R){return I.set(R,V)}),I.delete(_n.NEED_RESULT_POINT_CALLBACK),t=I}try{var P=x.decodeRow(v,s,t);if(T===1){P.putMetadata(Pr.ORIENTATION,180);var O=P.getResultPoints();O!==null&&(O[0]=new Be(r-O[0].getX()-1,O[0].getY()),O[1]=new Be(r-O[1].getX()-1,O[1].getY()))}return{value:P}}catch{}},x=this,E=0;E<2;E++){var A=w(E);if(typeof A=="object")return A.value}}throw new pe},n.recordPattern=function(e,t,r){for(var i=r.length,s=0;s<i;s++)r[s]=0;var a=e.getSize();if(t>=a)throw new pe;for(var o=!e.get(t),l=0,u=t;u<a;){if(e.get(u)!==o)r[l]++;else{if(++l===i)break;r[l]=1,o=!o}u++}if(!(l===i||l===i-1&&u===a))throw new pe},n.recordPatternInReverse=function(e,t,r){for(var i=r.length,s=e.get(t);t>0&&i>=0;)e.get(--t)!==s&&(i--,s=!s);if(i>=0)throw new pe;n.recordPattern(e,t+1,r)},n.patternMatchVariance=function(e,t,r){for(var i=e.length,s=0,a=0,o=0;o<i;o++)s+=e[o],a+=t[o];if(s<a)return Number.POSITIVE_INFINITY;var l=s/a;r*=l;for(var u=0,h=0;h<i;h++){var p=e[h],g=t[h]*l,v=p>g?p-g:g-p;if(v>r)return Number.POSITIVE_INFINITY;u+=v}return u/s},n}(),Uhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Fk=function(n){Uhe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var r=t.getSize(),i=t.getNextSet(0),s=0,a=Int32Array.from([0,0,0,0,0,0]),o=i,l=!1,u=6,h=i;h<r;h++)if(t.get(h)!==l)a[s]++;else{if(s===u-1){for(var p=e.MAX_AVG_VARIANCE,g=-1,v=e.CODE_START_A;v<=e.CODE_START_C;v++){var w=ar.patternMatchVariance(a,e.CODE_PATTERNS[v],e.MAX_INDIVIDUAL_VARIANCE);w<p&&(p=w,g=v)}if(g>=0&&t.isRange(Math.max(0,o-(h-o)/2),o,!1))return Int32Array.from([o,h,g]);o+=a[0]+a[1],a=a.slice(2,a.length),a[s-1]=0,a[s]=0,s--}else s++;a[s]=1,l=!l}throw new pe},e.decodeCode=function(t,r,i){ar.recordPattern(t,i,r);for(var s=e.MAX_AVG_VARIANCE,a=-1,o=0;o<e.CODE_PATTERNS.length;o++){var l=e.CODE_PATTERNS[o],u=this.patternMatchVariance(r,l,e.MAX_INDIVIDUAL_VARIANCE);u<s&&(s=u,a=o)}if(a>=0)return a;throw new pe},e.prototype.decodeRow=function(t,r,i){var s=i&&i.get(_n.ASSUME_GS1)===!0,a=e.findStartPattern(r),o=a[2],l=0,u=new Uint8Array(20);u[l++]=o;var h;switch(o){case e.CODE_START_A:h=e.CODE_CODE_A;break;case e.CODE_START_B:h=e.CODE_CODE_B;break;case e.CODE_START_C:h=e.CODE_CODE_C;break;default:throw new Te}for(var p=!1,g=!1,v="",w=a[0],x=a[1],E=Int32Array.from([0,0,0,0,0,0]),A=0,T=0,I=o,P=0,O=!0,V=!1,R=!1;!p;){var C=g;switch(g=!1,A=T,T=e.decodeCode(r,E,x),u[l++]=T,T!==e.CODE_STOP&&(O=!0),T!==e.CODE_STOP&&(P++,I+=P*T),w=x,x+=E.reduce(function(X,oe){return X+oe},0),T){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Te}switch(h){case e.CODE_CODE_A:if(T<64)R===V?v+=String.fromCharCode(32+T):v+=String.fromCharCode(32+T+128),R=!1;else if(T<96)R===V?v+=String.fromCharCode(T-64):v+=String.fromCharCode(T+64),R=!1;else switch(T!==e.CODE_STOP&&(O=!1),T){case e.CODE_FNC_1:s&&(v.length===0?v+="]C1":v+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!V&&R?(V=!0,R=!1):V&&R?(V=!1,R=!1):R=!0;break;case e.CODE_SHIFT:g=!0,h=e.CODE_CODE_B;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_B:if(T<96)R===V?v+=String.fromCharCode(32+T):v+=String.fromCharCode(32+T+128),R=!1;else switch(T!==e.CODE_STOP&&(O=!1),T){case e.CODE_FNC_1:s&&(v.length===0?v+="]C1":v+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!V&&R?(V=!0,R=!1):V&&R?(V=!1,R=!1):R=!0;break;case e.CODE_SHIFT:g=!0,h=e.CODE_CODE_A;break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_C:h=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_C:if(T<100)T<10&&(v+="0"),v+=T;else switch(T!==e.CODE_STOP&&(O=!1),T){case e.CODE_FNC_1:s&&(v.length===0?v+="]C1":v+="");break;case e.CODE_CODE_A:h=e.CODE_CODE_A;break;case e.CODE_CODE_B:h=e.CODE_CODE_B;break;case e.CODE_STOP:p=!0;break}break}C&&(h=h===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var N=x-w;if(x=r.getNextUnset(x),!r.isRange(x,Math.min(r.getSize(),x+(x-w)/2),!1))throw new pe;if(I-=P*A,I%103!==A)throw new _r;var L=v.length;if(L===0)throw new pe;L>0&&O&&(h===e.CODE_CODE_C?v=v.substring(0,L-2):v=v.substring(0,L-1));for(var F=(a[1]+a[0])/2,H=w+N/2,B=u.length,he=new Uint8Array(B),fe=0;fe<B;fe++)he[fe]=u[fe];var Y=[new Be(F,t),new Be(H,t)];return new Xr(v,he,0,Y,Ye.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(ar),jhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uk=function(n){jhe(e,n);function e(t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=n.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,r,i){var s,a,o,l,u=this.counters;u.fill(0),this.decodeRowResult="";var h=e.findAsteriskPattern(r,u),p=r.getNextSet(h[1]),g=r.getSize(),v,w;do{e.recordPattern(r,p,u);var x=e.toNarrowWidePattern(u);if(x<0)throw new pe;v=e.patternToChar(x),this.decodeRowResult+=v,w=p;try{for(var E=(s=void 0,qE(u)),A=E.next();!A.done;A=E.next()){var T=A.value;p+=T}}catch(B){s={error:B}}finally{try{A&&!A.done&&(a=E.return)&&a.call(E)}finally{if(s)throw s.error}}p=r.getNextSet(p)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var I=0;try{for(var P=qE(u),O=P.next();!O.done;O=P.next()){var T=O.value;I+=T}}catch(B){o={error:B}}finally{try{O&&!O.done&&(l=P.return)&&l.call(P)}finally{if(o)throw o.error}}var V=p-w-I;if(p!==g&&V*2<I)throw new pe;if(this.usingCheckDigit){for(var R=this.decodeRowResult.length-1,C=0,N=0;N<R;N++)C+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(N));if(this.decodeRowResult.charAt(R)!==e.ALPHABET_STRING.charAt(C%43))throw new _r;this.decodeRowResult=this.decodeRowResult.substring(0,R)}if(this.decodeRowResult.length===0)throw new pe;var L;this.extendedMode?L=e.decodeExtended(this.decodeRowResult):L=this.decodeRowResult;var F=(h[1]+h[0])/2,H=w+I/2;return new Xr(L,null,0,[new Be(F,t),new Be(H,t)],Ye.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,r){for(var i=t.getSize(),s=t.getNextSet(0),a=0,o=s,l=!1,u=r.length,h=s;h<i;h++)if(t.get(h)!==l)r[a]++;else{if(a===u-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,o-Math.floor((h-o)/2)),o,!1))return[o,h];o+=r[0]+r[1],r.copyWithin(0,2,2+a-1),r[a-1]=0,r[a]=0,a--}else a++;r[a]=1,l=!l}throw new pe},e.toNarrowWidePattern=function(t){var r,i,s=t.length,a=0,o;do{var l=2147483647;try{for(var u=(r=void 0,qE(t)),h=u.next();!h.done;h=u.next()){var p=h.value;p<l&&p>a&&(l=p)}}catch(x){r={error:x}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}a=l,o=0;for(var g=0,v=0,w=0;w<s;w++){var p=t[w];p>a&&(v|=1<<s-1-w,o++,g+=p)}if(o===3){for(var w=0;w<s&&o>0;w++){var p=t[w];if(p>a&&(o--,p*2>=g))return-1}return v}}while(o>3);return-1},e.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);if(t===e.ASTERISK_ENCODING)return"*";throw new pe},e.decodeExtended=function(t){for(var r=t.length,i="",s=0;s<r;s++){var a=t.charAt(s);if(a==="+"||a==="$"||a==="%"||a==="/"){var o=t.charAt(s+1),l="\0";switch(a){case"+":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)+32);else throw new Te;break;case"$":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)-64);else throw new Te;break;case"%":if(o>="A"&&o<="E")l=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")l=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")l=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")l="\0";else if(o==="V")l="@";else if(o==="W")l="`";else if(o==="X"||o==="Y"||o==="Z")l="";else throw new Te;break;case"/":if(o>="A"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")l=":";else throw new Te;break}i+=l,s++}else i+=a}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(ar),Hhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),KE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jk=function(n){Hhe(e,n);function e(){var t=n.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,r,i){var s,a,o,l,u=this.findAsteriskPattern(r),h=r.getNextSet(u[1]),p=r.getSize(),g=this.counters;g.fill(0),this.decodeRowResult="";var v,w;do{e.recordPattern(r,h,g);var x=this.toPattern(g);if(x<0)throw new pe;v=this.patternToChar(x),this.decodeRowResult+=v,w=h;try{for(var E=(s=void 0,KE(g)),A=E.next();!A.done;A=E.next()){var T=A.value;h+=T}}catch(N){s={error:N}}finally{try{A&&!A.done&&(a=E.return)&&a.call(E)}finally{if(s)throw s.error}}h=r.getNextSet(h)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var I=0;try{for(var P=KE(g),O=P.next();!O.done;O=P.next()){var T=O.value;I+=T}}catch(N){o={error:N}}finally{try{O&&!O.done&&(l=P.return)&&l.call(P)}finally{if(o)throw o.error}}if(h===p||!r.get(h))throw new pe;if(this.decodeRowResult.length<2)throw new pe;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var V=this.decodeExtended(this.decodeRowResult),R=(u[1]+u[0])/2,C=w+I/2;return new Xr(V,null,0,[new Be(R,t),new Be(C,t)],Ye.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var r=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var s=this.counters,a=i,o=!1,l=s.length,u=0,h=i;h<r;h++)if(t.get(h)!==o)s[u]++;else{if(u===l-1){if(this.toPattern(s)===e.ASTERISK_ENCODING)return new Int32Array([a,h]);a+=s[0]+s[1],s.copyWithin(0,2,2+u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,o=!o}throw new pe},e.prototype.toPattern=function(t){var r,i,s=0;try{for(var a=KE(t),o=a.next();!o.done;o=a.next()){var l=o.value;s+=l}}catch(w){r={error:w}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}for(var u=0,h=t.length,p=0;p<h;p++){var g=Math.round(t[p]*9/s);if(g<1||g>4)return-1;if((p&1)===0)for(var v=0;v<g;v++)u=u<<1|1;else u<<=g}return u},e.prototype.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);throw new pe},e.prototype.decodeExtended=function(t){for(var r=t.length,i="",s=0;s<r;s++){var a=t.charAt(s);if(a>="a"&&a<="d"){if(s>=r-1)throw new Te;var o=t.charAt(s+1),l="\0";switch(a){case"d":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)+32);else throw new Te;break;case"a":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)-64);else throw new Te;break;case"b":if(o>="A"&&o<="E")l=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")l=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")l=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")l="\0";else if(o==="V")l="@";else if(o==="W")l="`";else if(o>="X"&&o<="Z")l="";else throw new Te;break;case"c":if(o>="A"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")l=":";else throw new Te;break}i+=l,s++}else i+=a}return i},e.prototype.checkChecksums=function(t){var r=t.length;this.checkOneChecksum(t,r-2,20),this.checkOneChecksum(t,r-1,15)},e.prototype.checkOneChecksum=function(t,r,i){for(var s=1,a=0,o=r-1;o>=0;o--)a+=s*e.ALPHABET_STRING.indexOf(t.charAt(o)),++s>i&&(s=1);if(t.charAt(r)!==e.ALPHABET_STRING[a%47])throw new _r},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(ar),zhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Whe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hk=function(n){zhe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,r,i){var s,a,o=this.decodeStart(r),l=this.decodeEnd(r),u=new lt;e.decodeMiddle(r,o[1],l[0],u);var h=u.toString(),p=null;i!=null&&(p=i.get(_n.ALLOWED_LENGTHS)),p==null&&(p=e.DEFAULT_ALLOWED_LENGTHS);var g=h.length,v=!1,w=0;try{for(var x=Whe(p),E=x.next();!E.done;E=x.next()){var A=E.value;if(g===A){v=!0;break}A>w&&(w=A)}}catch(P){s={error:P}}finally{try{E&&!E.done&&(a=x.return)&&a.call(x)}finally{if(s)throw s.error}}if(!v&&g>w&&(v=!0),!v)throw new Te;var T=[new Be(o[1],t),new Be(l[0],t)],I=new Xr(h,null,0,T,Ye.ITF,new Date().getTime());return I},e.decodeMiddle=function(t,r,i,s){var a=new Int32Array(10),o=new Int32Array(5),l=new Int32Array(5);for(a.fill(0),o.fill(0),l.fill(0);r<i;){ar.recordPattern(t,r,a);for(var u=0;u<5;u++){var h=2*u;o[u]=a[h],l[u]=a[h+1]}var p=e.decodeDigit(o);s.append(p.toString()),p=this.decodeDigit(l),s.append(p.toString()),a.forEach(function(g){r+=g})}},e.prototype.decodeStart=function(t){var r=e.skipWhiteSpace(t),i=e.findGuardPattern(t,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var s=r-1;i>0&&s>=0&&!t.get(s);s--)i--;if(i!==0)throw new pe},e.skipWhiteSpace=function(t){var r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new pe;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var r=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[0])}catch(a){a instanceof pe&&(i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var s=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-s,i}finally{t.reverse()}},e.findGuardPattern=function(t,r,i){var s=i.length,a=new Int32Array(s),o=t.getSize(),l=!1,u=0,h=r;a.fill(0);for(var p=r;p<o;p++)if(t.get(p)!==l)a[u]++;else{if(u===s-1){if(ar.patternMatchVariance(a,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[h,p];h+=a[0]+a[1],cn.arraycopy(a,2,a,0,u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,l=!l}throw new pe},e.decodeDigit=function(t){for(var r=e.MAX_AVG_VARIANCE,i=-1,s=e.PATTERNS.length,a=0;a<s;a++){var o=e.PATTERNS[a],l=ar.patternMatchVariance(t,o,e.MAX_INDIVIDUAL_VARIANCE);l<r?(r=l,i=a):l===r&&(i=-1)}if(i>=0)return i%10;throw new pe},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(ar),Yhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_d=function(n){Yhe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var r=!1,i,s=0,a=Int32Array.from([0,0,0]);!r;){a=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,s,!1,this.START_END_PATTERN,a);var o=i[0];s=i[1];var l=o-(s-o);l>=0&&(r=t.isRange(l,o,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,s=r-1;s>=0;s-=2){var a=t.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new Te;i+=a}i*=3;for(var s=r-2;s>=0;s-=2){var a=t.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new Te;i+=a}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,r,i,s){return this.findGuardPattern(t,r,i,s,new Int32Array(s.length))},e.findGuardPattern=function(t,r,i,s,a){var o=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);for(var l=0,u=r,h=s.length,p=i,g=r;g<o;g++)if(t.get(g)!==p)a[l]++;else{if(l===h-1){if(ar.patternMatchVariance(a,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,g]);u+=a[0]+a[1];for(var v=a.slice(2,a.length),w=0;w<l-1;w++)a[w]=v[w];a[l-1]=0,a[l]=0,l--}else l++;a[l]=1,p=!p}throw new pe},e.decodeDigit=function(t,r,i,s){this.recordPattern(t,i,r);for(var a=this.MAX_AVG_VARIANCE,o=-1,l=s.length,u=0;u<l;u++){var h=s[u],p=ar.patternMatchVariance(r,h,e.MAX_INDIVIDUAL_VARIANCE);p<a&&(a=p,o=u)}if(o>=0)return o;throw new pe},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(ar),$he=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ghe=function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(t,r,i),a=i.toString(),o=n.parseExtensionString(a),l=[new Be((r[0]+r[1])/2,e),new Be(s,e)],u=new Xr(a,null,0,l,Ye.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},n.prototype.decodeMiddle=function(e,t,r){var i,s,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var o=e.getSize(),l=t[1],u=0,h=0;h<5&&l<o;h++){var p=_d.decodeDigit(e,a,l,_d.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var g=(i=void 0,$he(a)),v=g.next();!v.done;v=g.next()){var w=v.value;l+=w}}catch(E){i={error:E}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}p>=10&&(u|=1<<4-h),h!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==5)throw new pe;var x=this.determineCheckDigit(u);if(n.extensionChecksum(r.toString())!==x)throw new pe;return l},n.extensionChecksum=function(e){for(var t=e.length,r=0,i=t-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=t-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},n.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new pe},n.parseExtensionString=function(e){if(e.length!==5)return null;var t=n.parseExtension5String(e);return t==null?null:new Map([[Pr.SUGGESTED_PRICE,t]])},n.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),s=r%100,a=s<10?"0"+s:s.toString();return t+i+"."+a},n}(),qhe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Khe=function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(t,r,i),a=i.toString(),o=n.parseExtensionString(a),l=[new Be((r[0]+r[1])/2,e),new Be(s,e)],u=new Xr(a,null,0,l,Ye.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},n.prototype.decodeMiddle=function(e,t,r){var i,s,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var o=e.getSize(),l=t[1],u=0,h=0;h<2&&l<o;h++){var p=_d.decodeDigit(e,a,l,_d.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);try{for(var g=(i=void 0,qhe(a)),v=g.next();!v.done;v=g.next()){var w=v.value;l+=w}}catch(x){i={error:x}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}p>=10&&(u|=1<<1-h),h!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==2)throw new pe;if(parseInt(r.toString())%4!==u)throw new pe;return l},n.parseExtensionString=function(e){return e.length!==2?null:new Map([[Pr.ISSUE_NUMBER,parseInt(e)]])},n}(),Xhe=function(){function n(){}return n.decodeRow=function(e,t,r){var i=_d.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var s=new Ghe;return s.decodeRow(e,t,i)}catch{var a=new Khe;return a.decodeRow(e,t,i)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n}(),Qhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nr=function(n){Qhe(e,n);function e(){var t=n.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(o){return Int32Array.from(o)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],s=new Int32Array(i.length),a=0;a<i.length;a++)s[a]=i[i.length-a-1];e.L_AND_G_PATTERNS[r]=s}return t}return e.prototype.decodeRow=function(t,r,i){var s=e.findStartGuardPattern(r),a=i==null?null:i.get(_n.NEED_RESULT_POINT_CALLBACK);if(a!=null){var o=new Be((s[0]+s[1])/2,t);a.foundPossibleResultPoint(o)}var l=this.decodeMiddle(r,s,this.decodeRowStringBuffer),u=l.rowOffset,h=l.resultString;if(a!=null){var p=new Be(u,t);a.foundPossibleResultPoint(p)}var g=e.decodeEnd(r,u);if(a!=null){var v=new Be((g[0]+g[1])/2,t);a.foundPossibleResultPoint(v)}var w=g[1],x=w+(w-g[0]);if(x>=r.getSize()||!r.isRange(w,x,!1))throw new pe;var E=h.toString();if(E.length<8)throw new Te;if(!e.checkChecksum(E))throw new _r;var A=(s[1]+s[0])/2,T=(g[1]+g[0])/2,I=this.getBarcodeFormat(),P=[new Be(A,t),new Be(T,t)],O=new Xr(E,null,0,P,I,new Date().getTime()),V=0;try{var R=Xhe.decodeRow(t,r,g[1]);O.putMetadata(Pr.UPC_EAN_EXTENSION,R.getText()),O.putAllMetadata(R.getResultMetadata()),O.addResultPoints(R.getResultPoints()),V=R.getText().length}catch{}var C=i==null?null:i.get(_n.ALLOWED_EAN_EXTENSIONS);if(C!=null){var N=!1;for(var L in C)if(V.toString()===L){N=!0;break}if(!N)throw new pe}return I===Ye.EAN_13||Ye.UPC_A,O},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,s=r-1;s>=0;s-=2){var a=t.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new Te;i+=a}i*=3;for(var s=r-2;s>=0;s-=2){var a=t.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new Te;i+=a}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(_d),Zhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gS=function(n){Zhe(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var s,a,o,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var h=t.getSize(),p=r[1],g=0,v=0;v<6&&p<h;v++){var w=nr.decodeDigit(t,u,p,nr.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);try{for(var x=(s=void 0,zk(u)),E=x.next();!E.done;E=x.next()){var A=E.value;p+=A}}catch(O){s={error:O}}finally{try{E&&!E.done&&(a=x.return)&&a.call(x)}finally{if(s)throw s.error}}w>=10&&(g|=1<<5-v)}i=e.determineFirstDigit(i,g);var T=nr.findGuardPattern(t,p,!0,nr.MIDDLE_PATTERN,new Int32Array(nr.MIDDLE_PATTERN.length).fill(0));p=T[1];for(var v=0;v<6&&p<h;v++){var w=nr.decodeDigit(t,u,p,nr.L_PATTERNS);i+=String.fromCharCode(48+w);try{for(var I=(o=void 0,zk(u)),P=I.next();!P.done;P=I.next()){var A=P.value;p+=A}}catch(R){o={error:R}}finally{try{P&&!P.done&&(l=I.return)&&l.call(I)}finally{if(o)throw o.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ye.EAN_13},e.determineFirstDigit=function(t,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new pe},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(nr),Jhe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yk=function(n){Jhe(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var s,a,o,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var h=t.getSize(),p=r[1],g=0;g<4&&p<h;g++){var v=nr.decodeDigit(t,u,p,nr.L_PATTERNS);i+=String.fromCharCode(48+v);try{for(var w=(s=void 0,Wk(u)),x=w.next();!x.done;x=w.next()){var E=x.value;p+=E}}catch(P){s={error:P}}finally{try{x&&!x.done&&(a=w.return)&&a.call(w)}finally{if(s)throw s.error}}}var A=nr.findGuardPattern(t,p,!0,nr.MIDDLE_PATTERN,new Int32Array(nr.MIDDLE_PATTERN.length).fill(0));p=A[1];for(var g=0;g<4&&p<h;g++){var v=nr.decodeDigit(t,u,p,nr.L_PATTERNS);i+=String.fromCharCode(48+v);try{for(var T=(o=void 0,Wk(u)),I=T.next();!I.done;I=T.next()){var E=I.value;p+=E}}catch(V){o={error:V}}finally{try{I&&!I.done&&(l=T.return)&&l.call(T)}finally{if(o)throw o.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ye.EAN_8},e}(nr),ede=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$k=function(n){ede(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ean13Reader=new gS,t}return e.prototype.getBarcodeFormat=function(){return Ye.UPC_A},e.prototype.decode=function(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))},e.prototype.decodeMiddle=function(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)},e.prototype.maybeReturnResult=function(t){var r=t.getText();if(r.charAt(0)==="0"){var i=new Xr(r.substring(1),null,null,t.getResultPoints(),Ye.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new pe},e.prototype.reset=function(){this.ean13Reader.reset()},e}(nr),tde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nde=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gk=function(n){tde(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,r,i){var s,a,o=this.decodeMiddleCounters.map(function(E){return E});o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=t.getSize(),u=r[1],h=0,p=0;p<6&&u<l;p++){var g=e.decodeDigit(t,o,u,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);try{for(var v=(s=void 0,nde(o)),w=v.next();!w.done;w=v.next()){var x=w.value;u+=x}}catch(E){s={error:E}}finally{try{w&&!w.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}g>=10&&(h|=1<<5-p)}return e.determineNumSysAndCheckDigit(new lt(i),h),u},e.prototype.decodeEnd=function(t,r){return e.findGuardPatternWithoutCounters(t,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return nr.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,r){for(var i=0;i<=1;i++)for(var s=0;s<10;s++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][s]){t.insert(0,"0"+i),t.append("0"+s);return}throw pe.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ye.UPC_E},e.convertUPCEtoUPCA=function(t){var r=t.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),i=new lt;i.append(t.charAt(0));var s=r[5];switch(s){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(s),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(s);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(nr),rde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XE=function(n){rde(e,n);function e(t){var r=n.call(this)||this,i=t==null?null:t.get(_n.POSSIBLE_FORMATS),s=[];return i!=null&&(i.indexOf(Ye.EAN_13)>-1&&s.push(new gS),i.indexOf(Ye.UPC_A)>-1&&s.push(new $k),i.indexOf(Ye.EAN_8)>-1&&s.push(new Yk),i.indexOf(Ye.UPC_E)>-1&&s.push(new Gk)),s.length===0&&(s.push(new gS),s.push(new $k),s.push(new Yk),s.push(new Gk)),r.readers=s,r}return e.prototype.decodeRow=function(t,r,i){var s,a;try{for(var o=qk(this.readers),l=o.next();!l.done;l=o.next()){var u=l.value;try{var h=u.decodeRow(t,r,i),p=h.getBarcodeFormat()===Ye.EAN_13&&h.getText().charAt(0)==="0",g=i==null?null:i.get(_n.POSSIBLE_FORMATS),v=g==null||g.includes(Ye.UPC_A);if(p&&v){var w=h.getRawBytes(),x=new Xr(h.getText().substring(1),w,w?w.length:null,h.getResultPoints(),Ye.UPC_A);return x.putAllMetadata(h.getResultMetadata()),x}return h}catch{}}}catch(E){s={error:E}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(s)throw s.error}}throw new pe},e.prototype.reset=function(){var t,r;try{for(var i=qk(this.readers),s=i.next();!s.done;s=i.next()){var a=s.value;a.reset()}}catch(o){t={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e}(ar),ide=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sde=function(n){ide(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,r,i){var s=this.getValidRowData(r);if(!s)throw new pe;var a=this.codaBarDecodeRow(s.row);if(!a)throw new pe;return new Xr(a,null,0,[new Be(s.left,t),new Be(s.right,t)],Ye.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var r=t.toArray(),i=r.indexOf(!0);if(i===-1)return null;var s=r.lastIndexOf(!0);if(s<=i)return null;r=r.slice(i,s+1);for(var a=[],o=r[0],l=1,u=1;u<r.length;u++)r[u]===o?l++:(o=r[u],a.push(l),l=1);return a.push(l),a.length<23&&(a.length+1)%8!==0?null:{row:a,left:i,right:s}},e.prototype.codaBarDecodeRow=function(t){for(var r=[],i=Math.ceil(t.reduce(function(l,u){return(l+u)/2},0));t.length>0;){var s=t.splice(0,8).splice(0,7),a=s.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[a]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[a])}var o=r.join("");return this.validCodaBarString(o)?o:null},e.prototype.validCodaBarString=function(t){var r=/^[A-D].{1,}[A-D]$/;return r.test(t)},e}(ar),ade=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ode=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uu=function(n){ade(e,n);function e(){var t=n.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,r){for(var i=0;i<r.length;i++)if(ar.patternMatchVariance(t,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new pe},e.count=function(t){return Rt.sum(new Int32Array(t))},e.increment=function(t,r){for(var i=0,s=r[0],a=1;a<t.length;a++)r[a]>s&&(s=r[a],i=a);t[i]++},e.decrement=function(t,r){for(var i=0,s=r[0],a=1;a<t.length;a++)r[a]<s&&(s=r[a],i=a);t[i]--},e.isFinderPattern=function(t){var r,i,s=t[0]+t[1],a=s+t[2]+t[3],o=s/a;if(o>=e.MIN_FINDER_PATTERN_RATIO&&o<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var h=ode(t),p=h.next();!p.done;p=h.next()){var g=p.value;g>u&&(u=g),g<l&&(l=g)}}catch(v){r={error:v}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return u<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(ar),I_=function(){function n(e,t){this.value=e,this.checksumPortion=t}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n}(),kF=function(){function n(e,t,r,i,s){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new Be(r,s)),this.resultPoints.push(new Be(i,s))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.hashCode=function(){return this.value},n}(),lde=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mh=function(){function n(){}return n.getRSSvalue=function(e,t,r){var i,s,a=0;try{for(var o=lde(e),l=o.next();!l.done;l=o.next()){var u=l.value;a+=u}}catch(T){i={error:T}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}for(var h=0,p=0,g=e.length,v=0;v<g-1;v++){var w=void 0;for(w=1,p|=1<<v;w<e[v];w++,p&=~(1<<v)){var x=n.combins(a-w-1,g-v-2);if(r&&p===0&&a-w-(g-v-1)>=g-v-1&&(x-=n.combins(a-w-(g-v),g-v-2)),g-v-1>1){for(var E=0,A=a-w-(g-v-2);A>t;A--)E+=n.combins(a-w-A-1,g-v-3);x-=E*(g-1-v)}else a-w>t&&x--;h+=x}a-=w}return h},n.combins=function(e,t){var r,i;e-t>t?(i=t,r=e-t):(i=e-t,r=t);for(var s=1,a=1,o=e;o>r;o--)s*=o,a<=i&&(s/=a,a++);for(;a<=i;)s/=a,a++;return s},n}(),cde=function(){function n(){}return n.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var r=12*t,i=new wr(r),s=0,a=e[0],o=a.getRightChar().getValue(),l=11;l>=0;--l)(o&1<<l)!==0&&i.set(s),s++;for(var l=1;l<e.length;++l){for(var u=e[l],h=u.getLeftChar().getValue(),p=11;p>=0;--p)(h&1<<p)!==0&&i.set(s),s++;if(u.getRightChar()!==null)for(var g=u.getRightChar().getValue(),p=11;p>=0;--p)(g&1<<p)!==0&&i.set(s),s++}return i},n}(),tu=function(){function n(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n}(),yI=function(){function n(e){this.newPosition=e}return n.prototype.getNewPosition=function(){return this.newPosition},n}(),ude=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ns=function(n){ude(e,n);function e(t,r){var i=n.call(this,t)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(yI),fde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nu=function(n){fde(e,n);function e(t,r,i){var s=n.call(this,t)||this;return i?(s.remaining=!0,s.remainingValue=s.remainingValue):(s.remaining=!1,s.remainingValue=0),s.newString=r,s}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(yI),hde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hh=function(n){hde(e,n);function e(t,r,i){var s=n.call(this,t)||this;if(r<0||r>10||i<0||i>10)throw new Te;return s.firstDigit=r,s.secondDigit=i,s}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(yI),Dv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dde=function(){function n(){}return n.parseFieldsInGeneralPurpose=function(e){var t,r,i,s,a,o,l,u;if(!e)return null;if(e.length<2)throw new pe;var h=e.substring(0,2);try{for(var p=Dv(n.TWO_DIGIT_DATA_LENGTH),g=p.next();!g.done;g=p.next()){var v=g.value;if(v[0]===h)return v[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,v[2],e):n.processFixedAI(2,v[1],e)}}catch(V){t={error:V}}finally{try{g&&!g.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}if(e.length<3)throw new pe;var w=e.substring(0,3);try{for(var x=Dv(n.THREE_DIGIT_DATA_LENGTH),E=x.next();!E.done;E=x.next()){var v=E.value;if(v[0]===w)return v[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,v[2],e):n.processFixedAI(3,v[1],e)}}catch(V){i={error:V}}finally{try{E&&!E.done&&(s=x.return)&&s.call(x)}finally{if(i)throw i.error}}try{for(var A=Dv(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),T=A.next();!T.done;T=A.next()){var v=T.value;if(v[0]===w)return v[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,v[2],e):n.processFixedAI(4,v[1],e)}}catch(V){a={error:V}}finally{try{T&&!T.done&&(o=A.return)&&o.call(A)}finally{if(a)throw a.error}}if(e.length<4)throw new pe;var I=e.substring(0,4);try{for(var P=Dv(n.FOUR_DIGIT_DATA_LENGTH),O=P.next();!O.done;O=P.next()){var v=O.value;if(v[0]===I)return v[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,v[2],e):n.processFixedAI(4,v[1],e)}}catch(V){l={error:V}}finally{try{O&&!O.done&&(u=P.return)&&u.call(P)}finally{if(l)throw l.error}}throw new pe},n.processFixedAI=function(e,t,r){if(r.length<e)throw new pe;var i=r.substring(0,e);if(r.length<e+t)throw new pe;var s=r.substring(e,e+t),a=r.substring(e+t),o="("+i+")"+s,l=n.parseFieldsInGeneralPurpose(a);return l==null?o:o+l},n.processVariableAI=function(e,t,r){var i=r.substring(0,e),s;r.length<e+t?s=r.length:s=e+t;var a=r.substring(e,s),o=r.substring(s),l="("+i+")"+a,u=n.parseFieldsInGeneralPurpose(o);return u==null?l:l+u},n.VARIABLE_LENGTH=[],n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n}(),by=function(){function n(e){this.buffer=new lt,this.information=e}return n.prototype.decodeAllCodes=function(e,t){var r=t,i=null;do{var s=this.decodeGeneralPurposeField(r,i),a=dde.parseFieldsInGeneralPurpose(s.getNewString());if(a!=null&&e.append(a),s.isRemaining()?i=""+s.getRemainingValue():i=null,r===s.getNewPosition())break;r=s.getNewPosition()}while(!0);return e.toString()},n.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},n.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new hh(this.information.getSize(),hh.FNC1,hh.FNC1):new hh(this.information.getSize(),t-1,hh.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,s=(r-8)%11;return new hh(e+7,i,s)},n.prototype.extractNumericValueFromBitArray=function(e,t){return n.extractNumericValueFromBitArray(this.information,e,t)},n.extractNumericValueFromBitArray=function(e,t,r){for(var i=0,s=0;s<r;++s)e.get(t+s)&&(i|=1<<r-s-1);return i},n.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new nu(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new nu(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var e,t;do{var r=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new nu(this.current.getPosition(),this.buffer.toString()):t=new nu(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new tu(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new nu(this.current.getPosition(),this.buffer.toString());return new tu(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new tu(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new nu(this.current.getPosition(),this.buffer.toString());return new tu(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new tu(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new nu(this.current.getPosition(),this.buffer.toString());return new tu(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new tu(!1)},n.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},n.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Ns(e+5,Ns.FNC1);if(t>=5&&t<15)return new Ns(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Ns(e+7,""+(r+1));if(r>=90&&r<116)return new Ns(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),s;switch(i){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new Te}return new Ns(e+8,s)},n.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Ns(e+5,Ns.FNC1);if(t>=5&&t<15)return new Ns(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Ns(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new E0("Decoding invalid alphanumeric value: "+r)}return new Ns(e+6,i)},n.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},n}(),LF=function(){function n(e){this.information=e,this.generalDecoder=new by(e)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n}(),pde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vs=function(n){pde(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,r){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,r,i){for(var s=0;s<4;++s){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*s,10);a/100===0&&t.append("0"),a/10===0&&t.append("0"),t.append(a)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,r){for(var i=0,s=0;s<13;s++){var a=t.charAt(s+r).charCodeAt(0)-48;i+=(s&1)===0?3*a:a}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(LF),gde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mde=function(n){gde(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new lt;t.append("(01)");var r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Vs),vde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yde=function(n){vde(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new lt;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(LF),_de=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ey=function(n){_de(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,r,i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,s);for(var a=this.checkWeight(s),o=1e5,l=0;l<5;++l)a/o===0&&t.append("0"),o/=10;t.append(a)},e}(Vs),wde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VF=function(n){wde(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Ey.GTIN_SIZE+e.WEIGHT_SIZE)throw new pe;var t=new lt;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+Ey.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Ey),xde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bde=function(n){xde(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(VF),Ede=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ade=function(n){Ede(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(VF),Sde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Tde=function(n){Sde(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Vs.GTIN_SIZE)throw new pe;var t=new lt;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Vs.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Vs.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Vs),Cde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ide=function(n){Cde(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Vs.GTIN_SIZE)throw new pe;var t=new lt;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Vs.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Vs.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var s=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Vs.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(s.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Vs),Dde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Al=function(n){Dde(e,n);function e(t,r,i){var s=n.call(this,t)||this;return s.dateCode=i,s.firstAIdigits=r,s}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new pe;var t=new lt;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var s=i%32;i/=32;var a=i%12+1;i/=12;var o=i;o/10===0&&t.append("0"),t.append(o),a/10===0&&t.append("0"),t.append(a),s/10===0&&t.append("0"),t.append(s)}},e.prototype.addWeightCode=function(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Ey);function Rde(n){try{if(n.get(1))return new mde(n);if(!n.get(2))return new yde(n);var e=by.extractNumericValueFromBitArray(n,1,4);switch(e){case 4:return new bde(n);case 5:return new Ade(n)}var t=by.extractNumericValueFromBitArray(n,1,5);switch(t){case 12:return new Tde(n);case 13:return new Ide(n)}var r=by.extractNumericValueFromBitArray(n,1,7);switch(r){case 56:return new Al(n,"310","11");case 57:return new Al(n,"320","11");case 58:return new Al(n,"310","13");case 59:return new Al(n,"320","13");case 60:return new Al(n,"310","15");case 61:return new Al(n,"320","15");case 62:return new Al(n,"310","17");case 63:return new Al(n,"320","17")}}catch(i){throw console.log(i),new E0("unknown decoder: "+n)}}var Kk=function(){function n(e,t,r,i){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=i}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return this.rightchar==null},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},n.equals=function(e,t){return e instanceof n?n.equalsOrNull(e.leftchar,t.leftchar)&&n.equalsOrNull(e.rightchar,t.rightchar)&&n.equalsOrNull(e.finderpattern,t.finderpattern):!1},n.equalsOrNull=function(e,t){return e===null?t===null:n.equals(e,t)},n.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},n}(),Ode=function(){function n(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(e,t){return e instanceof n?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},n.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var r;return e.forEach(function(i,s){t.forEach(function(a){i.getLeftChar().getValue()===a.getLeftChar().getValue()&&i.getRightChar().getValue()===a.getRightChar().getValue()&&i.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(r=!0)})}),r}},n}(),Nde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sl=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mde=function(n){Nde(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(o){if(o instanceof pe){if(!this.pairs.length)throw new pe;i=!0}}if(this.checkChecksum())return this.pairs;var s;if(this.rows.length?s=!0:s=!1,this.storeRow(t,!1),s){var a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new pe},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(t,r){for(var i,s,a=r;a<this.rows.length;a++){var o=this.rows[a];this.pairs.length=0;try{for(var l=(i=void 0,Sl(t)),u=l.next();!u.done;u=l.next()){var h=u.value;this.pairs.push(h.getPairs())}}catch(g){i={error:g}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(o.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var p=new Array(t);p.push(o);try{return this.checkRows(p,a+1)}catch(g){console.log(g)}}}throw new pe},e.isValidSequence=function(t){var r,i;try{for(var s=Sl(e.FINDER_PATTERN_SEQUENCES),a=s.next();!a.done;a=s.next()){var o=a.value;if(!(t.length>o.length)){for(var l=!0,u=0;u<t.length;u++)if(t[u].getFinderPattern().getValue()!==o[u]){l=!1;break}if(l)return!0}}}catch(h){r={error:h}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(t,r){for(var i=0,s=!1,a=!1;i<this.rows.length;){var o=this.rows[i];if(o.getRowNumber()>t){a=o.isEquivalent(this.pairs);break}s=o.isEquivalent(this.pairs),i++}a||s||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Ode(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,r){var i,s,a,o,l,u;try{for(var h=Sl(r),p=h.next();!p.done;p=h.next()){var g=p.value;if(g.getPairs().length!==t.length){var v=!0;try{for(var w=(a=void 0,Sl(g.getPairs())),x=w.next();!x.done;x=w.next()){var E=x.value,A=!1;try{for(var T=(l=void 0,Sl(t)),I=T.next();!I.done;I=T.next()){var P=I.value;if(Kk.equals(E,P)){A=!0;break}}}catch(O){l={error:O}}finally{try{I&&!I.done&&(u=T.return)&&u.call(T)}finally{if(l)throw l.error}}A||(v=!1)}}catch(O){a={error:O}}finally{try{x&&!x.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}}}}catch(O){i={error:O}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,r){var i,s,a,o,l,u;try{for(var h=Sl(r),p=h.next();!p.done;p=h.next()){var g=p.value,v=!0;try{for(var w=(a=void 0,Sl(t)),x=w.next();!x.done;x=w.next()){var E=x.value,A=!1;try{for(var T=(l=void 0,Sl(g.getPairs())),I=T.next();!I.done;I=T.next()){var P=I.value;if(E.equals(P)){A=!0;break}}}catch(O){l={error:O}}finally{try{I&&!I.done&&(u=T.return)&&u.call(T)}finally{if(l)throw l.error}}if(!A){v=!1;break}}}catch(O){a={error:O}}finally{try{x&&!x.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(v)return!0}}catch(O){i={error:O}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var r=cde.buildBitArray(t),i=Rde(r),s=i.parseInformation(),a=t[0].getFinderPattern().getResultPoints(),o=t[t.length-1].getFinderPattern().getResultPoints(),l=[a[0],a[1],o[0],o[1]];return new Xr(s,null,null,l,Ye.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var s=i.getChecksumPortion(),a=2,o=1;o<this.pairs.size();++o){var l=this.pairs.get(o);s+=l.getLeftChar().getChecksumPortion(),a++;var u=l.getRightChar();u!=null&&(s+=u.getChecksumPortion(),a++)}s%=211;var h=211*(a-4)+s;return h===r.getValue()},e.getNextSecondBar=function(t,r){var i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,r,i){var s=r.length%2===0;this.startFromEven&&(s=!s);var a,o=!0,l=-1;do this.findNextPair(t,r,l),a=this.parseFoundFinderPattern(t,i,s),a===null?l=e.getNextSecondBar(t,this.startEnd[0]):o=!1;while(o);var u=this.decodeDataCharacter(t,a,s,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new pe;var h;try{h=this.decodeDataCharacter(t,a,s,!1)}catch(p){h=null,console.log(p)}return new Kk(u,h,a,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,r,i){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;var a=t.getSize(),o;if(i>=0)o=i;else if(this.isEmptyPair(r))o=0;else{var l=r[r.length-1];o=l.getFinderPattern().getStartEnd()[1]}var u=r.length%2!==0;this.startFromEven&&(u=!u);for(var h=!1;o<a&&(h=!t.get(o),!!h);)o++;for(var p=0,g=o,v=o;v<a;v++)if(t.get(v)!==h)s[p]++;else{if(p===3){if(u&&e.reverseCounters(s),e.isFinderPattern(s)){this.startEnd[0]=g,this.startEnd[1]=v;return}u&&e.reverseCounters(s),g+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,p--}else p++;s[p]=1,h=!h}throw new pe},e.reverseCounters=function(t){for(var r=t.length,i=0;i<r/2;++i){var s=t[i];t[i]=t[r-i-1],t[r-i-1]=s}},e.prototype.parseFoundFinderPattern=function(t,r,i){var s,a,o;if(i){for(var l=this.startEnd[0]-1;l>=0&&!t.get(l);)l--;l++,s=this.startEnd[0]-l,a=l,o=this.startEnd[1]}else a=this.startEnd[0],o=t.getNextUnset(this.startEnd[1]+1),s=o-this.startEnd[1];var u=this.getDecodeFinderCounters();cn.arraycopy(u,0,u,1,u.length-1),u[0]=s;var h;try{h=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new kF(h,[a,o],a,o,r)},e.prototype.decodeDataCharacter=function(t,r,i,s){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(s)e.recordPatternInReverse(t,r.getStartEnd()[0],a);else{e.recordPattern(t,r.getStartEnd()[1],a);for(var l=0,u=a.length-1;l<u;l++,u--){var h=a[l];a[l]=a[u],a[u]=h}}var p=17,g=Rt.sum(new Int32Array(a))/p,v=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(g-v)/v>.3)throw new pe;for(var w=this.getOddCounts(),x=this.getEvenCounts(),E=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var T=1*a[l]/g,I=T+.5;if(I<1){if(T<.3)throw new pe;I=1}else if(I>8){if(T>8.7)throw new pe;I=8}var P=l/2;(l&1)===0?(w[P]=I,E[P]=T-I):(x[P]=I,A[P]=T-I)}this.adjustOddEvenCounts(p);for(var O=4*r.getValue()+(i?0:2)+(s?0:1)-1,V=0,R=0,l=w.length-1;l>=0;l--){if(e.isNotA1left(r,i,s)){var C=e.WEIGHTS[O][2*l];R+=w[l]*C}V+=w[l]}for(var N=0,l=x.length-1;l>=0;l--)if(e.isNotA1left(r,i,s)){var C=e.WEIGHTS[O][2*l+1];N+=x[l]*C}var L=R+N;if((V&1)!==0||V>13||V<4)throw new pe;var F=(13-V)/2,H=e.SYMBOL_WIDEST[F],B=9-H,he=Mh.getRSSvalue(w,H,!0),fe=Mh.getRSSvalue(x,B,!1),Y=e.EVEN_TOTAL_SUBSET[F],X=e.GSUM[F],oe=he*Y+fe+X;return new I_(oe,L)},e.isNotA1left=function(t,r,i){return!(t.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(t){var r=Rt.sum(new Int32Array(this.getOddCounts())),i=Rt.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1;r>13?a=!0:r<4&&(s=!0);var o=!1,l=!1;i>13?l=!0:i<4&&(o=!0);var u=r+i-t,h=(r&1)===1,p=(i&1)===0;if(u===1)if(h){if(p)throw new pe;a=!0}else{if(!p)throw new pe;l=!0}else if(u===-1)if(h){if(p)throw new pe;s=!0}else{if(!p)throw new pe;o=!0}else if(u===0){if(h){if(!p)throw new pe;r<i?(s=!0,l=!0):(a=!0,o=!0)}else if(p)throw new pe}else throw new pe;if(s){if(a)throw new pe;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(l)throw new pe;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(uu),Pde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kde=function(n){Pde(e,n);function e(t,r,i){var s=n.call(this,t,r)||this;return s.count=0,s.finderPattern=i,s}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(I_),Lde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xk=function(n){Lde(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,r,i){var s,a,o,l,u=this.decodePair(r,!1,t,i);e.addOrTally(this.possibleLeftPairs,u),r.reverse();var h=this.decodePair(r,!0,t,i);e.addOrTally(this.possibleRightPairs,h),r.reverse();try{for(var p=QE(this.possibleLeftPairs),g=p.next();!g.done;g=p.next()){var v=g.value;if(v.getCount()>1)try{for(var w=(o=void 0,QE(this.possibleRightPairs)),x=w.next();!x.done;x=w.next()){var E=x.value;if(E.getCount()>1&&e.checkChecksum(v,E))return e.constructResult(v,E)}}catch(A){o={error:A}}finally{try{x&&!x.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}}}catch(A){s={error:A}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}throw new pe},e.addOrTally=function(t,r){var i,s;if(r!=null){var a=!1;try{for(var o=QE(t),l=o.next();!l.done;l=o.next()){var u=l.value;if(u.getValue()===r.getValue()){u.incrementCount(),a=!0;break}}}catch(h){i={error:h}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}a||t.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,r){for(var i=4537077*t.getValue()+r.getValue(),s=new String(i).toString(),a=new lt,o=13-s.length;o>0;o--)a.append("0");a.append(s);for(var l=0,o=0;o<13;o++){var u=a.charAt(o).charCodeAt(0)-48;l+=(o&1)===0?3*u:u}l=10-l%10,l===10&&(l=0),a.append(l.toString());var h=t.getFinderPattern().getResultPoints(),p=r.getFinderPattern().getResultPoints();return new Xr(a.toString(),null,0,[h[0],h[1],p[0],p[1]],Ye.RSS_14,new Date().getTime())},e.checkChecksum=function(t,r){var i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,s=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,i===s},e.prototype.decodePair=function(t,r,i,s){try{var a=this.findFinderPattern(t,r),o=this.parseFoundFinderPattern(t,i,r,a),l=s==null?null:s.get(_n.NEED_RESULT_POINT_CALLBACK);if(l!=null){var u=(a[0]+a[1])/2;r&&(u=t.getSize()-1-u),l.foundPossibleResultPoint(new Be(u,i))}var h=this.decodeDataCharacter(t,o,!0),p=this.decodeDataCharacter(t,o,!1);return new kde(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),o)}catch{return null}},e.prototype.decodeDataCharacter=function(t,r,i){for(var s=this.getDataCharacterCounters(),a=0;a<s.length;a++)s[a]=0;if(i)ar.recordPatternInReverse(t,r.getStartEnd()[0],s);else{ar.recordPattern(t,r.getStartEnd()[1]+1,s);for(var o=0,l=s.length-1;o<l;o++,l--){var u=s[o];s[o]=s[l],s[l]=u}}for(var h=i?16:15,p=Rt.sum(new Int32Array(s))/h,g=this.getOddCounts(),v=this.getEvenCounts(),w=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),o=0;o<s.length;o++){var E=s[o]/p,A=Math.floor(E+.5);A<1?A=1:A>8&&(A=8);var T=Math.floor(o/2);(o&1)===0?(g[T]=A,w[T]=E-A):(v[T]=A,x[T]=E-A)}this.adjustOddEvenCounts(i,h);for(var I=0,P=0,o=g.length-1;o>=0;o--)P*=9,P+=g[o],I+=g[o];for(var O=0,V=0,o=v.length-1;o>=0;o--)O*=9,O+=v[o],V+=v[o];var R=P+3*O;if(i){if((I&1)!==0||I>12||I<4)throw new pe;var C=(12-I)/2,N=e.OUTSIDE_ODD_WIDEST[C],L=9-N,F=Mh.getRSSvalue(g,N,!1),H=Mh.getRSSvalue(v,L,!0),B=e.OUTSIDE_EVEN_TOTAL_SUBSET[C],he=e.OUTSIDE_GSUM[C];return new I_(F*B+H+he,R)}else{if((V&1)!==0||V>10||V<4)throw new pe;var C=(10-V)/2,N=e.INSIDE_ODD_WIDEST[C],L=9-N,F=Mh.getRSSvalue(g,N,!0),H=Mh.getRSSvalue(v,L,!1),fe=e.INSIDE_ODD_TOTAL_SUBSET[C],he=e.INSIDE_GSUM[C];return new I_(H*fe+F+he,R)}},e.prototype.findFinderPattern=function(t,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var s=t.getSize(),a=!1,o=0;o<s&&(a=!t.get(o),r!==a);)o++;for(var l=0,u=o,h=o;h<s;h++)if(t.get(h)!==a)i[l]++;else{if(l===3){if(uu.isFinderPattern(i))return[u,h];u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,a=!a}throw new pe},e.prototype.parseFoundFinderPattern=function(t,r,i,s){for(var a=t.get(s[0]),o=s[0]-1;o>=0&&a!==t.get(o);)o--;o++;var l=s[0]-o,u=this.getDecodeFinderCounters(),h=new Int32Array(u.length);cn.arraycopy(u,0,h,1,u.length-1),h[0]=l;var p=this.parseFinderValue(h,e.FINDER_PATTERNS),g=o,v=s[1];return i&&(g=t.getSize()-1-g,v=t.getSize()-1-v),new kF(p,[o,s[1]],g,v,r)},e.prototype.adjustOddEvenCounts=function(t,r){var i=Rt.sum(new Int32Array(this.getOddCounts())),s=Rt.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1,l=!1,u=!1;t?(i>12?o=!0:i<4&&(a=!0),s>12?u=!0:s<4&&(l=!0)):(i>11?o=!0:i<5&&(a=!0),s>10?u=!0:s<4&&(l=!0));var h=i+s-r,p=(i&1)===(t?1:0),g=(s&1)===1;if(h===1)if(p){if(g)throw new pe;o=!0}else{if(!g)throw new pe;u=!0}else if(h===-1)if(p){if(g)throw new pe;a=!0}else{if(!g)throw new pe;l=!0}else if(h===0){if(p){if(!g)throw new pe;i<s?(a=!0,u=!0):(o=!0,l=!0)}else if(g)throw new pe}else throw new pe;if(a){if(o)throw new pe;uu.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&uu.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new pe;uu.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&uu.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(uu),Vde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vg=function(n){Vde(e,n);function e(t){var r=n.call(this)||this;r.readers=[];var i=t?t.get(_n.POSSIBLE_FORMATS):null,s=t&&t.get(_n.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,a=t&&t.get(_n.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Ye.EAN_13)||i.includes(Ye.UPC_A)||i.includes(Ye.EAN_8)||i.includes(Ye.UPC_E))&&r.readers.push(new XE(t)),i.includes(Ye.CODE_39)&&r.readers.push(new Uk(s,a)),i.includes(Ye.CODE_93)&&r.readers.push(new jk),i.includes(Ye.CODE_128)&&r.readers.push(new Fk),i.includes(Ye.ITF)&&r.readers.push(new Hk),i.includes(Ye.CODABAR)&&r.readers.push(new sde),i.includes(Ye.RSS_14)&&r.readers.push(new Xk),i.includes(Ye.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new Mde))),r.readers.length===0&&(r.readers.push(new XE(t)),r.readers.push(new Uk),r.readers.push(new jk),r.readers.push(new XE(t)),r.readers.push(new Fk),r.readers.push(new Hk),r.readers.push(new Xk)),r}return e.prototype.decodeRow=function(t,r,i){for(var s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(t,r,i)}catch{}throw new pe},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(ar),Bde=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){Bde(e,n);function e(t,r){return t===void 0&&(t=500),n.call(this,new Vg(r),t,r)||this}return e})(jd);var Qk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ft=function(){function n(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),Nt=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),Fde=function(){function n(e,t,r,i,s,a){var o,l;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=s,this.ecBlocks=a;var u=0,h=a.getECCodewords(),p=a.getECBlocks();try{for(var g=Qk(p),v=g.next();!v.done;v=g.next()){var w=v.value;u+=w.getCount()*(w.getDataCodewords()+h)}}catch(x){o={error:x}}finally{try{v&&!v.done&&(l=g.return)&&l.call(g)}finally{if(o)throw o.error}}this.totalCodewords=u}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(e,t){var r,i;if((e&1)!==0||(t&1)!==0)throw new Te;try{for(var s=Qk(n.VERSIONS),a=s.next();!a.done;a=s.next()){var o=a.value;if(o.symbolSizeRows===e&&o.symbolSizeColumns===t)return o}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}throw new Te},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new Ft(5,new Nt(1,3))),new n(2,12,12,10,10,new Ft(7,new Nt(1,5))),new n(3,14,14,12,12,new Ft(10,new Nt(1,8))),new n(4,16,16,14,14,new Ft(12,new Nt(1,12))),new n(5,18,18,16,16,new Ft(14,new Nt(1,18))),new n(6,20,20,18,18,new Ft(18,new Nt(1,22))),new n(7,22,22,20,20,new Ft(20,new Nt(1,30))),new n(8,24,24,22,22,new Ft(24,new Nt(1,36))),new n(9,26,26,24,24,new Ft(28,new Nt(1,44))),new n(10,32,32,14,14,new Ft(36,new Nt(1,62))),new n(11,36,36,16,16,new Ft(42,new Nt(1,86))),new n(12,40,40,18,18,new Ft(48,new Nt(1,114))),new n(13,44,44,20,20,new Ft(56,new Nt(1,144))),new n(14,48,48,22,22,new Ft(68,new Nt(1,174))),new n(15,52,52,24,24,new Ft(42,new Nt(2,102))),new n(16,64,64,14,14,new Ft(56,new Nt(2,140))),new n(17,72,72,16,16,new Ft(36,new Nt(4,92))),new n(18,80,80,18,18,new Ft(48,new Nt(4,114))),new n(19,88,88,20,20,new Ft(56,new Nt(4,144))),new n(20,96,96,22,22,new Ft(68,new Nt(4,174))),new n(21,104,104,24,24,new Ft(56,new Nt(6,136))),new n(22,120,120,18,18,new Ft(68,new Nt(6,175))),new n(23,132,132,20,20,new Ft(62,new Nt(8,163))),new n(24,144,144,22,22,new Ft(62,new Nt(8,156),new Nt(2,155))),new n(25,8,18,6,16,new Ft(7,new Nt(1,5))),new n(26,8,32,6,14,new Ft(11,new Nt(1,10))),new n(27,12,26,10,24,new Ft(14,new Nt(1,16))),new n(28,12,36,10,16,new Ft(18,new Nt(1,22))),new n(29,16,36,14,16,new Ft(24,new Nt(1,32))),new n(30,16,48,14,22,new Ft(28,new Nt(1,49)))]},n.VERSIONS=n.buildVersions(),n}(),Ude=function(){function n(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new Te;this.version=n.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ja(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return Fde.getVersionForDimensions(t,r)},n.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,i=0,s=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),o=!1,l=!1,u=!1,h=!1;do if(r===s&&i===0&&!o)e[t++]=this.readCorner1(s,a)&255,r-=2,i+=2,o=!0;else if(r===s-2&&i===0&&(a&3)!==0&&!l)e[t++]=this.readCorner2(s,a)&255,r-=2,i+=2,l=!0;else if(r===s+4&&i===2&&(a&7)===0&&!u)e[t++]=this.readCorner3(s,a)&255,r-=2,i+=2,u=!0;else if(r===s-2&&i===0&&(a&7)===4&&!h)e[t++]=this.readCorner4(s,a)&255,r-=2,i+=2,h=!0;else{do r<s&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,s,a)&255),r-=2,i+=2;while(r>=0&&i<a);r+=1,i+=3;do r>=0&&i<a&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,s,a)&255),r+=2,i-=2;while(r<s&&i>=0);r+=3,i+=1}while(r<s||i<a);if(t!==this.version.getTotalCodewords())throw new Te;return e},n.prototype.readModule=function(e,t,r,i){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},n.prototype.readUtah=function(e,t,r,i){var s=0;return this.readModule(e-2,t-2,r,i)&&(s|=1),s<<=1,this.readModule(e-2,t-1,r,i)&&(s|=1),s<<=1,this.readModule(e-1,t-2,r,i)&&(s|=1),s<<=1,this.readModule(e-1,t-1,r,i)&&(s|=1),s<<=1,this.readModule(e-1,t,r,i)&&(s|=1),s<<=1,this.readModule(e,t-2,r,i)&&(s|=1),s<<=1,this.readModule(e,t-1,r,i)&&(s|=1),s<<=1,this.readModule(e,t,r,i)&&(s|=1),s},n.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new Ge("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),a=t/i|0,o=r/s|0,l=a*i,u=o*s,h=new ja(u,l),p=0;p<a;++p)for(var g=p*i,v=0;v<o;++v)for(var w=v*s,x=0;x<i;++x)for(var E=p*(i+2)+1+x,A=g+x,T=0;T<s;++T){var I=v*(s+2)+1+T;if(e.get(I,E)){var P=w+T;h.set(P,A)}}return h},n}(),Zk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jde=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t){var r,i,s,a,o=t.getECBlocks(),l=0,u=o.getECBlocks();try{for(var h=Zk(u),p=h.next();!p.done;p=h.next()){var g=p.value;l+=g.getCount()}}catch(he){r={error:he}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}var v=new Array(l),w=0;try{for(var x=Zk(u),E=x.next();!E.done;E=x.next())for(var g=E.value,A=0;A<g.getCount();A++){var T=g.getDataCodewords(),I=o.getECCodewords()+T;v[w++]=new n(T,new Uint8Array(I))}}catch(he){s={error:he}}finally{try{E&&!E.done&&(a=x.return)&&a.call(x)}finally{if(s)throw s.error}}for(var P=v[0].codewords.length,O=P-o.getECCodewords(),V=O-1,R=0,A=0;A<V;A++)for(var C=0;C<w;C++)v[C].codewords[A]=e[R++];for(var N=t.getVersionNumber()===24,L=N?8:w,C=0;C<L;C++)v[C].codewords[O-1]=e[R++];for(var F=v[0].codewords.length,A=O;A<F;A++)for(var C=0;C<w;C++){var H=N?(C+8)%w:C,B=N&&H>7?A-1:A;v[H].codewords[B]=e[R++]}if(R!==e.length)throw new Ge;return v},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),BF=function(){function n(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Ge(""+e);var t=0,r=this.bitOffset,i=this.byteOffset,s=this.bytes;if(r>0){var a=8-r,o=e<a?e:a,l=a-o,u=255>>8-o<<l;t=(s[i]&u)>>l,e-=o,r+=o,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)t=t<<8|s[i]&255,i++,e-=8;if(e>0){var l=8-e,u=255>>l<<l;t=t<<e|(s[i]&u)>>l,r+=e}}return this.bitOffset=r,this.byteOffset=i,t},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n}(),er;(function(n){n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE"})(er||(er={}));var Hde=function(){function n(){}return n.decode=function(e){var t=new BF(e),r=new lt,i=new lt,s=new Array,a=er.ASCII_ENCODE;do if(a===er.ASCII_ENCODE)a=this.decodeAsciiSegment(t,r,i);else{switch(a){case er.C40_ENCODE:this.decodeC40Segment(t,r);break;case er.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case er.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case er.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case er.BASE256_ENCODE:this.decodeBase256Segment(t,r,s);break;default:throw new Te}a=er.ASCII_ENCODE}while(a!==er.PAD_ENCODE&&t.available()>0);return i.length()>0&&r.append(i.toString()),new Rw(e,r.toString(),s.length===0?null:s,null)},n.decodeAsciiSegment=function(e,t,r){var i=!1;do{var s=e.readBits(8);if(s===0)throw new Te;if(s<=128)return i&&(s+=128),t.append(String.fromCharCode(s-1)),er.ASCII_ENCODE;if(s===129)return er.PAD_ENCODE;if(s<=229){var a=s-130;a<10&&t.append("0"),t.append(""+a)}else switch(s){case 230:return er.C40_ENCODE;case 231:return er.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return er.ANSIX12_ENCODE;case 239:return er.TEXT_ENCODE;case 240:return er.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new Te;break}}while(e.available()>0);return er.ASCII_ENCODE},n.decodeC40Segment=function(e,t){var r=!1,i=[],s=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var o=0;o<3;o++){var l=i[o];switch(s){case 0:if(l<3)s=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[l];r?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):t.append(u)}else throw new Te;break;case 1:r?(t.append(String.fromCharCode(l+128)),r=!1):t.append(String.fromCharCode(l)),s=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[l];r?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):t.append(u)}else switch(l){case 27:t.append("");break;case 30:r=!0;break;default:throw new Te}s=0;break;case 3:r?(t.append(String.fromCharCode(l+224)),r=!1):t.append(String.fromCharCode(l+96)),s=0;break;default:throw new Te}}}while(e.available()>0)},n.decodeTextSegment=function(e,t){var r=!1,i=[],s=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var o=0;o<3;o++){var l=i[o];switch(s){case 0:if(l<3)s=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[l];r?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):t.append(u)}else throw new Te;break;case 1:r?(t.append(String.fromCharCode(l+128)),r=!1):t.append(String.fromCharCode(l)),s=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[l];r?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):t.append(u)}else switch(l){case 27:t.append("");break;case 30:r=!0;break;default:throw new Te}s=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[l];r?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):t.append(u),s=0}else throw new Te;break;default:throw new Te}}}while(e.available()>0)},n.decodeAnsiX12Segment=function(e,t){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var s=0;s<3;s++){var a=r[s];switch(a){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(a<14)t.append(String.fromCharCode(a+44));else if(a<40)t.append(String.fromCharCode(a+51));else throw new Te;break}}}while(e.available()>0)},n.parseTwoBytes=function(e,t,r){var i=(e<<8)+t-1,s=Math.floor(i/1600);r[0]=s,i-=s*1600,s=Math.floor(i/40),r[1]=s,r[2]=i-s*40},n.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var s=8-e.getBitOffset();s!==8&&e.readBits(s);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},n.decodeBase256Segment=function(e,t,r){var i=1+e.getByteOffset(),s=this.unrandomize255State(e.readBits(8),i++),a;if(s===0?a=e.available()/8|0:s<250?a=s:a=250*(s-249)+this.unrandomize255State(e.readBits(8),i++),a<0)throw new Te;for(var o=new Uint8Array(a),l=0;l<a;l++){if(e.available()<8)throw new Te;o[l]=this.unrandomize255State(e.readBits(8),i++)}r.push(o);try{t.append(ys.decode(o,St.ISO88591))}catch(u){throw new E0("Platform does not support required encoding: "+u.message)}},n.unrandomize255State=function(e,t){var r=149*t%255+1,i=e-r;return i>=0?i:i+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],n}(),zde=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wde=function(){function n(){this.rsDecoder=new Ow(_i.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(e){var t,r,i=new Ude(e),s=i.getVersion(),a=i.readCodewords(),o=jde.getDataBlocks(a,s),l=0;try{for(var u=zde(o),h=u.next();!h.done;h=u.next()){var p=h.value;l+=p.getNumDataCodewords()}}catch(I){t={error:I}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}for(var g=new Uint8Array(l),v=o.length,w=0;w<v;w++){var x=o[w],E=x.getCodewords(),A=x.getNumDataCodewords();this.correctErrors(E,A);for(var T=0;T<A;T++)g[T*v+w]=E[T]}return Hde.decode(g)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new _r}for(var i=0;i<t;i++)e[i]=r[i]},n}(),Yde=function(){function n(e){this.image=e,this.rectangleDetector=new dS(this.image)}return n.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new pe;t=this.shiftToModuleCenter(t);var r=t[0],i=t[1],s=t[2],a=t[3],o=this.transitionsBetween(r,a)+1,l=this.transitionsBetween(s,a)+1;(o&1)===1&&(o+=1),(l&1)===1&&(l+=1),4*o<7*l&&4*l<7*o&&(o=l=Math.max(o,l));var u=n.sampleGrid(this.image,r,i,s,a,o,l);return new mI(u,[r,i,s,a])},n.shiftPoint=function(e,t,r){var i=(t.getX()-e.getX())/(r+1),s=(t.getY()-e.getY())/(r+1);return new Be(e.getX()+i,e.getY()+s)},n.moveAway=function(e,t,r){var i=e.getX(),s=e.getY();return i<t?i-=1:i+=1,s<r?s-=1:s+=1,new Be(i,s)},n.prototype.detectSolid1=function(e){var t=e[0],r=e[1],i=e[3],s=e[2],a=this.transitionsBetween(t,r),o=this.transitionsBetween(r,i),l=this.transitionsBetween(i,s),u=this.transitionsBetween(s,t),h=a,p=[s,t,r,i];return h>o&&(h=o,p[0]=t,p[1]=r,p[2]=i,p[3]=s),h>l&&(h=l,p[0]=r,p[1]=i,p[2]=s,p[3]=t),h>u&&(p[0]=i,p[1]=s,p[2]=t,p[3]=r),p},n.prototype.detectSolid2=function(e){var t=e[0],r=e[1],i=e[2],s=e[3],a=this.transitionsBetween(t,s),o=n.shiftPoint(r,i,(a+1)*4),l=n.shiftPoint(i,r,(a+1)*4),u=this.transitionsBetween(o,t),h=this.transitionsBetween(l,s);return u<h?(e[0]=t,e[1]=r,e[2]=i,e[3]=s):(e[0]=r,e[1]=i,e[2]=s,e[3]=t),e},n.prototype.correctTopRight=function(e){var t=e[0],r=e[1],i=e[2],s=e[3],a=this.transitionsBetween(t,s),o=this.transitionsBetween(r,s),l=n.shiftPoint(t,r,(o+1)*4),u=n.shiftPoint(i,r,(a+1)*4);a=this.transitionsBetween(l,s),o=this.transitionsBetween(u,s);var h=new Be(s.getX()+(i.getX()-r.getX())/(a+1),s.getY()+(i.getY()-r.getY())/(a+1)),p=new Be(s.getX()+(t.getX()-r.getX())/(o+1),s.getY()+(t.getY()-r.getY())/(o+1));if(!this.isValid(h))return this.isValid(p)?p:null;if(!this.isValid(p))return h;var g=this.transitionsBetween(l,h)+this.transitionsBetween(u,h),v=this.transitionsBetween(l,p)+this.transitionsBetween(u,p);return g>v?h:p},n.prototype.shiftToModuleCenter=function(e){var t=e[0],r=e[1],i=e[2],s=e[3],a=this.transitionsBetween(t,s)+1,o=this.transitionsBetween(i,s)+1,l=n.shiftPoint(t,r,o*4),u=n.shiftPoint(i,r,a*4);a=this.transitionsBetween(l,s)+1,o=this.transitionsBetween(u,s)+1,(a&1)===1&&(a+=1),(o&1)===1&&(o+=1);var h=(t.getX()+r.getX()+i.getX()+s.getX())/4,p=(t.getY()+r.getY()+i.getY()+s.getY())/4;t=n.moveAway(t,h,p),r=n.moveAway(r,h,p),i=n.moveAway(i,h,p),s=n.moveAway(s,h,p);var g,v;return l=n.shiftPoint(t,r,o*4),l=n.shiftPoint(l,s,a*4),g=n.shiftPoint(r,t,o*4),g=n.shiftPoint(g,i,a*4),u=n.shiftPoint(i,s,o*4),u=n.shiftPoint(u,r,a*4),v=n.shiftPoint(s,i,o*4),v=n.shiftPoint(v,t,a*4),[l,g,u,v]},n.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},n.sampleGrid=function(e,t,r,i,s,a,o){var l=vI.getInstance();return l.sampleGrid(e,a,o,.5,.5,a-.5,.5,a-.5,o-.5,.5,o-.5,t.getX(),t.getY(),s.getX(),s.getY(),i.getX(),i.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(e,t){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),s=Math.trunc(t.getX()),a=Math.trunc(t.getY()),o=Math.abs(a-i)>Math.abs(s-r);if(o){var l=r;r=i,i=l,l=s,s=a,a=l}for(var u=Math.abs(s-r),h=Math.abs(a-i),p=-u/2,g=i<a?1:-1,v=r<s?1:-1,w=0,x=this.image.get(o?i:r,o?r:i),E=r,A=i;E!==s;E+=v){var T=this.image.get(o?A:E,o?E:A);if(T!==x&&(w++,x=T),p+=h,p>0){if(A===a)break;A+=g,p-=u}}return w},n}(),mS=function(){function n(){this.decoder=new Wde}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r,i;if(t!=null&&t.has(_n.PURE_BARCODE)){var s=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(s),i=n.NO_POINTS}else{var a=new Yde(e.getBlackMatrix()).detect();r=this.decoder.decode(a.getBits()),i=a.getPoints()}var o=r.getRawBytes(),l=new Xr(r.getText(),o,8*o.length,i,Ye.DATA_MATRIX,cn.currentTimeMillis()),u=r.getByteSegments();u!=null&&l.putMetadata(Pr.BYTE_SEGMENTS,u);var h=r.getECLevel();return h!=null&&l.putMetadata(Pr.ERROR_CORRECTION_LEVEL,h),l},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new pe;var i=this.moduleSize(t,e),s=t[1],a=r[1],o=t[0],l=r[0],u=(l-o+1)/i,h=(a-s+1)/i;if(u<=0||h<=0)throw new pe;var p=i/2;s+=p,o+=p;for(var g=new ja(u,h),v=0;v<h;v++)for(var w=s+v*i,x=0;x<u;x++)e.get(o+x*i,w)&&g.set(x,v);return g},n.moduleSize=function(e,t){for(var r=t.getWidth(),i=e[0],s=e[1];i<r&&t.get(i,s);)i++;if(i===r)throw new pe;var a=i-e[0];if(a===0)throw new pe;return a},n.NO_POINTS=[],n}(),$de=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){$de(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new mS,t)||this}return e})(jd);var Ph;(function(n){n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H"})(Ph||(Ph={}));var Gde=function(){function n(e,t,r){this.value=e,this.stringValue=t,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(e,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(e){switch(e){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new Ms(e+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.forBits=function(e){if(e<0||e>=n.FOR_BITS.size)throw new Ge;return n.FOR_BITS.get(e)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(Ph.L,"L",1),n.M=new n(Ph.M,"M",0),n.Q=new n(Ph.Q,"Q",3),n.H=new n(Ph.H,"H",2),n}(),qde=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FF=function(){function n(e){this.errorCorrectionLevel=Gde.forBits(e>>3&3),this.dataMask=e&7}return n.numBitsDiffering=function(e,t){return dt.bitCount(e^t)},n.decodeFormatInformation=function(e,t){var r=n.doDecodeFormatInformation(e,t);return r!==null?r:n.doDecodeFormatInformation(e^n.FORMAT_INFO_MASK_QR,t^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(e,t){var r,i,s=Number.MAX_SAFE_INTEGER,a=0;try{for(var o=qde(n.FORMAT_INFO_DECODE_LOOKUP),l=o.next();!l.done;l=o.next()){var u=l.value,h=u[0];if(h===e||h===t)return new n(u[1]);var p=n.numBitsDiffering(e,h);p<s&&(a=u[1],s=p),e!==t&&(p=n.numBitsDiffering(t,h),p<s&&(a=u[1],s=p))}}catch(g){r={error:g}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s<=3?new n(a):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n}(),Kde=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ie=function(){function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var e,t,r=0,i=this.ecBlocks;try{for(var s=Kde(i),a=s.next();!a.done;a=s.next()){var o=a.value;r+=o.getCount()}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),W=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),Xde=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bu=function(){function n(e,t){for(var r,i,s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=s;var o=0,l=s[0].getECCodewordsPerBlock(),u=s[0].getECBlocks();try{for(var h=Xde(u),p=h.next();!p.done;p=h.next()){var g=p.value;o+=g.getCount()*(g.getDataCodewords()+l)}}catch(v){r={error:v}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}this.totalCodewords=o}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},n.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Te;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Te}},n.getVersionForNumber=function(e){if(e<1||e>40)throw new Ge;return n.VERSIONS[e-1]},n.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,r=0,i=0;i<n.VERSION_DECODE_INFO.length;i++){var s=n.VERSION_DECODE_INFO[i];if(s===e)return n.getVersionForNumber(i+7);var a=FF.numBitsDiffering(e,s);a<t&&(r=i+7,t=a)}return t<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new ja(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var s=this.alignmentPatternCenters[i]-2,a=0;a<r;a++)i===0&&(a===0||a===r-1)||i===r-1&&a===0||t.setRegion(this.alignmentPatternCenters[a]-2,s,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new ie(7,new W(1,19)),new ie(10,new W(1,16)),new ie(13,new W(1,13)),new ie(17,new W(1,9))),new n(2,Int32Array.from([6,18]),new ie(10,new W(1,34)),new ie(16,new W(1,28)),new ie(22,new W(1,22)),new ie(28,new W(1,16))),new n(3,Int32Array.from([6,22]),new ie(15,new W(1,55)),new ie(26,new W(1,44)),new ie(18,new W(2,17)),new ie(22,new W(2,13))),new n(4,Int32Array.from([6,26]),new ie(20,new W(1,80)),new ie(18,new W(2,32)),new ie(26,new W(2,24)),new ie(16,new W(4,9))),new n(5,Int32Array.from([6,30]),new ie(26,new W(1,108)),new ie(24,new W(2,43)),new ie(18,new W(2,15),new W(2,16)),new ie(22,new W(2,11),new W(2,12))),new n(6,Int32Array.from([6,34]),new ie(18,new W(2,68)),new ie(16,new W(4,27)),new ie(24,new W(4,19)),new ie(28,new W(4,15))),new n(7,Int32Array.from([6,22,38]),new ie(20,new W(2,78)),new ie(18,new W(4,31)),new ie(18,new W(2,14),new W(4,15)),new ie(26,new W(4,13),new W(1,14))),new n(8,Int32Array.from([6,24,42]),new ie(24,new W(2,97)),new ie(22,new W(2,38),new W(2,39)),new ie(22,new W(4,18),new W(2,19)),new ie(26,new W(4,14),new W(2,15))),new n(9,Int32Array.from([6,26,46]),new ie(30,new W(2,116)),new ie(22,new W(3,36),new W(2,37)),new ie(20,new W(4,16),new W(4,17)),new ie(24,new W(4,12),new W(4,13))),new n(10,Int32Array.from([6,28,50]),new ie(18,new W(2,68),new W(2,69)),new ie(26,new W(4,43),new W(1,44)),new ie(24,new W(6,19),new W(2,20)),new ie(28,new W(6,15),new W(2,16))),new n(11,Int32Array.from([6,30,54]),new ie(20,new W(4,81)),new ie(30,new W(1,50),new W(4,51)),new ie(28,new W(4,22),new W(4,23)),new ie(24,new W(3,12),new W(8,13))),new n(12,Int32Array.from([6,32,58]),new ie(24,new W(2,92),new W(2,93)),new ie(22,new W(6,36),new W(2,37)),new ie(26,new W(4,20),new W(6,21)),new ie(28,new W(7,14),new W(4,15))),new n(13,Int32Array.from([6,34,62]),new ie(26,new W(4,107)),new ie(22,new W(8,37),new W(1,38)),new ie(24,new W(8,20),new W(4,21)),new ie(22,new W(12,11),new W(4,12))),new n(14,Int32Array.from([6,26,46,66]),new ie(30,new W(3,115),new W(1,116)),new ie(24,new W(4,40),new W(5,41)),new ie(20,new W(11,16),new W(5,17)),new ie(24,new W(11,12),new W(5,13))),new n(15,Int32Array.from([6,26,48,70]),new ie(22,new W(5,87),new W(1,88)),new ie(24,new W(5,41),new W(5,42)),new ie(30,new W(5,24),new W(7,25)),new ie(24,new W(11,12),new W(7,13))),new n(16,Int32Array.from([6,26,50,74]),new ie(24,new W(5,98),new W(1,99)),new ie(28,new W(7,45),new W(3,46)),new ie(24,new W(15,19),new W(2,20)),new ie(30,new W(3,15),new W(13,16))),new n(17,Int32Array.from([6,30,54,78]),new ie(28,new W(1,107),new W(5,108)),new ie(28,new W(10,46),new W(1,47)),new ie(28,new W(1,22),new W(15,23)),new ie(28,new W(2,14),new W(17,15))),new n(18,Int32Array.from([6,30,56,82]),new ie(30,new W(5,120),new W(1,121)),new ie(26,new W(9,43),new W(4,44)),new ie(28,new W(17,22),new W(1,23)),new ie(28,new W(2,14),new W(19,15))),new n(19,Int32Array.from([6,30,58,86]),new ie(28,new W(3,113),new W(4,114)),new ie(26,new W(3,44),new W(11,45)),new ie(26,new W(17,21),new W(4,22)),new ie(26,new W(9,13),new W(16,14))),new n(20,Int32Array.from([6,34,62,90]),new ie(28,new W(3,107),new W(5,108)),new ie(26,new W(3,41),new W(13,42)),new ie(30,new W(15,24),new W(5,25)),new ie(28,new W(15,15),new W(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new ie(28,new W(4,116),new W(4,117)),new ie(26,new W(17,42)),new ie(28,new W(17,22),new W(6,23)),new ie(30,new W(19,16),new W(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new ie(28,new W(2,111),new W(7,112)),new ie(28,new W(17,46)),new ie(30,new W(7,24),new W(16,25)),new ie(24,new W(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new ie(30,new W(4,121),new W(5,122)),new ie(28,new W(4,47),new W(14,48)),new ie(30,new W(11,24),new W(14,25)),new ie(30,new W(16,15),new W(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new ie(30,new W(6,117),new W(4,118)),new ie(28,new W(6,45),new W(14,46)),new ie(30,new W(11,24),new W(16,25)),new ie(30,new W(30,16),new W(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new ie(26,new W(8,106),new W(4,107)),new ie(28,new W(8,47),new W(13,48)),new ie(30,new W(7,24),new W(22,25)),new ie(30,new W(22,15),new W(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new ie(28,new W(10,114),new W(2,115)),new ie(28,new W(19,46),new W(4,47)),new ie(28,new W(28,22),new W(6,23)),new ie(30,new W(33,16),new W(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new ie(30,new W(8,122),new W(4,123)),new ie(28,new W(22,45),new W(3,46)),new ie(30,new W(8,23),new W(26,24)),new ie(30,new W(12,15),new W(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new ie(30,new W(3,117),new W(10,118)),new ie(28,new W(3,45),new W(23,46)),new ie(30,new W(4,24),new W(31,25)),new ie(30,new W(11,15),new W(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new ie(30,new W(7,116),new W(7,117)),new ie(28,new W(21,45),new W(7,46)),new ie(30,new W(1,23),new W(37,24)),new ie(30,new W(19,15),new W(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new ie(30,new W(5,115),new W(10,116)),new ie(28,new W(19,47),new W(10,48)),new ie(30,new W(15,24),new W(25,25)),new ie(30,new W(23,15),new W(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new ie(30,new W(13,115),new W(3,116)),new ie(28,new W(2,46),new W(29,47)),new ie(30,new W(42,24),new W(1,25)),new ie(30,new W(23,15),new W(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new ie(30,new W(17,115)),new ie(28,new W(10,46),new W(23,47)),new ie(30,new W(10,24),new W(35,25)),new ie(30,new W(19,15),new W(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new ie(30,new W(17,115),new W(1,116)),new ie(28,new W(14,46),new W(21,47)),new ie(30,new W(29,24),new W(19,25)),new ie(30,new W(11,15),new W(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new ie(30,new W(13,115),new W(6,116)),new ie(28,new W(14,46),new W(23,47)),new ie(30,new W(44,24),new W(7,25)),new ie(30,new W(59,16),new W(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new ie(30,new W(12,121),new W(7,122)),new ie(28,new W(12,47),new W(26,48)),new ie(30,new W(39,24),new W(14,25)),new ie(30,new W(22,15),new W(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new ie(30,new W(6,121),new W(14,122)),new ie(28,new W(6,47),new W(34,48)),new ie(30,new W(46,24),new W(10,25)),new ie(30,new W(2,15),new W(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new ie(30,new W(17,122),new W(4,123)),new ie(28,new W(29,46),new W(14,47)),new ie(30,new W(49,24),new W(10,25)),new ie(30,new W(24,15),new W(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new ie(30,new W(4,122),new W(18,123)),new ie(28,new W(13,46),new W(32,47)),new ie(30,new W(48,24),new W(14,25)),new ie(30,new W(42,15),new W(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new ie(30,new W(20,117),new W(4,118)),new ie(28,new W(40,47),new W(7,48)),new ie(30,new W(43,24),new W(22,25)),new ie(30,new W(10,15),new W(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new ie(30,new W(19,118),new W(6,119)),new ie(28,new W(18,47),new W(31,48)),new ie(30,new W(34,24),new W(34,25)),new ie(30,new W(20,15),new W(61,16)))],n}(),gr;(function(n){n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111"})(gr||(gr={}));var Jk=function(){function n(e,t){this.value=e,this.isMasked=t}return n.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var i=0;i<t;i++)this.isMasked(r,i)&&e.flip(i,r)},n.values=new Map([[gr.DATA_MASK_000,new n(gr.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[gr.DATA_MASK_001,new n(gr.DATA_MASK_001,function(e,t){return(e&1)===0})],[gr.DATA_MASK_010,new n(gr.DATA_MASK_010,function(e,t){return t%3===0})],[gr.DATA_MASK_011,new n(gr.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[gr.DATA_MASK_100,new n(gr.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[gr.DATA_MASK_101,new n(gr.DATA_MASK_101,function(e,t){return e*t%6===0})],[gr.DATA_MASK_110,new n(gr.DATA_MASK_110,function(e,t){return e*t%6<3})],[gr.DATA_MASK_111,new n(gr.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),n}(),Qde=function(){function n(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new Te;this.bitMatrix=e}return n.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),s=0,a=i-7,r=i-1;r>=a;r--)s=this.copyBit(8,r,s);for(var t=i-8;t<i;t++)s=this.copyBit(t,8,s);if(this.parsedFormatInfo=FF.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Te},n.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Bu.getVersionForNumber(t);for(var r=0,i=e-11,s=5;s>=0;s--)for(var a=e-9;a>=i;a--)r=this.copyBit(a,s,r);var o=Bu.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;r=0;for(var a=5;a>=0;a--)for(var s=e-9;s>=i;s--)r=this.copyBit(a,s,r);if(o=Bu.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new Te},n.prototype.copyBit=function(e,t,r){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?r<<1|1:r<<1},n.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=Jk.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var s=t.buildFunctionPattern(),a=!0,o=new Uint8Array(t.getTotalCodewords()),l=0,u=0,h=0,p=i-1;p>0;p-=2){p===6&&p--;for(var g=0;g<i;g++)for(var v=a?i-1-g:g,w=0;w<2;w++)s.get(p-w,v)||(h++,u<<=1,this.bitMatrix.get(p-w,v)&&(u|=1),h===8&&(o[l++]=u,h=0,u=0));a=!a}if(l!==t.getTotalCodewords())throw new Te;return o},n.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Jk.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},n.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},n.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var i=t+1,s=e.getHeight();i<s;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},n}(),e6=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zde=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t,r){var i,s,a,o;if(e.length!==t.getTotalCodewords())throw new Ge;var l=t.getECBlocksForLevel(r),u=0,h=l.getECBlocks();try{for(var p=e6(h),g=p.next();!g.done;g=p.next()){var v=g.value;u+=v.getCount()}}catch(B){i={error:B}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}var w=new Array(u),x=0;try{for(var E=e6(h),A=E.next();!A.done;A=E.next())for(var v=A.value,T=0;T<v.getCount();T++){var I=v.getDataCodewords(),P=l.getECCodewordsPerBlock()+I;w[x++]=new n(I,new Uint8Array(P))}}catch(B){a={error:B}}finally{try{A&&!A.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}for(var O=w[0].codewords.length,V=w.length-1;V>=0;){var R=w[V].codewords.length;if(R===O)break;V--}V++;for(var C=O-l.getECCodewordsPerBlock(),N=0,T=0;T<C;T++)for(var L=0;L<x;L++)w[L].codewords[T]=e[N++];for(var L=V;L<x;L++)w[L].codewords[C]=e[N++];for(var F=w[0].codewords.length,T=C;T<F;T++)for(var L=0;L<x;L++){var H=L<V?T:T+1;w[L].codewords[H]=e[N++]}return w},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),ls;(function(n){n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI"})(ls||(ls={}));var hn=function(){function n(e,t,r,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=i,n.FOR_BITS.set(i,this),n.FOR_VALUE.set(e,this)}return n.forBits=function(e){var t=n.FOR_BITS.get(e);if(t===void 0)throw new Ge;return t},n.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(ls.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(ls.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(ls.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(ls.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(ls.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(ls.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(ls.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(ls.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(ls.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(ls.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n}(),Jde=function(){function n(){}return n.decode=function(e,t,r,i){var s=new BF(e),a=new lt,o=new Array,l=-1,u=-1;try{var h=null,p=!1,g=void 0;do{if(s.available()<4)g=hn.TERMINATOR;else{var v=s.readBits(4);g=hn.forBits(v)}switch(g){case hn.TERMINATOR:break;case hn.FNC1_FIRST_POSITION:case hn.FNC1_SECOND_POSITION:p=!0;break;case hn.STRUCTURED_APPEND:if(s.available()<16)throw new Te;l=s.readBits(8),u=s.readBits(8);break;case hn.ECI:var w=n.parseECIValue(s);if(h=rr.getCharacterSetECIByValue(w),h===null)throw new Te;break;case hn.HANZI:var x=s.readBits(4),E=s.readBits(g.getCharacterCountBits(t));x===n.GB2312_SUBSET&&n.decodeHanziSegment(s,a,E);break;default:var A=s.readBits(g.getCharacterCountBits(t));switch(g){case hn.NUMERIC:n.decodeNumericSegment(s,a,A);break;case hn.ALPHANUMERIC:n.decodeAlphanumericSegment(s,a,A,p);break;case hn.BYTE:n.decodeByteSegment(s,a,A,h,o,i);break;case hn.KANJI:n.decodeKanjiSegment(s,a,A);break;default:throw new Te}break}}while(g!==hn.TERMINATOR)}catch{throw new Te}return new Rw(e,a.toString(),o.length===0?null:o,r===null?null:r.toString(),l,u)},n.decodeHanziSegment=function(e,t,r){if(r*13>e.available())throw new Te;for(var i=new Uint8Array(2*r),s=0;r>0;){var a=e.readBits(13),o=a/96<<8&4294967295|a%96;o<959?o+=41377:o+=42657,i[s]=o>>8&255,i[s+1]=o&255,s+=2,r--}try{t.append(ys.decode(i,St.GB2312))}catch(l){throw new Te(l)}},n.decodeKanjiSegment=function(e,t,r){if(r*13>e.available())throw new Te;for(var i=new Uint8Array(2*r),s=0;r>0;){var a=e.readBits(13),o=a/192<<8&4294967295|a%192;o<7936?o+=33088:o+=49472,i[s]=o>>8,i[s+1]=o,s+=2,r--}try{t.append(ys.decode(i,St.SHIFT_JIS))}catch(l){throw new Te(l)}},n.decodeByteSegment=function(e,t,r,i,s,a){if(8*r>e.available())throw new Te;for(var o=new Uint8Array(r),l=0;l<r;l++)o[l]=e.readBits(8);var u;i===null?u=St.guessEncoding(o,a):u=i.getName();try{t.append(ys.decode(o,u))}catch(h){throw new Te(h)}s.push(o)},n.toAlphaNumericChar=function(e){if(e>=n.ALPHANUMERIC_CHARS.length)throw new Te;return n.ALPHANUMERIC_CHARS[e]},n.decodeAlphanumericSegment=function(e,t,r,i){for(var s=t.length();r>1;){if(e.available()<11)throw new Te;var a=e.readBits(11);t.append(n.toAlphaNumericChar(Math.floor(a/45))),t.append(n.toAlphaNumericChar(a%45)),r-=2}if(r===1){if(e.available()<6)throw new Te;t.append(n.toAlphaNumericChar(e.readBits(6)))}if(i)for(var o=s;o<t.length();o++)t.charAt(o)==="%"&&(o<t.length()-1&&t.charAt(o+1)==="%"?t.deleteCharAt(o+1):t.setCharAt(o,""))},n.decodeNumericSegment=function(e,t,r){for(;r>=3;){if(e.available()<10)throw new Te;var i=e.readBits(10);if(i>=1e3)throw new Te;t.append(n.toAlphaNumericChar(Math.floor(i/100))),t.append(n.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(n.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new Te;var s=e.readBits(7);if(s>=100)throw new Te;t.append(n.toAlphaNumericChar(Math.floor(s/10))),t.append(n.toAlphaNumericChar(s%10))}else if(r===1){if(e.available()<4)throw new Te;var a=e.readBits(4);if(a>=10)throw new Te;t.append(n.toAlphaNumericChar(a))}},n.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new Te},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n}(),UF=function(){function n(e){this.mirrored=e}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},n}(),t6=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},epe=function(){function n(){this.rsDecoder=new Ow(_i.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(ja.parseFromBooleanArray(e),t)},n.prototype.decodeBitMatrix=function(e,t){var r=new Qde(e),i=null;try{return this.decodeBitMatrixParser(r,t)}catch(a){i=a}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var s=this.decodeBitMatrixParser(r,t);return s.setOther(new UF(!0)),s}catch(a){throw i!==null?i:a}},n.prototype.decodeBitMatrixParser=function(e,t){var r,i,s,a,o=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),h=Zde.getDataBlocks(u,o,l),p=0;try{for(var g=t6(h),v=g.next();!v.done;v=g.next()){var w=v.value;p+=w.getNumDataCodewords()}}catch(V){r={error:V}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}var x=new Uint8Array(p),E=0;try{for(var A=t6(h),T=A.next();!T.done;T=A.next()){var w=T.value,I=w.getCodewords(),P=w.getNumDataCodewords();this.correctErrors(I,P);for(var O=0;O<P;O++)x[E++]=I[O]}}catch(V){s={error:V}}finally{try{T&&!T.done&&(a=A.return)&&a.call(A)}finally{if(s)throw s.error}}return Jde.decode(x,o,l,t)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new _r}for(var i=0;i<t;i++)e[i]=r[i]},n}(),tpe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),npe=function(n){tpe(e,n);function e(t,r,i){var s=n.call(this,t,r)||this;return s.estimatedModuleSize=i,s}return e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var s=(this.getX()+r)/2,a=(this.getY()+t)/2,o=(this.estimatedModuleSize+i)/2;return new e(s,a,o)},e}(Be),rpe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ipe=function(){function n(e,t,r,i,s,a,o){this.image=e,this.startX=t,this.startY=r,this.width=i,this.height=s,this.moduleSize=a,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var e=this.startX,t=this.height,r=this.width,i=e+r,s=this.startY+t/2,a=new Int32Array(3),o=this.image,l=0;l<t;l++){var u=s+((l&1)===0?Math.floor((l+1)/2):-Math.floor((l+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var h=e;h<i&&!o.get(h,u);)h++;for(var p=0;h<i;){if(o.get(h,u))if(p===1)a[1]++;else if(p===2){if(this.foundPatternCross(a)){var g=this.handlePossibleCenter(a,u,h);if(g!==null)return g}a[0]=a[2],a[1]=1,a[2]=0,p=1}else a[++p]++;else p===1&&p++,a[p]++;h++}if(this.foundPatternCross(a)){var g=this.handlePossibleCenter(a,u,i);if(g!==null)return g}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new pe},n.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},n.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(e,t,r,i){var s=this.image,a=s.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var l=e;l>=0&&s.get(t,l)&&o[1]<=r;)o[1]++,l--;if(l<0||o[1]>r)return NaN;for(;l>=0&&!s.get(t,l)&&o[0]<=r;)o[0]++,l--;if(o[0]>r)return NaN;for(l=e+1;l<a&&s.get(t,l)&&o[1]<=r;)o[1]++,l++;if(l===a||o[1]>r)return NaN;for(;l<a&&!s.get(t,l)&&o[2]<=r;)o[2]++,l++;if(o[2]>r)return NaN;var u=o[0]+o[1]+o[2];return 5*Math.abs(u-i)>=2*i?NaN:this.foundPatternCross(o)?n.centerFromEnd(o,l):NaN},n.prototype.handlePossibleCenter=function(e,t,r){var i,s,a=e[0]+e[1]+e[2],o=n.centerFromEnd(e,r),l=this.crossCheckVertical(t,o,2*e[1],a);if(!isNaN(l)){var u=(e[0]+e[1]+e[2])/3;try{for(var h=rpe(this.possibleCenters),p=h.next();!p.done;p=h.next()){var g=p.value;if(g.aboutEquals(u,l,o))return g.combineEstimate(l,o,u)}}catch(w){i={error:w}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}var v=new npe(o,l,u);this.possibleCenters.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return null},n}(),spe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ape=function(n){spe(e,n);function e(t,r,i,s){var a=n.call(this,t,r)||this;return a.estimatedModuleSize=i,a.count=s,s===void 0&&(a.count=1),a}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var s=this.count+1,a=(this.count*this.getX()+r)/s,o=(this.count*this.getY()+t)/s,l=(this.count*this.estimatedModuleSize+i)/s;return new e(a,o,l,s)},e}(Be),ope=function(){function n(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n}(),pg=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lpe=function(){function n(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(e){var t=e!=null&&e.get(_n.TRY_HARDER)!==void 0,r=e!=null&&e.get(_n.PURE_BARCODE)!==void 0,i=this.image,s=i.getHeight(),a=i.getWidth(),o=Math.floor(3*s/(4*n.MAX_MODULES));(o<n.MIN_SKIP||t)&&(o=n.MIN_SKIP);for(var l=!1,u=new Int32Array(5),h=o-1;h<s&&!l;h+=o){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var p=0,g=0;g<a;g++)if(i.get(g,h))(p&1)===1&&p++,u[p]++;else if((p&1)===0)if(p===4)if(n.foundPatternCross(u)){var v=this.handlePossibleCenter(u,h,g,r);if(v===!0)if(o=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var w=this.findRowSkip();w>u[2]&&(h+=w-u[2]-o,g=a-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,p=3;continue}p=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,p=3;else u[++p]++;else u[p]++;if(n.foundPatternCross(u)){var v=this.handlePossibleCenter(u,h,a,r);v===!0&&(o=u[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var x=this.selectBestPatterns();return Be.orderBestPatterns(x),new ope(x)},n.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},n.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;t+=i}if(t<7)return!1;var s=t/7,a=s/2;return Math.abs(s-e[0])<a&&Math.abs(s-e[1])<a&&Math.abs(3*s-e[2])<3*a&&Math.abs(s-e[3])<a&&Math.abs(s-e[4])<a},n.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},n.prototype.crossCheckDiagonal=function(e,t,r,i){for(var s=this.getCrossCheckStateCount(),a=0,o=this.image;e>=a&&t>=a&&o.get(t-a,e-a);)s[2]++,a++;if(e<a||t<a)return!1;for(;e>=a&&t>=a&&!o.get(t-a,e-a)&&s[1]<=r;)s[1]++,a++;if(e<a||t<a||s[1]>r)return!1;for(;e>=a&&t>=a&&o.get(t-a,e-a)&&s[0]<=r;)s[0]++,a++;if(s[0]>r)return!1;var l=o.getHeight(),u=o.getWidth();for(a=1;e+a<l&&t+a<u&&o.get(t+a,e+a);)s[2]++,a++;if(e+a>=l||t+a>=u)return!1;for(;e+a<l&&t+a<u&&!o.get(t+a,e+a)&&s[3]<r;)s[3]++,a++;if(e+a>=l||t+a>=u||s[3]>=r)return!1;for(;e+a<l&&t+a<u&&o.get(t+a,e+a)&&s[4]<r;)s[4]++,a++;if(s[4]>=r)return!1;var h=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(h-i)<2*i&&n.foundPatternCross(s)},n.prototype.crossCheckVertical=function(e,t,r,i){for(var s=this.image,a=s.getHeight(),o=this.getCrossCheckStateCount(),l=e;l>=0&&s.get(t,l);)o[2]++,l--;if(l<0)return NaN;for(;l>=0&&!s.get(t,l)&&o[1]<=r;)o[1]++,l--;if(l<0||o[1]>r)return NaN;for(;l>=0&&s.get(t,l)&&o[0]<=r;)o[0]++,l--;if(o[0]>r)return NaN;for(l=e+1;l<a&&s.get(t,l);)o[2]++,l++;if(l===a)return NaN;for(;l<a&&!s.get(t,l)&&o[3]<r;)o[3]++,l++;if(l===a||o[3]>=r)return NaN;for(;l<a&&s.get(t,l)&&o[4]<r;)o[4]++,l++;if(o[4]>=r)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-i)>=2*i?NaN:n.foundPatternCross(o)?n.centerFromEnd(o,l):NaN},n.prototype.crossCheckHorizontal=function(e,t,r,i){for(var s=this.image,a=s.getWidth(),o=this.getCrossCheckStateCount(),l=e;l>=0&&s.get(l,t);)o[2]++,l--;if(l<0)return NaN;for(;l>=0&&!s.get(l,t)&&o[1]<=r;)o[1]++,l--;if(l<0||o[1]>r)return NaN;for(;l>=0&&s.get(l,t)&&o[0]<=r;)o[0]++,l--;if(o[0]>r)return NaN;for(l=e+1;l<a&&s.get(l,t);)o[2]++,l++;if(l===a)return NaN;for(;l<a&&!s.get(l,t)&&o[3]<r;)o[3]++,l++;if(l===a||o[3]>=r)return NaN;for(;l<a&&s.get(l,t)&&o[4]<r;)o[4]++,l++;if(o[4]>=r)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-i)>=i?NaN:n.foundPatternCross(o)?n.centerFromEnd(o,l):NaN},n.prototype.handlePossibleCenter=function(e,t,r,i){var s=e[0]+e[1]+e[2]+e[3]+e[4],a=n.centerFromEnd(e,r),o=this.crossCheckVertical(t,Math.floor(a),e[2],s);if(!isNaN(o)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(o),e[2],s),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(o),Math.floor(a),e[2],s)))){for(var l=s/7,u=!1,h=this.possibleCenters,p=0,g=h.length;p<g;p++){var v=h[p];if(v.aboutEquals(l,o,a)){h[p]=v.combineEstimate(o,a,l),u=!0;break}}if(!u){var w=new ape(a,o,l);h.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return!0}return!1},n.prototype.findRowSkip=function(){var e,t,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var s=pg(this.possibleCenters),a=s.next();!a.done;a=s.next()){var o=a.value;if(o.getCount()>=n.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var e,t,r,i,s=0,a=0,o=this.possibleCenters.length;try{for(var l=pg(this.possibleCenters),u=l.next();!u.done;u=l.next()){var h=u.value;h.getCount()>=n.CENTER_QUORUM&&(s++,a+=h.getEstimatedModuleSize())}}catch(x){e={error:x}}finally{try{u&&!u.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}if(s<3)return!1;var p=a/o,g=0;try{for(var v=pg(this.possibleCenters),w=v.next();!w.done;w=v.next()){var h=w.value;g+=Math.abs(h.getEstimatedModuleSize()-p)}}catch(x){r={error:x}}finally{try{w&&!w.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}return g<=.05*a},n.prototype.selectBestPatterns=function(){var e,t,r,i,s=this.possibleCenters.length;if(s<3)throw new pe;var a=this.possibleCenters,o;if(s>3){var l=0,u=0;try{for(var h=pg(this.possibleCenters),p=h.next();!p.done;p=h.next()){var g=p.value,v=g.getEstimatedModuleSize();l+=v,u+=v*v}}catch(O){e={error:O}}finally{try{p&&!p.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}o=l/s;var w=Math.sqrt(u/s-o*o);a.sort(function(O,V){var R=Math.abs(V.getEstimatedModuleSize()-o),C=Math.abs(O.getEstimatedModuleSize()-o);return R<C?-1:R>C?1:0});for(var x=Math.max(.2*o,w),E=0;E<a.length&&a.length>3;E++){var A=a[E];Math.abs(A.getEstimatedModuleSize()-o)>x&&(a.splice(E,1),E--)}}if(a.length>3){var l=0;try{for(var T=pg(a),I=T.next();!I.done;I=T.next()){var P=I.value;l+=P.getEstimatedModuleSize()}}catch(V){r={error:V}}finally{try{I&&!I.done&&(i=T.return)&&i.call(T)}finally{if(r)throw r.error}}o=l/a.length,a.sort(function(V,R){if(R.getCount()===V.getCount()){var C=Math.abs(R.getEstimatedModuleSize()-o),N=Math.abs(V.getEstimatedModuleSize()-o);return C<N?1:C>N?-1:0}else return R.getCount()-V.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n}(),cpe=function(){function n(e){this.image=e}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(_n.NEED_RESULT_POINT_CALLBACK);var t=new lpe(this.image,this.resultPointCallback),r=t.find(e);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),s=this.calculateModuleSize(t,r,i);if(s<1)throw new pe("No pattern found in proccess finder.");var a=n.computeDimension(t,r,i,s),o=Bu.getProvisionalVersionForDimension(a),l=o.getDimensionForVersion()-7,u=null;if(o.getAlignmentPatternCenters().length>0)for(var h=r.getX()-t.getX()+i.getX(),p=r.getY()-t.getY()+i.getY(),g=1-3/l,v=Math.floor(t.getX()+g*(h-t.getX())),w=Math.floor(t.getY()+g*(p-t.getY())),x=4;x<=16;x<<=1)try{u=this.findAlignmentInRegion(s,v,w,x);break}catch(I){if(!(I instanceof pe))throw I}var E=n.createTransform(t,r,i,u,a),A=n.sampleGrid(this.image,E,a),T;return u===null?T=[i,t,r]:T=[i,t,r,u],new mI(A,T)},n.createTransform=function(e,t,r,i,s){var a=s-3.5,o,l,u,h;return i!==null?(o=i.getX(),l=i.getY(),u=a-3,h=u):(o=t.getX()-e.getX()+r.getX(),l=t.getY()-e.getY()+r.getY(),u=a,h=a),PF.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,u,h,3.5,a,e.getX(),e.getY(),t.getX(),t.getY(),o,l,r.getX(),r.getY())},n.sampleGrid=function(e,t,r){var i=vI.getInstance();return i.sampleGridWithTransform(e,r,r,t)},n.computeDimension=function(e,t,r,i){var s=Rt.round(Be.distance(e,t)/i),a=Rt.round(Be.distance(e,r)/i),o=Math.floor((s+a)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new pe("Dimensions could be not found.")}return o},n.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},n.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,i){var s=this.sizeOfBlackWhiteBlackRun(e,t,r,i),a=1,o=e-(r-e);o<0?(a=e/(e-o),o=0):o>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(o-e),o=this.image.getWidth()-1);var l=Math.floor(t-(i-t)*a);return a=1,l<0?(a=t/(t-l),l=0):l>=this.image.getHeight()&&(a=(this.image.getHeight()-1-t)/(l-t),l=this.image.getHeight()-1),o=Math.floor(e+(o-e)*a),s+=this.sizeOfBlackWhiteBlackRun(e,t,o,l),s-1},n.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,i){var s=Math.abs(i-t)>Math.abs(r-e);if(s){var a=e;e=t,t=a,a=r,r=i,i=a}for(var o=Math.abs(r-e),l=Math.abs(i-t),u=-o/2,h=e<r?1:-1,p=t<i?1:-1,g=0,v=r+h,w=e,x=t;w!==v;w+=h){var E=s?x:w,A=s?w:x;if(g===1===this.image.get(E,A)){if(g===2)return Rt.distance(w,x,e,t);g++}if(u+=l,u>0){if(x===i)break;x+=p,u-=o}}return g===2?Rt.distance(r+h,i,e,t):NaN},n.prototype.findAlignmentInRegion=function(e,t,r,i){var s=Math.floor(i*e),a=Math.max(0,t-s),o=Math.min(this.image.getWidth()-1,t+s);if(o-a<e*3)throw new pe("Alignment top exceeds estimated module size.");var l=Math.max(0,r-s),u=Math.min(this.image.getHeight()-1,r+s);if(u-l<e*3)throw new pe("Alignment bottom exceeds estimated module size.");var h=new ipe(this.image,a,l,o-a,u-l,e,this.resultPointCallback);return h.find()},n}(),vS=function(){function n(){this.decoder=new epe}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(e,t){var r,i;if(t!=null&&t.get(_n.PURE_BARCODE)!==void 0){var s=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(s,t),i=n.NO_POINTS}else{var a=new cpe(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(a.getBits(),t),i=a.getPoints()}r.getOther()instanceof UF&&r.getOther().applyMirroredCorrection(i);var o=new Xr(r.getText(),r.getRawBytes(),void 0,i,Ye.QR_CODE,void 0),l=r.getByteSegments();l!==null&&o.putMetadata(Pr.BYTE_SEGMENTS,l);var u=r.getECLevel();return u!==null&&o.putMetadata(Pr.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(o.putMetadata(Pr.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(Pr.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new pe;var i=this.moduleSize(t,e),s=t[1],a=r[1],o=t[0],l=r[0];if(o>=l||s>=a)throw new pe;if(a-s!==l-o&&(l=o+(a-s),l>=e.getWidth()))throw new pe;var u=Math.round((l-o+1)/i),h=Math.round((a-s+1)/i);if(u<=0||h<=0)throw new pe;if(h!==u)throw new pe;var p=Math.floor(i/2);s+=p,o+=p;var g=o+Math.floor((u-1)*i)-l;if(g>0){if(g>p)throw new pe;o-=g}var v=s+Math.floor((h-1)*i)-a;if(v>0){if(v>p)throw new pe;s-=v}for(var w=new ja(u,h),x=0;x<h;x++)for(var E=s+Math.floor(x*i),A=0;A<u;A++)e.get(o+Math.floor(A*i),E)&&w.set(A,x);return w},n.moduleSize=function(e,t){for(var r=t.getHeight(),i=t.getWidth(),s=e[0],a=e[1],o=!0,l=0;s<i&&a<r;){if(o!==t.get(s,a)){if(++l===5)break;o=!o}s++,a++}if(s===i||a===r)throw new pe;return(s-e[0])/7},n.NO_POINTS=new Array,n}(),upe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tt=function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(e){return Rt.sum(e)},n.toIntArray=function(e){var t,r;if(e==null||!e.length)return n.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),s=0;try{for(var a=upe(e),o=a.next();!o.done;o=a.next()){var l=o.value;i[s++]=l}}catch(u){t={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.getCodeword=function(e){var t=ir.binarySearch(n.SYMBOL_TABLE,e&262143);return t<0?-1:(n.CODEWORD_TABLE[t]-1)%n.NUMBER_OF_CODEWORDS},n.NUMBER_OF_CODEWORDS=929,n.MAX_CODEWORDS_IN_BARCODE=n.NUMBER_OF_CODEWORDS-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n}(),fpe=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),hpe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dpe=function(){function n(){}return n.detectMultiple=function(e,t,r){var i=e.getBlackMatrix(),s=n.detect(r,i);return s.length||(i=i.clone(),i.rotate180(),s=n.detect(r,i)),new fpe(i,s)},n.detect=function(e,t){for(var r,i,s=new Array,a=0,o=0,l=!1;a<t.getHeight();){var u=n.findVertices(t,a,o);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,o=0;try{for(var h=(r=void 0,hpe(s)),p=h.next();!p.done;p=h.next()){var g=p.value;g[1]!=null&&(a=Math.trunc(Math.max(a,g[1].getY()))),g[3]!=null&&(a=Math.max(a,Math.trunc(g[3].getY())))}}catch(v){r={error:v}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}a+=n.ROW_STEP;continue}if(l=!0,s.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),a=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),a=Math.trunc(u[4].getY()))}return s},n.findVertices=function(e,t,r){var i=e.getHeight(),s=e.getWidth(),a=new Array(8);return n.copyToResult(a,n.findRowsWithPattern(e,i,s,t,r,n.START_PATTERN),n.INDEXES_START_PATTERN),a[4]!=null&&(r=Math.trunc(a[4].getX()),t=Math.trunc(a[4].getY())),n.copyToResult(a,n.findRowsWithPattern(e,i,s,t,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),a},n.copyToResult=function(e,t,r){for(var i=0;i<r.length;i++)e[r[i]]=t[i]},n.findRowsWithPattern=function(e,t,r,i,s,a){for(var o=new Array(4),l=!1,u=new Int32Array(a.length);i<t;i+=n.ROW_STEP){var h=n.findGuardPattern(e,s,i,r,!1,a,u);if(h!=null){for(;i>0;){var p=n.findGuardPattern(e,s,--i,r,!1,a,u);if(p!=null)h=p;else{i++;break}}o[0]=new Be(h[0],i),o[1]=new Be(h[1],i),l=!0;break}}var g=i+1;if(l){for(var v=0,p=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);g<t;g++){var h=n.findGuardPattern(e,p[0],g,r,!1,a,u);if(h!=null&&Math.abs(p[0]-h[0])<n.MAX_PATTERN_DRIFT&&Math.abs(p[1]-h[1])<n.MAX_PATTERN_DRIFT)p=h,v=0;else{if(v>n.SKIPPED_ROW_COUNT_MAX)break;v++}}g-=v+1,o[2]=new Be(p[0],g),o[3]=new Be(p[1],g)}return g-i<n.BARCODE_MIN_HEIGHT&&ir.fill(o,null),o},n.findGuardPattern=function(e,t,r,i,s,a,o){ir.fillWithin(o,0,o.length,0);for(var l=t,u=0;e.get(l,r)&&l>0&&u++<n.MAX_PIXEL_DRIFT;)l--;for(var h=l,p=0,g=a.length,v=s;h<i;h++){var w=e.get(h,r);if(w!==v)o[p]++;else{if(p===g-1){if(n.patternMatchVariance(o,a,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([l,h]);l+=o[0]+o[1],cn.arraycopy(o,2,o,0,p-1),o[p-1]=0,o[p]=0,p--}else p++;o[p]=1,v=!v}}return p===g-1&&n.patternMatchVariance(o,a,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([l,h-1]):null},n.patternMatchVariance=function(e,t,r){for(var i=e.length,s=0,a=0,o=0;o<i;o++)s+=e[o],a+=t[o];if(s<a)return 1/0;var l=s/a;r*=l;for(var u=0,h=0;h<i;h++){var p=e[h],g=t[h]*l,v=p>g?p-g:g-p;if(v>r)return 1/0;u+=v}return u/s},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n}(),ppe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Eu=function(){function n(e,t){if(t.length===0)throw new Ge;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),cn.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){var t,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var s=ppe(this.coefficients),a=s.next();!a.done;a=s.next()){var o=a.value;i=this.field.add(i,o)}}catch(p){t={error:p}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i}for(var l=this.coefficients[0],u=this.coefficients.length,h=1;h<u;h++)l=this.field.add(this.field.multiply(e,l),this.coefficients[h]);return l},n.prototype.add=function(e){if(!this.field.equals(e.field))throw new Ge("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var s=new Int32Array(r.length),a=r.length-t.length;cn.arraycopy(r,0,s,0,a);for(var o=a;o<r.length;o++)s[o]=this.field.add(t[o-a],r[o]);return new n(this.field,s)},n.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Ge("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},n.prototype.multiply=function(e){return e instanceof n?this.multiplyOther(e):this.multiplyScalar(e)},n.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Ge("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new n(this.field,new Int32Array([0]));for(var t=this.coefficients,r=t.length,i=e.coefficients,s=i.length,a=new Int32Array(r+s-1),o=0;o<r;o++)for(var l=t[o],u=0;u<s;u++)a[o+u]=this.field.add(a[o+u],this.field.multiply(l,i[u]));return new n(this.field,a)},n.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,t)},n.prototype.multiplyScalar=function(e){if(e===0)return new n(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,r=new Int32Array(t),i=0;i<t;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Ge;if(t===0)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),s=0;s<r;s++)i[s]=this.field.multiply(this.coefficients[s],t);return new n(this.field,i)},n.prototype.toString=function(){for(var e=new lt,t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},n}(),gpe=function(){function n(){}return n.prototype.add=function(e,t){return(e+t)%this.modulus},n.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Ge;return this.logTable[e]},n.prototype.inverse=function(e){if(e===0)throw new MF;return this.expTable[this.modulus-this.logTable[e]-1]},n.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(e){return e===this},n}(),mpe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vpe=function(n){mpe(e,n);function e(t,r){var i=n.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var s=1,a=0;a<t;a++)i.expTable[a]=s,s=s*r%t;for(var a=0;a<t-1;a++)i.logTable[i.expTable[a]]=a;return i.zero=new Eu(i,new Int32Array([0])),i.one=new Eu(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Ge;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new Eu(this,i)},e.PDF417_GF=new e(Tt.NUMBER_OF_CODEWORDS,3),e}(gpe),ype=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_pe=function(){function n(){this.field=vpe.PDF417_GF}return n.prototype.decode=function(e,t,r){for(var i,s,a=new Eu(this.field,e),o=new Int32Array(t),l=!1,u=t;u>0;u--){var h=a.evaluateAt(this.field.exp(u));o[t-u]=h,h!==0&&(l=!0)}if(!l)return 0;var p=this.field.getOne();if(r!=null)try{for(var g=ype(r),v=g.next();!v.done;v=g.next()){var w=v.value,x=this.field.exp(e.length-1-w),E=new Eu(this.field,new Int32Array([this.field.subtract(0,x),1]));p=p.multiply(E)}}catch(C){i={error:C}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}for(var A=new Eu(this.field,o),T=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),A,t),I=T[0],P=T[1],O=this.findErrorLocations(I),V=this.findErrorMagnitudes(P,I,O),u=0;u<O.length;u++){var R=e.length-1-this.field.log(O[u]);if(R<0)throw _r.getChecksumInstance();e[R]=this.field.subtract(e[R],V[u])}return O.length},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var s=e,a=t,o=this.field.getZero(),l=this.field.getOne();a.getDegree()>=Math.round(r/2);){var u=s,h=o;if(s=a,o=l,s.isZero())throw _r.getChecksumInstance();a=u;for(var p=this.field.getZero(),g=s.getCoefficient(s.getDegree()),v=this.field.inverse(g);a.getDegree()>=s.getDegree()&&!a.isZero();){var w=a.getDegree()-s.getDegree(),x=this.field.multiply(a.getCoefficient(a.getDegree()),v);p=p.add(this.field.buildMonomial(w,x)),a=a.subtract(s.multiplyByMonomial(w,x))}l=p.multiply(o).subtract(h).negative()}var E=l.getCoefficient(0);if(E===0)throw _r.getChecksumInstance();var A=this.field.inverse(E),T=l.multiply(A),I=a.multiply(A);return[T,I]},n.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),r=new Int32Array(t),i=0,s=1;s<this.field.getSize()&&i<t;s++)e.evaluateAt(s)===0&&(r[i]=this.field.inverse(s),i++);if(i!==t)throw _r.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(e,t,r){for(var i=t.getDegree(),s=new Int32Array(i),a=1;a<=i;a++)s[i-a]=this.field.multiply(a,t.getCoefficient(a));for(var o=new Eu(this.field,s),l=r.length,u=new Int32Array(l),a=0;a<l;a++){var h=this.field.inverse(r[a]),p=this.field.subtract(0,e.evaluateAt(h)),g=this.field.inverse(o.evaluateAt(h));u[a]=this.field.multiply(p,g)}return u},n}(),yS=function(){function n(e,t,r,i,s){e instanceof n?this.constructor_2(e):this.constructor_1(e,t,r,i,s)}return n.prototype.constructor_1=function(e,t,r,i,s){var a=t==null||r==null,o=i==null||s==null;if(a&&o)throw new pe;a?(t=new Be(0,i.getY()),r=new Be(0,s.getY())):o&&(i=new Be(e.getWidth()-1,t.getY()),s=new Be(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=i,this.bottomRight=s,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),s.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),s.getY()))},n.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},n.merge=function(e,t){return e==null?t:t==null?e:new n(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},n.prototype.addMissingRows=function(e,t,r){var i=this.topLeft,s=this.bottomLeft,a=this.topRight,o=this.bottomRight;if(e>0){var l=r?this.topLeft:this.topRight,u=Math.trunc(l.getY()-e);u<0&&(u=0);var h=new Be(l.getX(),u);r?i=h:a=h}if(t>0){var p=r?this.bottomLeft:this.bottomRight,g=Math.trunc(p.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);var v=new Be(p.getX(),g);r?s=v:o=v}return new n(this.image,i,s,a,o)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n}(),wpe=function(){function n(e,t,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n}(),_I=function(){function n(){this.buffer=""}return n.form=function(e,t){var r=-1;function i(a,o,l,u,h,p){if(a==="%%")return"%";if(t[++r]!==void 0){a=u?parseInt(u.substr(1)):void 0;var g=h?parseInt(h.substr(1)):void 0,v;switch(p){case"s":v=t[r];break;case"c":v=t[r][0];break;case"f":v=parseFloat(t[r]).toFixed(a);break;case"p":v=parseFloat(t[r]).toPrecision(a);break;case"e":v=parseFloat(t[r]).toExponential(a);break;case"x":v=parseInt(t[r]).toString(g||16);break;case"d":v=parseFloat(parseInt(t[r],g||10).toPrecision(a)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(g);for(var w=parseInt(l),x=l&&l[0]+""=="0"?"0":" ";v.length<w;)v=o!==void 0?v+x:x+v;return v}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},n.prototype.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.buffer+=n.form(e,t)},n.prototype.toString=function(){return this.buffer},n}(),xpe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jF=function(){function n(e){this.boundingBox=new yS(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return n.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},n.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},n.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},n.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var e,t,r=new _I,i=0;try{for(var s=xpe(this.codewords),a=s.next();!a.done;a=s.next()){var o=a.value;if(o==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n}(),bpe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Epe=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return s},Bg=function(){function n(){this.values=new Map}return n.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},n.prototype.getValue=function(){var e,t,r=-1,i=new Array,s=function(p,g){var v={getKey:function(){return p},getValue:function(){return g}};v.getValue()>r?(r=v.getValue(),i=[],i.push(v.getKey())):v.getValue()===r&&i.push(v.getKey())};try{for(var a=bpe(this.values.entries()),o=a.next();!o.done;o=a.next()){var l=Epe(o.value,2),u=l[0],h=l[1];s(u,h)}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return Tt.toIntArray(i)},n.prototype.getConfidence=function(e){return this.values.get(e)},n}(),Ape=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ZE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n6=function(n){Ape(e,n);function e(t,r){var i=n.call(this,t)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var t,r;try{for(var i=ZE(this.getCodewords()),s=i.next();!s.done;s=i.next()){var a=s.value;a!=null&&a.setRowNumberAsRowIndicatorColumn()}}catch(o){t={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);for(var i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(s.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=-1,h=1,p=0,g=o;g<l;g++)if(r[g]!=null){var v=r[g],w=v.getRowNumber()-u;if(w===0)p++;else if(w===1)h=Math.max(h,p),p=1,u=v.getRowNumber();else if(w<0||v.getRowNumber()>=t.getRowCount()||w>g)r[g]=null;else{var x=void 0;h>2?x=(h-2)*w:x=w;for(var E=x>=g,A=1;A<=x&&!E;A++)E=r[g-A]!=null;E?r[g]=null:(u=v.getRowNumber(),p=1)}}},e.prototype.getRowHeights=function(){var t,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var s=new Int32Array(i.getRowCount());try{for(var a=ZE(this.getCodewords()),o=a.next();!o.done;o=a.next()){var l=o.value;if(l!=null){var u=l.getRowNumber();if(u>=s.length)continue;s[u]++}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return s},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),o=this.imageRowToCodewordIndex(Math.trunc(s.getY())),l=this.getCodewords(),u=-1,h=a;h<o;h++)if(l[h]!=null){var p=l[h];p.setRowNumberAsRowIndicatorColumn();var g=p.getRowNumber()-u;g===0||(g===1?u=p.getRowNumber():p.getRowNumber()>=t.getRowCount()?l[h]=null:u=p.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,r,i=this.getCodewords(),s=new Bg,a=new Bg,o=new Bg,l=new Bg;try{for(var u=ZE(i),h=u.next();!h.done;h=u.next()){var p=h.value;if(p!=null){p.setRowNumberAsRowIndicatorColumn();var g=p.getValue()%30,v=p.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:a.setValue(g*3+1);break;case 1:l.setValue(g/3),o.setValue(g%3);break;case 2:s.setValue(g+1);break}}}}catch(x){t={error:x}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}if(s.getValue().length===0||a.getValue().length===0||o.getValue().length===0||l.getValue().length===0||s.getValue()[0]<1||a.getValue()[0]+o.getValue()[0]<Tt.MIN_ROWS_IN_BARCODE||a.getValue()[0]+o.getValue()[0]>Tt.MAX_ROWS_IN_BARCODE)return null;var w=new wpe(s.getValue()[0],a.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,w),w},e.prototype.removeIncorrectCodewords=function(t,r){for(var i=0;i<t.length;i++){var s=t[i];if(t[i]!=null){var a=s.getValue()%30,o=s.getRowNumber();if(o>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:a*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(a/3)!==r.getErrorCorrectionLevel()||a%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:a+1!==r.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+n.prototype.toString.call(this)},e}(jF),Spe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tpe=function(){function n(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Tt.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var r=this.detectionResultColumns[t].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,r));return e},n.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var s=this.detectionResultColumns[i].getCodewords()[r];s!=null&&(s.setRowNumber(e[r].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},n.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),s=0,a=this.barcodeColumnCount+1;a>0&&s<this.ADJUST_ROW_NUMBER_SKIP;a--){var o=this.detectionResultColumns[a].getCodewords()[r];o!=null&&(s=n.adjustRowNumberIfValid(i,s,o),o.hasValidRowNumber()||e++)}return e},n.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),s=0,a=1;a<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;a++){var o=this.detectionResultColumns[a].getCodewords()[r];o!=null&&(s=n.adjustRowNumberIfValid(i,s,o),o.hasValidRowNumber()||e++)}return e},n.adjustRowNumberIfValid=function(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t},n.prototype.adjustRowNumbers=function(e,t,r){var i,s;if(this.detectionResultColumns[e-1]!=null){var a=r[t],o=this.detectionResultColumns[e-1].getCodewords(),l=o;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=o[t],u[3]=l[t],t>0&&(u[0]=r[t-1],u[4]=o[t-1],u[5]=l[t-1]),t>1&&(u[8]=r[t-2],u[10]=o[t-2],u[11]=l[t-2]),t<r.length-1&&(u[1]=r[t+1],u[6]=o[t+1],u[7]=l[t+1]),t<r.length-2&&(u[9]=r[t+2],u[12]=o[t+2],u[13]=l[t+2]);try{for(var h=Spe(u),p=h.next();!p.done;p=h.next()){var g=p.value;if(n.adjustRowNumber(a,g))return}}catch(v){i={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}},n.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(e){this.boundingBox=e},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},n.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},n.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new _I,r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var s=this.detectionResultColumns[i].getCodewords()[r];if(s==null){t.format("    |   ");continue}t.format(" %3d|%3d",s.getRowNumber(),s.getValue())}t.format("%n")}return t.toString()},n}(),Cpe=function(){function n(e,t,r,i){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(e){return e!==n.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(e){this.rowNumber=e},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n}(),Ipe=function(){function n(){}return n.initialize=function(){for(var e=0;e<Tt.SYMBOL_TABLE.length;e++)for(var t=Tt.SYMBOL_TABLE[e],r=t&1,i=0;i<Tt.BARS_IN_MODULE;i++){for(var s=0;(t&1)===r;)s+=1,t>>=1;r=t&1,n.RATIOS_TABLE[e]||(n.RATIOS_TABLE[e]=new Array(Tt.BARS_IN_MODULE)),n.RATIOS_TABLE[e][Tt.BARS_IN_MODULE-i-1]=Math.fround(s/Tt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(e){var t=n.getDecodedCodewordValue(n.sampleBitCounts(e));return t!==-1?t:n.getClosestDecodedValue(e)},n.sampleBitCounts=function(e){for(var t=Rt.sum(e),r=new Int32Array(Tt.BARS_IN_MODULE),i=0,s=0,a=0;a<Tt.MODULES_IN_CODEWORD;a++){var o=t/(2*Tt.MODULES_IN_CODEWORD)+a*t/Tt.MODULES_IN_CODEWORD;s+e[i]<=o&&(s+=e[i],i++),r[i]++}return r},n.getDecodedCodewordValue=function(e){var t=n.getBitValue(e);return Tt.getCodeword(t)===-1?-1:t},n.getBitValue=function(e){for(var t=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)},n.getClosestDecodedValue=function(e){var t=Rt.sum(e),r=new Array(Tt.BARS_IN_MODULE);if(t>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/t);var s=hS.MAX_VALUE,a=-1;this.bSymbolTableReady||n.initialize();for(var o=0;o<n.RATIOS_TABLE.length;o++){for(var l=0,u=n.RATIOS_TABLE[o],h=0;h<Tt.BARS_IN_MODULE;h++){var p=Math.fround(u[h]-r[h]);if(l+=Math.fround(p*p),l>=s)break}l<s&&(s=l,a=Tt.SYMBOL_TABLE[o])}return a},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array(Tt.SYMBOL_TABLE.length).map(function(e){return new Array(Tt.BARS_IN_MODULE)}),n}(),Dpe=function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(e){this.segmentIndex=e},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(e){this.fileId=e},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(e){this.optionalData=e},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(e){this.lastSegment=e},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(e){this.segmentCount=e},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(e){this.sender=e},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(e){this.addressee=e},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(e){this.fileName=e},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(e){this.fileSize=e},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(e){this.checksum=e},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(e){this.timestamp=e},n}(),r6=function(){function n(){}return n.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n}(),Rpe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ope=function(n){Rpe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Ti),Npe=function(){function n(){}return n.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},n.prototype.writeBytesOffset=function(e,t,r){if(e==null)throw new Ope;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new pI;if(r===0)return;for(var i=0;i<r;i++)this.write(e[t+i])},n.prototype.flush=function(){},n.prototype.close=function(){},n}(),Mpe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ppe=function(n){Mpe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(Ti),kpe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Lpe=function(n){kpe(e,n);function e(t){t===void 0&&(t=32);var r=n.call(this)||this;if(r.count=0,t<0)throw new Ge("Negative initial size: "+t);return r.buf=new Uint8Array(t),r}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var r=this.buf.length,i=r<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new Ppe;i=dt.MAX_VALUE}this.buf=ir.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new pI;this.ensureCapacity(this.count+i),cn.arraycopy(t,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return ir.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(Npe),nn;(function(n){n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(nn||(nn={}));function HF(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Rv;function Dl(n){if(typeof Rv>"u"&&(Rv=HF()),Rv===null)throw new Error("BigInt is not supported!");return Rv(n)}function Vpe(){var n=[];n[0]=Dl(1);var e=Dl(900);n[1]=e;for(var t=2;t<16;t++)n[t]=n[t-1]*e;return n}var Bpe=function(){function n(){}return n.decode=function(e,t){var r=new lt(""),i=rr.ISO8859_1;r.enableDecoding(i);for(var s=1,a=e[s++],o=new Dpe;s<e[0];){switch(a){case n.TEXT_COMPACTION_MODE_LATCH:s=n.textCompaction(e,s,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:s=n.byteCompaction(a,e,i,s,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[s++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:s=n.numericCompaction(e,s,r);break;case n.ECI_CHARSET:rr.getCharacterSetECIByValue(e[s++]);break;case n.ECI_GENERAL_PURPOSE:s+=2;break;case n.ECI_USER_DEFINED:s++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=n.decodeMacroBlock(e,s,o);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new Te;default:s--,s=n.textCompaction(e,s,r);break}if(s<e.length)a=e[s++];else throw Te.getFormatInstance()}if(r.length()===0)throw Te.getFormatInstance();var l=new Rw(null,r.toString(),null,t);return l.setOther(o),l},n.decodeMacroBlock=function(e,t,r){if(t+n.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Te.getFormatInstance();for(var i=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),s=0;s<n.NUMBER_OF_SEQUENCE_CODEWORDS;s++,t++)i[s]=e[t];r.setSegmentIndex(dt.parseInt(n.decodeBase900toBase10(i,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new lt;t=n.textCompaction(e,t,a),r.setFileId(a.toString());var o=-1;for(e[t]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=t+1);t<e[0];)switch(e[t]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new lt;t=n.textCompaction(e,t+1,l),r.setFileName(l.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new lt;t=n.textCompaction(e,t+1,u),r.setSender(u.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var h=new lt;t=n.textCompaction(e,t+1,h),r.setAddressee(h.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var p=new lt;t=n.numericCompaction(e,t+1,p),r.setSegmentCount(dt.parseInt(p.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var g=new lt;t=n.numericCompaction(e,t+1,g),r.setTimestamp(r6.parseLong(g.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var v=new lt;t=n.numericCompaction(e,t+1,v),r.setChecksum(dt.parseInt(v.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var w=new lt;t=n.numericCompaction(e,t+1,w),r.setFileSize(r6.parseLong(w.toString()));break;default:throw Te.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw Te.getFormatInstance()}if(o!==-1){var x=t-o;r.isLastSegment()&&x--,r.setOptionalData(ir.copyOfRange(e,o,o+x))}return t},n.textCompaction=function(e,t,r){for(var i=new Int32Array((e[0]-t)*2),s=new Int32Array((e[0]-t)*2),a=0,o=!1;t<e[0]&&!o;){var l=e[t++];if(l<n.TEXT_COMPACTION_MODE_LATCH)i[a]=l/30,i[a+1]=l%30,a+=2;else switch(l){case n.TEXT_COMPACTION_MODE_LATCH:i[a++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,o=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[t++],s[a]=l,a++;break}}return n.decodeTextCompaction(i,s,a,r),t},n.decodeTextCompaction=function(e,t,r,i){for(var s=nn.ALPHA,a=nn.ALPHA,o=0;o<r;){var l=e[o],u="";switch(s){case nn.ALPHA:if(l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case n.LL:s=nn.LOWER;break;case n.ML:s=nn.MIXED;break;case n.PS:a=s,s=nn.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[o]);break;case n.TEXT_COMPACTION_MODE_LATCH:s=nn.ALPHA;break}break;case nn.LOWER:if(l<26)u=String.fromCharCode(97+l);else switch(l){case 26:u=" ";break;case n.AS:a=s,s=nn.ALPHA_SHIFT;break;case n.ML:s=nn.MIXED;break;case n.PS:a=s,s=nn.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[o]);break;case n.TEXT_COMPACTION_MODE_LATCH:s=nn.ALPHA;break}break;case nn.MIXED:if(l<n.PL)u=n.MIXED_CHARS[l];else switch(l){case n.PL:s=nn.PUNCT;break;case 26:u=" ";break;case n.LL:s=nn.LOWER;break;case n.AL:s=nn.ALPHA;break;case n.PS:a=s,s=nn.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[o]);break;case n.TEXT_COMPACTION_MODE_LATCH:s=nn.ALPHA;break}break;case nn.PUNCT:if(l<n.PAL)u=n.PUNCT_CHARS[l];else switch(l){case n.PAL:s=nn.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[o]);break;case n.TEXT_COMPACTION_MODE_LATCH:s=nn.ALPHA;break}break;case nn.ALPHA_SHIFT:if(s=a,l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:s=nn.ALPHA;break}break;case nn.PUNCT_SHIFT:if(s=a,l<n.PAL)u=n.PUNCT_CHARS[l];else switch(l){case n.PAL:s=nn.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[o]);break;case n.TEXT_COMPACTION_MODE_LATCH:s=nn.ALPHA;break}break}u!==""&&i.append(u),o++}},n.byteCompaction=function(e,t,r,i,s){var a=new Lpe,o=0,l=0,u=!1;switch(e){case n.BYTE_COMPACTION_MODE_LATCH:for(var h=new Int32Array(6),p=t[i++];i<t[0]&&!u;)switch(h[o++]=p,l=900*l+p,p=t[i++],p){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,u=!0;break;default:if(o%5===0&&o>0){for(var g=0;g<6;++g)a.write(Number(Dl(l)>>Dl(8*(5-g))));l=0,o=0}break}i===t[0]&&p<n.TEXT_COMPACTION_MODE_LATCH&&(h[o++]=p);for(var v=0;v<o;v++)a.write(h[v]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!u;){var w=t[i++];if(w<n.TEXT_COMPACTION_MODE_LATCH)o++,l=900*l+w;else switch(w){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,u=!0;break}if(o%5===0&&o>0){for(var g=0;g<6;++g)a.write(Number(Dl(l)>>Dl(8*(5-g))));l=0,o=0}}break}return s.append(ys.decode(a.toByteArray(),r)),i},n.numericCompaction=function(e,t,r){for(var i=0,s=!1,a=new Int32Array(n.MAX_NUMERIC_CODEWORDS);t<e[0]&&!s;){var o=e[t++];if(t===e[0]&&(s=!0),o<n.TEXT_COMPACTION_MODE_LATCH)a[i]=o,i++;else switch(o){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,s=!0;break}(i%n.MAX_NUMERIC_CODEWORDS===0||o===n.NUMERIC_COMPACTION_MODE_LATCH||s)&&i>0&&(r.append(n.decodeBase900toBase10(a,i)),i=0)}return t},n.decodeBase900toBase10=function(e,t){for(var r=Dl(0),i=0;i<t;i++)r+=n.EXP900[t-i-1]*Dl(e[i]);var s=r.toString();if(s.charAt(0)!=="1")throw new Te;return s.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,n.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",n.EXP900=HF()?Vpe():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n}(),gg=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fpe=function(){function n(){}return n.decode=function(e,t,r,i,s,a,o){for(var l=new yS(e,t,r,i,s),u=null,h=null,p,g=!0;;g=!1){if(t!=null&&(u=n.getRowIndicatorColumn(e,l,t,!0,a,o)),i!=null&&(h=n.getRowIndicatorColumn(e,l,i,!1,a,o)),p=n.merge(u,h),p==null)throw pe.getNotFoundInstance();var v=p.getBoundingBox();if(g&&v!=null&&(v.getMinY()<l.getMinY()||v.getMaxY()>l.getMaxY()))l=v;else break}p.setBoundingBox(l);var w=p.getBarcodeColumnCount()+1;p.setDetectionResultColumn(0,u),p.setDetectionResultColumn(w,h);for(var x=u!=null,E=1;E<=w;E++){var A=x?E:w-E;if(p.getDetectionResultColumn(A)===void 0){var T=void 0;A===0||A===w?T=new n6(l,A===0):T=new jF(l),p.setDetectionResultColumn(A,T);for(var I=-1,P=I,O=l.getMinY();O<=l.getMaxY();O++){if(I=n.getStartColumn(p,A,O,x),I<0||I>l.getMaxX()){if(P===-1)continue;I=P}var V=n.detectCodeword(e,l.getMinX(),l.getMaxX(),x,I,O,a,o);V!=null&&(T.setCodeword(O,V),P=I,a=Math.min(a,V.getWidth()),o=Math.max(o,V.getWidth()))}}}return n.createDecoderResult(p)},n.merge=function(e,t){if(e==null&&t==null)return null;var r=n.getBarcodeMetadata(e,t);if(r==null)return null;var i=yS.merge(n.adjustBoundingBox(e),n.adjustBoundingBox(t));return new Tpe(r,i)},n.adjustBoundingBox=function(e){var t,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var s=n.getMax(i),a=0;try{for(var o=gg(i),l=o.next();!l.done;l=o.next()){var u=l.value;if(a+=s-u,u>0)break}}catch(v){t={error:v}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}for(var h=e.getCodewords(),p=0;a>0&&h[p]==null;p++)a--;for(var g=0,p=i.length-1;p>=0&&(g+=s-i[p],!(i[p]>0));p--);for(var p=h.length-1;g>0&&h[p]==null;p--)g--;return e.getBoundingBox().addMissingRows(a,g,e.isLeft())},n.getMax=function(e){var t,r,i=-1;try{for(var s=gg(e),a=s.next();!a.done;a=s.next()){var o=a.value;i=Math.max(i,o)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},n.getBarcodeMetadata=function(e,t){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},n.getRowIndicatorColumn=function(e,t,r,i,s,a){for(var o=new n6(t,i),l=0;l<2;l++)for(var u=l===0?1:-1,h=Math.trunc(Math.trunc(r.getX())),p=Math.trunc(Math.trunc(r.getY()));p<=t.getMaxY()&&p>=t.getMinY();p+=u){var g=n.detectCodeword(e,0,e.getWidth(),i,h,p,s,a);g!=null&&(o.setCodeword(p,g),i?h=g.getStartX():h=g.getEndX())}return o},n.adjustCodewordCount=function(e,t){var r=t[0][1],i=r.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-n.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(s<1||s>Tt.MAX_CODEWORDS_IN_BARCODE)throw pe.getNotFoundInstance();r.setValue(s)}else i[0]!==s&&r.setValue(s)},n.createDecoderResult=function(e){var t=n.createBarcodeMatrix(e);n.adjustCodewordCount(e,t);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],a=new Array,o=0;o<e.getBarcodeRowCount();o++)for(var l=0;l<e.getBarcodeColumnCount();l++){var u=t[o][l+1].getValue(),h=o*e.getBarcodeColumnCount()+l;u.length===0?r.push(h):u.length===1?i[h]=u[0]:(a.push(h),s.push(u))}for(var p=new Array(s.length),g=0;g<p.length;g++)p[g]=s[g];return n.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Tt.toIntArray(r),Tt.toIntArray(a),p)},n.createDecoderResultFromAmbiguousValues=function(e,t,r,i,s){for(var a=new Int32Array(i.length),o=100;o-- >0;){for(var l=0;l<a.length;l++)t[i[l]]=s[l][a[l]];try{return n.decodeCodewords(t,e,r)}catch(h){var u=h instanceof _r;if(!u)throw h}if(a.length===0)throw _r.getChecksumInstance();for(var l=0;l<a.length;l++)if(a[l]<s[l].length-1){a[l]++;break}else if(a[l]=0,l===a.length-1)throw _r.getChecksumInstance()}throw _r.getChecksumInstance()},n.createBarcodeMatrix=function(e){for(var t,r,i,s,a=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),o=0;o<a.length;o++)for(var l=0;l<a[o].length;l++)a[o][l]=new Bg;var u=0;try{for(var h=gg(e.getDetectionResultColumns()),p=h.next();!p.done;p=h.next()){var g=p.value;if(g!=null)try{for(var v=(i=void 0,gg(g.getCodewords())),w=v.next();!w.done;w=v.next()){var x=w.value;if(x!=null){var E=x.getRowNumber();if(E>=0){if(E>=a.length)continue;a[E][u].setValue(x.getValue())}}}}catch(A){i={error:A}}finally{try{w&&!w.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}u++}}catch(A){t={error:A}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}return a},n.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},n.getStartColumn=function(e,t,r,i){var s,a,o=i?1:-1,l=null;if(n.isValidBarcodeColumn(e,t-o)&&(l=e.getDetectionResultColumn(t-o).getCodeword(r)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(t).getCodewordNearby(r),l!=null)return i?l.getStartX():l.getEndX();if(n.isValidBarcodeColumn(e,t-o)&&(l=e.getDetectionResultColumn(t-o).getCodewordNearby(r)),l!=null)return i?l.getEndX():l.getStartX();for(var u=0;n.isValidBarcodeColumn(e,t-o);){t-=o;try{for(var h=(s=void 0,gg(e.getDetectionResultColumn(t).getCodewords())),p=h.next();!p.done;p=h.next()){var g=p.value;if(g!=null)return(i?g.getEndX():g.getStartX())+o*u*(g.getEndX()-g.getStartX())}}catch(v){s={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}u++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},n.detectCodeword=function(e,t,r,i,s,a,o,l){s=n.adjustCodewordStartColumn(e,t,r,i,s,a);var u=n.getModuleBitCount(e,t,r,i,s,a);if(u==null)return null;var h,p=Rt.sum(u);if(i)h=s+p;else{for(var g=0;g<u.length/2;g++){var v=u[g];u[g]=u[u.length-1-g],u[u.length-1-g]=v}h=s,s=h-p}if(!n.checkCodewordSkew(p,o,l))return null;var w=Ipe.getDecodedValue(u),x=Tt.getCodeword(w);return x===-1?null:new Cpe(s,h,n.getCodewordBucketNumber(w),x)},n.getModuleBitCount=function(e,t,r,i,s,a){for(var o=s,l=new Int32Array(8),u=0,h=i?1:-1,p=i;(i?o<r:o>=t)&&u<l.length;)e.get(o,a)===p?(l[u]++,o+=h):(u++,p=!p);return u===l.length||o===(i?r:t)&&u===l.length-1?l:null},n.getNumberOfECCodeWords=function(e){return 2<<e},n.adjustCodewordStartColumn=function(e,t,r,i,s,a){for(var o=s,l=i?-1:1,u=0;u<2;u++){for(;(i?o>=t:o<r)&&i===e.get(o,a);){if(Math.abs(s-o)>n.CODEWORD_SKEW_SIZE)return s;o+=l}l=-l,i=!i}return o},n.checkCodewordSkew=function(e,t,r){return t-n.CODEWORD_SKEW_SIZE<=e&&e<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(e,t,r){if(e.length===0)throw Te.getFormatInstance();var i=1<<t+1,s=n.correctErrors(e,r,i);n.verifyCodewordCount(e,i);var a=Bpe.decode(e,""+t);return a.setErrorsCorrected(s),a.setErasures(r.length),a},n.correctErrors=function(e,t,r){if(t!=null&&t.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw _r.getChecksumInstance();return n.errorCorrection.decode(e,r,t)},n.verifyCodewordCount=function(e,t){if(e.length<4)throw Te.getFormatInstance();var r=e[0];if(r>e.length)throw Te.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw Te.getFormatInstance()},n.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),r=0,i=t.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)t[i]++,e>>=1;return t},n.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},n.getCodewordBucketNumber_number=function(e){return n.getCodewordBucketNumber(n.getBitCountForCodeword(e))},n.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},n.toString=function(e){for(var t=new _I,r=0;r<e.length;r++){t.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var s=e[r][i];s.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}t.format("%n")}return t.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new _pe,n}(),Upe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_S=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=n.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw pe.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return n.decode(e,t,!0)}catch(r){throw r instanceof Te||r instanceof _r?pe.getNotFoundInstance():r}},n.decode=function(e,t,r){var i,s,a=new Array,o=dpe.detectMultiple(e,t,r);try{for(var l=Upe(o.getPoints()),u=l.next();!u.done;u=l.next()){var h=u.value,p=Fpe.decode(o.getBits(),h[4],h[5],h[6],h[7],n.getMinCodewordWidth(h),n.getMaxCodewordWidth(h)),g=new Xr(p.getText(),p.getRawBytes(),void 0,h,Ye.PDF_417);g.putMetadata(Pr.ERROR_CORRECTION_LEVEL,p.getECLevel());var v=p.getOther();v!=null&&g.putMetadata(Pr.PDF417_EXTRA_METADATA,v),a.push(g)}}catch(w){i={error:w}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return a.map(function(w){return w})},n.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMinWidth=function(e,t){return e==null||t==null?dt.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(n.getMaxWidth(e[0],e[4]),n.getMaxWidth(e[6],e[2])*Tt.MODULES_IN_CODEWORD/Tt.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(e[1],e[5]),n.getMaxWidth(e[7],e[3])*Tt.MODULES_IN_CODEWORD/Tt.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(n.getMinWidth(e[0],e[4]),n.getMinWidth(e[6],e[2])*Tt.MODULES_IN_CODEWORD/Tt.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(e[1],e[5]),n.getMinWidth(e[7],e[3])*Tt.MODULES_IN_CODEWORD/Tt.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n}(),jpe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),i6=function(n){jpe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReaderException",e}(Ti),s6=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hpe=function(){function n(){}return n.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},n.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},n.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(_n.TRY_HARDER)!==void 0,r=e==null?null:e.get(_n.POSSIBLE_FORMATS),i=new Array;if(r!=null){var s=r.some(function(a){return a===Ye.UPC_A||a===Ye.UPC_E||a===Ye.EAN_13||a===Ye.EAN_8||a===Ye.CODABAR||a===Ye.CODE_39||a===Ye.CODE_93||a===Ye.CODE_128||a===Ye.ITF||a===Ye.RSS_14||a===Ye.RSS_EXPANDED});s&&!t&&i.push(new Vg(e)),r.includes(Ye.QR_CODE)&&i.push(new vS),r.includes(Ye.DATA_MATRIX)&&i.push(new mS),r.includes(Ye.AZTEC)&&i.push(new pS),r.includes(Ye.PDF_417)&&i.push(new _S),s&&t&&i.push(new Vg(e))}i.length===0&&(t||i.push(new Vg(e)),i.push(new vS),i.push(new mS),i.push(new pS),i.push(new _S),t&&i.push(new Vg(e))),this.readers=i},n.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var r=s6(this.readers),i=r.next();!i.done;i=r.next()){var s=i.value;s.reset()}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},n.prototype.decodeInternal=function(e){var t,r;if(this.readers===null)throw new i6("No readers where selected, nothing can be read.");try{for(var i=s6(this.readers),s=i.next();!s.done;s=i.next()){var a=s.value;try{return a.decode(e,this.hints)}catch(o){if(o instanceof i6)continue}}}catch(o){t={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}throw new pe("No MultiFormat Readers were able to detect the code.")},n}(),zpe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wpe=function(n){zpe(e,n);function e(t,r){t===void 0&&(t=null),r===void 0&&(r=500);var i=this,s=new Hpe;return s.setHints(t),i=n.call(this,s,r)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(jd),Ype=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){Ype(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new _S,t)||this}return e})(jd);var $pe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){$pe(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new vS,t)||this}return e})(jd);var wS;(function(n){n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",n[n.MIN_SIZE=4]="MIN_SIZE",n[n.MAX_SIZE=5]="MAX_SIZE",n[n.MARGIN=6]="MARGIN",n[n.PDF417_COMPACT=7]="PDF417_COMPACT",n[n.PDF417_COMPACTION=8]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=10]="AZTEC_LAYERS",n[n.QR_VERSION=11]="QR_VERSION",n[n.GS1_FORMAT=12]="GS1_FORMAT",n[n.FORCE_C40=13]="FORCE_C40"})(wS||(wS={}));const Ov=wS;var zF=function(){function n(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Kl(e,Int32Array.from([1])))}return n.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],i=this.field,s=t.length;s<=e;s++){var a=r.multiply(new Kl(i,Int32Array.from([1,i.exp(s-1+i.getGeneratorBase())])));t.push(a),r=a}return t[e]},n.prototype.encode=function(e,t){if(t===0)throw new Ge("No error correction bytes");var r=e.length-t;if(r<=0)throw new Ge("No data bytes provided");var i=this.buildGenerator(t),s=new Int32Array(r);cn.arraycopy(e,0,s,0,r);var a=new Kl(this.field,s);a=a.multiplyByMonomial(t,1);for(var o=a.divide(i)[1],l=o.getCoefficients(),u=t-l.length,h=0;h<u;h++)e[r+h]=0;cn.arraycopy(l,0,e,r+u,l.length)},n}(),Fg=function(){function n(){}return n.applyMaskPenaltyRule1=function(e){return n.applyMaskPenaltyRule1Internal(e,!0)+n.applyMaskPenaltyRule1Internal(e,!1)},n.applyMaskPenaltyRule2=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),s=e.getHeight(),a=0;a<s-1;a++)for(var o=r[a],l=0;l<i-1;l++){var u=o[l];u===o[l+1]&&u===r[a+1][l]&&u===r[a+1][l+1]&&t++}return n.N2*t},n.applyMaskPenaltyRule3=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),s=e.getHeight(),a=0;a<s;a++)for(var o=0;o<i;o++){var l=r[a];o+6<i&&l[o]===1&&l[o+1]===0&&l[o+2]===1&&l[o+3]===1&&l[o+4]===1&&l[o+5]===0&&l[o+6]===1&&(n.isWhiteHorizontal(l,o-4,o)||n.isWhiteHorizontal(l,o+7,o+11))&&t++,a+6<s&&r[a][o]===1&&r[a+1][o]===0&&r[a+2][o]===1&&r[a+3][o]===1&&r[a+4][o]===1&&r[a+5][o]===0&&r[a+6][o]===1&&(n.isWhiteVertical(r,o,a-4,a)||n.isWhiteVertical(r,o,a+7,a+11))&&t++}return t*n.N3},n.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var i=t;i<r;i++)if(e[i]===1)return!1;return!0},n.isWhiteVertical=function(e,t,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var s=r;s<i;s++)if(e[s][t]===1)return!1;return!0},n.applyMaskPenaltyRule4=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),s=e.getHeight(),a=0;a<s;a++)for(var o=r[a],l=0;l<i;l++)o[l]===1&&t++;var u=e.getHeight()*e.getWidth(),h=Math.floor(Math.abs(t*2-u)*10/u);return h*n.N4},n.getDataMaskBit=function(e,t,r){var i,s;switch(e){case 0:i=r+t&1;break;case 1:i=r&1;break;case 2:i=t%3;break;case 3:i=(r+t)%3;break;case 4:i=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:s=r*t,i=(s&1)+s%3;break;case 6:s=r*t,i=(s&1)+s%3&1;break;case 7:s=r*t,i=s%3+(r+t&1)&1;break;default:throw new Ge("Invalid mask pattern: "+e)}return i===0},n.applyMaskPenaltyRule1Internal=function(e,t){for(var r=0,i=t?e.getHeight():e.getWidth(),s=t?e.getWidth():e.getHeight(),a=e.getArray(),o=0;o<i;o++){for(var l=0,u=-1,h=0;h<s;h++){var p=t?a[o][h]:a[h][o];p===u?l++:(l>=5&&(r+=n.N1+(l-5)),l=1,u=p)}l>=5&&(r+=n.N1+(l-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n}(),Gpe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qpe=function(){function n(e,t){this.width=e,this.height=t;for(var r=new Array(t),i=0;i!==t;i++)r[i]=new Uint8Array(e);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(e,t){return this.bytes[t][e]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},n.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},n.prototype.clear=function(e){var t,r;try{for(var i=Gpe(this.bytes),s=i.next();!s.done;s=i.next()){var a=s.value;ir.fill(a,e)}}catch(o){t={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var s=this.bytes[r],a=t.bytes[r],o=0,l=this.width;o<l;++o)if(s[o]!==a[o])return!1;return!0},n.prototype.toString=function(){for(var e=new lt,t=0,r=this.height;t<r;++t){for(var i=this.bytes[t],s=0,a=this.width;s<a;++s)switch(i[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},n}(),xS=function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var e=new lt;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},n.prototype.setMode=function(e){this.mode=e},n.prototype.setECLevel=function(e){this.ecLevel=e},n.prototype.setVersion=function(e){this.version=e},n.prototype.setMaskPattern=function(e){this.maskPattern=e},n.prototype.setMatrix=function(e){this.matrix=e},n.isValidMaskPattern=function(e){return e>=0&&e<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n}(),Kpe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fn=function(n){Kpe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="WriterException",e}(Ti),a6=function(){function n(){}return n.clearMatrix=function(e){e.clear(255)},n.buildMatrix=function(e,t,r,i,s){n.clearMatrix(s),n.embedBasicPatterns(r,s),n.embedTypeInfo(t,i,s),n.maybeEmbedVersionInfo(r,s),n.embedDataBits(e,i,s)},n.embedBasicPatterns=function(e,t){n.embedPositionDetectionPatternsAndSeparators(t),n.embedDarkDotAtLeftBottomCorner(t),n.maybeEmbedPositionAdjustmentPatterns(e,t),n.embedTimingPatterns(t)},n.embedTypeInfo=function(e,t,r){var i=new wr;n.makeTypeInfoBits(e,t,i);for(var s=0,a=i.getSize();s<a;++s){var o=i.get(i.getSize()-1-s),l=n.TYPE_INFO_COORDINATES[s],u=l[0],h=l[1];if(r.setBoolean(u,h,o),s<8){var p=r.getWidth()-s-1,g=8;r.setBoolean(p,g,o)}else{var p=8,g=r.getHeight()-7+(s-8);r.setBoolean(p,g,o)}}},n.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var r=new wr;n.makeVersionInfoBits(e,r);for(var i=6*3-1,s=0;s<6;++s)for(var a=0;a<3;++a){var o=r.get(i);i--,t.setBoolean(s,t.getHeight()-11+a,o),t.setBoolean(t.getHeight()-11+a,s,o)}}},n.embedDataBits=function(e,t,r){for(var i=0,s=-1,a=r.getWidth()-1,o=r.getHeight()-1;a>0;){for(a===6&&(a-=1);o>=0&&o<r.getHeight();){for(var l=0;l<2;++l){var u=a-l;if(n.isEmpty(r.get(u,o))){var h=void 0;i<e.getSize()?(h=e.get(i),++i):h=!1,t!==255&&Fg.getDataMaskBit(t,u,o)&&(h=!h),r.setBoolean(u,o,h)}}o+=s}s=-s,o+=s,a-=2}if(i!==e.getSize())throw new fn("Not all bits consumed: "+i+"/"+e.getSize())},n.findMSBSet=function(e){return 32-dt.numberOfLeadingZeros(e)},n.calculateBCHCode=function(e,t){if(t===0)throw new Ge("0 polynomial");var r=n.findMSBSet(t);for(e<<=r-1;n.findMSBSet(e)>=r;)e^=t<<n.findMSBSet(e)-r;return e},n.makeTypeInfoBits=function(e,t,r){if(!xS.isValidMaskPattern(t))throw new fn("Invalid mask pattern");var i=e.getBits()<<3|t;r.appendBits(i,5);var s=n.calculateBCHCode(i,n.TYPE_INFO_POLY);r.appendBits(s,10);var a=new wr;if(a.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(a),r.getSize()!==15)throw new fn("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var r=n.calculateBCHCode(e.getVersionNumber(),n.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new fn("should not happen but we got: "+t.getSize())},n.isEmpty=function(e){return e===255},n.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var r=(t+1)%2;n.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),n.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}},n.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new fn;e.setNumber(8,e.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(e,t,r){for(var i=0;i<8;++i){if(!n.isEmpty(r.get(e+i,t)))throw new fn;r.setNumber(e+i,t,0)}},n.embedVerticalSeparationPattern=function(e,t,r){for(var i=0;i<7;++i){if(!n.isEmpty(r.get(e,t+i)))throw new fn;r.setNumber(e,t+i,0)}},n.embedPositionAdjustmentPattern=function(e,t,r){for(var i=0;i<5;++i)for(var s=n.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)r.setNumber(e+a,t+i,s[a])},n.embedPositionDetectionPattern=function(e,t,r){for(var i=0;i<7;++i)for(var s=n.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)r.setNumber(e+a,t+i,s[a])},n.embedPositionDetectionPatternsAndSeparators=function(e){var t=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,e),n.embedPositionDetectionPattern(e.getWidth()-t,0,e),n.embedPositionDetectionPattern(0,e.getWidth()-t,e);var r=8;n.embedHorizontalSeparationPattern(0,r-1,e),n.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),n.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;n.embedVerticalSeparationPattern(i,0,e),n.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),n.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},n.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],s=0,a=i.length;s!==a;s++){var o=i[s];if(o>=0)for(var l=0;l!==a;l++){var u=i[l];u>=0&&n.isEmpty(t.get(u,o))&&n.embedPositionAdjustmentPattern(u-2,o-2,t)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n}(),Xpe=function(){function n(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n}(),o6=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.calculateMaskPenalty=function(e){return Fg.applyMaskPenaltyRule1(e)+Fg.applyMaskPenaltyRule2(e)+Fg.applyMaskPenaltyRule3(e)+Fg.applyMaskPenaltyRule4(e)},n.encode=function(e,t,r){r===void 0&&(r=null);var i=n.DEFAULT_BYTE_MODE_ENCODING,s=r!==null&&r.get(Ov.CHARACTER_SET)!==void 0;s&&(i=r.get(Ov.CHARACTER_SET).toString());var a=this.chooseMode(e,i),o=new wr;if(a===hn.BYTE&&(s||n.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=rr.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,o)}this.appendModeInfo(a,o);var u=new wr;this.appendBytes(e,a,u,i);var h;if(r!==null&&r.get(Ov.QR_VERSION)!==void 0){var p=Number.parseInt(r.get(Ov.QR_VERSION).toString(),10);h=Bu.getVersionForNumber(p);var g=this.calculateBitsNeeded(a,o,u,h);if(!this.willFit(g,h,t))throw new fn("Data too big for requested version")}else h=this.recommendVersion(t,a,o,u);var v=new wr;v.appendBitArray(o);var w=a===hn.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(w,h,a,v),v.appendBitArray(u);var x=h.getECBlocksForLevel(t),E=h.getTotalCodewords()-x.getTotalECCodewords();this.terminateBits(E,v);var A=this.interleaveWithECBytes(v,h.getTotalCodewords(),E,x.getNumBlocks()),T=new xS;T.setECLevel(t),T.setMode(a),T.setVersion(h);var I=h.getDimensionForVersion(),P=new qpe(I,I),O=this.chooseMaskPattern(A,t,h,P);return T.setMaskPattern(O),a6.buildMatrix(A,t,h,O,P),T.setMatrix(P),T},n.recommendVersion=function(e,t,r,i){var s=this.calculateBitsNeeded(t,r,i,Bu.getVersionForNumber(1)),a=this.chooseVersion(s,e),o=this.calculateBitsNeeded(t,r,i,a);return this.chooseVersion(o,e)},n.calculateBitsNeeded=function(e,t,r,i){return t.getSize()+e.getCharacterCountBits(i)+r.getSize()},n.getAlphanumericCode=function(e){return e<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[e]:-1},n.chooseMode=function(e,t){if(t===void 0&&(t=null),rr.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return hn.KANJI;for(var r=!1,i=!1,s=0,a=e.length;s<a;++s){var o=e.charAt(s);if(n.isDigit(o))r=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)i=!0;else return hn.BYTE}return i?hn.ALPHANUMERIC:r?hn.NUMERIC:hn.BYTE},n.isOnlyDoubleByteKanji=function(e){var t;try{t=ys.encode(e,rr.SJIS)}catch{return!1}var r=t.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var s=t[i]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0},n.chooseMaskPattern=function(e,t,r,i){for(var s=Number.MAX_SAFE_INTEGER,a=-1,o=0;o<xS.NUM_MASK_PATTERNS;o++){a6.buildMatrix(e,t,r,o,i);var l=this.calculateMaskPenalty(i);l<s&&(s=l,a=o)}return a},n.chooseVersion=function(e,t){for(var r=1;r<=40;r++){var i=Bu.getVersionForNumber(r);if(n.willFit(e,i,t))return i}throw new fn("Data too big")},n.willFit=function(e,t,r){var i=t.getTotalCodewords(),s=t.getECBlocksForLevel(r),a=s.getTotalECCodewords(),o=i-a,l=(e+7)/8;return o>=l},n.terminateBits=function(e,t){var r=e*8;if(t.getSize()>r)throw new fn("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var i=0;i<4&&t.getSize()<r;++i)t.appendBit(!1);var s=t.getSize()&7;if(s>0)for(var i=s;i<8;i++)t.appendBit(!1);for(var a=e-t.getSizeInBytes(),i=0;i<a;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==r)throw new fn("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,i,s,a){if(i>=r)throw new fn("Block ID too large");var o=e%r,l=r-o,u=Math.floor(e/r),h=u+1,p=Math.floor(t/r),g=p+1,v=u-p,w=h-g;if(v!==w)throw new fn("EC bytes mismatch");if(r!==l+o)throw new fn("RS blocks mismatch");if(e!==(p+v)*l+(g+w)*o)throw new fn("Total bytes mismatch");i<l?(s[0]=p,a[0]=v):(s[0]=g,a[0]=w)},n.interleaveWithECBytes=function(e,t,r,i){var s,a,o,l;if(e.getSizeInBytes()!==r)throw new fn("Number of bits and data bytes does not match");for(var u=0,h=0,p=0,g=new Array,v=0;v<i;++v){var w=new Int32Array(1),x=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(t,r,i,v,w,x);var E=w[0],A=new Uint8Array(E);e.toBytes(8*u,A,0,E);var T=n.generateECBytes(A,x[0]);g.push(new Xpe(A,T)),h=Math.max(h,E),p=Math.max(p,T.length),u+=w[0]}if(r!==u)throw new fn("Data bytes does not match offset");for(var I=new wr,v=0;v<h;++v)try{for(var P=(s=void 0,o6(g)),O=P.next();!O.done;O=P.next()){var V=O.value,A=V.getDataBytes();v<A.length&&I.appendBits(A[v],8)}}catch(L){s={error:L}}finally{try{O&&!O.done&&(a=P.return)&&a.call(P)}finally{if(s)throw s.error}}for(var v=0;v<p;++v)try{for(var R=(o=void 0,o6(g)),C=R.next();!C.done;C=R.next()){var V=C.value,T=V.getErrorCorrectionBytes();v<T.length&&I.appendBits(T[v],8)}}catch(L){o={error:L}}finally{try{C&&!C.done&&(l=R.return)&&l.call(R)}finally{if(o)throw o.error}}if(t!==I.getSizeInBytes())throw new fn("Interleaving error: "+t+" and "+I.getSizeInBytes()+" differ.");return I},n.generateECBytes=function(e,t){for(var r=e.length,i=new Int32Array(r+t),s=0;s<r;s++)i[s]=e[s]&255;new zF(_i.QR_CODE_FIELD_256).encode(i,t);for(var a=new Uint8Array(t),s=0;s<t;s++)a[s]=i[r+s];return a},n.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},n.appendLengthInfo=function(e,t,r,i){var s=r.getCharacterCountBits(t);if(e>=1<<s)throw new fn(e+" is bigger than "+((1<<s)-1));i.appendBits(e,s)},n.appendBytes=function(e,t,r,i){switch(t){case hn.NUMERIC:n.appendNumericBytes(e,r);break;case hn.ALPHANUMERIC:n.appendAlphanumericBytes(e,r);break;case hn.BYTE:n.append8BitBytes(e,r,i);break;case hn.KANJI:n.appendKanjiBytes(e,r);break;default:throw new fn("Invalid mode: "+t)}},n.getDigit=function(e){return e.charCodeAt(0)-48},n.isDigit=function(e){var t=n.getDigit(e);return t>=0&&t<=9},n.appendNumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var s=n.getDigit(e.charAt(i));if(i+2<r){var a=n.getDigit(e.charAt(i+1)),o=n.getDigit(e.charAt(i+2));t.appendBits(s*100+a*10+o,10),i+=3}else if(i+1<r){var a=n.getDigit(e.charAt(i+1));t.appendBits(s*10+a,7),i+=2}else t.appendBits(s,4),i++}},n.appendAlphanumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var s=n.getAlphanumericCode(e.charCodeAt(i));if(s===-1)throw new fn;if(i+1<r){var a=n.getAlphanumericCode(e.charCodeAt(i+1));if(a===-1)throw new fn;t.appendBits(s*45+a,11),i+=2}else t.appendBits(s,6),i++}},n.append8BitBytes=function(e,t,r){var i;try{i=ys.encode(e,r)}catch(l){throw new fn(l)}for(var s=0,a=i.length;s!==a;s++){var o=i[s];t.appendBits(o,8)}},n.appendKanjiBytes=function(e,t){var r;try{r=ys.encode(e,rr.SJIS)}catch(p){throw new fn(p)}for(var i=r.length,s=0;s<i;s+=2){var a=r[s]&255,o=r[s+1]&255,l=a<<8&4294967295|o,u=-1;if(l>=33088&&l<=40956?u=l-33088:l>=57408&&l<=60351&&(u=l-49472),u===-1)throw new fn("Invalid byte sequence");var h=(u>>8)*192+(u&255);t.appendBits(h,13)}},n.appendECI=function(e,t){t.appendBits(hn.ECI.getBits(),4),t.appendBits(e.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=rr.UTF8.getName(),n})();var Qpe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){Qpe(e,n);function e(t,r,i,s,a,o,l,u){var h=n.call(this,o,l)||this;if(h.yuvData=t,h.dataWidth=r,h.dataHeight=i,h.left=s,h.top=a,s+o>r||a+l>i)throw new Ge("Crop rectangle does not fit within image data.");return u&&h.reverseHorizontal(o,l),h}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Ge("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var s=(t+this.top)*this.dataWidth+this.left;return cn.arraycopy(this.yuvData,s,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=t*r,s=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return cn.arraycopy(this.yuvData,a,s,0,i),s;for(var o=0;o<r;o++){var l=o*t;cn.arraycopy(this.yuvData,a,s,l,t),a+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,s){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,s,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),s=this.yuvData,a=this.top*this.dataWidth+this.left,o=0;o<r;o++){for(var l=o*t,u=0;u<t;u++){var h=s[a+u*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+u]=4278190080|h*65793}a+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,r){for(var i=this.yuvData,s=0,a=this.top*this.dataWidth+this.left;s<r;s++,a+=this.dataWidth)for(var o=a+t/2,l=a,u=a+t-1;l<o;l++,u--){var h=i[l];i[l]=i[u],i[u]=h}},e.prototype.invert=function(){return new gI(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Dw);var Zpe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){Zpe(e,n);function e(t,r,i,s,a,o,l){var u=n.call(this,r,i)||this;if(u.dataWidth=s,u.dataHeight=a,u.left=o,u.top=l,t.BYTES_PER_ELEMENT===4){for(var h=r*i,p=new Uint8ClampedArray(h),g=0;g<h;g++){var v=t[g],w=v>>16&255,x=v>>7&510,E=v&255;p[g]=(w+x+E)/4&255}u.luminances=p}else u.luminances=t;if(s===void 0&&(u.dataWidth=r),a===void 0&&(u.dataHeight=i),o===void 0&&(u.left=0),l===void 0&&(u.top=0),u.left+r>u.dataWidth||u.top+i>u.dataHeight)throw new Ge("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Ge("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var s=(t+this.top)*this.dataWidth+this.left;return cn.arraycopy(this.luminances,s,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=t*r,s=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return cn.arraycopy(this.luminances,a,s,0,i),s;for(var o=0;o<r;o++){var l=o*t;cn.arraycopy(this.luminances,a,s,l,t),a+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,s){return new e(this.luminances,i,s,this.dataWidth,this.dataHeight,this.left+t,this.top+r)},e.prototype.invert=function(){return new gI(this)},e})(Dw);var Jpe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ege=function(n){Jpe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(rr),tge=function(){function n(){}return n.ISO_8859_1=rr.ISO8859_1,n}(),bS,nge=301,rge=function(n,e){for(var t=1,r=0;r<255;r++)e[r]=t,n[t]=r,t*=2,t>=256&&(t^=nge);return{LOG:n,ALOG:e}};bS=rge([],[]),bS.LOG;bS.ALOG;var l6;(function(n){n[n.FORCE_NONE=0]="FORCE_NONE",n[n.FORCE_SQUARE=1]="FORCE_SQUARE",n[n.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(l6||(l6={}));var c6=129,WF=230,ige=231,sge=235,age=236,oge=237,lge=238,cge=239,uge=240,JE=254,fge=254,u6="[)>05",f6="[)>06",h6="",$t=0,Rr=1,ri=2,tr=3,mr=4,Ur=5,hge=function(){function n(){}return n.prototype.getEncodingMode=function(){return $t},n.prototype.encode=function(e){var t=Bs.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=Bs.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Ur:e.writeCodeword(ige),e.signalEncoderChange(Ur);return;case Rr:e.writeCodeword(WF),e.signalEncoderChange(Rr);return;case tr:e.writeCodeword(lge),e.signalEncoderChange(tr);break;case ri:e.writeCodeword(cge),e.signalEncoderChange(ri);break;case mr:e.writeCodeword(uge),e.signalEncoderChange(mr);break;default:throw new Error("Illegal mode: "+i)}else Bs.isExtendedASCII(r)?(e.writeCodeword(sge),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},n.prototype.encodeASCIIDigits=function(e,t){if(Bs.isDigit(e)&&Bs.isDigit(t)){var r=(e-48)*10+(t-48);return r+130}throw new Error("not digits: "+e+t)},n}(),dge=function(){function n(){}return n.prototype.getEncodingMode=function(){return Ur},n.prototype.encode=function(e){var t=new lt;for(t.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();t.append(r),e.pos++;var i=Bs.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange($t);break}}var s=t.length()-1,a=1,o=e.getCodewordCount()+s+a;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o>0;if(e.hasMoreCharacters()||l)if(s<=249)t.setCharAt(0,St.getCharAt(s));else if(s<=1555)t.setCharAt(0,St.getCharAt(Math.floor(s/250)+249)),t.insert(1,St.getCharAt(s%250));else throw new Error("Message length not in valid ranges: "+s);for(var u=0,r=t.length();u<r;u++)e.writeCodeword(this.randomize255State(t.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},n.prototype.randomize255State=function(e,t){var r=149*t%255+1,i=e+r;return i<=255?i:i-256},n}(),wI=function(){function n(){}return n.prototype.getEncodingMode=function(){return Rr},n.prototype.encodeMaximal=function(e){for(var t=new lt,r=0,i=e.pos,s=0;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++,r=this.encodeChar(a,t),t.length()%3===0&&(i=e.pos,s=t.length())}if(s!==t.length()){var o=Math.floor(t.length()/3*2),l=Math.floor(e.getCodewordCount()+o+1);e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l,h=Math.floor(t.length()%3);(h===2&&u!==2||h===1&&(r>3||u!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(WF),this.handleEOD(e,t)},n.prototype.encode=function(e){for(var t=new lt;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,t),s=Math.floor(t.length()/3)*2,a=e.getCodewordCount()+s;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(!e.hasMoreCharacters()){var l=new lt;for(t.length()%3===2&&o!==2&&(i=this.backtrackOneCharacter(e,t,l,i));t.length()%3===1&&(i>3||o!==1);)i=this.backtrackOneCharacter(e,t,l,i);break}var u=t.length();if(u%3===0){var h=Bs.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(h!==this.getEncodingMode()){e.signalEncoderChange($t);break}}}this.handleEOD(e,t)},n.prototype.backtrackOneCharacter=function(e,t,r,i){var s=t.length(),a=t.toString().substring(0,s-i);t.setLengthToZero(),t.append(a),e.pos--;var o=e.getCurrentChar();return i=this.encodeChar(o,r),e.resetSymbolInfo(),i},n.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(3);t.setLengthToZero(),t.append(r)},n.prototype.handleEOD=function(e,t){var r=Math.floor(t.length()/3*2),i=t.length()%3,s=e.getCodewordCount()+r;e.updateSymbolInfo(s);var a=e.getSymbolInfo().getDataCapacity()-s;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(JE)}else if(a===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(JE),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(a>0||e.hasMoreCharacters())&&e.writeCodeword(JE)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange($t)},n.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var r=2;return r+=this.encodeChar(e-128,t),r},n.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=t/256,i=t%256,s=new lt;return s.append(r),s.append(i),s.toString()},n}(),pge=function(){function n(){}return n.prototype.getEncodingMode=function(){return mr},n.prototype.encode=function(e){for(var t=new lt;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var s=t.toString().substring(4);t.setLengthToZero(),t.append(s);var a=Bs.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange($t);break}}}t.append(St.getCharAt(31)),this.handleEOD(e,t)},n.prototype.handleEOD=function(e,t){try{var r=t.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),s=e.getRemainingCharacters();if(s>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),s<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var a=r-1,o=this.encodeToCodewords(t.toString()),l=!e.hasMoreCharacters(),u=l&&a<=2;if(a<=2){e.updateSymbolInfo(e.getCodewordCount()+a);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+o.length))}u?(e.resetSymbolInfo(),e.pos-=a):e.writeCodewords(o)}finally{e.signalEncoderChange($t)}},n.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(St.getCharAt(e-64)):Bs.illegalCharacter(St.getCharAt(e))},n.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,s=t>=3?e.charAt(2).charCodeAt(0):0,a=t>=4?e.charAt(3).charCodeAt(0):0,o=(r<<18)+(i<<12)+(s<<6)+a,l=o>>16&255,u=o>>8&255,h=o&255,p=new lt;return p.append(l),t>=2&&p.append(u),t>=3&&p.append(h),p.toString()},n}(),gge=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mge=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mt=function(){function n(e,t,r,i,s,a,o,l){o===void 0&&(o=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=s,this.dataRegions=a,this.rsBlockData=o,this.rsBlockError=l}return n.lookup=function(e,t,r,i,s){var a,o;t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),s===void 0&&(s=!0);try{for(var l=mge(yge),u=l.next();!u.done;u=l.next()){var h=u.value;if(!(t===1&&h.rectangular)&&!(t===2&&!h.rectangular)&&!(r!=null&&(h.getSymbolWidth()<r.getWidth()||h.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(h.getSymbolWidth()>i.getWidth()||h.getSymbolHeight()>i.getHeight()))&&e<=h.dataCapacity)return h}}catch(p){a={error:p}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}if(s)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},n.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},n.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},n.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},n.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},n.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},n.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},n.prototype.getDataCapacity=function(){return this.dataCapacity},n.prototype.getErrorCodewords=function(){return this.errorCodewords},n.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},n.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},n}(),vge=function(n){gge(e,n);function e(){return n.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(Mt),yge=[new Mt(!1,3,5,8,8,1),new Mt(!1,5,7,10,10,1),new Mt(!0,5,7,16,6,1),new Mt(!1,8,10,12,12,1),new Mt(!0,10,11,14,6,2),new Mt(!1,12,12,14,14,1),new Mt(!0,16,14,24,10,1),new Mt(!1,18,14,16,16,1),new Mt(!1,22,18,18,18,1),new Mt(!0,22,18,16,10,2),new Mt(!1,30,20,20,20,1),new Mt(!0,32,24,16,14,2),new Mt(!1,36,24,22,22,1),new Mt(!1,44,28,24,24,1),new Mt(!0,49,28,22,14,2),new Mt(!1,62,36,14,14,4),new Mt(!1,86,42,16,16,4),new Mt(!1,114,48,18,18,4),new Mt(!1,144,56,20,20,4),new Mt(!1,174,68,22,22,4),new Mt(!1,204,84,24,24,4,102,42),new Mt(!1,280,112,14,14,16,140,56),new Mt(!1,368,144,16,16,16,92,36),new Mt(!1,456,192,18,18,16,114,48),new Mt(!1,576,224,20,20,16,144,56),new Mt(!1,696,272,22,22,16,174,68),new Mt(!1,816,336,24,24,16,136,56),new Mt(!1,1050,408,18,18,36,175,68),new Mt(!1,1304,496,20,20,36,163,62),new vge],_ge=function(){function n(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(o){return o.charCodeAt(0)}),r=new lt,i=0,s=t.length;i<s;i++){var a=String.fromCharCode(t[i]&255);if(a==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(a)}this.msg=r.toString(),this.shape=0,this.codewords=new lt,this.newEncoding=-1}return n.prototype.setSymbolShape=function(e){this.shape=e},n.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},n.prototype.getMessage=function(){return this.msg},n.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},n.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCodewords=function(){return this.codewords},n.prototype.writeCodewords=function(e){this.codewords.append(e)},n.prototype.writeCodeword=function(e){this.codewords.append(e)},n.prototype.getCodewordCount=function(){return this.codewords.length()},n.prototype.getNewEncoding=function(){return this.newEncoding},n.prototype.signalEncoderChange=function(e){this.newEncoding=e},n.prototype.resetEncoderSignal=function(){this.newEncoding=-1},n.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},n.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},n.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},n.prototype.getSymbolInfo=function(){return this.symbolInfo},n.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Mt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},n.prototype.resetSymbolInfo=function(){this.symbolInfo=null},n}(),wge=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xge=function(n){wge(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return tr},e.prototype.encode=function(t){for(var r=new lt;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,r);var s=r.length();if(s%3===0){this.writeNextTriplet(t,r);var a=Bs.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){t.signalEncoderChange($t);break}}}this.handleEOD(t,r)},e.prototype.encodeChar=function(t,r){switch(t){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:t>=48&&t<=57?r.append(t-48+4):t>=65&&t<=90?r.append(t-65+14):Bs.illegalCharacter(St.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,r){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),s=r.length();t.pos-=s,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(fge),t.getNewEncoding()<0&&t.signalEncoderChange($t)},e}(wI),bge=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ege=function(n){bge(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return ri},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=97&&t<=122)return r.append(t-97+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t>=91&&t<=95)return r.append(1),r.append(t-91+22),2;if(t===96)return r.append(2),r.append(0),2;if(t<=90)return r.append(2),r.append(t-65+1),2;if(t<=127)return r.append(2),r.append(t-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(t-128,r),i},e}(wI),Bs=function(){function n(){}return n.randomize253State=function(e){var t=149*e%253+1,r=c6+t;return r<=254?r:r-254},n.encodeHighLevel=function(e,t,r,i,s){t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),s===void 0&&(s=!1);var a=new wI,o=[new hge,a,new Ege,new xge,new pge,new dge],l=new _ge(e);l.setSymbolShape(t),l.setSizeConstraints(r,i),e.startsWith(u6)&&e.endsWith(h6)?(l.writeCodeword(age),l.setSkipAtEnd(2),l.pos+=u6.length):e.startsWith(f6)&&e.endsWith(h6)&&(l.writeCodeword(oge),l.setSkipAtEnd(2),l.pos+=f6.length);var u=$t;for(s&&(a.encodeMaximal(l),u=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)o[u].encode(l),l.getNewEncoding()>=0&&(u=l.getNewEncoding(),l.resetEncoderSignal());var h=l.getCodewordCount();l.updateSymbolInfo();var p=l.getSymbolInfo().getDataCapacity();h<p&&u!==$t&&u!==Ur&&u!==mr&&l.writeCodeword("");var g=l.getCodewords();for(g.length()<p&&g.append(c6);g.length()<p;)g.append(this.randomize253State(g.length()+1));return l.getCodewords().toString()},n.lookAheadTest=function(e,t,r){var i=this.lookAheadTestIntern(e,t,r);if(r===tr&&i===tr){for(var s=Math.min(t+3,e.length),a=t;a<s;a++)if(!this.isNativeX12(e.charCodeAt(a)))return $t}else if(r===mr&&i===mr){for(var s=Math.min(t+4,e.length),a=t;a<s;a++)if(!this.isNativeEDIFACT(e.charCodeAt(a)))return $t}return i},n.lookAheadTestIntern=function(e,t,r){if(t>=e.length)return r;var i;r===$t?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var s=0,a=new Uint8Array(6),o=[];;){if(t+s===e.length){ir.fill(a,0),ir.fill(o,0);var l=this.findMinimums(i,o,dt.MAX_VALUE,a),u=this.getMinimumCount(a);if(o[$t]===l)return $t;if(u===1){if(a[Ur]>0)return Ur;if(a[mr]>0)return mr;if(a[ri]>0)return ri;if(a[tr]>0)return tr}return Rr}var h=e.charCodeAt(t+s);if(s++,this.isDigit(h)?i[$t]+=.5:this.isExtendedASCII(h)?(i[$t]=Math.ceil(i[$t]),i[$t]+=2):(i[$t]=Math.ceil(i[$t]),i[$t]++),this.isNativeC40(h)?i[Rr]+=2/3:this.isExtendedASCII(h)?i[Rr]+=8/3:i[Rr]+=4/3,this.isNativeText(h)?i[ri]+=2/3:this.isExtendedASCII(h)?i[ri]+=8/3:i[ri]+=4/3,this.isNativeX12(h)?i[tr]+=2/3:this.isExtendedASCII(h)?i[tr]+=13/3:i[tr]+=10/3,this.isNativeEDIFACT(h)?i[mr]+=3/4:this.isExtendedASCII(h)?i[mr]+=17/4:i[mr]+=13/4,this.isSpecialB256(h)?i[Ur]+=4:i[Ur]++,s>=4){if(ir.fill(a,0),ir.fill(o,0),this.findMinimums(i,o,dt.MAX_VALUE,a),o[$t]<this.min(o[Ur],o[Rr],o[ri],o[tr],o[mr]))return $t;if(o[Ur]<o[$t]||o[Ur]+1<this.min(o[Rr],o[ri],o[tr],o[mr]))return Ur;if(o[mr]+1<this.min(o[Ur],o[Rr],o[ri],o[tr],o[$t]))return mr;if(o[ri]+1<this.min(o[Ur],o[Rr],o[mr],o[tr],o[$t]))return ri;if(o[tr]+1<this.min(o[Ur],o[Rr],o[mr],o[ri],o[$t]))return tr;if(o[Rr]+1<this.min(o[$t],o[Ur],o[mr],o[ri])){if(o[Rr]<o[tr])return Rr;if(o[Rr]===o[tr]){for(var p=t+s+1;p<e.length;){var g=e.charCodeAt(p);if(this.isX12TermSep(g))return tr;if(!this.isNativeX12(g))break;p++}return Rr}}}}},n.min=function(e,t,r,i,s){var a=Math.min(e,Math.min(t,Math.min(r,i)));return s===void 0?a:Math.min(a,s)},n.findMinimums=function(e,t,r,i){for(var s=0;s<6;s++){var a=t[s]=Math.ceil(e[s]);r>a&&(r=a,ir.fill(i,0)),r===a&&(i[s]=i[s]+1)}return r},n.getMinimumCount=function(e){for(var t=0,r=0;r<6;r++)t+=e[r];return t||0},n.isDigit=function(e){return e>=48&&e<=57},n.isExtendedASCII=function(e){return e>=128&&e<=255},n.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},n.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},n.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},n.isX12TermSep=function(e){return e===13||e===42||e===62},n.isNativeEDIFACT=function(e){return e>=32&&e<=94},n.isSpecialB256=function(e){return!1},n.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var r=e.length,i=t;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-t},n.illegalCharacter=function(e){var t=dt.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},n}(),e2=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d6=function(){function n(e){this.charset=e,this.name=e.name}return n.prototype.canEncode=function(e){try{return ys.encode(e,this.charset)!=null}catch{return!1}},n}(),Age=function(){function n(e,t,r){var i,s,a,o,l,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(N){return new d6(ege.forName(N))}),this.encoders=[];var h=[];h.push(new d6(tge.ISO_8859_1));for(var p=t!=null&&t.name.startsWith("UTF"),g=0;g<e.length;g++){var v=!1;try{for(var w=(i=void 0,e2(h)),x=w.next();!x.done;x=w.next()){var E=x.value,A=e.charAt(g),T=A.charCodeAt(0);if(T===r||E.canEncode(A)){v=!0;break}}}catch(N){i={error:N}}finally{try{x&&!x.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}if(!v)try{for(var I=(a=void 0,e2(this.ENCODERS)),P=I.next();!P.done;P=I.next()){var E=P.value;if(E.canEncode(e.charAt(g))){h.push(E),v=!0;break}}}catch(N){a={error:N}}finally{try{P&&!P.done&&(o=I.return)&&o.call(I)}finally{if(a)throw a.error}}v||(p=!0)}if(h.length===1&&!p)this.encoders=[h[0]];else{this.encoders=[];var O=0;try{for(var V=e2(h),R=V.next();!R.done;R=V.next()){var E=R.value;this.encoders[O++]=E}}catch(N){l={error:N}}finally{try{R&&!R.done&&(u=V.return)&&u.call(V)}finally{if(l)throw l.error}}}var C=-1;if(t!=null){for(var g=0;g<this.encoders.length;g++)if(this.encoders[g]!=null&&t.name===this.encoders[g].name){C=g;break}}this.priorityEncoderIndex=C}return n.prototype.length=function(){return this.encoders.length},n.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},n.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},n.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},n.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},n.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},n.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return ys.encode(St.getCharAt(e),this.encoders[t].name)},n}(),Sge=3,Tge=function(){function n(e,t,r){this.fnc1=r;var i=new Age(e,t,r);if(i.length()===1)for(var s=0;s<this.bytes.length;s++){var a=e.charAt(s).charCodeAt(0);this.bytes[s]=a===r?1e3:a}else this.bytes=this.encodeMinimally(e,i,r)}return n.prototype.getFNC1Character=function(){return this.fnc1},n.prototype.length=function(){return this.bytes.length},n.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var r=0;r<t;r++)if(this.isECI(e+r))return!1;return!0},n.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},n.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var r=new lt,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},n.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},n.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},n.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},n.prototype.addEdge=function(e,t,r){(e[t][r.encoderIndex]==null||e[t][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[t][r.encoderIndex]=r)},n.prototype.addEdges=function(e,t,r,i,s,a){var o=e.charAt(i).charCodeAt(0),l=0,u=t.length();t.getPriorityEncoderIndex()>=0&&(o===a||t.canEncode(o,t.getPriorityEncoderIndex()))&&(l=t.getPriorityEncoderIndex(),u=l+1);for(var h=l;h<u;h++)(o===a||t.canEncode(o,h))&&this.addEdge(r,i+1,new p6(o,t,h,s,a))},n.prototype.encodeMinimally=function(e,t,r){var i=e.length,s=new p6[i+1][t.length()];this.addEdges(e,t,s,0,null,r);for(var a=1;a<=i;a++){for(var o=0;o<t.length();o++)s[a][o]!=null&&a<i&&this.addEdges(e,t,s,a,s[a][o],r);for(var o=0;o<t.length();o++)s[a-1][o]=null}for(var l=-1,u=dt.MAX_VALUE,o=0;o<t.length();o++)if(s[i][o]!=null){var h=s[i][o];h.cachedTotalSize<u&&(u=h.cachedTotalSize,l=o)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var p=[],g=s[i][l];g!=null;){if(g.isFNC1())p.unshift(1e3);else for(var v=t.encode(g.c,g.encoderIndex),a=v.length-1;a>=0;a--)p.unshift(v[a]&255);var w=g.previous===null?0:g.previous.encoderIndex;w!==g.encoderIndex&&p.unshift(256+t.getECIValue(g.encoderIndex)),g=g.previous}for(var x=[],a=0;a<x.length;a++)x[a]=p[a];return x},n}(),p6=function(){function n(e,t,r,i,s){this.c=e,this.encoderSet=t,this.encoderIndex=r,this.previous=i,this.fnc1=s,this.c=e===s?1e3:e;var a=this.isFNC1()?1:t.encode(e,r).length,o=i===null?0:i.encoderIndex;o!==r&&(a+=Sge),i!=null&&(a+=i.cachedTotalSize),this.cachedTotalSize=a}return n.prototype.isFNC1=function(){return this.c===1e3},n}(),Cge=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();var g6;(function(n){n[n.ASCII=0]="ASCII",n[n.C40=1]="C40",n[n.TEXT=2]="TEXT",n[n.X12=3]="X12",n[n.EDF=4]="EDF",n[n.B256=5]="B256"})(g6||(g6={}));(function(n){Cge(e,n);function e(t,r,i,s,a){var o=n.call(this,t,r,i)||this;return o.shape=s,o.macroId=a,o}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Tge);var Ige=function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(e){this.compact=e},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(e){this.size=e},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(e){this.layers=e},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(e){this.codeWords=e},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(e){this.matrix=e},n}(),m6=function(){function n(){}return n.singletonList=function(e){return[e]},n.min=function(e,t){return e.sort(t)[0]},n}(),Dge=function(){function n(e){this.previous=e}return n.prototype.getPrevious=function(){return this.previous},n}(),Rge=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xI=function(n){Rge(e,n);function e(t,r,i){var s=n.call(this,t)||this;return s.value=r,s.bitCount=i,s}return e.prototype.appendTo=function(t,r){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,r){return new e(this,t,r)},e.prototype.addBinaryShift=function(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,r)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+dt.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(Dge),Oge=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nge=function(n){Oge(e,n);function e(t,r,i){var s=n.call(this,t,0,0)||this;return s.binaryShiftStart=r,s.binaryShiftByteCount=i,s}return e.prototype.appendTo=function(t,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,r){return new e(this,t,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(xI);function Mge(n,e,t){return new Nge(n,e,t)}function mg(n,e,t){return new xI(n,e,t)}var Pge=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Xl=0,D_=1,ps=2,YF=3,Ea=4,kge=new xI(null,0,0),t2=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Lge=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Vge(n){var e,t;try{for(var r=Lge(n),i=r.next();!i.done;i=r.next()){var s=i.value;ir.fill(s,-1)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n[Xl][Ea]=0,n[D_][Ea]=0,n[D_][Xl]=28,n[YF][Ea]=0,n[ps][Ea]=0,n[ps][Xl]=15,n}var $F=Vge(ir.createInt32Array(6,6)),Bge=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fge=function(){function n(e,t,r,i){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=i}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(e,t){var r=this.bitCount,i=this.token;if(e!==this.mode){var s=t2[this.mode][e];i=mg(i,s&65535,s>>16),r+=s>>16}var a=e===ps?4:5;return i=mg(i,t,a),new n(i,e,0,r+a)},n.prototype.shiftAndAppend=function(e,t){var r=this.token,i=this.mode===ps?4:5;return r=mg(r,$F[this.mode][e],i),r=mg(r,t,5),new n(r,this.mode,0,this.bitCount+i+5)},n.prototype.addBinaryShiftChar=function(e){var t=this.token,r=this.mode,i=this.bitCount;if(this.mode===Ea||this.mode===ps){var s=t2[r][Xl];t=mg(t,s&65535,s>>16),i+=s>>16,r=Xl}var a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new n(t,r,this.binaryShiftByteCount+1,i+a);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(e+1)),o},n.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=Mge(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(t,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(t2[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=n.calculateBinaryShiftCost(e)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},n.prototype.toBitArray=function(e){for(var t,r,i=[],s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())i.unshift(s);var a=new wr;try{for(var o=Bge(i),l=o.next();!l.done;l=o.next()){var u=l.value;u.appendTo(a,e)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return a},n.prototype.toString=function(){return St.format("%s bits=%d bytes=%d",Pge[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(kge,Xl,0,0),n}();function Uge(n){var e=St.getCharCode(" "),t=St.getCharCode("."),r=St.getCharCode(",");n[Xl][e]=1;for(var i=St.getCharCode("Z"),s=St.getCharCode("A"),a=s;a<=i;a++)n[Xl][a]=a-s+2;n[D_][e]=1;for(var o=St.getCharCode("z"),l=St.getCharCode("a"),a=l;a<=o;a++)n[D_][a]=a-l+2;n[ps][e]=1;for(var u=St.getCharCode("9"),h=St.getCharCode("0"),a=h;a<=u;a++)n[ps][a]=a-h+2;n[ps][r]=12,n[ps][t]=13;for(var p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],g=0;g<p.length;g++)n[YF][St.getCharCode(p[g])]=g;for(var v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],g=0;g<v.length;g++)St.getCharCode(v[g])>0&&(n[Ea][St.getCharCode(v[g])]=g);return n}var n2=Uge(ir.createInt32Array(5,256)),Nv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jge=function(){function n(e){this.text=e}return n.prototype.encode=function(){for(var e=St.getCharCode(" "),t=St.getCharCode(`
`),r=m6.singletonList(Fge.INITIAL_STATE),i=0;i<this.text.length;i++){var s=void 0,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case St.getCharCode("\r"):s=a===t?2:0;break;case St.getCharCode("."):s=a===e?3:0;break;case St.getCharCode(","):s=a===e?4:0;break;case St.getCharCode(":"):s=a===e?5:0;break;default:s=0}s>0?(r=n.updateStateListForPair(r,i,s),i++):r=this.updateStateListForChar(r,i)}var o=m6.min(r,function(l,u){return l.getBitCount()-u.getBitCount()});return o.toBitArray(this.text)},n.prototype.updateStateListForChar=function(e,t){var r,i,s=[];try{for(var a=Nv(e),o=a.next();!o.done;o=a.next()){var l=o.value;this.updateStateForChar(l,t,s)}}catch(u){r={error:u}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return n.simplifyStates(s)},n.prototype.updateStateForChar=function(e,t,r){for(var i=this.text[t]&255,s=n2[e.getMode()][i]>0,a=null,o=0;o<=Ea;o++){var l=n2[o][i];if(l>0){if(a==null&&(a=e.endBinaryShift(t)),!s||o===e.getMode()||o===ps){var u=a.latchAndAppend(o,l);r.push(u)}if(!s&&$F[e.getMode()][o]>=0){var h=a.shiftAndAppend(o,l);r.push(h)}}}if(e.getBinaryShiftByteCount()>0||n2[e.getMode()][i]===0){var p=e.addBinaryShiftChar(t);r.push(p)}},n.updateStateListForPair=function(e,t,r){var i,s,a=[];try{for(var o=Nv(e),l=o.next();!l.done;l=o.next()){var u=l.value;this.updateStateForPair(u,t,r,a)}}catch(h){i={error:h}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}return this.simplifyStates(a)},n.updateStateForPair=function(e,t,r,i){var s=e.endBinaryShift(t);if(i.push(s.latchAndAppend(Ea,r)),e.getMode()!==Ea&&i.push(s.shiftAndAppend(Ea,r)),r===3||r===4){var a=s.latchAndAppend(ps,16-r).latchAndAppend(ps,1);i.push(a)}if(e.getBinaryShiftByteCount()>0){var o=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(o)}},n.simplifyStates=function(e){var t,r,i,s,a=[];try{for(var o=Nv(e),l=o.next();!l.done;l=o.next()){var u=l.value,h=!0,p=function(E){if(E.isBetterThanOrEqualTo(u))return h=!1,"break";u.isBetterThanOrEqualTo(E)&&(a=a.filter(function(A){return A!==E}))};try{for(var g=(i=void 0,Nv(a)),v=g.next();!v.done;v=g.next()){var w=v.value,x=p(w);if(x==="break")break}}catch(E){i={error:E}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}h&&a.push(u)}}catch(E){t={error:E}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return a},n}(),Hge=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.encodeBytes=function(e){return n.encode(e,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(e,t,r){var i=new jge(e).encode(),s=dt.truncDivision(i.getSize()*t,100)+11,a=i.getSize()+s,o,l,u,h,p;if(r!==n.DEFAULT_AZTEC_LAYERS){if(o=r<0,l=Math.abs(r),l>(o?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new Ge(St.format("Illegal value %s for layers",r));u=n.totalBitsInLayer(l,o),h=n.WORD_SIZE[l];var g=u-u%h;if(p=n.stuffBits(i,h),p.getSize()+s>g)throw new Ge("Data to large for user specified layer");if(o&&p.getSize()>h*64)throw new Ge("Data to large for user specified layer")}else{h=0,p=null;for(var v=0;;v++){if(v>n.MAX_NB_BITS)throw new Ge("Data too large for an Aztec code");if(o=v<=3,l=o?v+1:v,u=n.totalBitsInLayer(l,o),!(a>u)){(p==null||h!==n.WORD_SIZE[l])&&(h=n.WORD_SIZE[l],p=n.stuffBits(i,h));var g=u-u%h;if(!(o&&p.getSize()>h*64)&&p.getSize()+s<=g)break}}}var w=n.generateCheckWords(p,u,h),x=p.getSize()/h,E=n.generateModeMessage(o,l,x),A=(o?11:14)+l*4,T=new Int32Array(A),I;if(o){I=A;for(var v=0;v<T.length;v++)T[v]=v}else{I=A+1+2*dt.truncDivision(dt.truncDivision(A,2)-1,15);for(var P=dt.truncDivision(A,2),O=dt.truncDivision(I,2),v=0;v<P;v++){var V=v+dt.truncDivision(v,15);T[P-v-1]=O-V-1,T[P+v]=O+V+1}}for(var R=new ja(I),v=0,C=0;v<l;v++){for(var N=(l-v)*4+(o?9:12),L=0;L<N;L++)for(var F=L*2,H=0;H<2;H++)w.get(C+F+H)&&R.set(T[v*2+H],T[v*2+L]),w.get(C+N*2+F+H)&&R.set(T[v*2+L],T[A-1-v*2-H]),w.get(C+N*4+F+H)&&R.set(T[A-1-v*2-H],T[A-1-v*2-L]),w.get(C+N*6+F+H)&&R.set(T[A-1-v*2-L],T[v*2+H]);C+=N*8}if(n.drawModeMessage(R,o,I,E),o)n.drawBullsEye(R,dt.truncDivision(I,2),5);else{n.drawBullsEye(R,dt.truncDivision(I,2),7);for(var v=0,L=0;v<dt.truncDivision(A,2)-1;v+=15,L+=16)for(var H=dt.truncDivision(I,2)&1;H<I;H+=2)R.set(dt.truncDivision(I,2)-L,H),R.set(dt.truncDivision(I,2)+L,H),R.set(H,dt.truncDivision(I,2)-L),R.set(H,dt.truncDivision(I,2)+L)}var B=new Ige;return B.setCompact(o),B.setSize(I),B.setLayers(l),B.setCodeWords(x),B.setMatrix(R),B},n.drawBullsEye=function(e,t,r){for(var i=0;i<r;i+=2)for(var s=t-i;s<=t+i;s++)e.set(s,t-i),e.set(s,t+i),e.set(t-i,s),e.set(t+i,s);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)},n.generateModeMessage=function(e,t,r){var i=new wr;return e?(i.appendBits(t-1,2),i.appendBits(r-1,6),i=n.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(r-1,11),i=n.generateCheckWords(i,40,4)),i},n.drawModeMessage=function(e,t,r,i){var s=dt.truncDivision(r,2);if(t)for(var a=0;a<7;a++){var o=s-3+a;i.get(a)&&e.set(o,s-5),i.get(a+7)&&e.set(s+5,o),i.get(20-a)&&e.set(o,s+5),i.get(27-a)&&e.set(s-5,o)}else for(var a=0;a<10;a++){var o=s-5+a+dt.truncDivision(a,5);i.get(a)&&e.set(o,s-7),i.get(a+10)&&e.set(s+7,o),i.get(29-a)&&e.set(o,s+7),i.get(39-a)&&e.set(s-7,o)}},n.generateCheckWords=function(e,t,r){var i,s,a=e.getSize()/r,o=new zF(n.getGF(r)),l=dt.truncDivision(t,r),u=n.bitsToWords(e,r,l);o.encode(u,l-a);var h=t%r,p=new wr;p.appendBits(0,h);try{for(var g=Hge(Array.from(u)),v=g.next();!v.done;v=g.next()){var w=v.value;p.appendBits(w,r)}}catch(x){i={error:x}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}return p},n.bitsToWords=function(e,t,r){var i=new Int32Array(r),s,a;for(s=0,a=e.getSize()/t;s<a;s++){for(var o=0,l=0;l<t;l++)o|=e.get(s*t+l)?1<<t-l-1:0;i[s]=o}return i},n.getGF=function(e){switch(e){case 4:return _i.AZTEC_PARAM;case 6:return _i.AZTEC_DATA_6;case 8:return _i.AZTEC_DATA_8;case 10:return _i.AZTEC_DATA_10;case 12:return _i.AZTEC_DATA_12;default:throw new Ge("Unsupported word size "+e)}},n.stuffBits=function(e,t){for(var r=new wr,i=e.getSize(),s=(1<<t)-2,a=0;a<i;a+=t){for(var o=0,l=0;l<t;l++)(a+l>=i||e.get(a+l))&&(o|=1<<t-1-l);(o&s)===s?(r.appendBits(o&s,t),a--):(o&s)===0?(r.appendBits(o|1,t),a--):r.appendBits(o,t)}return r},n.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n})();var r2={exports:{}},v6;function zge(){return v6||(v6=1,function(n){var e=function(t){var r=Object.prototype,i=r.hasOwnProperty,s=Object.defineProperty||function(Q,U,q){Q[U]=q.value},a,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",h=o.toStringTag||"@@toStringTag";function p(Q,U,q){return Object.defineProperty(Q,U,{value:q,enumerable:!0,configurable:!0,writable:!0}),Q[U]}try{p({},"")}catch{p=function(U,q,ce){return U[q]=ce}}function g(Q,U,q,ce){var ne=U&&U.prototype instanceof I?U:I,we=Object.create(ne.prototype),xe=new Y(ce||[]);return s(we,"_invoke",{value:H(Q,q,xe)}),we}t.wrap=g;function v(Q,U,q){try{return{type:"normal",arg:Q.call(U,q)}}catch(ce){return{type:"throw",arg:ce}}}var w="suspendedStart",x="suspendedYield",E="executing",A="completed",T={};function I(){}function P(){}function O(){}var V={};p(V,l,function(){return this});var R=Object.getPrototypeOf,C=R&&R(R(X([])));C&&C!==r&&i.call(C,l)&&(V=C);var N=O.prototype=I.prototype=Object.create(V);P.prototype=O,s(N,"constructor",{value:O,configurable:!0}),s(O,"constructor",{value:P,configurable:!0}),P.displayName=p(O,h,"GeneratorFunction");function L(Q){["next","throw","return"].forEach(function(U){p(Q,U,function(q){return this._invoke(U,q)})})}t.isGeneratorFunction=function(Q){var U=typeof Q=="function"&&Q.constructor;return U?U===P||(U.displayName||U.name)==="GeneratorFunction":!1},t.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,O):(Q.__proto__=O,p(Q,h,"GeneratorFunction")),Q.prototype=Object.create(N),Q},t.awrap=function(Q){return{__await:Q}};function F(Q,U){function q(we,xe,Ae,et){var Ve=v(Q[we],Q,xe);if(Ve.type==="throw")et(Ve.arg);else{var Pe=Ve.arg,We=Pe.value;return We&&typeof We=="object"&&i.call(We,"__await")?U.resolve(We.__await).then(function(rt){q("next",rt,Ae,et)},function(rt){q("throw",rt,Ae,et)}):U.resolve(We).then(function(rt){Pe.value=rt,Ae(Pe)},function(rt){return q("throw",rt,Ae,et)})}}var ce;function ne(we,xe){function Ae(){return new U(function(et,Ve){q(we,xe,et,Ve)})}return ce=ce?ce.then(Ae,Ae):Ae()}s(this,"_invoke",{value:ne})}L(F.prototype),p(F.prototype,u,function(){return this}),t.AsyncIterator=F,t.async=function(Q,U,q,ce,ne){ne===void 0&&(ne=Promise);var we=new F(g(Q,U,q,ce),ne);return t.isGeneratorFunction(U)?we:we.next().then(function(xe){return xe.done?xe.value:we.next()})};function H(Q,U,q){var ce=w;return function(we,xe){if(ce===E)throw new Error("Generator is already running");if(ce===A){if(we==="throw")throw xe;return oe()}for(q.method=we,q.arg=xe;;){var Ae=q.delegate;if(Ae){var et=B(Ae,q);if(et){if(et===T)continue;return et}}if(q.method==="next")q.sent=q._sent=q.arg;else if(q.method==="throw"){if(ce===w)throw ce=A,q.arg;q.dispatchException(q.arg)}else q.method==="return"&&q.abrupt("return",q.arg);ce=E;var Ve=v(Q,U,q);if(Ve.type==="normal"){if(ce=q.done?A:x,Ve.arg===T)continue;return{value:Ve.arg,done:q.done}}else Ve.type==="throw"&&(ce=A,q.method="throw",q.arg=Ve.arg)}}}function B(Q,U){var q=U.method,ce=Q.iterator[q];if(ce===a)return U.delegate=null,q==="throw"&&Q.iterator.return&&(U.method="return",U.arg=a,B(Q,U),U.method==="throw")||q!=="return"&&(U.method="throw",U.arg=new TypeError("The iterator does not provide a '"+q+"' method")),T;var ne=v(ce,Q.iterator,U.arg);if(ne.type==="throw")return U.method="throw",U.arg=ne.arg,U.delegate=null,T;var we=ne.arg;if(!we)return U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,T;if(we.done)U[Q.resultName]=we.value,U.next=Q.nextLoc,U.method!=="return"&&(U.method="next",U.arg=a);else return we;return U.delegate=null,T}L(N),p(N,h,"Generator"),p(N,l,function(){return this}),p(N,"toString",function(){return"[object Generator]"});function he(Q){var U={tryLoc:Q[0]};1 in Q&&(U.catchLoc=Q[1]),2 in Q&&(U.finallyLoc=Q[2],U.afterLoc=Q[3]),this.tryEntries.push(U)}function fe(Q){var U=Q.completion||{};U.type="normal",delete U.arg,Q.completion=U}function Y(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(he,this),this.reset(!0)}t.keys=function(Q){var U=Object(Q),q=[];for(var ce in U)q.push(ce);return q.reverse(),function ne(){for(;q.length;){var we=q.pop();if(we in U)return ne.value=we,ne.done=!1,ne}return ne.done=!0,ne}};function X(Q){if(Q){var U=Q[l];if(U)return U.call(Q);if(typeof Q.next=="function")return Q;if(!isNaN(Q.length)){var q=-1,ce=function ne(){for(;++q<Q.length;)if(i.call(Q,q))return ne.value=Q[q],ne.done=!1,ne;return ne.value=a,ne.done=!0,ne};return ce.next=ce}}return{next:oe}}t.values=X;function oe(){return{value:a,done:!0}}return Y.prototype={constructor:Y,reset:function(Q){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(fe),!Q)for(var U in this)U.charAt(0)==="t"&&i.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=a)},stop:function(){this.done=!0;var Q=this.tryEntries[0],U=Q.completion;if(U.type==="throw")throw U.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var U=this;function q(et,Ve){return we.type="throw",we.arg=Q,U.next=et,Ve&&(U.method="next",U.arg=a),!!Ve}for(var ce=this.tryEntries.length-1;ce>=0;--ce){var ne=this.tryEntries[ce],we=ne.completion;if(ne.tryLoc==="root")return q("end");if(ne.tryLoc<=this.prev){var xe=i.call(ne,"catchLoc"),Ae=i.call(ne,"finallyLoc");if(xe&&Ae){if(this.prev<ne.catchLoc)return q(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return q(ne.finallyLoc)}else if(xe){if(this.prev<ne.catchLoc)return q(ne.catchLoc,!0)}else if(Ae){if(this.prev<ne.finallyLoc)return q(ne.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Q,U){for(var q=this.tryEntries.length-1;q>=0;--q){var ce=this.tryEntries[q];if(ce.tryLoc<=this.prev&&i.call(ce,"finallyLoc")&&this.prev<ce.finallyLoc){var ne=ce;break}}ne&&(Q==="break"||Q==="continue")&&ne.tryLoc<=U&&U<=ne.finallyLoc&&(ne=null);var we=ne?ne.completion:{};return we.type=Q,we.arg=U,ne?(this.method="next",this.next=ne.finallyLoc,T):this.complete(we)},complete:function(Q,U){if(Q.type==="throw")throw Q.arg;return Q.type==="break"||Q.type==="continue"?this.next=Q.arg:Q.type==="return"?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):Q.type==="normal"&&U&&(this.next=U),T},finish:function(Q){for(var U=this.tryEntries.length-1;U>=0;--U){var q=this.tryEntries[U];if(q.finallyLoc===Q)return this.complete(q.completion,q.afterLoc),fe(q),T}},catch:function(Q){for(var U=this.tryEntries.length-1;U>=0;--U){var q=this.tryEntries[U];if(q.tryLoc===Q){var ce=q.completion;if(ce.type==="throw"){var ne=ce.arg;fe(q)}return ne}}throw new Error("illegal catch attempt")},delegateYield:function(Q,U,q){return this.delegate={iterator:X(Q),resultName:U,nextLoc:q},this.method==="next"&&(this.arg=a),T}},t}(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(r2)),r2.exports}var i2,y6;function bI(){return y6||(y6=1,i2=(n,e)=>`${n}-${e}-${Math.random().toString(16).slice(3,8)}`),i2}var s2,_6;function GF(){if(_6)return s2;_6=1;const n=bI();let e=0;return s2=({id:t,action:r,payload:i={}})=>{let s=t;return typeof s>"u"&&(s=n("Job",e),e+=1),{id:s,action:r,payload:i}},s2}var vg={},w6;function EI(){if(w6)return vg;w6=1;let n=!1;return vg.logging=n,vg.setLogging=e=>{n=e},vg.log=(...e)=>n?console.log.apply(this,e):null,vg}var a2,x6;function Wge(){if(x6)return a2;x6=1;const n=GF(),{log:e}=EI(),t=bI();let r=0;return a2=()=>{const i=t("Scheduler",r),s={},a={};let o=[];r+=1;const l=()=>o.length,u=()=>Object.keys(s).length,h=()=>{if(o.length!==0){const x=Object.keys(s);for(let E=0;E<x.length;E+=1)if(typeof a[x[E]]>"u"){o[0](s[x[E]]);break}}},p=(x,E)=>new Promise((A,T)=>{const I=n({action:x,payload:E});o.push(async P=>{o.shift(),a[P.id]=I;try{A(await P[x].apply(this,[...E,I.id]))}catch(O){T(O)}finally{delete a[P.id],h()}}),e(`[${i}]: Add ${I.id} to JobQueue`),e(`[${i}]: JobQueue length=${o.length}`),h()});return{addWorker:x=>(s[x.id]=x,e(`[${i}]: Add ${x.id}`),e(`[${i}]: Number of workers=${u()}`),h(),x.id),addJob:async(x,...E)=>{if(u()===0)throw Error(`[${i}]: You need to have at least one worker before adding jobs`);return p(x,E)},terminate:async()=>{Object.keys(s).forEach(async x=>{await s[x].terminate()}),o=[]},getQueueLen:l,getNumWorkers:u}},a2}function Yge(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var o2,b6;function $ge(){return b6||(b6=1,o2=n=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof Yge=="function"&&(e.type="node"),typeof n>"u"?e:e[n]}),o2}var l2,E6;function Gge(){if(E6)return l2;E6=1;const e=$ge()("type")==="browser"?t=>new URL(t,window.location.href).href:t=>t;return l2=t=>{const r={...t};return["corePath","workerPath","langPath"].forEach(i=>{t[i]&&(r[i]=e(r[i]))}),r},l2}var c2,A6;function qF(){return A6||(A6=1,c2={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),c2}const qge="6.0.1",Kge={version:qge};var u2,S6;function Xge(){return S6||(S6=1,u2={workerBlobURL:!0,logger:()=>{}}),u2}var f2,T6;function Qge(){if(T6)return f2;T6=1;const n=Kge.version;return f2={...Xge(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${n}/dist/worker.min.js`},f2}var h2,C6;function Zge(){return C6||(C6=1,h2=({workerPath:n,workerBlobURL:e})=>{let t;if(Blob&&URL&&e){const r=new Blob([`importScripts("${n}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(r))}else t=new Worker(n);return t}),h2}var d2,I6;function Jge(){return I6||(I6=1,d2=n=>{n.terminate()}),d2}var p2,D6;function eme(){return D6||(D6=1,p2=(n,e)=>{n.onmessage=({data:t})=>{e(t)}}),p2}var g2,R6;function tme(){return R6||(R6=1,g2=async(n,e)=>{n.postMessage(e)}),g2}var m2,O6;function nme(){if(O6)return m2;O6=1;const n=t=>new Promise((r,i)=>{const s=new FileReader;s.onload=()=>{r(s.result)},s.onerror=({target:{error:{code:a}}})=>{i(Error(`File could not be read! Code=${a}`))},s.readAsArrayBuffer(t)}),e=async t=>{let r=t;if(typeof t>"u")return"undefined";if(typeof t=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)?r=atob(t.split(",")[1]).split("").map(i=>i.charCodeAt(0)):r=await(await fetch(t)).arrayBuffer();else if(typeof HTMLElement<"u"&&t instanceof HTMLElement)t.tagName==="IMG"&&(r=await e(t.src)),t.tagName==="VIDEO"&&(r=await e(t.poster)),t.tagName==="CANVAS"&&await new Promise(i=>{t.toBlob(async s=>{r=await n(s),i()})});else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas){const i=await t.convertToBlob();r=await n(i)}else(t instanceof File||t instanceof Blob)&&(r=await n(t));return new Uint8Array(r)};return m2=e,m2}var v2,N6;function rme(){if(N6)return v2;N6=1;const n=Qge(),e=Zge(),t=Jge(),r=eme(),i=tme(),s=nme();return v2={defaultOptions:n,spawnWorker:e,terminateWorker:t,onMessage:r,send:i,loadImage:s},v2}var y2,M6;function KF(){if(M6)return y2;M6=1;const n=Gge(),e=GF(),{log:t}=EI(),r=bI(),i=qF(),{defaultOptions:s,spawnWorker:a,terminateWorker:o,onMessage:l,loadImage:u,send:h}=rme();let p=0;return y2=async(g="eng",v=i.LSTM_ONLY,w={},x={})=>{const E=r("Worker",p),{logger:A,errorHandler:T,...I}=n({...s,...w}),P={},O=typeof g=="string"?g.split("+"):g;let V=v,R=x;const C=[i.DEFAULT,i.LSTM_ONLY].includes(v)&&!I.legacyCore;let N,L;const F=new Promise((Pe,We)=>{L=Pe,N=We}),H=Pe=>{N(Pe.message)};let B=a(I);B.onerror=H,p+=1;const he=({id:Pe,action:We,payload:rt})=>new Promise((kt,Lt)=>{t(`[${E}]: Start ${Pe}, action=${We}`);const on=`${We}-${Pe}`;P[on]={resolve:kt,reject:Lt},h(B,{workerId:E,jobId:Pe,action:We,payload:rt})}),fe=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),Y=Pe=>he(e({id:Pe,action:"load",payload:{options:{lstmOnly:C,corePath:I.corePath,logging:I.logging}}})),X=(Pe,We,rt)=>he(e({id:rt,action:"FS",payload:{method:"writeFile",args:[Pe,We]}})),oe=(Pe,We)=>he(e({id:We,action:"FS",payload:{method:"readFile",args:[Pe,{encoding:"utf8"}]}})),Q=(Pe,We)=>he(e({id:We,action:"FS",payload:{method:"unlink",args:[Pe]}})),U=(Pe,We,rt)=>he(e({id:rt,action:"FS",payload:{method:Pe,args:We}})),q=(Pe,We)=>he(e({id:We,action:"loadLanguage",payload:{langs:Pe,options:{langPath:I.langPath,dataPath:I.dataPath,cachePath:I.cachePath,cacheMethod:I.cacheMethod,gzip:I.gzip,lstmOnly:[i.DEFAULT,i.LSTM_ONLY].includes(V)&&!I.legacyLang}}})),ce=(Pe,We,rt,kt)=>he(e({id:kt,action:"initialize",payload:{langs:Pe,oem:We,config:rt}})),ne=(Pe="eng",We,rt,kt)=>{if(C&&[i.TESSERACT_ONLY,i.TESSERACT_LSTM_COMBINED].includes(We))throw Error("Legacy model requested but code missing.");const Lt=We||V;V=Lt;const on=rt||R;R=on;const Ne=(typeof Pe=="string"?Pe.split("+"):Pe).filter(ke=>!O.includes(ke));return O.push(...Ne),Ne.length>0?q(Ne,kt).then(()=>ce(Pe,Lt,on,kt)):ce(Pe,Lt,on,kt)},we=(Pe={},We)=>he(e({id:We,action:"setParameters",payload:{params:Pe}})),xe=async(Pe,We={},rt={text:!0},kt)=>he(e({id:kt,action:"recognize",payload:{image:await u(Pe),options:We,output:rt}})),Ae=async(Pe,We)=>{if(C)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return he(e({id:We,action:"detect",payload:{image:await u(Pe)}}))},et=async()=>(B!==null&&(o(B),B=null),Promise.resolve());l(B,({workerId:Pe,jobId:We,status:rt,action:kt,data:Lt})=>{const on=`${kt}-${We}`;if(rt==="resolve")t(`[${Pe}]: Complete ${We}`),P[on].resolve({jobId:We,data:Lt}),delete P[on];else if(rt==="reject")if(P[on].reject(Lt),delete P[on],kt==="load"&&N(Lt),T)T(Lt);else throw Error(Lt);else rt==="progress"&&A({...Lt,userJobId:We})});const Ve={id:E,worker:B,load:fe,writeText:X,readText:oe,removeFile:Q,FS:U,reinitialize:ne,setParameters:we,recognize:xe,detect:Ae,terminate:et};return Y().then(()=>q(g)).then(()=>ce(g,v,x)).then(()=>L(Ve)).catch(()=>{}),F},y2}var _2,P6;function ime(){if(P6)return _2;P6=1;const n=KF();return _2={recognize:async(r,i,s)=>{const a=await n(i,1,s);return a.recognize(r).finally(async()=>{await a.terminate()})},detect:async(r,i)=>{const s=await n("osd",0,i);return s.detect(r).finally(async()=>{await s.terminate()})}},_2}var w2,k6;function sme(){return k6||(k6=1,w2={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),w2}var x2,L6;function ame(){return L6||(L6=1,x2={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),x2}var b2,V6;function ome(){if(V6)return b2;V6=1,zge();const n=Wge(),e=KF(),t=ime(),r=sme(),i=qF(),s=ame(),{setLogging:a}=EI();return b2={languages:r,OEM:i,PSM:s,createScheduler:n,createWorker:e,setLogging:a,...t},b2}var lme=ome();const B6=MS(lme),cme={Fat:["fat","saturates","of which saturates"],Carbohydrate:["carbohydrate","carb"],Sugar:["sugar","sugars","of which sugars"],Fibre:["fibre","fiber"],Protein:["protein","protien"],Salt:["salt","sodium"]};function ume(n){const e=n.match(/([\d.]+)\s*(g|mg)?/i);if(e){const t=parseFloat(e[1]);if(!isNaN(t)&&t<1e3)return t}return null}function F6(n){const e=n.split(`
`).map(r=>r.trim()).filter(Boolean),t=[];for(const r of e)for(const i of Object.keys(cme))if(r.toLowerCase().includes(i.toLowerCase())){const s=ume(r);s!==null&&!t.find(a=>a.type===i)&&t.push({type:i,count:s.toFixed(2),serving:"1",total:s.toFixed(2)})}return t}function fme({isOpen:n,onClose:e,onSave:t,editMeal:r,user:i}){const[s,a]=G.useState("Breakfast"),[o,l]=G.useState(new Date),[u,h]=G.useState([""]),[p,g]=G.useState([[{type:"Protein",count:"",serving:"1",total:""}]]),[v,w]=G.useState(!1),[x,E]=G.useState(!1),[A,T]=G.useState(!1),I=G.useRef(null),[P,O]=G.useState(null),[V,R]=G.useState(null),{showToast:C}=KC(),[N,L]=G.useState(!1),F=[{label:"100 g",value:100},{label:"slice (30 g)",value:30},{label:"cup (200 ml)",value:200},{label:"package (250 g)",value:250}],[H,B]=G.useState(1),[he,fe]=G.useState(F[0].value),[Y,X]=G.useState(0);G.useEffect(()=>{r&&(Ve(),O("meal"),a(r.mealType),l(new Date(r.timestamp)),h(r.foodItems.map(Ne=>Ne.name)),g(r.foodItems.map(Ne=>Ne.nutrients)),w(!0),T(!1),E(!1))},[r]);const oe=["Protein","Fat","Carbohydrate","Sugar","Sugars","Fibre","Fiber","Salt","Caffeine"],Q=(Ne="")=>{const ke=Ne.toLowerCase();return ke==="sugars"?"Sugar":ke==="fiber"?"Fibre":ke==="proteins"?"Protein":ke==="carbohydrates"?"Carbohydrate":ke==="saturated fat"?"Fat":Ne},U=()=>{Ve(),O(null),g([[{type:"Protein",count:"",serving:"1",total:""}]]),h([""]),l(new Date),w(!1),T(!1),E(!1),R(null)},q=Ne=>{Ve(),w(Ne==="manual"),T(Ne==="auto"),E(Ne==="scan")},ce=()=>{g([...p,[{type:"Protein",count:"",serving:"1",total:""}]]),h([...u,""])},ne=Ne=>{const ke=[...p];ke[Ne].push({type:"Protein",count:"",serving:"1",total:""}),g(ke)},we=(Ne,ke)=>{const ye=[...p];ye[Ne].splice(ke,1),g(ye)},xe=p.every(Ne=>Ne.every(ke=>!ke.count||parseFloat(ke.count)===0)),Ae=(Ne,ke,ye,Ue)=>{const Ke=[...p],it=Ke[Ne];if(ye==="serving")it.forEach(nt=>{nt.serving=Ue;const Vt=parseFloat(nt.count)||0,De=parseFloat(Ue)||1;nt.total=(Vt*De).toFixed(2)});else{const nt=it[ke];nt[ye]=Ue;const Vt=parseFloat(nt.count)||0,De=parseFloat(nt.serving)||1;nt.total=(Vt*De).toFixed(2)}g(Ke)},et=()=>{const Ne=p.map((ye,Ue)=>({name:u[Ue]||`Food ${Ue+1}`,nutrients:ye})),ke={mealType:s,date:o.toISOString().split("T")[0],timestamp:o.toISOString(),foodItems:Ne,kcal:V||on(Ne)};t(ke),U(),e()},Ve=()=>{const Ne=I.current;Ne&&Ne.srcObject&&(Ne.srcObject.getTracks().forEach(ke=>ke.stop()),Ne.srcObject=null),E(!1)},Pe=()=>{const Ne=I.current;if(!Ne||Ne.videoWidth===0){C("Camera not ready yet. Wait a moment.");return}const ke=document.createElement("canvas");ke.width=Ne.videoWidth,ke.height=Ne.videoHeight;const ye=ke.getContext("2d");ye.drawImage(Ne,0,0);const Ue=ye.getImageData(0,0,ke.width,ke.height),Ke=Ue.data;for(let it=0;it<Ke.length;it+=4){const nt=(Ke[it]+Ke[it+1]+Ke[it+2])/3;Ke[it]=nt,Ke[it+1]=nt,Ke[it+2]=nt}ye.putImageData(Ue,0,0),B6.recognize(ke,"eng").then(({data:{text:it}})=>{const nt=F6(it);nt.length>0?(g([nt]),q("manual")):C("No nutritional values detected. Try again or enter manually."),Ve()})},We=async(Ne,ke)=>{var ye;try{const it=(ye=(await(await fetch(`https://world.openfoodfacts.org/cgi/search.pl?search_terms=${encodeURIComponent(Ne)}&search_simple=1&action=process&json=1`)).json()).products)==null?void 0:ye.find(pt=>pt.nutriments&&pt.nutriments["energy-kcal_100g"]&&pt.nutriments.proteins_100g);if(!it||!it.nutriments)throw new Error("No valid nutrition info found.");const nt=it.nutriments,Vt={Protein:nt.proteins_100g,Fat:nt.fat_100g,Carbohydrate:nt.carbohydrates_100g,Sugar:nt.sugars_100g,Fibre:nt.fiber_100g,Salt:nt.salt_100g,Caffeine:nt.caffeine_100g},De=Object.entries(Vt).filter(([pt,at])=>oe.includes(pt)&&at!==void 0).map(([pt,at])=>({type:pt,count:parseFloat(at).toFixed(2),serving:"1",total:parseFloat(at).toFixed(2)})),_t=[...p];_t[ke]=De,g(_t),q("auto")}catch{C(" Could not fetch nutrition info. Try a more specific food name.")}},rt=async Ne=>{const ke=Ne.target.files[0];if(!ke)return;const ye=new Image;ye.src=URL.createObjectURL(ke),ye.onload=async()=>{const Ue=new Wpe;try{const Ke=await Ue.decodeFromImageElement(ye);await kt(Ke.getText())}catch{L(!0)}}},kt=async Ne=>{try{const ye=await(await fetch(`https://world.openfoodfacts.org/api/v0/product/${Ne}.json`)).json();if(ye.status===0){C(" Product not found.");return}const Ue=ye.product.nutriments,Ke=ye.product.product_name||"Scanned Product",it={Fat:Ue.fat_100g,Carbohydrate:Ue.carbohydrates_100g,Protein:Ue.proteins_100g,Sugar:Ue.sugars_100g,Fibre:Ue.fiber_100g,Salt:Ue.salt_100g,Caffeine:Ue.caffeine_100g},nt=parseFloat(Ue["energy-kcal_100g"])||0;R(nt);const Vt=Object.entries(it).filter(([De,_t])=>oe.includes(De)&&_t!==void 0).map(([De,_t])=>({type:De,count:parseFloat(_t).toFixed(2),serving:"1",total:parseFloat(_t).toFixed(2)}));h([Ke]),g([Vt]),q("manual")}catch(ke){C(" Nutrition fetch failed."),console.error(ke)}},Lt=async Ne=>{const ke=Ne.target.files[0];if(!ke)return;const ye=new Image;ye.src=URL.createObjectURL(ke),ye.onload=()=>{const Ue=document.createElement("canvas");Ue.width=ye.width,Ue.height=ye.height,Ue.getContext("2d").drawImage(ye,0,0),B6.recognize(Ue,"eng").then(({data:{text:it}})=>{const nt=F6(it);nt.length>0?(g([nt]),w(!0),C(" Nutrients extracted from label","success")):C(" Could not detect nutrients. Try again or enter manually.","warning")})}},on=Ne=>{let ke=0;return Ne.forEach(ye=>{ye.nutrients.forEach(Ue=>{(Ue.type.toLowerCase().includes("calorie")||Ue.type.toLowerCase().includes("kcal"))&&(ke+=parseFloat(Ue.total||0))})}),ke};if(!n)return null;return D.jsxs(D.Fragment,{children:[P===null&&D.jsx("div",{className:"modal-backdrop",children:D.jsxs("div",{className:"modal-container bg-dark text-white p-4 text-center",children:[D.jsx("h5",{className:"mb-3",children:"What would you like to log?"}),D.jsxs("div",{className:"d-flex flex-column gap-2",children:[D.jsx("button",{className:"btn btn-primary",onClick:()=>O("meal"),children:"Log Meal"}),D.jsx("button",{className:"btn btn-outline-primary",style:{color:"white"},onClick:()=>O("weight"),children:"Log Weight"}),D.jsx("button",{className:"btn btn-danger mt-2",onClick:()=>{U(),e()},children:"Cancel"})]})]})}),P==="meal"&&D.jsx("div",{className:"modal-backdrop",children:D.jsxs("div",{className:"modal-container bg-dark",children:[D.jsxs("div",{className:"modal-header col-md-12 mb-2",style:{display:"flex"},children:[D.jsxs("div",{style:{display:"flex",width:"100%",marginRight:"5%",alignItems:"center"},children:[D.jsx("p",{className:"ModelTitleName",children:"Select Meal"}),D.jsxs("select",{className:"DropDownMeal",value:s,onChange:Ne=>a(Ne.target.value),children:[D.jsx("option",{children:"Breakfast"}),D.jsx("option",{children:"Lunch"}),D.jsx("option",{children:"Dinner"})]})]}),D.jsx("input",{type:"date",className:"form-control",value:o.toISOString().split("T")[0],onChange:Ne=>l(new Date(Ne.target.value)),max:new Date().toISOString().split("T")[0],style:{width:"30%"}})]}),D.jsxs("div",{className:"manual-scan-buttons mb-2",children:[D.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>q("manual"),children:"Manual Entry"}),D.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>q("auto"),children:"Auto Fill"}),D.jsxs("label",{className:"btn btn-primary btn-sm",children:["Scan Barcode",D.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:rt,style:{display:"none"}})]})]}),N&&D.jsx("div",{className:"modal-backdrop",children:D.jsxs("div",{className:"modal-container bg-dark text-white p-4 text-center",children:[D.jsx("h5",{className:"mb-3",children:"Barcode not recognized"}),D.jsx("p",{children:"Would you like to try scanning the nutrition label instead?"}),D.jsxs("div",{className:"d-flex justify-content-center gap-3",children:[D.jsx("button",{className:"btn btn-secondary",onClick:()=>L(!1),children:"Cancel"}),D.jsxs("label",{className:"btn btn-primary",children:[" Scan Label",D.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:Ne=>{Lt(Ne),L(!1)},style:{display:"none"}})]})]})]})}),x&&D.jsxs("div",{className:"scan-box text-center",children:[D.jsx("video",{ref:I,style:{width:"100%",maxHeight:"200px"}}),D.jsx("button",{className:"btn btn-primary mt-2",onClick:Pe,children:"Capture"}),D.jsx("button",{className:"btn btn-danger mt-2 ms-2",onClick:Ve,children:"Cancel"})]}),v&&kr(),A&&kr(!0),D.jsxs("div",{className:"modal-footer mt-3",children:[D.jsx("button",{className:"btn btn-save btn-primary",onClick:et,disabled:xe,children:"Save"}),D.jsx("button",{className:"btn btn-exit btn-danger",onClick:()=>{U(),e()},children:"Exit"})]})]})}),P==="weight"&&D.jsx("div",{className:"modal-backdrop",children:D.jsxs("div",{className:"modal-container bg-dark text-white p-4 text-center",children:[D.jsx(loe,{user:i,onClose:()=>{U(),e()}}),D.jsx("div",{className:"d-flex justify-content-end",children:D.jsx("button",{className:"btn btn-danger mt-2",onClick:()=>{U(),e()},children:"Close"})})]})})]});function kr(Ne=!1){return D.jsxs("div",{className:"TotalFoodSection",children:[p.map((ke,ye)=>D.jsxs("div",{className:"food-section",children:[D.jsxs("div",{className:"FoodNameSection d-flex align-items-center gap-2",children:[D.jsx("textarea",{className:"FoodNameTextArea",value:u[ye],style:{width:"100%"},onChange:Ue=>{const Ke=[...u];Ke[ye]=Ue.target.value,h(Ke)},placeholder:"Enter food name (e.g., boiled egg)"}),Ne&&D.jsx("button",{className:"btn btn-sm btn-info",style:{fontSize:"12px",width:"35%"},onClick:()=>We(u[ye],ye),children:" Auto-Fill"})]}),D.jsxs("div",{className:"d-flex align-items-center mb-3 mt-2",children:[D.jsx("input",{type:"number",min:"0.1",step:"0.1",value:H,onChange:Ue=>B(parseFloat(Ue.target.value)||0),className:"form-control me-2",style:{width:"80px"}}),D.jsx("select",{className:"form-select",value:he,onChange:Ue=>fe(Ue.target.value),style:{flex:1},children:F.map((Ue,Ke)=>D.jsx("option",{value:Ue.value,children:Ue.label},Ke))})]}),D.jsxs("div",{className:"row fw-bold mb-2 text-white",style:{fontSize:"12px",padding:"0 10px"},children:[D.jsx("div",{className:"col",children:"Type"}),D.jsx("div",{className:"col",children:"Count (per 100g)"}),D.jsx("div",{className:"col",children:"Total"}),D.jsx("div",{className:"col",children:"Remove"})]}),D.jsx("div",{className:"SplitTable",children:ke.map((Ue,Ke)=>{const it=he==="custom"?Y:he,nt=it>0?H*it/100:1;return D.jsxs("div",{className:"row mb-1",children:[D.jsxs("div",{className:"col",children:[D.jsx("input",{list:`nutrient-options-${ye}-${Ke}`,className:"form-control",value:Ue.type,onChange:Vt=>{const De=Q(Vt.target.value);Ae(ye,Ke,"type",De)}}),D.jsx("datalist",{id:`nutrient-options-${ye}-${Ke}`,children:oe.map(Vt=>D.jsx("option",{value:Vt},Vt))})]}),D.jsx("div",{className:"col",children:D.jsx("input",{type:"number",className:"form-control",value:Ue.count,onChange:Vt=>Ae(ye,Ke,"count",Vt.target.value)})}),D.jsx("div",{className:"col",children:D.jsx("input",{type:"number",className:"form-control",value:(parseFloat(Ue.count||0)*nt).toFixed(2),disabled:!0})}),D.jsx("div",{className:"col text-center",children:D.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>we(ye,Ke),children:""})})]},Ke)})}),D.jsx("button",{className:"AddItemButton mt-1",onClick:()=>ne(ye),children:"Add Nutrient"})]},ye)),D.jsx("button",{className:"AddItemButton mt-3",onClick:ce,children:"Add Food Item"})]})}}const ES="/knowurfood/assets/Logo-L9hp3FVR.png",hme=async n=>{const e=zs(Kr,"users",n),t=await vw(e);return t.exists()?t.data():null};function dme({onLoginSuccess:n}){const[e,t]=G.useState("login"),[r,i]=G.useState(1),[s,a]=G.useState(""),[o,l]=G.useState(""),[u,h]=G.useState(""),[p,g]=G.useState(""),[v,w]=G.useState(""),[x,E]=G.useState(2e3),[A,T]=G.useState("Breakfast,Lunch,Dinner"),[I,P]=G.useState("g"),[O,V]=G.useState(""),[R,C]=G.useState(""),[N,L]=G.useState(""),[F,H]=G.useState(""),[B,he]=G.useState("08:00"),[fe,Y]=G.useState("13:00"),[X,oe]=G.useState("19:00"),[Q,U]=G.useState(""),[q,ce]=G.useState("male"),[ne,we]=G.useState(""),[xe,Ae]=G.useState({}),[et,Ve]=G.useState(!1),[Pe,We]=G.useState(!1),[rt,kt]=G.useState(!1);G.useEffect(()=>{if(O&&R&&N&&F&&Q&&q){const ye=Math.max(1,Math.ceil((new Date(F)-new Date)/864e5)),Ke=(N-O)*7700/ye,it=q==="male"?10*O+6.25*R-5*Q+5:10*O+6.25*R-5*Q-161,nt=Math.round(it+Ke);isNaN(nt)||E(nt)}},[O,R,N,F,Q,q]);const Lt=()=>{a(""),l(""),h(""),g(""),w(""),E(2e3),T("Breakfast,Lunch,Dinner"),P("g"),V(""),C(""),L(""),H(""),he("08:00"),Y("13:00"),oe("19:00"),U(""),ce("male"),we(""),Ae({}),i(1),kt(!1)},on=()=>{t(ye=>ye==="login"?"register":"login"),Lt()},kr=()=>{const ye={};if(r===1&&(s||(ye.username="Email is required"),o||(ye.password="Password is required"),u||(ye.confirmPassword="Please confirm your password"),o&&u&&o!==u&&(ye.confirmPassword="Passwords do not match")),r===2&&(p||(ye.firstName="First name is required"),v||(ye.lastName="Last name is required"),Q||(ye.age="Age is required"),O||(ye.currentWeight="Current weight is required"),R||(ye.height="Height is required"),N||(ye.goalWeight="Goal weight is required"),F||(ye.goalDate="Goal date is required")),Object.keys(ye).length>0){Ae(ye);return}Ae({}),we(""),i(r+1)},Ne=async ye=>{ye.preventDefault(),we(""),Ae({}),Ve(!0);try{let Ue;if(e==="register")Ue=await ioe({email:s,password:o,firstName:p,lastName:v,calorieGoal:Number(x),mealOrder:A.split(","),unit:I,currentWeight:parseFloat(O),height:parseFloat(R),goalWeight:parseFloat(N),goalDate:F,breakfastTime:B,lunchTime:fe,dinnerTime:X,age:parseInt(Q),gender:q});else{const Ke=KT();await one(Ke,rt?p7:$T);const Vt=(await ine(Ke,s,o)).user;rt?localStorage.setItem("rememberMe","true"):localStorage.removeItem("rememberMe");const De=await hme(Vt.uid);Ue={uid:Vt.uid,email:Vt.email,...De}}n(Ue)}catch(Ue){we(Ue.message)}finally{Ve(!1)}},ke=()=>{switch(r){case 1:return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Email"}),D.jsx("input",{type:"email",className:`form-control ${xe.username?"is-invalid":""}`,value:s,onChange:ye=>a(ye.target.value)}),xe.username&&D.jsx("div",{className:"text-danger",children:xe.username})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Password"}),D.jsx("input",{type:Pe?"text":"password",className:`form-control ${xe.password?"is-invalid":""}`,value:o,onChange:ye=>l(ye.target.value)}),xe.password&&D.jsx("div",{className:"text-danger",children:xe.password})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Confirm Password"}),D.jsx("input",{type:Pe?"text":"password",className:`form-control ${xe.confirmPassword?"is-invalid":""}`,value:u,onChange:ye=>h(ye.target.value)}),xe.confirmPassword&&D.jsx("div",{className:"text-danger",children:xe.confirmPassword})]})]});case 2:return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"First Name"}),D.jsx("input",{type:"text",className:`form-control ${xe.firstName?"is-invalid":""}`,value:p,onChange:ye=>g(ye.target.value)}),xe.firstName&&D.jsx("div",{className:"text-danger",children:xe.firstName})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Last Name"}),D.jsx("input",{type:"text",className:`form-control ${xe.lastName?"is-invalid":""}`,value:v,onChange:ye=>w(ye.target.value)}),xe.lastName&&D.jsx("div",{className:"text-danger",children:xe.lastName})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Age"}),D.jsx("input",{type:"number",className:`form-control ${xe.age?"is-invalid":""}`,value:Q,onChange:ye=>U(ye.target.value)}),xe.age&&D.jsx("div",{className:"text-danger",children:xe.age})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Gender"}),D.jsxs("select",{className:"form-control",value:q,onChange:ye=>ce(ye.target.value),children:[D.jsx("option",{value:"male",children:"Male"}),D.jsx("option",{value:"female",children:"Female"})]})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Current Weight (kg)"}),D.jsx("input",{type:"number",className:`form-control ${xe.currentWeight?"is-invalid":""}`,value:O,onChange:ye=>V(ye.target.value)}),xe.currentWeight&&D.jsx("div",{className:"text-danger",children:xe.currentWeight})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Height (cm)"}),D.jsx("input",{type:"number",className:`form-control ${xe.height?"is-invalid":""}`,value:R,onChange:ye=>C(ye.target.value)}),xe.height&&D.jsx("div",{className:"text-danger",children:xe.height})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Goal Weight (kg)"}),D.jsx("input",{type:"number",className:`form-control ${xe.goalWeight?"is-invalid":""}`,value:N,onChange:ye=>L(ye.target.value)}),xe.goalWeight&&D.jsx("div",{className:"text-danger",children:xe.goalWeight})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Goal Date"}),D.jsx("input",{type:"date",className:`form-control ${xe.goalDate?"is-invalid":""}`,value:F,onChange:ye=>H(ye.target.value)}),xe.goalDate&&D.jsx("div",{className:"text-danger",children:xe.goalDate})]})]});case 3:return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Calorie Goal"}),D.jsx("input",{type:"number",className:"form-control",value:x,onChange:ye=>E(ye.target.value)})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Meal Order"}),D.jsxs("select",{className:"form-control",value:A,onChange:ye=>T(ye.target.value),children:[D.jsx("option",{value:"Breakfast,Lunch,Dinner",children:"Breakfast  Lunch  Dinner"}),D.jsx("option",{value:"Dinner,Lunch,Breakfast",children:"Dinner  Lunch  Breakfast"})]})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Preferred Unit"}),D.jsxs("select",{className:"form-control",value:I,onChange:ye=>P(ye.target.value),children:[D.jsx("option",{value:"g",children:"Grams"}),D.jsx("option",{value:"mg",children:"Milligrams"}),D.jsx("option",{value:"kcal",children:"Calories"})]})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Breakfast Time"}),D.jsx("input",{type:"time",className:"form-control",value:B,onChange:ye=>he(ye.target.value)})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Lunch Time"}),D.jsx("input",{type:"time",className:"form-control",value:fe,onChange:ye=>Y(ye.target.value)})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Dinner Time"}),D.jsx("input",{type:"time",className:"form-control",value:X,onChange:ye=>oe(ye.target.value)})]})]});default:return null}};return D.jsxs("div",{className:"auth-container fade-slide-in",children:[D.jsx("div",{className:"text-center",children:D.jsx("img",{src:ES,alt:"KnowUrFood Logo",style:{width:"200px"}})}),D.jsxs("div",{className:"auth-box shadow rounded",children:[D.jsx("h2",{className:"auth-title",children:e==="login"?"LOGIN":"REGISTER"}),D.jsx("form",{onSubmit:ye=>ye.preventDefault(),className:"auth-form",children:e==="login"?D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Email"}),D.jsx("input",{type:"email",className:"form-control",value:s,onChange:ye=>a(ye.target.value),required:!0})]}),D.jsxs("div",{className:"form-row",children:[D.jsx("label",{children:"Password"}),D.jsx("input",{type:Pe?"text":"password",className:"form-control",value:o,onChange:ye=>l(ye.target.value),required:!0})]}),D.jsxs("div",{className:"form-check",children:[D.jsx("input",{type:"checkbox",className:"form-check-input",id:"rememberMe",checked:rt,onChange:ye=>kt(ye.target.checked)}),D.jsx("label",{className:"form-check-label",htmlFor:"rememberMe",children:"Remember Me"})]}),D.jsx("button",{type:"submit",className:"btn btn-primary w-100 mt-3 mb-2",onClick:Ne,disabled:et,children:et?D.jsxs(D.Fragment,{children:[D.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Logging in..."]}):"Login"})]}):D.jsxs("div",{className:`fade-step step-${r}`,children:[ke(),D.jsxs("div",{className:"d-flex justify-content-between mt-3",children:[r>1&&D.jsx("button",{type:"button",className:"btn btn-outline-light",onClick:()=>i(r-1),children:" Back"}),r<3?D.jsx("button",{type:"button",className:"btn btn-primary ms-auto",onClick:kr,children:"Next "}):D.jsx("button",{type:"submit",onClick:Ne,className:"btn btn-success ms-auto",disabled:et,children:et?D.jsxs(D.Fragment,{children:[D.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Registering..."]}):"Register"})]})]})}),D.jsxs("p",{className:"text-white text-center mt-3",children:[e==="login"?"Don't have an account?":"Already have an account?"," ",D.jsx("span",{className:"text-link",onClick:on,children:e==="login"?"Register":"Login"})]}),ne&&D.jsx("p",{className:"text-danger text-center mt-2",children:ne})]})]})}var li="top",Wi="bottom",Yi="right",ci="left",Nw="auto",Hd=[li,Wi,Yi,ci],tf="start",wd="end",XF="clippingParents",AI="viewport",bh="popper",QF="reference",AS=Hd.reduce(function(n,e){return n.concat([e+"-"+tf,e+"-"+wd])},[]),SI=[].concat(Hd,[Nw]).reduce(function(n,e){return n.concat([e,e+"-"+tf,e+"-"+wd])},[]),ZF="beforeRead",JF="read",eU="afterRead",tU="beforeMain",nU="main",rU="afterMain",iU="beforeWrite",sU="write",aU="afterWrite",oU=[ZF,JF,eU,tU,nU,rU,iU,sU,aU];function Ha(n){return n?(n.nodeName||"").toLowerCase():null}function $i(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function nf(n){var e=$i(n).Element;return n instanceof e||n instanceof Element}function _s(n){var e=$i(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function TI(n){if(typeof ShadowRoot>"u")return!1;var e=$i(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function pme(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!_s(s)||!Ha(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var o=i[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function gme(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),o=a.reduce(function(l,u){return l[u]="",l},{});!_s(i)||!Ha(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const CI={name:"applyStyles",enabled:!0,phase:"write",fn:pme,effect:gme,requires:["computeStyles"]};function La(n){return n.split("-")[0]}var Fu=Math.max,R_=Math.min,xd=Math.round;function SS(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function lU(){return!/^((?!chrome|android).)*safari/i.test(SS())}function bd(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&_s(n)&&(i=n.offsetWidth>0&&xd(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&xd(r.height)/n.offsetHeight||1);var a=nf(n)?$i(n):window,o=a.visualViewport,l=!lU()&&t,u=(r.left+(l&&o?o.offsetLeft:0))/i,h=(r.top+(l&&o?o.offsetTop:0))/s,p=r.width/i,g=r.height/s;return{width:p,height:g,top:h,right:u+p,bottom:h+g,left:u,x:u,y:h}}function II(n){var e=bd(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function cU(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&TI(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Fo(n){return $i(n).getComputedStyle(n)}function mme(n){return["table","td","th"].indexOf(Ha(n))>=0}function yc(n){return((nf(n)?n.ownerDocument:n.document)||window.document).documentElement}function Mw(n){return Ha(n)==="html"?n:n.assignedSlot||n.parentNode||(TI(n)?n.host:null)||yc(n)}function U6(n){return!_s(n)||Fo(n).position==="fixed"?null:n.offsetParent}function vme(n){var e=/firefox/i.test(SS()),t=/Trident/i.test(SS());if(t&&_s(n)){var r=Fo(n);if(r.position==="fixed")return null}var i=Mw(n);for(TI(i)&&(i=i.host);_s(i)&&["html","body"].indexOf(Ha(i))<0;){var s=Fo(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function A0(n){for(var e=$i(n),t=U6(n);t&&mme(t)&&Fo(t).position==="static";)t=U6(t);return t&&(Ha(t)==="html"||Ha(t)==="body"&&Fo(t).position==="static")?e:t||vme(n)||e}function DI(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function cm(n,e,t){return Fu(n,R_(e,t))}function yme(n,e,t){var r=cm(n,e,t);return r>t?t:r}function uU(){return{top:0,right:0,bottom:0,left:0}}function fU(n){return Object.assign({},uU(),n)}function hU(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var _me=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,fU(typeof e!="number"?e:hU(e,Hd))};function wme(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,a=t.modifiersData.popperOffsets,o=La(t.placement),l=DI(o),u=[ci,Yi].indexOf(o)>=0,h=u?"height":"width";if(!(!s||!a)){var p=_me(i.padding,t),g=II(s),v=l==="y"?li:ci,w=l==="y"?Wi:Yi,x=t.rects.reference[h]+t.rects.reference[l]-a[l]-t.rects.popper[h],E=a[l]-t.rects.reference[l],A=A0(s),T=A?l==="y"?A.clientHeight||0:A.clientWidth||0:0,I=x/2-E/2,P=p[v],O=T-g[h]-p[w],V=T/2-g[h]/2+I,R=cm(P,V,O),C=l;t.modifiersData[r]=(e={},e[C]=R,e.centerOffset=R-V,e)}}function xme(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||cU(e.elements.popper,i)&&(e.elements.arrow=i))}const dU={name:"arrow",enabled:!0,phase:"main",fn:wme,effect:xme,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ed(n){return n.split("-")[1]}var bme={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Eme(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:xd(t*i)/i||0,y:xd(r*i)/i||0}}function j6(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,a=n.offsets,o=n.position,l=n.gpuAcceleration,u=n.adaptive,h=n.roundOffsets,p=n.isFixed,g=a.x,v=g===void 0?0:g,w=a.y,x=w===void 0?0:w,E=typeof h=="function"?h({x:v,y:x}):{x:v,y:x};v=E.x,x=E.y;var A=a.hasOwnProperty("x"),T=a.hasOwnProperty("y"),I=ci,P=li,O=window;if(u){var V=A0(t),R="clientHeight",C="clientWidth";if(V===$i(t)&&(V=yc(t),Fo(V).position!=="static"&&o==="absolute"&&(R="scrollHeight",C="scrollWidth")),V=V,i===li||(i===ci||i===Yi)&&s===wd){P=Wi;var N=p&&V===O&&O.visualViewport?O.visualViewport.height:V[R];x-=N-r.height,x*=l?1:-1}if(i===ci||(i===li||i===Wi)&&s===wd){I=Yi;var L=p&&V===O&&O.visualViewport?O.visualViewport.width:V[C];v-=L-r.width,v*=l?1:-1}}var F=Object.assign({position:o},u&&bme),H=h===!0?Eme({x:v,y:x},$i(t)):{x:v,y:x};if(v=H.x,x=H.y,l){var B;return Object.assign({},F,(B={},B[P]=T?"0":"",B[I]=A?"0":"",B.transform=(O.devicePixelRatio||1)<=1?"translate("+v+"px, "+x+"px)":"translate3d("+v+"px, "+x+"px, 0)",B))}return Object.assign({},F,(e={},e[P]=T?x+"px":"",e[I]=A?v+"px":"",e.transform="",e))}function Ame(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,a=s===void 0?!0:s,o=t.roundOffsets,l=o===void 0?!0:o,u={placement:La(e.placement),variation:Ed(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,j6(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,j6(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const RI={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ame,data:{}};var Mv={passive:!0};function Sme(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,o=a===void 0?!0:a,l=$i(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(h){h.addEventListener("scroll",t.update,Mv)}),o&&l.addEventListener("resize",t.update,Mv),function(){s&&u.forEach(function(h){h.removeEventListener("scroll",t.update,Mv)}),o&&l.removeEventListener("resize",t.update,Mv)}}const OI={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Sme,data:{}};var Tme={left:"right",right:"left",bottom:"top",top:"bottom"};function Ay(n){return n.replace(/left|right|bottom|top/g,function(e){return Tme[e]})}var Cme={start:"end",end:"start"};function H6(n){return n.replace(/start|end/g,function(e){return Cme[e]})}function NI(n){var e=$i(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function MI(n){return bd(yc(n)).left+NI(n).scrollLeft}function Ime(n,e){var t=$i(n),r=yc(n),i=t.visualViewport,s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;var u=lU();(u||!u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o+MI(n),y:l}}function Dme(n){var e,t=yc(n),r=NI(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=Fu(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Fu(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+MI(n),l=-r.scrollTop;return Fo(i||t).direction==="rtl"&&(o+=Fu(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function PI(n){var e=Fo(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function pU(n){return["html","body","#document"].indexOf(Ha(n))>=0?n.ownerDocument.body:_s(n)&&PI(n)?n:pU(Mw(n))}function um(n,e){var t;e===void 0&&(e=[]);var r=pU(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=$i(r),a=i?[s].concat(s.visualViewport||[],PI(r)?r:[]):r,o=e.concat(a);return i?o:o.concat(um(Mw(a)))}function TS(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Rme(n,e){var t=bd(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function z6(n,e,t){return e===AI?TS(Ime(n,t)):nf(e)?Rme(e,t):TS(Dme(yc(n)))}function Ome(n){var e=um(Mw(n)),t=["absolute","fixed"].indexOf(Fo(n).position)>=0,r=t&&_s(n)?A0(n):n;return nf(r)?e.filter(function(i){return nf(i)&&cU(i,r)&&Ha(i)!=="body"}):[]}function Nme(n,e,t,r){var i=e==="clippingParents"?Ome(n):[].concat(e),s=[].concat(i,[t]),a=s[0],o=s.reduce(function(l,u){var h=z6(n,u,r);return l.top=Fu(h.top,l.top),l.right=R_(h.right,l.right),l.bottom=R_(h.bottom,l.bottom),l.left=Fu(h.left,l.left),l},z6(n,a,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function gU(n){var e=n.reference,t=n.element,r=n.placement,i=r?La(r):null,s=r?Ed(r):null,a=e.x+e.width/2-t.width/2,o=e.y+e.height/2-t.height/2,l;switch(i){case li:l={x:a,y:e.y-t.height};break;case Wi:l={x:a,y:e.y+e.height};break;case Yi:l={x:e.x+e.width,y:o};break;case ci:l={x:e.x-t.width,y:o};break;default:l={x:e.x,y:e.y}}var u=i?DI(i):null;if(u!=null){var h=u==="y"?"height":"width";switch(s){case tf:l[u]=l[u]-(e[h]/2-t[h]/2);break;case wd:l[u]=l[u]+(e[h]/2-t[h]/2);break}}return l}function Ad(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,a=s===void 0?n.strategy:s,o=t.boundary,l=o===void 0?XF:o,u=t.rootBoundary,h=u===void 0?AI:u,p=t.elementContext,g=p===void 0?bh:p,v=t.altBoundary,w=v===void 0?!1:v,x=t.padding,E=x===void 0?0:x,A=fU(typeof E!="number"?E:hU(E,Hd)),T=g===bh?QF:bh,I=n.rects.popper,P=n.elements[w?T:g],O=Nme(nf(P)?P:P.contextElement||yc(n.elements.popper),l,h,a),V=bd(n.elements.reference),R=gU({reference:V,element:I,placement:i}),C=TS(Object.assign({},I,R)),N=g===bh?C:V,L={top:O.top-N.top+A.top,bottom:N.bottom-O.bottom+A.bottom,left:O.left-N.left+A.left,right:N.right-O.right+A.right},F=n.modifiersData.offset;if(g===bh&&F){var H=F[i];Object.keys(L).forEach(function(B){var he=[Yi,Wi].indexOf(B)>=0?1:-1,fe=[li,Wi].indexOf(B)>=0?"y":"x";L[B]+=H[fe]*he})}return L}function Mme(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,a=t.padding,o=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?SI:l,h=Ed(r),p=h?o?AS:AS.filter(function(w){return Ed(w)===h}):Hd,g=p.filter(function(w){return u.indexOf(w)>=0});g.length===0&&(g=p);var v=g.reduce(function(w,x){return w[x]=Ad(n,{placement:x,boundary:i,rootBoundary:s,padding:a})[La(x)],w},{});return Object.keys(v).sort(function(w,x){return v[w]-v[x]})}function Pme(n){if(La(n)===Nw)return[];var e=Ay(n);return[H6(n),e,H6(e)]}function kme(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,o=a===void 0?!0:a,l=t.fallbackPlacements,u=t.padding,h=t.boundary,p=t.rootBoundary,g=t.altBoundary,v=t.flipVariations,w=v===void 0?!0:v,x=t.allowedAutoPlacements,E=e.options.placement,A=La(E),T=A===E,I=l||(T||!w?[Ay(E)]:Pme(E)),P=[E].concat(I).reduce(function(we,xe){return we.concat(La(xe)===Nw?Mme(e,{placement:xe,boundary:h,rootBoundary:p,padding:u,flipVariations:w,allowedAutoPlacements:x}):xe)},[]),O=e.rects.reference,V=e.rects.popper,R=new Map,C=!0,N=P[0],L=0;L<P.length;L++){var F=P[L],H=La(F),B=Ed(F)===tf,he=[li,Wi].indexOf(H)>=0,fe=he?"width":"height",Y=Ad(e,{placement:F,boundary:h,rootBoundary:p,altBoundary:g,padding:u}),X=he?B?Yi:ci:B?Wi:li;O[fe]>V[fe]&&(X=Ay(X));var oe=Ay(X),Q=[];if(s&&Q.push(Y[H]<=0),o&&Q.push(Y[X]<=0,Y[oe]<=0),Q.every(function(we){return we})){N=F,C=!1;break}R.set(F,Q)}if(C)for(var U=w?3:1,q=function(xe){var Ae=P.find(function(et){var Ve=R.get(et);if(Ve)return Ve.slice(0,xe).every(function(Pe){return Pe})});if(Ae)return N=Ae,"break"},ce=U;ce>0;ce--){var ne=q(ce);if(ne==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const mU={name:"flip",enabled:!0,phase:"main",fn:kme,requiresIfExists:["offset"],data:{_skip:!1}};function W6(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function Y6(n){return[li,Yi,Wi,ci].some(function(e){return n[e]>=0})}function Lme(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=Ad(e,{elementContext:"reference"}),o=Ad(e,{altBoundary:!0}),l=W6(a,r),u=W6(o,i,s),h=Y6(l),p=Y6(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const vU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Lme};function Vme(n,e,t){var r=La(n),i=[ci,li].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[ci,Yi].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}function Bme(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,a=SI.reduce(function(h,p){return h[p]=Vme(p,e.rects,s),h},{}),o=a[e.placement],l=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=a}const yU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Bme};function Fme(n){var e=n.state,t=n.name;e.modifiersData[t]=gU({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const kI={name:"popperOffsets",enabled:!0,phase:"read",fn:Fme,data:{}};function Ume(n){return n==="x"?"y":"x"}function jme(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,o=a===void 0?!1:a,l=t.boundary,u=t.rootBoundary,h=t.altBoundary,p=t.padding,g=t.tether,v=g===void 0?!0:g,w=t.tetherOffset,x=w===void 0?0:w,E=Ad(e,{boundary:l,rootBoundary:u,padding:p,altBoundary:h}),A=La(e.placement),T=Ed(e.placement),I=!T,P=DI(A),O=Ume(P),V=e.modifiersData.popperOffsets,R=e.rects.reference,C=e.rects.popper,N=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,L=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(V){if(s){var B,he=P==="y"?li:ci,fe=P==="y"?Wi:Yi,Y=P==="y"?"height":"width",X=V[P],oe=X+E[he],Q=X-E[fe],U=v?-C[Y]/2:0,q=T===tf?R[Y]:C[Y],ce=T===tf?-C[Y]:-R[Y],ne=e.elements.arrow,we=v&&ne?II(ne):{width:0,height:0},xe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:uU(),Ae=xe[he],et=xe[fe],Ve=cm(0,R[Y],we[Y]),Pe=I?R[Y]/2-U-Ve-Ae-L.mainAxis:q-Ve-Ae-L.mainAxis,We=I?-R[Y]/2+U+Ve+et+L.mainAxis:ce+Ve+et+L.mainAxis,rt=e.elements.arrow&&A0(e.elements.arrow),kt=rt?P==="y"?rt.clientTop||0:rt.clientLeft||0:0,Lt=(B=F==null?void 0:F[P])!=null?B:0,on=X+Pe-Lt-kt,kr=X+We-Lt,Ne=cm(v?R_(oe,on):oe,X,v?Fu(Q,kr):Q);V[P]=Ne,H[P]=Ne-X}if(o){var ke,ye=P==="x"?li:ci,Ue=P==="x"?Wi:Yi,Ke=V[O],it=O==="y"?"height":"width",nt=Ke+E[ye],Vt=Ke-E[Ue],De=[li,ci].indexOf(A)!==-1,_t=(ke=F==null?void 0:F[O])!=null?ke:0,pt=De?nt:Ke-R[it]-C[it]-_t+L.altAxis,at=De?Ke+R[it]+C[it]-_t-L.altAxis:Vt,cr=v&&De?yme(pt,Ke,at):cm(v?pt:nt,Ke,v?at:Vt);V[O]=cr,H[O]=cr-Ke}e.modifiersData[r]=H}}const _U={name:"preventOverflow",enabled:!0,phase:"main",fn:jme,requiresIfExists:["offset"]};function Hme(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function zme(n){return n===$i(n)||!_s(n)?NI(n):Hme(n)}function Wme(n){var e=n.getBoundingClientRect(),t=xd(e.width)/n.offsetWidth||1,r=xd(e.height)/n.offsetHeight||1;return t!==1||r!==1}function Yme(n,e,t){t===void 0&&(t=!1);var r=_s(e),i=_s(e)&&Wme(e),s=yc(e),a=bd(n,i,t),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((Ha(e)!=="body"||PI(s))&&(o=zme(e)),_s(e)?(l=bd(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=MI(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function $me(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!t.has(o)){var l=e.get(o);l&&i(l)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function Gme(n){var e=$me(n);return oU.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function qme(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function Kme(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var $6={placement:"bottom",modifiers:[],strategy:"absolute"};function G6(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Pw(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?$6:i;return function(o,l,u){u===void 0&&(u=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},$6,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},p=[],g=!1,v={state:h,setOptions:function(A){var T=typeof A=="function"?A(h.options):A;x(),h.options=Object.assign({},s,h.options,T),h.scrollParents={reference:nf(o)?um(o):o.contextElement?um(o.contextElement):[],popper:um(l)};var I=Gme(Kme([].concat(r,h.options.modifiers)));return h.orderedModifiers=I.filter(function(P){return P.enabled}),w(),v.update()},forceUpdate:function(){if(!g){var A=h.elements,T=A.reference,I=A.popper;if(G6(T,I)){h.rects={reference:Yme(T,A0(I),h.options.strategy==="fixed"),popper:II(I)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(L){return h.modifiersData[L.name]=Object.assign({},L.data)});for(var P=0;P<h.orderedModifiers.length;P++){if(h.reset===!0){h.reset=!1,P=-1;continue}var O=h.orderedModifiers[P],V=O.fn,R=O.options,C=R===void 0?{}:R,N=O.name;typeof V=="function"&&(h=V({state:h,options:C,name:N,instance:v})||h)}}}},update:qme(function(){return new Promise(function(E){v.forceUpdate(),E(h)})}),destroy:function(){x(),g=!0}};if(!G6(o,l))return v;v.setOptions(u).then(function(E){!g&&u.onFirstUpdate&&u.onFirstUpdate(E)});function w(){h.orderedModifiers.forEach(function(E){var A=E.name,T=E.options,I=T===void 0?{}:T,P=E.effect;if(typeof P=="function"){var O=P({state:h,name:A,instance:v,options:I}),V=function(){};p.push(O||V)}})}function x(){p.forEach(function(E){return E()}),p=[]}return v}}var Xme=Pw(),Qme=[OI,kI,RI,CI],Zme=Pw({defaultModifiers:Qme}),Jme=[OI,kI,RI,CI,yU,mU,_U,dU,vU],LI=Pw({defaultModifiers:Jme});const wU=Object.freeze(Object.defineProperty({__proto__:null,afterMain:rU,afterRead:eU,afterWrite:aU,applyStyles:CI,arrow:dU,auto:Nw,basePlacements:Hd,beforeMain:tU,beforeRead:ZF,beforeWrite:iU,bottom:Wi,clippingParents:XF,computeStyles:RI,createPopper:LI,createPopperBase:Xme,createPopperLite:Zme,detectOverflow:Ad,end:wd,eventListeners:OI,flip:mU,hide:vU,left:ci,main:nU,modifierPhases:oU,offset:yU,placements:SI,popper:bh,popperGenerator:Pw,popperOffsets:kI,preventOverflow:_U,read:JF,reference:QF,right:Yi,start:tf,top:li,variationPlacements:AS,viewport:AI,write:sU},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Tl=new Map,E2={set(n,e,t){Tl.has(n)||Tl.set(n,new Map);const r=Tl.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return Tl.has(n)&&Tl.get(n).get(e)||null},remove(n,e){if(!Tl.has(n))return;const t=Tl.get(n);t.delete(e),t.size===0&&Tl.delete(n)}},e0e=1e6,t0e=1e3,CS="transitionend",xU=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),n0e=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),r0e=n=>{do n+=Math.floor(Math.random()*e0e);while(document.getElementById(n));return n},i0e=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*t0e)},bU=n=>{n.dispatchEvent(new Event(CS))},Ro=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),lc=n=>Ro(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(xU(n)):null,zd=n=>{if(!Ro(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},cc=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",EU=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?EU(n.parentNode):null},O_=()=>{},S0=n=>{n.offsetHeight},AU=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,A2=[],s0e=n=>{document.readyState==="loading"?(A2.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of A2)e()}),A2.push(n)):n()},Es=()=>document.documentElement.dir==="rtl",Ts=n=>{s0e(()=>{const e=AU();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},wi=(n,e=[],t=n)=>typeof n=="function"?n.call(...e):t,SU=(n,e,t=!0)=>{if(!t){wi(n);return}const i=i0e(e)+5;let s=!1;const a=({target:o})=>{o===e&&(s=!0,e.removeEventListener(CS,a),wi(n))};e.addEventListener(CS,a),setTimeout(()=>{s||bU(e)},i)},VI=(n,e,t,r)=>{const i=n.length;let s=n.indexOf(e);return s===-1?!t&&r?n[i-1]:n[0]:(s+=t?1:-1,r&&(s=(s+i)%i),n[Math.max(0,Math.min(s,i-1))])},a0e=/[^.]*(?=\..*)\.|.*/,o0e=/\..*/,l0e=/::\d+$/,S2={};let q6=1;const TU={mouseenter:"mouseover",mouseleave:"mouseout"},c0e=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function CU(n,e){return e&&`${e}::${q6++}`||n.uidEvent||q6++}function IU(n){const e=CU(n);return n.uidEvent=e,S2[e]=S2[e]||{},S2[e]}function u0e(n,e){return function t(r){return BI(r,{delegateTarget:n}),t.oneOff&&Ee.off(n,r.type,e),e.apply(n,[r])}}function f0e(n,e,t){return function r(i){const s=n.querySelectorAll(e);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const o of s)if(o===a)return BI(i,{delegateTarget:a}),r.oneOff&&Ee.off(n,i.type,e,t),t.apply(a,[i])}}function DU(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function RU(n,e,t){const r=typeof e=="string",i=r?t:e||t;let s=OU(n);return c0e.has(s)||(s=n),[r,i,s]}function K6(n,e,t,r,i){if(typeof e!="string"||!n)return;let[s,a,o]=RU(e,t,r);e in TU&&(a=(w=>function(x){if(!x.relatedTarget||x.relatedTarget!==x.delegateTarget&&!x.delegateTarget.contains(x.relatedTarget))return w.call(this,x)})(a));const l=IU(n),u=l[o]||(l[o]={}),h=DU(u,a,s?t:null);if(h){h.oneOff=h.oneOff&&i;return}const p=CU(a,e.replace(a0e,"")),g=s?f0e(n,t,a):u0e(n,a);g.delegationSelector=s?t:null,g.callable=a,g.oneOff=i,g.uidEvent=p,u[p]=g,n.addEventListener(o,g,s)}function IS(n,e,t,r,i){const s=DU(e[t],r,i);s&&(n.removeEventListener(t,s,!!i),delete e[t][s.uidEvent])}function h0e(n,e,t,r){const i=e[t]||{};for(const[s,a]of Object.entries(i))s.includes(r)&&IS(n,e,t,a.callable,a.delegationSelector)}function OU(n){return n=n.replace(o0e,""),TU[n]||n}const Ee={on(n,e,t,r){K6(n,e,t,r,!1)},one(n,e,t,r){K6(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[i,s,a]=RU(e,t,r),o=a!==e,l=IU(n),u=l[a]||{},h=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(u).length)return;IS(n,l,a,s,i?t:null);return}if(h)for(const p of Object.keys(l))h0e(n,l,p,e.slice(1));for(const[p,g]of Object.entries(u)){const v=p.replace(l0e,"");(!o||e.includes(v))&&IS(n,l,a,g.callable,g.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=AU(),i=OU(e),s=e!==i;let a=null,o=!0,l=!0,u=!1;s&&r&&(a=r.Event(e,t),r(n).trigger(a),o=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),u=a.isDefaultPrevented());const h=BI(new Event(e,{bubbles:o,cancelable:!0}),t);return u&&h.preventDefault(),l&&n.dispatchEvent(h),h.defaultPrevented&&a&&a.preventDefault(),h}};function BI(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function X6(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function T2(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Oo={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${T2(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${T2(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=X6(n.dataset[r])}return e},getDataAttribute(n,e){return X6(n.getAttribute(`data-bs-${T2(e)}`))}};class T0{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=Ro(t)?Oo.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Ro(t)?Oo.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const s=e[r],a=Ro(s)?"element":n0e(s);if(!new RegExp(i).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}}}const d0e="5.3.7";class $s extends T0{constructor(e,t){super(),e=lc(e),e&&(this._element=e,this._config=this._getConfig(t),E2.set(this._element,this.constructor.DATA_KEY,this))}dispose(){E2.remove(this._element,this.constructor.DATA_KEY),Ee.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){SU(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return E2.get(lc(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return d0e}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const C2=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>xU(t)).join(","):null},$e={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!cc(t)&&zd(t))},getSelectorFromElement(n){const e=C2(n);return e&&$e.findOne(e)?e:null},getElementFromSelector(n){const e=C2(n);return e?$e.findOne(e):null},getMultipleElementsFromSelector(n){const e=C2(n);return e?$e.find(e):[]}},kw=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;Ee.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),cc(this))return;const s=$e.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(s)[e]()})},p0e="alert",g0e="bs.alert",NU=`.${g0e}`,m0e=`close${NU}`,v0e=`closed${NU}`,y0e="fade",_0e="show";class Lw extends $s{static get NAME(){return p0e}close(){if(Ee.trigger(this._element,m0e).defaultPrevented)return;this._element.classList.remove(_0e);const t=this._element.classList.contains(y0e);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),Ee.trigger(this._element,v0e),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=Lw.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}kw(Lw,"close");Ts(Lw);const w0e="button",x0e="bs.button",b0e=`.${x0e}`,E0e=".data-api",A0e="active",Q6='[data-bs-toggle="button"]',S0e=`click${b0e}${E0e}`;class Vw extends $s{static get NAME(){return w0e}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(A0e))}static jQueryInterface(e){return this.each(function(){const t=Vw.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}Ee.on(document,S0e,Q6,n=>{n.preventDefault();const e=n.target.closest(Q6);Vw.getOrCreateInstance(e).toggle()});Ts(Vw);const T0e="swipe",Wd=".bs.swipe",C0e=`touchstart${Wd}`,I0e=`touchmove${Wd}`,D0e=`touchend${Wd}`,R0e=`pointerdown${Wd}`,O0e=`pointerup${Wd}`,N0e="touch",M0e="pen",P0e="pointer-event",k0e=40,L0e={endCallback:null,leftCallback:null,rightCallback:null},V0e={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class N_ extends T0{constructor(e,t){super(),this._element=e,!(!e||!N_.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return L0e}static get DefaultType(){return V0e}static get NAME(){return T0e}dispose(){Ee.off(this._element,Wd)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),wi(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=k0e)return;const t=e/this._deltaX;this._deltaX=0,t&&wi(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Ee.on(this._element,R0e,e=>this._start(e)),Ee.on(this._element,O0e,e=>this._end(e)),this._element.classList.add(P0e)):(Ee.on(this._element,C0e,e=>this._start(e)),Ee.on(this._element,I0e,e=>this._move(e)),Ee.on(this._element,D0e,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===M0e||e.pointerType===N0e)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const B0e="carousel",F0e="bs.carousel",_c=`.${F0e}`,MU=".data-api",U0e="ArrowLeft",j0e="ArrowRight",H0e=500,yg="next",dh="prev",Eh="left",Sy="right",z0e=`slide${_c}`,I2=`slid${_c}`,W0e=`keydown${_c}`,Y0e=`mouseenter${_c}`,$0e=`mouseleave${_c}`,G0e=`dragstart${_c}`,q0e=`load${_c}${MU}`,K0e=`click${_c}${MU}`,PU="carousel",Pv="active",X0e="slide",Q0e="carousel-item-end",Z0e="carousel-item-start",J0e="carousel-item-next",e1e="carousel-item-prev",kU=".active",LU=".carousel-item",t1e=kU+LU,n1e=".carousel-item img",r1e=".carousel-indicators",i1e="[data-bs-slide], [data-bs-slide-to]",s1e='[data-bs-ride="carousel"]',a1e={[U0e]:Sy,[j0e]:Eh},o1e={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},l1e={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class C0 extends $s{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=$e.findOne(r1e,this._element),this._addEventListeners(),this._config.ride===PU&&this.cycle()}static get Default(){return o1e}static get DefaultType(){return l1e}static get NAME(){return B0e}next(){this._slide(yg)}nextWhenVisible(){!document.hidden&&zd(this._element)&&this.next()}prev(){this._slide(dh)}pause(){this._isSliding&&bU(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Ee.one(this._element,I2,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){Ee.one(this._element,I2,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?yg:dh;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Ee.on(this._element,W0e,e=>this._keydown(e)),this._config.pause==="hover"&&(Ee.on(this._element,Y0e,()=>this.pause()),Ee.on(this._element,$0e,()=>this._maybeEnableCycle())),this._config.touch&&N_.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of $e.find(n1e,this._element))Ee.on(r,G0e,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Eh)),rightCallback:()=>this._slide(this._directionToOrder(Sy)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),H0e+this._config.interval))}};this._swipeHelper=new N_(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=a1e[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=$e.findOne(kU,this._indicatorsElement);t.classList.remove(Pv),t.removeAttribute("aria-current");const r=$e.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(Pv),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===yg,s=t||VI(this._getItems(),r,i,this._config.wrap);if(s===r)return;const a=this._getItemIndex(s),o=v=>Ee.trigger(this._element,v,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:a});if(o(z0e).defaultPrevented||!r||!s)return;const u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=s;const h=i?Z0e:Q0e,p=i?J0e:e1e;s.classList.add(p),S0(s),r.classList.add(h),s.classList.add(h);const g=()=>{s.classList.remove(h,p),s.classList.add(Pv),r.classList.remove(Pv,p,h),this._isSliding=!1,o(I2)};this._queueCallback(g,r,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(X0e)}_getActive(){return $e.findOne(t1e,this._element)}_getItems(){return $e.find(LU,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Es()?e===Eh?dh:yg:e===Eh?yg:dh}_orderToDirection(e){return Es()?e===dh?Eh:Sy:e===dh?Sy:Eh}static jQueryInterface(e){return this.each(function(){const t=C0.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Ee.on(document,K0e,i1e,function(n){const e=$e.getElementFromSelector(this);if(!e||!e.classList.contains(PU))return;n.preventDefault();const t=C0.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(Oo.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});Ee.on(window,q0e,()=>{const n=$e.find(s1e);for(const e of n)C0.getOrCreateInstance(e)});Ts(C0);const c1e="collapse",u1e="bs.collapse",I0=`.${u1e}`,f1e=".data-api",h1e=`show${I0}`,d1e=`shown${I0}`,p1e=`hide${I0}`,g1e=`hidden${I0}`,m1e=`click${I0}${f1e}`,D2="show",kh="collapse",kv="collapsing",v1e="collapsed",y1e=`:scope .${kh} .${kh}`,_1e="collapse-horizontal",w1e="width",x1e="height",b1e=".collapse.show, .collapse.collapsing",DS='[data-bs-toggle="collapse"]',E1e={parent:null,toggle:!0},A1e={parent:"(null|element)",toggle:"boolean"};class Gm extends $s{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=$e.find(DS);for(const i of r){const s=$e.getSelectorFromElement(i),a=$e.find(s).filter(o=>o===this._element);s!==null&&a.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return E1e}static get DefaultType(){return A1e}static get NAME(){return c1e}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(b1e).filter(o=>o!==this._element).map(o=>Gm.getOrCreateInstance(o,{toggle:!1}))),e.length&&e[0]._isTransitioning||Ee.trigger(this._element,h1e).defaultPrevented)return;for(const o of e)o.hide();const r=this._getDimension();this._element.classList.remove(kh),this._element.classList.add(kv),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(kv),this._element.classList.add(kh,D2),this._element.style[r]="",Ee.trigger(this._element,d1e)},a=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ee.trigger(this._element,p1e).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,S0(this._element),this._element.classList.add(kv),this._element.classList.remove(kh,D2);for(const i of this._triggerArray){const s=$e.getElementFromSelector(i);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(kv),this._element.classList.add(kh),Ee.trigger(this._element,g1e)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(D2)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=lc(e.parent),e}_getDimension(){return this._element.classList.contains(_1e)?w1e:x1e}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(DS);for(const t of e){const r=$e.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=$e.find(y1e,this._config.parent);return $e.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(v1e,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Gm.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Ee.on(document,m1e,DS,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of $e.getMultipleElementsFromSelector(this))Gm.getOrCreateInstance(e,{toggle:!1}).toggle()});Ts(Gm);const Z6="dropdown",S1e="bs.dropdown",hf=`.${S1e}`,FI=".data-api",T1e="Escape",J6="Tab",C1e="ArrowUp",e8="ArrowDown",I1e=2,D1e=`hide${hf}`,R1e=`hidden${hf}`,O1e=`show${hf}`,N1e=`shown${hf}`,VU=`click${hf}${FI}`,BU=`keydown${hf}${FI}`,M1e=`keyup${hf}${FI}`,Ah="show",P1e="dropup",k1e="dropend",L1e="dropstart",V1e="dropup-center",B1e="dropdown-center",Au='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',F1e=`${Au}.${Ah}`,Ty=".dropdown-menu",U1e=".navbar",j1e=".navbar-nav",H1e=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",z1e=Es()?"top-end":"top-start",W1e=Es()?"top-start":"top-end",Y1e=Es()?"bottom-end":"bottom-start",$1e=Es()?"bottom-start":"bottom-end",G1e=Es()?"left-start":"right-start",q1e=Es()?"right-start":"left-start",K1e="top",X1e="bottom",Q1e={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Z1e={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Va extends $s{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=$e.next(this._element,Ty)[0]||$e.prev(this._element,Ty)[0]||$e.findOne(Ty,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Q1e}static get DefaultType(){return Z1e}static get NAME(){return Z6}toggle(){return this._isShown()?this.hide():this.show()}show(){if(cc(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Ee.trigger(this._element,O1e,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(j1e))for(const r of[].concat(...document.body.children))Ee.on(r,"mouseover",O_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ah),this._element.classList.add(Ah),Ee.trigger(this._element,N1e,e)}}hide(){if(cc(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Ee.trigger(this._element,D1e,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))Ee.off(r,"mouseover",O_);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ah),this._element.classList.remove(Ah),this._element.setAttribute("aria-expanded","false"),Oo.removeDataAttribute(this._menu,"popper"),Ee.trigger(this._element,R1e,e),this._element.focus()}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Ro(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Z6.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof wU>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:Ro(this._config.reference)?e=lc(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=LI(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Ah)}_getPlacement(){const e=this._parent;if(e.classList.contains(k1e))return G1e;if(e.classList.contains(L1e))return q1e;if(e.classList.contains(V1e))return K1e;if(e.classList.contains(B1e))return X1e;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(P1e)?t?W1e:z1e:t?$1e:Y1e}_detectNavbar(){return this._element.closest(U1e)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Oo.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...wi(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){const r=$e.find(H1e,this._menu).filter(i=>zd(i));r.length&&VI(r,t,e===e8,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Va.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===I1e||e.type==="keyup"&&e.key!==J6)return;const t=$e.find(F1e);for(const r of t){const i=Va.getInstance(r);if(!i||i._config.autoClose===!1)continue;const s=e.composedPath(),a=s.includes(i._menu);if(s.includes(i._element)||i._config.autoClose==="inside"&&!a||i._config.autoClose==="outside"&&a||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===J6||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:i._element};e.type==="click"&&(o.clickEvent=e),i._completeHide(o)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===T1e,i=[C1e,e8].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const s=this.matches(Au)?this:$e.prev(this,Au)[0]||$e.next(this,Au)[0]||$e.findOne(Au,e.delegateTarget.parentNode),a=Va.getOrCreateInstance(s);if(i){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),s.focus())}}Ee.on(document,BU,Au,Va.dataApiKeydownHandler);Ee.on(document,BU,Ty,Va.dataApiKeydownHandler);Ee.on(document,VU,Va.clearMenus);Ee.on(document,M1e,Va.clearMenus);Ee.on(document,VU,Au,function(n){n.preventDefault(),Va.getOrCreateInstance(this).toggle()});Ts(Va);const FU="backdrop",J1e="fade",t8="show",n8=`mousedown.bs.${FU}`,eve={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},tve={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class UU extends T0{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return eve}static get DefaultType(){return tve}static get NAME(){return FU}show(e){if(!this._config.isVisible){wi(e);return}this._append();const t=this._getElement();this._config.isAnimated&&S0(t),t.classList.add(t8),this._emulateAnimation(()=>{wi(e)})}hide(e){if(!this._config.isVisible){wi(e);return}this._getElement().classList.remove(t8),this._emulateAnimation(()=>{this.dispose(),wi(e)})}dispose(){this._isAppended&&(Ee.off(this._element,n8),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(J1e),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=lc(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Ee.on(e,n8,()=>{wi(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){SU(e,this._getElement(),this._config.isAnimated)}}const nve="focustrap",rve="bs.focustrap",M_=`.${rve}`,ive=`focusin${M_}`,sve=`keydown.tab${M_}`,ave="Tab",ove="forward",r8="backward",lve={autofocus:!0,trapElement:null},cve={autofocus:"boolean",trapElement:"element"};class jU extends T0{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return lve}static get DefaultType(){return cve}static get NAME(){return nve}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Ee.off(document,M_),Ee.on(document,ive,e=>this._handleFocusin(e)),Ee.on(document,sve,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ee.off(document,M_))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=$e.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===r8?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===ave&&(this._lastTabNavDirection=e.shiftKey?r8:ove)}}const i8=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",s8=".sticky-top",Lv="padding-right",a8="margin-right";class RS{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Lv,t=>t+e),this._setElementAttributes(i8,Lv,t=>t+e),this._setElementAttributes(s8,a8,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Lv),this._resetElementAttributes(i8,Lv),this._resetElementAttributes(s8,a8)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth(),s=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+i)return;this._saveInitialAttribute(a,t);const o=window.getComputedStyle(a).getPropertyValue(t);a.style.setProperty(t,`${r(Number.parseFloat(o))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&Oo.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=i=>{const s=Oo.getDataAttribute(i,t);if(s===null){i.style.removeProperty(t);return}Oo.removeDataAttribute(i,t),i.style.setProperty(t,s)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(Ro(e)){t(e);return}for(const r of $e.find(e,this._element))t(r)}}const uve="modal",fve="bs.modal",As=`.${fve}`,hve=".data-api",dve="Escape",pve=`hide${As}`,gve=`hidePrevented${As}`,HU=`hidden${As}`,zU=`show${As}`,mve=`shown${As}`,vve=`resize${As}`,yve=`click.dismiss${As}`,_ve=`mousedown.dismiss${As}`,wve=`keydown.dismiss${As}`,xve=`click${As}${hve}`,o8="modal-open",bve="fade",l8="show",R2="modal-static",Eve=".modal.show",Ave=".modal-dialog",Sve=".modal-body",Tve='[data-bs-toggle="modal"]',Cve={backdrop:!0,focus:!0,keyboard:!0},Ive={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Sd extends $s{constructor(e,t){super(e,t),this._dialog=$e.findOne(Ave,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new RS,this._addEventListeners()}static get Default(){return Cve}static get DefaultType(){return Ive}static get NAME(){return uve}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Ee.trigger(this._element,zU,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(o8),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Ee.trigger(this._element,pve).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(l8),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Ee.off(window,As),Ee.off(this._dialog,As),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new UU({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new jU({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=$e.findOne(Sve,this._dialog);t&&(t.scrollTop=0),S0(this._element),this._element.classList.add(l8);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ee.trigger(this._element,mve,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){Ee.on(this._element,wve,e=>{if(e.key===dve){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Ee.on(window,vve,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Ee.on(this._element,_ve,e=>{Ee.one(this._element,yve,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(o8),this._resetAdjustments(),this._scrollBar.reset(),Ee.trigger(this._element,HU)})}_isAnimated(){return this._element.classList.contains(bve)}_triggerBackdropTransition(){if(Ee.trigger(this._element,gve).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(R2)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(R2),this._queueCallback(()=>{this._element.classList.remove(R2),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=Es()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=Es()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=Sd.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}}Ee.on(document,xve,Tve,function(n){const e=$e.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),Ee.one(e,zU,i=>{i.defaultPrevented||Ee.one(e,HU,()=>{zd(this)&&this.focus()})});const t=$e.findOne(Eve);t&&Sd.getInstance(t).hide(),Sd.getOrCreateInstance(e).toggle(this)});kw(Sd);Ts(Sd);const Dve="offcanvas",Rve="bs.offcanvas",zo=`.${Rve}`,WU=".data-api",Ove=`load${zo}${WU}`,Nve="Escape",c8="show",u8="showing",f8="hiding",Mve="offcanvas-backdrop",YU=".offcanvas.show",Pve=`show${zo}`,kve=`shown${zo}`,Lve=`hide${zo}`,h8=`hidePrevented${zo}`,$U=`hidden${zo}`,Vve=`resize${zo}`,Bve=`click${zo}${WU}`,Fve=`keydown.dismiss${zo}`,Uve='[data-bs-toggle="offcanvas"]',jve={backdrop:!0,keyboard:!0,scroll:!1},Hve={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class uc extends $s{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return jve}static get DefaultType(){return Hve}static get NAME(){return Dve}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Ee.trigger(this._element,Pve,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new RS().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(u8);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(c8),this._element.classList.remove(u8),Ee.trigger(this._element,kve,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||Ee.trigger(this._element,Lve).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(f8),this._backdrop.hide();const t=()=>{this._element.classList.remove(c8,f8),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new RS().reset(),Ee.trigger(this._element,$U)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){Ee.trigger(this._element,h8);return}this.hide()},t=!!this._config.backdrop;return new UU({className:Mve,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new jU({trapElement:this._element})}_addEventListeners(){Ee.on(this._element,Fve,e=>{if(e.key===Nve){if(this._config.keyboard){this.hide();return}Ee.trigger(this._element,h8)}})}static jQueryInterface(e){return this.each(function(){const t=uc.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Ee.on(document,Bve,Uve,function(n){const e=$e.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),cc(this))return;Ee.one(e,$U,()=>{zd(this)&&this.focus()});const t=$e.findOne(YU);t&&t!==e&&uc.getInstance(t).hide(),uc.getOrCreateInstance(e).toggle(this)});Ee.on(window,Ove,()=>{for(const n of $e.find(YU))uc.getOrCreateInstance(n).show()});Ee.on(window,Vve,()=>{for(const n of $e.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&uc.getOrCreateInstance(n).hide()});kw(uc);Ts(uc);const zve=/^aria-[\w-]*$/i,GU={"*":["class","dir","id","lang","role",zve],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Wve=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Yve=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,$ve=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?Wve.has(t)?!!Yve.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function Gve(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(const a of s){const o=a.nodeName.toLowerCase();if(!Object.keys(e).includes(o)){a.remove();continue}const l=[].concat(...a.attributes),u=[].concat(e["*"]||[],e[o]||[]);for(const h of l)$ve(h,u)||a.removeAttribute(h.nodeName)}return i.body.innerHTML}const qve="TemplateFactory",Kve={allowList:GU,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Xve={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Qve={entry:"(string|element|function|null)",selector:"(string|element)"};class Zve extends T0{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Kve}static get DefaultType(){return Xve}static get NAME(){return qve}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,s]of Object.entries(this._config.content))this._setContent(e,s,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},Qve)}_setContent(e,t,r){const i=$e.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(Ro(t)){this._putElementInTemplate(lc(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?Gve(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return wi(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const Jve="tooltip",eye=new Set(["sanitize","allowList","sanitizeFn"]),O2="fade",tye="modal",Vv="show",nye=".tooltip-inner",d8=`.${tye}`,p8="hide.bs.modal",_g="hover",N2="focus",M2="click",rye="manual",iye="hide",sye="hidden",aye="show",oye="shown",lye="inserted",cye="click",uye="focusin",fye="focusout",hye="mouseenter",dye="mouseleave",pye={AUTO:"auto",TOP:"top",RIGHT:Es()?"left":"right",BOTTOM:"bottom",LEFT:Es()?"right":"left"},gye={allowList:GU,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},mye={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Yd extends $s{constructor(e,t){if(typeof wU>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return gye}static get DefaultType(){return mye}static get NAME(){return Jve}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Ee.off(this._element.closest(d8),p8,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=Ee.trigger(this._element,this.constructor.eventName(aye)),r=(EU(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),Ee.trigger(this._element,this.constructor.eventName(lye))),this._popper=this._createPopper(i),i.classList.add(Vv),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))Ee.on(o,"mouseover",O_);const a=()=>{Ee.trigger(this._element,this.constructor.eventName(oye)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Ee.trigger(this._element,this.constructor.eventName(iye)).defaultPrevented)return;if(this._getTipElement().classList.remove(Vv),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Ee.off(i,"mouseover",O_);this._activeTrigger[M2]=!1,this._activeTrigger[N2]=!1,this._activeTrigger[_g]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ee.trigger(this._element,this.constructor.eventName(sye)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(O2,Vv),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=r0e(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(O2),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Zve({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[nye]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(O2)}_isShown(){return this.tip&&this.tip.classList.contains(Vv)}_createPopper(e){const t=wi(this._config.placement,[this,e,this._element]),r=pye[t.toUpperCase()];return LI(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return wi(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...wi(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")Ee.on(this._element,this.constructor.eventName(cye),this._config.selector,r=>{const i=this._initializeOnDelegatedTarget(r);i._activeTrigger[M2]=!(i._isShown()&&i._activeTrigger[M2]),i.toggle()});else if(t!==rye){const r=t===_g?this.constructor.eventName(hye):this.constructor.eventName(uye),i=t===_g?this.constructor.eventName(dye):this.constructor.eventName(fye);Ee.on(this._element,r,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusin"?N2:_g]=!0,a._enter()}),Ee.on(this._element,i,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusout"?N2:_g]=a._element.contains(s.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Ee.on(this._element.closest(d8),p8,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=Oo.getDataAttributes(this._element);for(const r of Object.keys(t))eye.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:lc(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=Yd.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Ts(Yd);const vye="popover",yye=".popover-header",_ye=".popover-body",wye={...Yd.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},xye={...Yd.DefaultType,content:"(null|string|element|function)"};class UI extends Yd{static get Default(){return wye}static get DefaultType(){return xye}static get NAME(){return vye}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[yye]:this._getTitle(),[_ye]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=UI.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Ts(UI);const bye="scrollspy",Eye="bs.scrollspy",jI=`.${Eye}`,Aye=".data-api",Sye=`activate${jI}`,g8=`click${jI}`,Tye=`load${jI}${Aye}`,Cye="dropdown-item",ph="active",Iye='[data-bs-spy="scroll"]',P2="[href]",Dye=".nav, .list-group",m8=".nav-link",Rye=".nav-item",Oye=".list-group-item",Nye=`${m8}, ${Rye} > ${m8}, ${Oye}`,Mye=".dropdown",Pye=".dropdown-toggle",kye={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Lye={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Bw extends $s{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return kye}static get DefaultType(){return Lye}static get NAME(){return bye}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=lc(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Ee.off(this._config.target,g8),Ee.on(this._config.target,g8,P2,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=a=>this._targetLinks.get(`#${a.target.id}`),r=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(t(a))},i=(this._rootElement||document.documentElement).scrollTop,s=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(a));continue}const o=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&o){if(r(a),!i)return;continue}!s&&!o&&r(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=$e.find(P2,this._config.target);for(const t of e){if(!t.hash||cc(t))continue;const r=$e.findOne(decodeURI(t.hash),this._element);zd(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(ph),this._activateParents(e),Ee.trigger(this._element,Sye,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Cye)){$e.findOne(Pye,e.closest(Mye)).classList.add(ph);return}for(const t of $e.parents(e,Dye))for(const r of $e.prev(t,Nye))r.classList.add(ph)}_clearActiveClass(e){e.classList.remove(ph);const t=$e.find(`${P2}.${ph}`,e);for(const r of t)r.classList.remove(ph)}static jQueryInterface(e){return this.each(function(){const t=Bw.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Ee.on(window,Tye,()=>{for(const n of $e.find(Iye))Bw.getOrCreateInstance(n)});Ts(Bw);const Vye="tab",Bye="bs.tab",df=`.${Bye}`,Fye=`hide${df}`,Uye=`hidden${df}`,jye=`show${df}`,Hye=`shown${df}`,zye=`click${df}`,Wye=`keydown${df}`,Yye=`load${df}`,$ye="ArrowLeft",v8="ArrowRight",Gye="ArrowUp",y8="ArrowDown",k2="Home",_8="End",Su="active",w8="fade",L2="show",qye="dropdown",qU=".dropdown-toggle",Kye=".dropdown-menu",V2=`:not(${qU})`,Xye='.list-group, .nav, [role="tablist"]',Qye=".nav-item, .list-group-item",Zye=`.nav-link${V2}, .list-group-item${V2}, [role="tab"]${V2}`,KU='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',B2=`${Zye}, ${KU}`,Jye=`.${Su}[data-bs-toggle="tab"], .${Su}[data-bs-toggle="pill"], .${Su}[data-bs-toggle="list"]`;class Td extends $s{constructor(e){super(e),this._parent=this._element.closest(Xye),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Ee.on(this._element,Wye,t=>this._keydown(t)))}static get NAME(){return Vye}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?Ee.trigger(t,Fye,{relatedTarget:e}):null;Ee.trigger(e,jye,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Su),this._activate($e.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(L2);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Ee.trigger(e,Hye,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(w8))}_deactivate(e,t){if(!e)return;e.classList.remove(Su),e.blur(),this._deactivate($e.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(L2);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Ee.trigger(e,Uye,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(w8))}_keydown(e){if(![$ye,v8,Gye,y8,k2,_8].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!cc(i));let r;if([k2,_8].includes(e.key))r=t[e.key===k2?0:t.length-1];else{const i=[v8,y8].includes(e.key);r=VI(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),Td.getOrCreateInstance(r).show())}_getChildren(){return $e.find(B2,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=$e.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(qye))return;const i=(s,a)=>{const o=$e.findOne(s,r);o&&o.classList.toggle(a,t)};i(qU,Su),i(Kye,L2),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(Su)}_getInnerElement(e){return e.matches(B2)?e:$e.findOne(B2,e)}_getOuterElement(e){return e.closest(Qye)||e}static jQueryInterface(e){return this.each(function(){const t=Td.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Ee.on(document,zye,KU,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!cc(this)&&Td.getOrCreateInstance(this).show()});Ee.on(window,Yye,()=>{for(const n of $e.find(Jye))Td.getOrCreateInstance(n)});Ts(Td);const e_e="toast",t_e="bs.toast",wc=`.${t_e}`,n_e=`mouseover${wc}`,r_e=`mouseout${wc}`,i_e=`focusin${wc}`,s_e=`focusout${wc}`,a_e=`hide${wc}`,o_e=`hidden${wc}`,l_e=`show${wc}`,c_e=`shown${wc}`,u_e="fade",x8="hide",Bv="show",Fv="showing",f_e={animation:"boolean",autohide:"boolean",delay:"number"},h_e={animation:!0,autohide:!0,delay:5e3};class Fw extends $s{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return h_e}static get DefaultType(){return f_e}static get NAME(){return e_e}show(){if(Ee.trigger(this._element,l_e).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(u_e);const t=()=>{this._element.classList.remove(Fv),Ee.trigger(this._element,c_e),this._maybeScheduleHide()};this._element.classList.remove(x8),S0(this._element),this._element.classList.add(Bv,Fv),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||Ee.trigger(this._element,a_e).defaultPrevented)return;const t=()=>{this._element.classList.add(x8),this._element.classList.remove(Fv,Bv),Ee.trigger(this._element,o_e)};this._element.classList.add(Fv),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Bv),super.dispose()}isShown(){return this._element.classList.contains(Bv)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){Ee.on(this._element,n_e,e=>this._onInteraction(e,!0)),Ee.on(this._element,r_e,e=>this._onInteraction(e,!1)),Ee.on(this._element,i_e,e=>this._onInteraction(e,!0)),Ee.on(this._element,s_e,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Fw.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}kw(Fw);Ts(Fw);function d_e({user:n,meals:e,onLogout:t,clearAllMeals:r}){const[i,s]=G.useState(""),[a,o]=G.useState(""),[l,u]=G.useState(25),[h,p]=G.useState("male"),[g,v]=G.useState(""),[w,x]=G.useState(""),[E,A]=G.useState(""),[T,I]=G.useState(""),[P,O]=G.useState("Breakfast-Lunch-Dinner"),[V,R]=G.useState("g"),[C,N]=G.useState(!1),[L,F]=G.useState(!1),[H,B]=G.useState("08:00"),[he,fe]=G.useState("13:00"),[Y,X]=G.useState("19:00"),[oe,Q]=G.useState(""),[U,q]=G.useState(""),[ce,ne]=G.useState(""),[we,xe]=G.useState(!1),{showToast:Ae}=KC(),[et,Ve]=G.useState(!1),Pe=n.streak||0,We=n.level||1,kt=(n.xp||0)%100,Lt=100,on=kt/Lt*100,kr=n.badges||[];G.useEffect(()=>{var De;n&&(s(n.firstName||""),o(n.lastName||""),u(n.age||25),p(n.gender||"male"),v(n.height||""),x(n.currentWeight||""),A(n.goalWeight||""),I(n.goalDate||""),O(((De=n.mealOrder)==null?void 0:De.join("-"))||"Breakfast-Lunch-Dinner"),R(n.unit||"g"),N(n.darkMode??!1),B(n.breakfastTime||"08:00"),fe(n.lunchTime||"13:00"),X(n.dinnerTime||"19:00"))},[n]);const Ne=async()=>{const De={firstName:i,lastName:a,age:l,gender:h,height:g,currentWeight:w,goalWeight:E,goalDate:T,mealOrder:P.split("-"),unit:V,darkMode:C,breakfastTime:H,lunchTime:he,dinnerTime:Y};await Z4(n.uid,De),Ae("Preferences updated successfully!","success")},ke=()=>{const De=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),_t=document.createElement("a");_t.href=URL.createObjectURL(De),_t.download="meals.json",_t.click()},ye=()=>{if(!e||e.length===0){Ae(" No meals to export.","warning");return}const De=[["Date","Meal Type","Food Name","Calories (kcal)","Protein (g)","Fat (g)","Carbohydrate (g)","Sugar (g)","Fibre (g)","Salt (g)","Caffeine (mg)","Unit"]],_t=(Lr,br)=>{var Er;return((Er=Lr.nutrients.find(ui=>{var fi;return((fi=ui.type)==null?void 0:fi.toLowerCase())===br.toLowerCase()}))==null?void 0:Er.total)||""},pt=(Lr,br)=>{if(Lr.kcal)return Lr.kcal;let Er=0;return br.nutrients.forEach(ui=>{var hi,Wa,Gs;const fi=parseFloat(ui.total||0);((hi=ui.type)==null?void 0:hi.toLowerCase())==="fat"&&(Er+=fi*9),((Wa=ui.type)==null?void 0:Wa.toLowerCase())==="protein"&&(Er+=fi*4),(Gs=ui.type)!=null&&Gs.toLowerCase().includes("carbohydrate")&&(Er+=fi*4)}),Math.round(Er)};e.forEach(Lr=>{Lr.foodItems.forEach(br=>{const Er=pt(Lr,br);De.push([Lr.date,Lr.mealType,br.name,Er,_t(br,"protein"),_t(br,"fat"),_t(br,"carbohydrate"),_t(br,"sugar"),_t(br,"fibre"),_t(br,"salt"),_t(br,"caffeine"),V])})});const at=De.map(Lr=>Lr.join(",")).join(`
`),cr=new Blob([at],{type:"text/csv"}),jn=document.createElement("a");jn.href=URL.createObjectURL(cr),jn.download="meals.csv",jn.click()},Ue=async()=>{window.confirm(" Are you sure you want to clear all meal data?")&&(F(!0),await r(),F(!1),Ae("All meals deleted.","success"))},Ke=async()=>{if(!oe&&!U){Ae("Please enter a new email or password.","warning");return}try{xe(!0);const _t=KT().currentUser,pt=cf.credential(_t.email,ce);await nne(_t,pt),oe&&(await sne(_t,oe),await Z4(_t.uid,{email:oe}),Ae("Email updated.","success")),U&&(await ane(_t,U),Ae("Password updated.","success")),Q(""),q(""),ne("")}catch(De){console.error(De),Ae(`${De.message}`,"danger")}finally{xe(!1)}},it=(e==null?void 0:e.length)||0,nt=[...new Set(e==null?void 0:e.map(De=>De.date))],Vt=nt.length>0?(it/nt.length).toFixed(1):0;return D.jsxs("div",{className:"home-container",children:[D.jsxs("div",{className:"text-center mb-4",children:[D.jsx("i",{className:"bi bi-person-circle TitleName",style:{fontSize:"3rem"}}),D.jsx("h4",{className:"mt-2 fw-bold TitleName",children:i}),D.jsx("small",{className:"text-white",children:"Profile"})]}),D.jsxs("div",{className:"card bg-dark border-0 p-3 mb-3 shadow-sm text-white",children:[D.jsx("h6",{className:"fw-bold",children:"Usage Summary"}),D.jsxs("p",{children:[" Days Tracked: ",nt.length]}),D.jsxs("p",{children:[" Meals Logged: ",it]}),D.jsxs("p",{children:[" Avg Meals/Day: ",Vt]})]}),D.jsx("div",{className:"card bg-dark border-0 p-3 mb-3 text-white text-center",children:Pe>0?D.jsxs(D.Fragment,{children:[D.jsx("div",{style:{fontSize:"3rem",color:Pe>=7?"red":"orange"},children:""}),D.jsxs("p",{className:"fw-bold",children:[Pe,"-day streak"]}),D.jsx("small",{className:"text-white",children:Pe>=7?"Amazing consistency! Keep it up!":"Log meals daily to grow your fire!"})]}):D.jsxs(D.Fragment,{children:[D.jsx("div",{style:{fontSize:"3rem",color:"gray"},children:""}),D.jsx("p",{className:"text-white mb-0",children:"No active streak"}),D.jsx("small",{className:"text-white",children:"Start logging meals to ignite your fire!"})]})}),D.jsxs("div",{className:"card bg-dark border-0 p-3 mb-3 shadow-sm text-white",children:[D.jsx("h6",{className:"fw-bold",children:"Your Rewards"}),D.jsxs("p",{children:[" Level ",We]}),D.jsx("div",{className:"progress mb-2",style:{height:"6px",background:"#444"},children:D.jsx("div",{className:"progress-bar bg-success",style:{width:`${on}%`},title:`${kt}/${Lt} XP`})}),D.jsx("p",{children:" Badges Unlocked:"}),kr.length===0?D.jsx("p",{className:"text-muted small",children:"No badges yet."}):D.jsx("div",{className:"d-flex flex-wrap gap-2",children:kr.map((De,_t)=>D.jsx("span",{className:"badge rounded-pill bg-info text-dark p-2",children:De},_t))})]}),D.jsxs("div",{className:"card bg-dark border-0 p-3 mb-3 text-white",children:[D.jsx("h6",{className:"fw-bold",children:"Personal Info"}),D.jsxs("div",{className:"row g-2",children:[D.jsx("div",{className:"col",children:D.jsx("input",{className:"form-control form-control-sm",placeholder:"First Name",value:i,onChange:De=>s(De.target.value)})}),D.jsx("div",{className:"col",children:D.jsx("input",{className:"form-control form-control-sm",placeholder:"Last Name",value:a,onChange:De=>o(De.target.value)})})]}),D.jsxs("div",{className:"row g-2 mt-2",children:[D.jsx("div",{className:"col",children:D.jsx("input",{type:"number",className:"form-control form-control-sm",placeholder:"Age",value:l,onChange:De=>u(De.target.value)})}),D.jsx("div",{className:"col",children:D.jsxs("select",{className:"form-select form-select-sm",value:h,onChange:De=>p(De.target.value),children:[D.jsx("option",{value:"male",children:"Male"}),D.jsx("option",{value:"female",children:"Female"})]})})]}),D.jsxs("div",{className:"row g-2 mt-2",children:[D.jsx("div",{className:"col",children:D.jsx("input",{type:"number",className:"form-control form-control-sm",placeholder:"Height (cm)",value:g,onChange:De=>v(De.target.value)})}),D.jsx("div",{className:"col",children:D.jsx("input",{type:"number",className:"form-control form-control-sm",placeholder:"Current Weight",value:w,onChange:De=>x(De.target.value)})})]}),D.jsxs("div",{className:"row g-2 mt-2",children:[D.jsx("div",{className:"col",children:D.jsx("input",{type:"number",className:"form-control form-control-sm",placeholder:"Goal Weight",value:E,onChange:De=>A(De.target.value)})}),D.jsx("div",{className:"col",children:D.jsx("input",{type:"date",className:"form-control form-control-sm",value:T,onChange:De=>I(De.target.value)})})]})]}),D.jsxs("div",{className:"card bg-dark border-0 p-3 mb-3 text-white",children:[D.jsx("h6",{className:"fw-bold",children:"Preferences"}),D.jsxs("div",{className:"mb-2",children:[D.jsx("label",{className:"form-label small",children:"Meal Order"}),D.jsxs("select",{className:"form-select form-select-sm",value:P,onChange:De=>O(De.target.value),children:[D.jsx("option",{children:"Breakfast-Lunch-Dinner"}),D.jsx("option",{children:"Lunch-Dinner-Breakfast"}),D.jsx("option",{children:"Dinner-Breakfast-Lunch"})]})]}),D.jsxs("div",{className:"mb-2",children:[D.jsx("label",{className:"form-label small",children:"Units"}),D.jsxs("select",{className:"form-select form-select-sm",value:V,onChange:De=>R(De.target.value),children:[D.jsx("option",{children:"g"}),D.jsx("option",{children:"mg"}),D.jsx("option",{children:"kcal"})]})]})]}),D.jsxs("div",{className:"card bg-dark border-0 p-3 mb-3 text-white",children:[D.jsx("h6",{className:"fw-bold",children:"Reminder Times"}),D.jsxs("div",{className:"row g-2 mb-2",children:[D.jsx("div",{className:"col",children:D.jsx("input",{type:"time",className:"form-control form-control-sm",value:H,onChange:De=>B(De.target.value)})}),D.jsx("div",{className:"col",children:D.jsx("input",{type:"time",className:"form-control form-control-sm",value:he,onChange:De=>fe(De.target.value)})}),D.jsx("div",{className:"col",children:D.jsx("input",{type:"time",className:"form-control form-control-sm",value:Y,onChange:De=>X(De.target.value)})})]})]}),D.jsx("button",{className:"btn btn-primary btn-sm w-100 mb-3",onClick:Ne,children:"Save All Changes"}),D.jsxs("div",{className:"card bg-dark border-0 p-3 mb-3 text-white",children:[D.jsx("h6",{className:"fw-bold",children:"Update Email / Password"}),D.jsx("input",{type:"password",className:"form-control form-control-sm mb-2",placeholder:"Current Password",value:ce,onChange:De=>ne(De.target.value)}),D.jsx("input",{type:"email",className:"form-control form-control-sm mb-2",placeholder:"New Email",value:oe,onChange:De=>Q(De.target.value)}),D.jsx("input",{type:"password",className:"form-control form-control-sm mb-2",placeholder:"New Password",value:U,onChange:De=>q(De.target.value)}),D.jsx("button",{className:"btn btn-outline-light btn-sm w-100",onClick:Ke,disabled:we,children:we?"Updating...":"Update Email / Password"})]}),D.jsxs("div",{className:"card bg-dark border-0 p-3 mb-3 text-white",children:[D.jsx("h6",{className:"fw-bold",children:"Data Management"}),D.jsx("button",{className:"btn btn-outline-light btn-sm w-100 mb-2",onClick:ke,children:"Export JSON"}),D.jsx("button",{className:"btn btn-outline-light btn-sm w-100 mb-2",onClick:ye,children:"Export CSV"}),D.jsx("button",{className:"btn btn-outline-danger btn-sm w-100",onClick:Ue,disabled:L,children:L?"Clearing...":"Clear All Meals"})]}),D.jsx("div",{className:"card bg-dark border-0 p-3 mb-3 text-white",children:D.jsxs("button",{className:"btn btn-info w-100 ",onClick:()=>Ve(!0),children:[D.jsx("i",{className:"bi bi-info-circle",style:{padding:"0 10px"}}),"Help"]})}),D.jsxs("div",{className:"card bg-dark border-0 p-3 text-white",children:[D.jsx("h6",{className:"fw-bold",children:"Account"}),D.jsx("button",{className:"btn btn-danger w-100 mt-2",onClick:t,children:"Logout"})]}),et&&D.jsx("div",{className:"modal-backdrop",children:D.jsxs("div",{className:"modal-container bg-dark text-white p-3 rounded",children:[D.jsx("div",{className:"modal-header mb-2 border-bottom",children:D.jsx("h5",{className:"TitleName",children:" How to use KnowUrFood"})}),D.jsxs("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:[D.jsx("h6",{children:" 1. Adding a Meal"}),D.jsx("p",{children:"There are three ways to log meals:"}),D.jsxs("ul",{children:[D.jsxs("li",{children:[D.jsx("b",{children:"Auto-Fill:"})," Type the food name (e.g., ",D.jsx("i",{children:"Boiled Egg"}),") and the app will fetch nutrition data. Adjust serving size or number of servings, and values update automatically."]}),D.jsxs("li",{children:[D.jsx("b",{children:"Barcode Scan:"})," Tap scan, point your camera at a product barcode, and nutrition details load instantly."]}),D.jsxs("li",{children:[D.jsx("b",{children:"Manual:"})," Enter your own food name and nutrients (useful for homemade meals). Calories are auto-calculated from protein, fat, and carbs."]})]}),D.jsx("h6",{children:" 2. Viewing Meals"}),D.jsxs("p",{children:["Your meals appear as ",D.jsx("b",{children:"cards"})," on the Home screen."]}),D.jsxs("ul",{children:[D.jsxs("li",{children:["Swipe ",D.jsx("b",{children:"left"})," to delete a meal."]}),D.jsxs("li",{children:["Swipe ",D.jsx("b",{children:"right"})," to edit it."]}),D.jsx("li",{children:"Each card shows the meal type, name, and main nutrients."})]}),D.jsx("h6",{children:" 3. Tracking Nutrition"}),D.jsx("p",{children:"The app includes charts to help you monitor your diet:"}),D.jsxs("ul",{children:[D.jsxs("li",{children:[D.jsx("b",{children:"Calories Donut:"})," Shows your daily calorie distribution."]}),D.jsxs("li",{children:[D.jsx("b",{children:"Bar Chart:"})," Compare meals across the week."]}),D.jsxs("li",{children:[D.jsx("b",{children:"Nutrition Donut:"})," Balance of protein, carbs, fat, and more."]})]}),D.jsx("h6",{children:" 4. History & Suggestions"}),D.jsx("p",{children:"Use the History tab to revisit meals from past days. The Suggestions tab provides:"}),D.jsxs("ul",{children:[D.jsxs("li",{children:["Daily tips (e.g., ",D.jsx("i",{children:"Increase protein intake"}),")."]}),D.jsx("li",{children:"Weekly nutrient trends via line charts."}),D.jsx("li",{children:"Comparisons with previous weeks."})]}),D.jsx("h6",{children:" 5. Profile & Preferences"}),D.jsx("p",{children:"In Profile, you can:"}),D.jsxs("ul",{children:[D.jsx("li",{children:"Set meal order (Breakfast  Dinner, etc.)."}),D.jsx("li",{children:"Change units (g, mg, kcal)."}),D.jsx("li",{children:"Toggle dark mode."}),D.jsxs("li",{children:["Export meals as ",D.jsx("b",{children:"CSV"})," or ",D.jsx("b",{children:"JSON"}),"."]}),D.jsx("li",{children:"Clear all meals (with confirmation)."})]}),D.jsx("h6",{children:" 6. Rewards & Gamification"}),D.jsxs("ul",{children:[D.jsxs("li",{children:["Earn ",D.jsx("b",{children:"XP"})," every time you log a meal."]}),D.jsx("li",{children:"Level up as XP increases."}),D.jsx("li",{children:"Unlock badges for daily streaks (5, 15, 30 days, etc.)."})]}),D.jsx("h6",{children:" 7. Weight Tracking"}),D.jsxs("ul",{children:[D.jsx("li",{children:"Log your weight daily in the Profile tab."}),D.jsx("li",{children:"See your progress on a line chart."}),D.jsx("li",{children:"Set a goal weight + target date  the app calculates daily calorie goals."}),D.jsx("li",{children:"Earn special badges when you hit your goal."})]}),D.jsx("h6",{children:" 8. Meal Reminders"}),D.jsxs("ul",{children:[D.jsx("li",{children:"Set reminder times for Breakfast, Lunch, and Dinner in Preferences."}),D.jsx("li",{children:"The app will send you notifications at those times."})]})]}),D.jsx("div",{className:"modal-footer border-top",children:D.jsx("button",{className:"btn btn-danger w-100",onClick:()=>Ve(!1),children:"Close"})})]})})]})}function p_e({meals:n,user:e}){const[t,r]=G.useState({}),[i,s]=G.useState({}),[a,o]=G.useState(!1),l=new Date,u=l.getDay(),h=u===0?-6:1-u,p=new Date(l);p.setDate(l.getDate()+h);const g=new Date(p);g.setDate(p.getDate()-7);const v=new Date(g);v.setDate(g.getDate()+6);const w={Protein:50*7,Carbohydrate:260*7,Fat:70*7,"Carbs as Sugar":30*7,Fibre:30*7,Salt:6*7},x=(I,P)=>{const O=[],V=new Date(I);for(;V<=P;)O.push(V.toISOString().split("T")[0]),V.setDate(V.getDate()+1);return O},E=I=>{const P={};let O=0;I.forEach(R=>{const C=n.filter(N=>N.date===R);C.length>0&&(O++,C.forEach(N=>{N.foodItems.forEach(L=>{L.nutrients.forEach(F=>{const H=parseFloat(F.total)||0;P[F.type]=(P[F.type]||0)+H})})}))});const V={};return Object.keys(P).forEach(R=>{V[R]=P[R]/O}),V};G.useEffect(()=>{const I=x(p,new Date(p.getTime()+5184e5)),P=x(g,v);r(E(I)),s(E(P))},[n]),G.useEffect(()=>{(async()=>{if(!(e!=null&&e.goalDate)||!(e!=null&&e.goalWeight)||!(e!=null&&e.currentWeight))return;const P=await m_(e.uid);if(P.length===0)return;const O=new Date(e.createdAt||P[0].date),V=new Date,R=new Date(e.goalDate),C=Math.max(1,(R-O)/864e5),N=Math.max(1,(V-O)/864e5),L=e.goalWeight-e.currentWeight,F=L/C*N,H=e.currentWeight+F,B=P.reduce((he,fe)=>he.date>fe.date?he:fe).weight;(L>0&&B<H-.5||L<0&&B>H+.5)&&o(!0)})()},[e]);const A=(I,P,O)=>{const V=P/O;return V<.6?I==="Protein"?" You're low on protein today  add eggs, chicken, or beans to boost it.":I==="Fibre"?" Fibre intake is low  whole grains, fruits, and veggies can help.":I==="Carbohydrate"?" Carbs are too low  try rice, bread, or oats for energy.":I==="Fat"?" Healthy fats are low  nuts, avocado, or olive oil are good sources.":` Your ${I} intake is low. Consider foods rich in ${I}.`:V>1.2?I==="Salt"?" Salt intake is high  reduce processed foods and snacks.":I==="Fat"?" You're exceeding fat intake  cut down on fried foods.":I==="Carbohydrate"?" Too many carbs  balance with lean protein.":I==="Sugar"||I.includes("Sugar")?" Sugar intake is high  cut back on sweets and sodas.":` You're exceeding recommended ${I} levels.`:null},T=[];return Object.keys(w).forEach(I=>{const P=t[I]||0,O=(t[I]||0)-(i[I]||0),V=A(I,P,w[I]);V?T.push(V):O>5?T.push(` ${I} increased significantly this week.`):O<-5&&T.push(` ${I} dropped since last week.`)}),D.jsxs("div",{className:"home-container",children:[D.jsx("p",{className:"TitleName",children:"Suggestions"}),a&&D.jsx("div",{className:"CalBarCharSection text-white fw-bold small mb-2 bg-dark",children:" You're behind your weight goal progress. Try adjusting your intake!"}),D.jsxs("div",{className:"CalBarCharSection bg-dark mb-2",children:[D.jsxs("p",{className:"SubTitleName mb-2",children:["Last Week's Calories (",g.toLocaleDateString()," - ",v.toLocaleDateString(),")"]}),D.jsx(vL,{meals:n,startOfWeek:g})]}),D.jsxs("div",{className:"NutritionProgressSection mb-2 bg-dark list-group",style:{padding:"5%"},children:[D.jsx("p",{className:"SubTitleName",children:"This Week's Nutrient Averages"}),Object.keys(w).map(I=>{const P=t[I]||0,O=w[I],V=(t[I]||0)-(i[I]||0),R=Math.min(P/O*100,150),C=P>O,N=V>1?"":V<-1?"":"",L=V?`${N} ${Math.abs(V).toFixed(1)}g from last week`:"";return D.jsxs("div",{className:"mb-3",children:[D.jsxs("div",{className:"d-flex justify-content-between small",children:[D.jsx("span",{className:"text-white",children:I}),D.jsxs("span",{className:"text-white",children:[P.toFixed(1)," / ",O,"g"]})]}),D.jsx("div",{className:"progress",style:{height:"8px"},children:D.jsx("div",{className:`progress-bar ${C?"bg-danger":"bg-success"} progress-bar-striped progress-bar-animated`,style:{width:`${R}%`}})}),D.jsx("div",{className:"small text-white",children:L})]},I)})]}),D.jsx("div",{className:"SuggestionsBox",children:T.length>0?D.jsxs("ul",{className:"list-group bg-dark",style:{padding:"5%"},children:[D.jsx("p",{className:"SubTitleName",children:"Suggestions"}),T.map((I,P)=>D.jsx("li",{className:"list-group-item small bg-dark text-white border-0 ps-0",children:I},P))]}):D.jsx("p",{className:"text-success",children:" You're on track this week!"})})]})}function OS(){return OS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},OS.apply(null,arguments)}function XU(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function NS(n,e){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},NS(n,e)}function HI(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,NS(n,e)}function g_e(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function m_e(n,e){n.classList?n.classList.add(e):g_e(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function b8(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function v_e(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=b8(n.className,e):n.setAttribute("class",b8(n.className&&n.className.baseVal||"",e))}const E8={disabled:!1},zI=ae.createContext(null);var QU=function(e){return e.scrollTop},Ug="unmounted",fu="exited",hs="entering",_a="entered",qm="exiting",Wo=function(n){HI(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var a=i,o=a&&!a.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?o?(l=fu,s.appearStatus=hs):l=_a:r.unmountOnExit||r.mountOnEnter?l=Ug:l=fu,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===Ug?{status:fu}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==hs&&a!==_a&&(s=hs):(a===hs||a===_a)&&(s=qm)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,a,o;return s=a=o=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,o=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:o}},t.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===hs){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Mg.findDOMNode(this);a&&QU(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===fu&&this.setState({status:Ug})},t.performEnter=function(i){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:i,l=this.props.nodeRef?[o]:[Mg.findDOMNode(this),o],u=l[0],h=l[1],p=this.getTimeouts(),g=o?p.appear:p.enter;if(!i&&!a||E8.disabled){this.safeSetState({status:_a},function(){s.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:hs},function(){s.props.onEntering(u,h),s.onTransitionEnd(g,function(){s.safeSetState({status:_a},function(){s.props.onEntered(u,h)})})})},t.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:Mg.findDOMNode(this);if(!s||E8.disabled){this.safeSetState({status:fu},function(){i.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:qm},function(){i.props.onExiting(o),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:fu},function(){i.props.onExited(o)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,i(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:Mg.findDOMNode(this),o=i==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],h=l[1];this.props.addEndListener(u,h)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Ug)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=XU(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ae.createElement(zI.Provider,{value:null},typeof a=="function"?a(i,o):ae.cloneElement(ae.Children.only(a),o))},e}(ae.Component);Wo.contextType=zI;Wo.propTypes={};function gh(){}Wo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gh,onEntering:gh,onEntered:gh,onExit:gh,onExiting:gh,onExited:gh};Wo.UNMOUNTED=Ug;Wo.EXITED=fu;Wo.ENTERING=hs;Wo.ENTERED=_a;Wo.EXITING=qm;var y_e=function(e,t){return e&&t&&t.split(" ").forEach(function(r){return m_e(e,r)})},F2=function(e,t){return e&&t&&t.split(" ").forEach(function(r){return v_e(e,r)})},WI=function(n){HI(e,n);function e(){for(var r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=n.call.apply(n,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(o,l){var u=r.resolveArguments(o,l),h=u[0],p=u[1];r.removeClasses(h,"exit"),r.addClass(h,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(o,l)},r.onEntering=function(o,l){var u=r.resolveArguments(o,l),h=u[0],p=u[1],g=p?"appear":"enter";r.addClass(h,g,"active"),r.props.onEntering&&r.props.onEntering(o,l)},r.onEntered=function(o,l){var u=r.resolveArguments(o,l),h=u[0],p=u[1],g=p?"appear":"enter";r.removeClasses(h,g),r.addClass(h,g,"done"),r.props.onEntered&&r.props.onEntered(o,l)},r.onExit=function(o){var l=r.resolveArguments(o),u=l[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(o)},r.onExiting=function(o){var l=r.resolveArguments(o),u=l[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(o)},r.onExited=function(o){var l=r.resolveArguments(o),u=l[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(o)},r.resolveArguments=function(o,l){return r.props.nodeRef?[r.props.nodeRef.current,o]:[o,l]},r.getClassNames=function(o){var l=r.props.classNames,u=typeof l=="string",h=u&&l?l+"-":"",p=u?""+h+o:l[o],g=u?p+"-active":l[o+"Active"],v=u?p+"-done":l[o+"Done"];return{baseClassName:p,activeClassName:g,doneClassName:v}},r}var t=e.prototype;return t.addClass=function(i,s,a){var o=this.getClassNames(s)[a+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;s==="appear"&&a==="done"&&u&&(o+=" "+u),a==="active"&&i&&QU(i),o&&(this.appliedClasses[s][a]=o,y_e(i,o))},t.removeClasses=function(i,s){var a=this.appliedClasses[s],o=a.base,l=a.active,u=a.done;this.appliedClasses[s]={},o&&F2(i,o),l&&F2(i,l),u&&F2(i,u)},t.render=function(){var i=this.props;i.classNames;var s=XU(i,["classNames"]);return ae.createElement(Wo,OS({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(ae.Component);WI.defaultProps={classNames:""};WI.propTypes={};var Uv,jv;function __e(n,e){return!(n===e||ae.isValidElement(n)&&ae.isValidElement(e)&&n.key!=null&&n.key===e.key)}var Cd={out:"out-in",in:"in-out"},P_=function(e,t,r){return function(){var i;e.props[t]&&(i=e.props)[t].apply(i,arguments),r()}},w_e=(Uv={},Uv[Cd.out]=function(n){var e=n.current,t=n.changeState;return ae.cloneElement(e,{in:!1,onExited:P_(e,"onExited",function(){t(hs,null)})})},Uv[Cd.in]=function(n){var e=n.current,t=n.changeState,r=n.children;return[e,ae.cloneElement(r,{in:!0,onEntered:P_(r,"onEntered",function(){t(hs)})})]},Uv),x_e=(jv={},jv[Cd.out]=function(n){var e=n.children,t=n.changeState;return ae.cloneElement(e,{in:!0,onEntered:P_(e,"onEntered",function(){t(_a,ae.cloneElement(e,{in:!0}))})})},jv[Cd.in]=function(n){var e=n.current,t=n.children,r=n.changeState;return[ae.cloneElement(e,{in:!1,onExited:P_(e,"onExited",function(){r(_a,ae.cloneElement(t,{in:!0}))})}),ae.cloneElement(t,{in:!0})]},jv),YI=function(n){HI(e,n);function e(){for(var r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=n.call.apply(n,[this].concat(s))||this,r.state={status:_a,current:null},r.appeared=!1,r.changeState=function(o,l){l===void 0&&(l=r.state.current),r.setState({status:o,current:l})},r}var t=e.prototype;return t.componentDidMount=function(){this.appeared=!0},e.getDerivedStateFromProps=function(i,s){return i.children==null?{current:null}:s.status===hs&&i.mode===Cd.in?{status:hs}:s.current&&__e(s.current,i.children)?{status:qm}:{current:ae.cloneElement(i.children,{in:!0})}},t.render=function(){var i=this.props,s=i.children,a=i.mode,o=this.state,l=o.status,u=o.current,h={children:s,current:u,changeState:this.changeState,status:l},p;switch(l){case hs:p=x_e[a](h);break;case qm:p=w_e[a](h);break;case _a:p=u}return ae.createElement(zI.Provider,{value:{isMounting:!this.appeared}},p)},e}(ae.Component);YI.propTypes={};YI.defaultProps={mode:Cd.out};function b_e(){const[n,e]=G.useState(null),[t,r]=G.useState([]),[i,s]=G.useState("dashboard"),[a,o]=G.useState(!1),[l,u]=G.useState(null),[h,p]=G.useState(!1),[g,v]=G.useState(null),[w,x]=G.useState(""),[E,A]=G.useState(!1),[T,I]=G.useState(!0),P=G.useRef(!1),O=G.useRef(null),[V,R]=G.useState(!1);G.useEffect(()=>{const B=async()=>{const he=await J4();if(e(he||null),R(!0),he){e(he);const fe=await VE(he.uid);r(fe)}};P.current?I(!1):setTimeout(()=>{I(!1),P.current=!0},1500),B()},[]),G.useEffect(()=>{"Notification"in window&&n&&Notification.requestPermission().then(B=>{B==="granted"&&H(n)})},[n]);const C=async B=>{e(B);const he=await VE(B.uid);r(he)},N=async B=>{if(!n)return;const he={...B,userId:n.uid};if(l){await eoe({...he,id:l.id},n.uid);const fe=t.map(Y=>Y.id===l.id?{...he,id:l.id}:Y);r(fe),u(null)}else{await Jae(he,n.uid),x("+10 XP! "),A(!0),setTimeout(()=>A(!1),3e3);const fe=await VE(n.uid),Y=await J4();r(fe),e(Y)}o(!1)},L=async B=>{await toe(B,n.uid);const he=t.filter(fe=>fe.id!==B);r(he)},F=async()=>{await soe(),e(null),r([])};function H(B){[{label:"Breakfast",time:B.breakfastTime||"08:00"},{label:"Lunch",time:B.lunchTime||"13:00"},{label:"Dinner",time:B.dinnerTime||"19:00"}].forEach(({label:fe,time:Y})=>{const[X,oe]=Y.split(":").map(Number),Q=new Date,U=new Date;U.setHours(X,oe,0,0),U<=Q&&U.setDate(U.getDate()+1);const q=U.getTime()-Q.getTime();setTimeout(()=>{new Notification(`${fe} Reminder `,{body:`It's time to log your ${fe.toLowerCase()}!`})},q)})}return!V||T?D.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-black",children:D.jsx("img",{src:ES,alt:"Logo",style:{width:"150px",height:"150px"}})}):n?T?D.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-black",children:D.jsx("img",{src:ES,alt:"Logo",style:{width:"150px",height:"150px"}})}):D.jsx(YI,{mode:"out-in",children:D.jsx(WI,{timeout:300,classNames:"tab-transition",unmountOnExit:!0,nodeRef:O,children:D.jsxs("div",{style:{height:"100%"},ref:O,children:[i==="dashboard"&&D.jsx(nhe,{user:n,meals:t,onEditMeal:B=>{u(B),o(!0)},onDeleteMeal:B=>{v(B),p(!0)}}),i==="history"&&D.jsx(rhe,{user:n,meals:t,onEditMeal:B=>{u(B),o(!0)},onDeleteMeal:B=>{v(B),p(!0)}}),i==="suggestions"&&D.jsx(p_e,{meals:t,user:n}),i==="profile"&&D.jsx(d_e,{user:n,meals:t,onLogout:F,clearAllMeals:async()=>{await noe(n.uid),r([])}}),D.jsx(PH,{onAddClick:()=>o(!0),onLogout:F,onTabChange:B=>s(B),currentTab:i}),D.jsx(fme,{isOpen:a,onClose:()=>{o(!1),u(null)},onSave:N,user:n,editMeal:l}),h&&D.jsx("div",{className:"modal-backdrop",children:D.jsxs("div",{className:"modal-container p-4 text-center",children:[D.jsx("p",{className:"text-white fw-bold",children:"Are you sure you want to delete this meal?"}),D.jsxs("div",{className:"d-flex justify-content-center gap-3 mt-3",children:[D.jsx("button",{className:"btn btn-secondary",onClick:()=>p(!1),children:"Cancel"}),D.jsx("button",{className:"btn btn-danger",onClick:async()=>{g!==null&&(await L(g),p(!1),v(null))},children:"Delete"})]})]})}),E&&D.jsx("div",{className:"toast-container position-fixed top-0 start-50 translate-middle-x p-3",style:{zIndex:9999},children:D.jsx("div",{className:"toast show bg-success text-white",children:D.jsx("div",{className:"toast-body fw-bold text-center",children:w})})})]})},i)}):D.jsx(dme,{onLoginSuccess:C})}MH.createRoot(document.getElementById("root")).render(D.jsx(ae.StrictMode,{children:D.jsx(ooe,{children:D.jsx(b_e,{})})}));
